var GaLogger=GaLogger||{id:undefined,isInit:false,dimensions:{},pendingDimensions:{},readInfo:{eventLabel:"",callReadComplete:false},onLoad:[],init:function(id){if(this.isInit){return}(function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");this.id=id;ga("create",this.id,"auto");this.isInit=true;for(var idx in this.onLoad){if(typeof this.onLoad[idx]==="function"){this.onLoad[idx]()}}},set:function(dimension,value){if(this.isInit){ga("set",dimension,value);this.dimensions[dimension]=value}else{this.pendingDimensions[dimension]=value}},displayfeatures:function(){this._ga("require","displayfeatures")},pageView:function(){this._ga("send","pageview")},episodeRead:function(eventLabel,dimensions){this.readInfo.eventLabel=eventLabel;var oDimension={dimension2:dimensions.titleNo,dimension3:dimensions.episodeNo,dimension9:dimensions.weekday,dimension11:dimensions.genre};this.gaEventLoggingByDimensions("Read","Read_Episode",this.readInfo.eventLabel,oDimension)},episodeReadComplete:function(){if(!this.readInfo.eventLabel){return}if(this.readInfo.callReadComplete){return}this.readInfo.callReadComplete=true;this.gaEventLoggingByDimensions("Read","Read_Complete",this.readInfo.eventLabel)},gaEventLogging:function(eventCategory,eventAction,eventLabel,titleNo,episodeNo){this._clearDimensions();if(titleNo){this.set("dimension2",titleNo)}if(episodeNo){this.set("dimension3",episodeNo)}this._ga("send","event",eventCategory,eventAction,eventLabel)},gaEventLoggingByDimensions:function(eventCategory,eventAction,eventLabel,dimensions){this._clearDimensions();if(dimensions){for(var key in dimensions){this.set(key,dimensions[key])}}this._ga("send","event",eventCategory,eventAction,eventLabel)},_ga:function(command,hitType,category,action,label){this._addPendingDimensions();ga(command,hitType,category,action,label)},_addPendingDimensions:function(){for(var key in this.pendingDimensions){this.set(key,this.pendingDimensions[key])}},_clearDimensions:function(){if(Object.keys(this.dimensions).length<1){return}for(var key in this.dimensions){if(key!="dimension4"){delete this.dimensions[key];ga("set",key,null)}}}};
if(!gak_SerName){var gak_SerName="gak.webtoons.com"}function gak_do(serviceZone){if(getCookie("wtu")==null){var gak_Addr="https://"+gak_SerName+"/v1/web/cookie";try{var obj=(new Image());obj.src=gak_Addr;obj.onload=function(){gak_log(serviceZone);obj.onload=null;return}}catch(e){}}else{gak_log(serviceZone)}}function gak_log(serviceZone){var doc=document;var wlt=window.location;var gak_Addr="https://"+gak_SerName+"/v1/web/pc?";try{rs=gak_Addr+"u="+encodeURIComponent(wlt.href)+"&e="+(doc.referrer?encodeURIComponent(doc.referrer):"");if(serviceZone){rs=rs+"&s="+serviceZone}}catch(e){}try{var obj=(new Image());obj.src=rs;obj.onload=function(){obj.onload=null;return}}catch(e){}}function gak_do_email_push(platform,json,callback){if(getCookie("wtu")==null){var gak_Addr="https://"+gak_SerName+"/v1/web/cookie";try{var obj=(new Image());obj.src=gak_Addr;var fAfterLoad=function(){gak_log_email_push(platform,json,callback);obj.onload=null;return};obj.onload=fAfterLoad;obj.onerror=fAfterLoad}catch(e){}}else{gak_log_email_push(platform,json,callback)}}function gak_log_email_push(platform,json,callback){var doc=document;var gak_Addr="https://"+gak_SerName+"/v1/email/statistics?";try{rs=gak_Addr+"&j="+encodeURIComponent(json)+"&e="+(doc.referrer?encodeURIComponent(doc.referrer):"")+"&platform="+platform}catch(e){}try{var obj=(new Image());obj.src=rs;var fAfterLoad=function(){obj.onload=null;callback&&callback();return};obj.onload=fAfterLoad;obj.onerror=fAfterLoad}catch(e){}}function getCookie(name){var value="; "+document.cookie;var parts=value.split("; "+name+"=");if(parts.length==2){return parts.pop().split(";").shift()}};
var FacebookLogger=FacebookLogger||{id:undefined,isInit:false,init:function(id){!function(f,b,e,v,n,t,s){if(f.fbq){return}n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq){f._fbq=n}n.push=n;n.loaded=!0;n.version="2.0";n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");this.id=id;fbq("init",this.id);this.isInit=true},pageView:function(){this.log({method:"track",action:"PageView"})},viewContent:function(title,episodeNo){this.log({method:"track",action:"ViewContent",params:{content_ids:[title+"_EP"+episodeNo],content_type:"product"}})},log:function(options){if(!this.isInit){return}if(!options){console.log("FACEBOOK paramater error.");return}fbq(options.method,options.action,options.params)}};
