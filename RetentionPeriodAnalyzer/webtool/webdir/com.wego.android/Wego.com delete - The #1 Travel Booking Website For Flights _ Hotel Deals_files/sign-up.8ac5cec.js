(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{243:function(e,i,t){"use strict";var o=document.createElement("template");o.innerHTML='<dom-module id="authentication-styles"><template strip-whitespace><style>:host{display:none}:host([open]){display:block}:host([rtl]){direction:rtl}.vert-hr{border-left:1px solid #ccc;background-color:rgba(0,0,0,0);margin-left:15px;margin-right:15px}a{text-decoration:none;color:#fca328;font-size:14px;font-weight:400;cursor:pointer}.root-container{background-color:rgba(255,255,255,.9);border-radius:3px;display:flex;flex-direction:column}.title-container{height:92px;display:flex;flex-direction:column;align-items:center;box-shadow:0 1px 0 0 rgba(0,0,0,.2);font-weight:400;padding:10px}.title-container>wego-icon{align-self:flex-end;--wego-icon-height:16px;--wego-icon-width:16px;--wego-icon-fill-color:#999}.title-container>wego-icon:hover{opacity:.8}.title{font-size:20px;color:#000}.button{height:48px;display:flex;align-items:center;justify-content:center;background-color:#fca328;border-radius:3px;font-size:18px;font-weight:500;cursor:pointer;flex-shrink:0}.button:hover{opacity:.9}.successful-content-container{flex-grow:1;color:#fff;background-color:rgba(255,255,255,.8);display:flex;justify-content:center;align-items:center;padding:20px 33px;border-radius:0 0 3px 3px}.successful-content-container>div{display:flex;flex-direction:column;align-items:center}.successful-content-container>div>div:nth-child(1){width:30px;height:30px;background-color:#21a024;border-radius:50%;display:flex;align-items:center;justify-content:center}.successful-content-container>div>div:nth-child(2){color:#333;font-size:16px;font-weight:400;margin-top:10px}.successful-content-container>div>div:nth-child(3){color:#666;font-size:14px;font-weight:400;margin-top:10px;text-align:center}.successful-content-container>div>a{width:100%;margin-top:20px;color:#fff}.input{min-height:63px;margin-bottom:5px}.log-in-with-google:hover{opacity:.9}.log-in-with-google{display:flex;align-items:center;background-color:#4285f4;border-radius:2.4px;height:48px;padding:0 1px;cursor:pointer}.log-in-with-google>div:last-child{font-size:18px;font-weight:500;margin-left:25px}:host([rtl]) .log-in-with-google>div:last-child{margin-left:0;margin-right:25px}.google-logo{display:flex;align-items:center;justify-content:center;width:45.6px;height:45.6px;border-radius:1.2px;background-color:#fff}.google-logo>wego-image{--wego-image-width:24px;--wego-image-height:24px}.log-in-with-facebook:hover{opacity:.9}.log-in-with-facebook{display:flex;align-items:center;background-color:#3c5a99;border-radius:2.4px;height:48px;padding:0 1px;cursor:pointer}.log-in-with-facebook>div:last-child{font-size:18px;font-weight:500;margin-left:25px}:host([rtl]) .log-in-with-facebook>div:last-child{margin-left:0;margin-right:25px}.facebook-logo{display:flex;align-items:center;justify-content:center;width:45.6px;height:45.6px;border-radius:1.2px}.facebook-logo>wego-image{--wego-image-width:24px;--wego-image-height:24px}.separator{display:flex;align-items:center;font-size:14px;font-weight:400;color:#999;margin:10px 0}.separator>div:first-child,.separator>div:last-child{width:100%;height:1px;box-shadow:0 1px 0 0 #ddd}.separator>div:not(:first-child):not(:last-child){margin:0 20px}#close{cursor:pointer;width:11px}</style></template></dom-module>',document.head.appendChild(o.content)},300:function(e,i){e.exports="<style include=\"wego-styles authentication-styles\">.root-container{width:700px;height:580px;flex-direction:row}.right-container{display:flex;flex-direction:column;width:308px;align-items:center;padding:10px;font-size:14px;font-weight:400;color:#666}.right-container>:nth-child(1){align-self:flex-end;--wego-icon-height:16px;--wego-icon-width:16px;--wego-icon-fill-color:#999}.right-container>:nth-child(1):hover{opacity:.8}.right-container>div:nth-child(2){font-size:20px;font-weight:400;color:#000;margin-bottom:7px}.right-container>div:nth-child(3)>a{margin-left:3px}:host([rtl]) .right-container>div:nth-child(2)>a{margin-left:0;margin-right:3px}.right-container>div:nth-child(4){width:258px;height:1px;box-shadow:0 1px 0 0 #ddd;margin:20px 0 0 0}.right-container>div:nth-child(n+5){display:flex;margin-top:45px}.right-container>div:nth-child(n+5)>div:last-child{display:flex;flex-direction:column;font-size:14px;width:179px}.right-container>div:nth-child(n+5)>div:last-child>div:first-child{color:#333;font-weight:400;margin-bottom:5px}.right-container>div:nth-child(n+5)>div:last-child>div:last-child{color:#666;font-weight:300}.icon-round-placeholder{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:50%;background-color:#fff;margin-right:15px}:host([rtl]) .icon-round-placeholder{margin-right:0;margin-left:15px}.icon-round-placeholder>wego-icon{--wego-icon-height:24px;--wego-icon-width:24px;--wego-icon-fill-color:#21A024}.left-container{width:392px;background-color:rgba(255,255,255,.8);display:flex;flex-direction:column;box-shadow:0 0 1px 0 rgba(0,0,0,.2);padding:30px;color:#fff;border-radius:3px 0 0 3px}.left-container>div:nth-child(-n+2){margin-bottom:7px}.left-container>:nth-child(4){margin-top:7px}wego-checkbox{--input-color:#666;font-size:14px;font-weight:400}.button{margin:15px 0 10px 0}.left-container>:nth-child(9){color:#666;font-size:14px;font-weight:400;margin-bottom:10px;line-height:18px}.flex{display:flex;align-items:center}.successful-content-container{width:392px}</style> <div class=root-container> <template id=contentTemplate is=dom-if if=[[!__isSuccessfulResponse]]> <div class=left-container> <div class=log-in-with-google on-tap=_handleSignUpWithGoogle> <div class=google-logo> <wego-image src=https://assets.wego.com/image/upload/f_auto,fl_lossy,q_auto/v1517465233/makalu/google_logo.png></wego-image> </div> <div>[[t('signup_with_google')]]</div> </div> <div class=log-in-with-facebook on-tap=_handleSignUpWithFacebook> <div class=facebook-logo> <wego-image src=https://assets.wego.com/image/upload/f_auto,fl_lossy,q_auto/v1517465233/makalu/facebook_logo.png></wego-image> </div> <div>[[t('signup_facebook')]]</div> </div> <div class=separator> <div></div> <div>[[t('login_or')]]</div> <div></div> </div> <div class=input> <wego-input placeholder=\"[[t('autofill_email')]]\" value={{__email}} on-tap=_handleWegoInputTap has-error=[[__isEmailInvalid]] error-message=[[__emailErrorMessage]]></wego-input> </div> <div class=input> <wego-input type=password placeholder=\"[[t('password')]]\" value={{__password}} on-tap=_handleWegoInputTap has-error=[[__isPasswordInvalid]] error-message=[[__passwordErrorMessage]]></wego-input> </div> <div class=input> <wego-input type=password placeholder=\"[[t('repeat_password')]]\" value={{__repeatPassword}} on-tap=_handleWegoInputTap has-error=[[__isRepeatPasswordInvalid]] error-message=[[__repeatPasswordErrorMessage]]></wego-input> </div> <wego-checkbox checked={{__optInNewsletter}}>[[t('users_newsletter')]]</wego-checkbox> <div class=button on-tap=_handleSignUp>[[t('sign_up')]]</div> <div id=termsAndConditions></div> <div> <a on-tap=_handleconfirmationEmailLink>[[t('no_confirmation')]]</a> </div> </div> </template> <template id=contentTemplate is=dom-if if=[[__isSuccessfulResponse]]> <div class=successful-content-container> <div> <div> <wego-icon icon=authentication:check></wego-icon> </div> <div>[[t('signup_successful')]]</div> <div>[[t('confirm_email')]]</div> <a on-tap=_handleWegoLogIn> <div class=button>[[t('ok')]]</div> </a> </div> </div> </template> <div class=right-container> <wego-icon id=close icon=close-small on-tap=close></wego-icon> <div>[[t('users_registrations')]]</div> <div class=flex> <div>[[t('registrations')]]</div> <a on-tap=_handleLogInLink>[[t('login')]]</a> </div> <div></div> <div> <div class=icon-round-placeholder> <wego-icon icon=authentication:lighting></wego-icon> </div> <div> <div>[[t('login_faster_booking')]]</div> <div>[[t('login_book_quicker')]]</div> </div> </div> <div> <div class=icon-round-placeholder> <wego-icon icon=authentication:bell></wego-icon> </div> <div> <div>[[t('price_alerts')]]</div> <div>[[t('login_alerts')]]</div> </div> </div> <div> <div class=icon-round-placeholder> <wego-icon icon=authentication:tag></wego-icon> </div> <div> <div>[[t('exclusive_offers')]]</div> <div>[[t('login_discounts')]]</div> </div> </div> </div> </div> "},96:function(e,i,t){"use strict";var o=function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e};function n(e,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a,r=t(300),s=(a=r)&&a.__esModule?a:{default:a},l=t(4);t(8),t(38),t(0),t(2),t(68),t(12),t(7),t(21),t(69),t(66),t(62),t(17),t(70),t(243);var c=(function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}(d,Wego.Mixin(l.WegoBaseElem).with(Wego.AuthenticationEventMixin,Wego.AuthenticationMixin,Wego.SiteMixin,Wego.LocalizationMixin,Wego.ServiceMixin,Wego.NotificationMixin)),o(d,[{key:"ready",value:function(){(function e(i,t,o){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,t);if(void 0===n){var a=Object.getPrototypeOf(i);return null===a?void 0:e(a,t,o)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(o):void 0})(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"ready",this).call(this);var o=this;o.listen(o.$.contentTemplate,"dom-change",function(){var e=o.shadowRoot.querySelector("#termsAndConditions");if(e){e.innerHTML=o.t("terms_and_conditions_html");for(var i=e.querySelectorAll("a"),t=0;i&&t<i.length;t++)i[t].setAttribute("target","_blank")}})}},{key:"_onEmailChanged",value:function(){this.set("__isEmailInvalid",!1)}},{key:"_emailErrorMessage",value:function(e,i){var t=this.t.bind(this);return e?this.isEmailInvalid(e)?t("invalid",t("autofill_email")):i:t("no_blank",t("autofill_email"))}},{key:"_onPasswordChanged",value:function(){this.set("__isPasswordInvalid",!1)}},{key:"_passwordErrorMessage",value:function(e){var i=this.t.bind(this);return e?e.length<8?i("limit",i("password"),this._n("8")):"":i("no_blank",i("password"))}},{key:"_onRepeatPasswordChanged",value:function(){this.set("__isRepeatPasswordInvalid",!1)}},{key:"_repeatPasswordErrorMessage",value:function(e){var i=this.t.bind(this);return e?e!==this.__password?i("not_match",i("repeat_password")):"":i("no_blank",i("repeat_password"))}},{key:"_handleSignUp",value:function(){var n=this,a="__isEmailInvalid",e=!1;if(n._trackEvent("email"),n.isEmailInvalid(n.__email)&&(n.set(a,!0),e=!0),(!n.__password||n.__password.length<8)&&(n.set("__isPasswordInvalid",!0),e=!0),n.__repeatPassword!==n.__password&&(n.set("__isRepeatPasswordInvalid",!0),e=!0),!e){var i={user:{email:n.__email,password:n.__password,password_confirmation:n.__repeatPassword,newsletter_opt_in:n.__optInNewsletter?"1":"0",geo_country_code:n.currentSite.code,geo_city:"",time_zone:"",locale:n.locale,cctld:window.location.hostname,source:"desktop_web"},device:{device_id:"",device_type:"desktop",app_version:""}},t=n.signUpUrl();n.httpPost(t,i,function(e,i){if(i||e&&e.error){var t=e&&e.error,o=t&&t.email;n.set("__errorResponseMessage",o),n.set(a,!0),n.set("__password",""),n.set("__repeatPassword","")}else n.set("__isSuccessfulResponse",!0)},{"content-type":"application/json"})}}},{key:"onOpened",value:function(){this.open=!0,this.listen(window,"message","_handleMessage")}},{key:"onClosed",value:function(){var e=this;e.open=!1,e.set("__email",""),e.set("__password",""),e.set("__repeatPassword",""),e.set("__optInNewsletter",!1),e.set("__isSuccessfulResponse",!1),e.set("__errorResponseMessage",""),e.unlisten(window,"message","_handleMessage")}},{key:"_handleMessage",value:function(e){var i=this;i._handleFacebookSignin(e.data).then(function(e){return i._wegoSignIn("facebook",null,e).then(function(e){return i.close()})})}},{key:"_handleSignUpWithGoogle",value:function(){var e=this;e._trackEvent("Google"),e.googleSignIn().then(function(){return e.close()})}},{key:"_handleSignUpWithFacebook",value:function(){this._trackEvent("facebook"),this.facebookSignIn()}},{key:"_handleWegoLogIn",value:function(){var i=this;return i._wegoSignIn("wego",i.__email,i.__password).then(function(e){return i.close()})}},{key:"_trackEvent",value:function(e){this.postNotification("ga-users-event",{label:e,action:"signup"})}}],[{key:"is",get:function(){return"sign-up"}},{key:"template",get:function(){var e=(0,l.html)([s.default]);return e.setAttribute("strip-whitespace",""),e}},{key:"properties",get:function(){return{open:{type:Boolean,reflectToAttribute:!0},auth:{type:Object,notify:!0},__email:{type:String,value:"",observer:"_onEmailChanged"},__isEmailInvalid:Boolean,__emailErrorMessage:{type:String,computed:"_emailErrorMessage(__email, __errorResponseMessage)"},__password:{type:String,value:"",observer:"_onPasswordChanged"},__isPasswordInvalid:Boolean,__passwordErrorMessage:{type:String,computed:"_passwordErrorMessage(__password)"},__repeatPassword:{type:String,value:"",observer:"_onRepeatPasswordChanged"},__isRepeatPasswordInvalid:Boolean,__repeatPasswordErrorMessage:{type:String,computed:"_repeatPasswordErrorMessage(__repeatPassword)"},__optInNewsletter:{type:Boolean,value:!1},__isSuccessfulResponse:{type:Boolean,value:!1},__errorResponseMessage:{type:String,value:""}}}}]),d);function d(){return function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d),function(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?e:i}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}window.customElements.define(c.is,c)}}]);