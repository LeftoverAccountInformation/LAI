webpackJsonp([34],{1635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1636)},1636:function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){Object.keys(O).forEach(function(t){var n=String(O[t]);e.setTargeting(t,n)}),-1!==t.indexOf("_addl")&&e.setTargeting("pos","instream"),"undefined"!=typeof Krux&&(e.setTargeting("ksg",Krux.segments),e.setTargeting("kuid",Krux.user))}function c(e){var t=e.ads,n=e.cb;if(t){var o=t.map(function(e){return e.code});window.pbjs.setTargetingForGPTAsync(o)}else window.pbjs.setTargetingForGPTAsync();void 0!==window.apstag?(window.apstag.setDisplayBids(),n()):n()}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h||(Object(y.f)(),h=!0);var t={},n=!1;window.googletag.cmd.push(function(){e.forEach(function(e){if(!B[e.code]){var o=window.googletag.defineSlot(e.slot,e.sizes,e.code).addService(window.googletag.pubads()).setTargeting("daisy_format",e.format);a(o,e.format),t[e.code]=o,n=!0}}),n&&(B=r({},B,{},t),Object.keys(t).forEach(function(e){B[e]=t[e]})),c({ads:e,cb:function(){var n=[],o=b.a.get("platform"),a=b.a.get("daisyPage");e.forEach(function(e){var c=B[e.code];t[e.code]?window.googletag.display(e.code):n.push(B[e.code]);var u=b.a.get("userid")?"logged in":"logged out",s=e.format.replace("_addl",""),d=[];d.push("ads - onpage - ad shown - ".concat(u)),d.push("ads - onpage - ad shown - ".concat(u," - format:").concat(s)),d.push("ads - onpage - ad shown - ".concat(u," - platform:").concat(o)),"DESKTOP"===o&&d.push("ads - onpage - ad shown - ".concat(u," - page:").concat(a)),w.a.update(d),Object(y.c)()&&console.log("OKC","just displayed ",e.code," with targeting ",c.getTargetingKeys().reduce(function(e,t){return r({},e,i({},t,c.getTargeting(t)[0]))},{})),A[e.code]=e,delete k[e.code]}),n.length&&window.googletag.pubads().refresh(n),E=!1}}),Object.values(T).length&&l()})}function s(e){var t=Object(y.a)(e);window.pbjs.que.push(function(){window.pbjs.addAdUnits(t),window.pbjs.requestBids({adUnits:t,timeout:b.a.get("prebidTimeout"),bidsBackHandler:function(){g(m.c.prebid)}})})}function d(e){window.apstag.fetchBids({slots:e.map(function(e){return{slotID:e.code,sizes:e.sizes}}),timeout:b.a.get("prebidTimeout")},function(){g(m.c.amazon)})}function f(){if(!P){Object.keys(x).forEach(function(e){x[e]=!1}),P=!0,k=r({},T);var e=Object.values(T);T={},!0,s(e),d(e),clearTimeout(D),D=setTimeout(function(){g(m.c.timeout)},b.a.get("prebidTimeout"))}}function l(e){e&&e.forEach(function(e){var t=e.code;T[t]||(T[t]=e)}),P||(clearTimeout(S),S=setTimeout(f,10))}function g(e){if(m.c[e]&&!E){e!==m.c.timeout&&(x[e]=!0);var t=Object.keys(x).reduce(function(e,t){return!!x[t]&&e},!0);if(e===m.c.timeout||t){P=!1,clearTimeout(D);var n=Object.values(k);E=!0;var o=e===m.c.timeout;Object(y.c)()&&console.log("OKC: timed out:",o,"bids in:",t,"showing ",n),u(n)}}}var p,b=n(3720),w=n(33),m=n(766),y=n(1637),v=n(1638);window.googletag="undefined"!=typeof window&&window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs="undefined"!=typeof window&&window.pbjs||{},window.pbjs.que=window.pbjs.que||[];var O=[],h=!1,j=!1,P=!1,E=!1,T={},k={},A={},B={},S=null,D=null,x=(p={},i(p,m.c.prebid,!1),i(p,m.c.amazon,!1),p),I={refreshAds:function(){if(!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force){if(j)return;j=!0,setTimeout(function(){j=!1},1e3*m.o)}var e=Object.values(A).filter(function(e){return document.getElementById("".concat(e.code))});Object.keys(A).forEach(function(e){delete A[e]}),Object.keys(k).forEach(function(e){delete k[e]}),v.a.showAdsIfVisible(e)},addAd:function(e){var t=Object(y.b)([e]);v.a.showAdsIfVisible(t)},removeAd:function(e){B[e]&&(window.googletag.destroySlots(B[e]),B[e]=null),A[e]&&(console.log("OKC: removing ad: ",A[e]),delete A[e])},loadAds:function(e){var t=e.units,n=e.keywords;if(t&&n){v.a.setCallback(l);var o=Object(y.b)(t);O=n,Object(y.i)(),Object(y.h)(),Object(y.g)(),Object(y.e)(),Object(y.d)(),v.a.showAdsIfVisible(o)}},refreshAdsById:function(e){var t=Object.values(A).filter(function(t){return document.getElementById("".concat(t.code))&&t.code===e});delete A[e],delete k[e],v.a.showAdsIfVisible(t)},refreshAdVisibility:v.a.refreshAdVisibility,getAll:function(){return{slots:B,displayed:A,requested:k,buffer:k}}};window.OnPageAds=I,t.a=I},1637:function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,o,r=c(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(){var e="prod"!==y.a.get("env"),t="prebidDebug"in m.a.parse(window.location.search);return e||t}function s(e){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function d(){return v.h[y.a.get("daisyPage")]}function f(e,t){var n,o=v.e[t],r=d();return v.i[t]?n=v.i[t]:r&&v.i[r]&&v.i[r][t]&&(n=v.i[r][t]),n&&o?e.concat([{bidder:"aol",params:{placement:n,network:"9457.1",sizeId:o}}]):e}function l(e,t,n){var o=v.l[t],r=v.f[t];return O[t]=(O[t]||0)+1,o&&r?(n.forEach(function(n){e.push({bidder:"ix",params:{id:r+O[t],siteId:o,size:n}})}),e):e}function g(e,t){var n,o=d();return v.j[t]?n=v.j[t]:o&&v.j[o]&&v.j[o][t]&&(n=v.j[o][t]),n?e.concat([{bidder:"appnexus",params:{placementId:n,referrer:"okcupid.com"}}]):e}function p(e,t){var n=y.a.get("country"),o=v.m[n]?v.m[n][t]:v.m.OTHER[t];return y.a.get("openXBidding")&&o?e.concat([{bidder:"openx",params:{unit:o,delDomain:"match-d.openx.net"}}]):e}function b(e,t){if(!y.a.get("criteoBidding")||"US"!==y.a.get("country"))return e;var n=v.k[t];return n?e.concat([{bidder:"criteo",params:{zoneId:n}}]):e}t.c=u,t.f=function(){s("https://www.googletagservices.com/tag/js/gpt.js")},t.g=function(){var e=y.a.get("cdnJS");s(u()?"/flat/js/lib/prebid-".concat(v.n,".js"):"".concat(e,"/flat/js/lib/prebid-").concat(v.n,".min.js"))},t.e=function(){!function(e,t,n,o,r,i,a){function c(n,o){t[e]._Q.push([n,o])}t[e]||(t[e]={init:function(){c("i",arguments)},fetchBids:function(){c("f",arguments)},setDisplayBids:function(){},_Q:[]},(i=n.createElement(o)).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(o)[0]).parentNode.insertBefore(i,a))}("apstag",window,document,"script"),window.apstag.init({pubID:v.b,adServer:"googletag"})},t.d=function(){!function(e,t,n,o,r,i,a){e.AdomikHeaderBiddingAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)};var c=e.pbjs=e.pbjs||{};c.que=c.que||[],c.que.push(function(){["bidAdjustment","bidTimeout","bidRequested","bidResponse","bidWon"].forEach(function(t){c.onEvent&&c.onEvent(t,function(){e[r]("on",t,arguments)})})}),i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src="//713452-hb.adomik.com/ahba.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"ahba"),ahba("set","uid","match-713452")},t.i=function(){window.pbjs.que.push(function(){window.pbjs.setConfig({ix:{timeout:y.a.get("prebidTimeout")},enableSendAllBids:!0}),window.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){var t=e.cpm;return t<5?(Math.floor(20*t)/20).toFixed(2):t<10?(Math.floor(10*t)/10).toFixed(2):t<20?(Math.floor(2*t)/2).toFixed(2):"20.00"}}]}}})},t.h=function(){window.googletag.cmd.push(function(){var e=-1!==document.referrer.indexOf("okcupid.com")?document.referrer:"//www.okcupid.com/home";window.googletag.pubads().set("page_url",e),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()})},t.b=function(e){var t,n=y.a.get("platform"),o=y.a.get("daisyPage");if("DESKTOP"===n)t="/7214/mat.okcupid/".concat(o);else{var r=1===y.a.get("gender")?"m":"f";t="/7214/OKCupid_Mobile/".concat(r)}return e.filter(function(e){var t=e.id,n=e.format;return t&&v.d[n]}).map(function(e){var n=e.id,o=e.format,r=v.d[o];"Home"===y.a.get("daisyPage")&&"leader"===o&&(r=v.d.leader_expanded);var i=[];return{bids:i=p(i=b(i=l(i=f(i=g(i,o),o),o,r),o),o),slot:t,sizes:r,format:o,code:n}})},t.a=function(e){return e&&e.length?e.map(function(e){return r({mediaTypes:{banner:{sizes:e.sizes}}},a(e,["sizes"]))}):e};var w=n(3988),m=n.n(w),y=n(3720),v=n(766),O={}},1638:function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){c(),window.addEventListener("resize",h),window.addEventListener("scroll",h)}function c(e){var t=window.scrollY,n=window.innerHeight;y=t-(e?p.a:0),v=t+n+(e?p.a:0)}function u(e){f.a.get("adFree")||(f.a.get("onlyFetchVisibleAds")?(w||(w=!0,a()),m=m.concat(e.map(s).filter(function(e){return e})),d()):b(e))}function s(e){var t=e.code,n=document.getElementById(t);if(n){var o=n.getBoundingClientRect(),i=o.top,a=o.height;return r({},e,{top:y+i,bottom:y+i+a})}return null}function d(){var e=[],t=[];m.forEach(function(n){var o=n.top,r=n.bottom,i=r>=y&&v>=r,a=o>=y&&v>=o;i||a?e.push(n):t.push(n)}),e.length&&(m=t,b(e))}var f=n(3720),l=n(4028),g=n.n(l),p=n(766),b=function(){return null},w=!1,m=[],y=0,v=0,O=!1,h=g()(function(){O||(O=!0,window.requestAnimationFrame(function(){O=!1,c(!0),j()}))},100),j=g()(d,100),P={setCallback:function(e){b=e},showAdsIfVisible:function(e){u(e)},refreshAdVisibility:function(){m=m.map(s).filter(function(e){return e})}};t.a=P},4028:function(e,t){e.exports=function(e,t,n,o){var r,i,a;return function(){function c(){clearTimeout(r),r=null}if(a=this,i=Array.prototype.slice.call(arguments),!r||!n&&!o){if(!n)return c(),r=setTimeout(function(){c(),e.apply(a,i)},t);r=setTimeout(c,t),e.apply(a,i)}}}}},[1635]);
//# sourceMappingURL=ads.46df586e2d52695982aa.min.js.map