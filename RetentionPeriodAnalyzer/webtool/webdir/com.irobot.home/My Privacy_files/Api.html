<!DOCTYPE html>
<!-- saved from url=(0285)https://cdns.us1.gigya.com/gs/webSdk/Api.aspx?apiKey=3_qRItXW5rW1rotG1htRVg8Ng7VztX5Kb_JEMYkPxpAncg2J6Iyif5zuvsZcyh-TNL&version=latest#origin=https://global.irobot.com/en/My%20Privacy?Country=US&gig_loggerConfig=%7B%22logLevel%22%3A0%2C%22clientMuteLevel%22%3A0%2C%22logTheme%22%3A1%7D -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title></title>
<script>
var gigya = window.gigya;
if (typeof gigya == 'undefined' || !gigya.isGigya) {
    gigya = {isGigya: true};
}
gigya.apiKey = '3_qRItXW5rW1rotG1htRVg8Ng7VztX5Kb_JEMYkPxpAncg2J6Iyif5zuvsZcyh-TNL';
gigya.defaultApiDomain = 'gigya.com';
gigya.dataCenter = 'us1';
gigya.build = {
  "number": 10507,
  "version": "latest"
};

if (typeof gigya.partnerSettings == 'undefined') {
    gigya.partnerSettings = {
  "ssoKey": "3_elJS3PrRNAn7npKGCYghJQXY-N4pvjhdftAkCrCTGY4wGigFQEp0NRe38T_QsjhV",
  "baseDomains": "row.prod-child.irobot.com"
};
}
gigya.gmidTicketExpiration=3600;
</script>
</head>
<body><script type="text/javascript">!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=240)}({0:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return r}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return g}),n.d(t,"__read",function(){return p}),n.d(t,"__spread",function(){return h}),n.d(t,"__spreadArrays",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return y}),n.d(t,"__asyncDelegator",function(){return w}),n.d(t,"__asyncValues",function(){return _}),n.d(t,"__makeTemplateObject",function(){return b}),n.d(t,"__importStar",function(){return I}),n.d(t,"__importDefault",function(){return S});var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=e||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}function s(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,o){t(n,o,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,o){return new(n||(n=gigya.Promise))(function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function s(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})}function f(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function g(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),r=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){i[e]&&(o[e]=function(t){return new gigya.Promise(function(n,o){r.push([e,t,n,o])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?gigya.Promise.resolve(n.value.v).then(u,c):l(r[0][2],n)}catch(e){l(r[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function w(e){var t,n;return t={},o("next"),o("throw",function(e){throw e}),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,i){t[o]=e[o]?function(t){return(n=!n)?{value:v(e[o](t)),done:"return"===o}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new gigya.Promise(function(o,i){(function(e,t,n,o){gigya.Promise.resolve(o).then(function(t){e({value:t,done:n})},t)})(o,i,(t=e[n](t)).done,t.value)})}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}}.call(this,n(0).__assign)},1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),i=navigator.userAgent.toLowerCase();t.localInfo={baseDomain:"",isBrowserSupportsFilesAPI:"function"==typeof FileReader||"object"==typeof FileReader,initTime:new Date,version:0,pageDomain:document.location.hostname,protocol:"http:"==document.location.protocol?"http":"https",userAgent:i,isWin:-1!=i.indexOf("win"),isIE:-1!=i.indexOf("msie")||-1!=i.indexOf("mozilla")&&-1!=i.indexOf("trident"),isIE6:-1!=i.indexOf("msie 6."),isIE7:-1!=i.indexOf("msie 7."),isIE8:-1!=i.indexOf("msie 8."),isIE9:-1!=i.indexOf("msie 9."),isIE10:-1!=i.indexOf("msie 10."),isIE11:-1!=i.indexOf("mozilla")&&-1!=i.indexOf("trident/7.0"),isEdge:-1!=i.indexOf("edge"),isIOS:-1!=i.indexOf("iphone")||-1!=i.indexOf("ipad")||-1!=i.indexOf("ipod"),isSafari534:-1!=i.indexOf("safari/534"),isWeChat:-1!=i.indexOf("micromessenger"),iosVersion:-1!=i.indexOf("applewebkit")&&-1!=i.indexOf("version/")?parseInt(i.split("version/")[1].split(" ")[0]):0,isAndroid:-1!=i.indexOf("android"),isAndroidBrowser:function(e){if(-1===e.indexOf("mozilla/5.0"))return!1;if(-1===e.indexOf("android 4"))return!1;if(-1===e.indexOf("applewebkit"))return!1;if(-1!==e.indexOf("windows phone"))return!1;var t=/chrome\/(\d+)/.exec(e);return!t||parseInt(t[1])<20}(i),currentBrowser:"",androidVersion:-1!=i.indexOf("android")?parseFloat(i.slice(i.indexOf("android")+8)):0,isChrome:-1!=i.indexOf("chrome")&&-1==i.indexOf("edge"),isGoogleBot:-1!=i.indexOf("googlebot"),isFF:-1!=i.indexOf("firefox"),isOpera:-1!=i.indexOf("opera"),isSafari:navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("safari")&&-1==navigator.appVersion.toLowerCase().indexOf("chrome")&&-1==i.indexOf("android"),isIOSWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isIOSChrome:-1!=i.indexOf("crios"),isMAC:navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("mac"),isWindowsPhone:-1!=i.indexOf("windows phone"),isFacebookBrowser:-1!=i.indexOf("fban")||-1!=i.indexOf("fbav"),supportsPostMessage:null!=window.postMessage&&(-1==i.indexOf("msie")||-1!=i.indexOf("iemobile")),supportsLocalStorage:!1,supportsSessionStorage:!1,supportsFlash:function(){var e=!1;try{if(navigator.mimeTypes&&null!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)e=!0;else new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(e){}return e}(),quirksMode:"BackCompat"==document.compatMode&&-1!=i.indexOf("msie"),backCompat:"BackCompat"==document.compatMode,isMobile:function(){var e=["iphone","ipod","android","midp","240x320","blackberry","netfront","nokia","panasonic","portalmmm","sharp","sie-","sonyericsson","symbian","windows ce","benq","mda","mot-","opera mini","philips","pocket pc","sagem","samsung","htc"];for(var t in e)if(-1!=i.indexOf(e[t]))return!0;return!1}(),isMobileApp:function(){if(!document.getElementsByTagName)return!1;for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("viewport"==e[t].getAttribute("name")){var n=e[t].getAttribute("content");if(n&&-1!==n.indexOf("width=device-width"))return!0}return!1}(),isNativeMobileApp:!1,isTouch:function(){if("ontouchstart"in window)return!0;if("onmsgesturechange"in window)try{return new ActiveXObject("htmlfile"),!1}catch(e){return!0}return!1}(),isOnLine:function(){return navigator.onLine},messagingMethod:0};var r=function(e){try{var t=window[e];if(!t)return!1;var n="_gig_localStorage_test",o="just checking for localStorage";t.setItem(n,o);var i=t.getItem(n)===o;return t.removeItem(n),i}catch(e){return!1}};t.localInfo.supportsLocalStorage=r("localStorage"),t.localInfo.supportsSessionStorage=r("sessionStorage"),t.localInfo.isIE11&&!window.indexedDB&&(t.localInfo.supportsPostMessage=!1),t.localInfo.isMAC=t.localInfo.isMAC&&!t.localInfo.isIOS;var a=t.localInfo.isWin?"windows":t.localInfo.isWindowsPhone?"winphone":t.localInfo.isIOS?"ios-v"+t.localInfo.iosVersion:t.localInfo.isMAC?"mac":t.localInfo.isAndroid?"android":"";a&&(a+=" ");var s,u=t.localInfo.isChrome?"chrome":t.localInfo.isFF?"firefox":t.localInfo.isSafari?"safari":t.localInfo.isEdge?"edge":t.localInfo.isIE11?"ie11":t.localInfo.isIE10?"ie10":t.localInfo.isIE9?"ie9":t.localInfo.isIE8?"ie8":"";t.localInfo.currentBrowser=a+u,window.gigya.partnerSettings&&window.gigya.partnerSettings.baseDomains?"string"==typeof(s=window.gigya.partnerSettings.baseDomains)&&(s=s.split(",")):(window.self===window.top&&console.log("gigya: missing base domains for site"),s=[document.location.hostname]),t.localInfo.baseDomain=o.getBaseDomain(s)},10:function(e,t){function n(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}Object.defineProperty(t,"__esModule",{value:!0}),t.trim=function(e){return e.replace(/^\s*(\S*(.*\S)?)\s*$/,"$1")},t.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0;o<arguments.length-1;o++)null!=arguments[o+1]&&(e=e.split("{"+o+"}").join(arguments[o+1]));return e},t.capitalize=function(e){return e.substring(0,1).toUpperCase()+e.substring(1)},t.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},t.escapeRegExp=n,t.replaceAll=function(e,t,o){return t?e.replace(new RegExp(n(t),"g"),o):e},t.mergeCommaSeparatedValues=function(e,t){void 0===e&&(e=""),void 0===t&&(t="");var n=e.concat(",",t).split(",");return window.gigya.utils.array.getUniqueValues(n).filter(function(e){return e}).join(",")}},11:function(e,t){function n(e,t){for(var n=0;n<e.length;++n)t(e[n],n,e)}function o(e,t){for(var n=0;n<e.length;++n)if(t(e[n],n,e))return!0;return!1}function i(e,t){var n=-1;return o(e,function(e,o,i){return!!t(e,o,i)&&(n=o,!0)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.clone=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t},t.removeByValue=function(e,t){if(e)for(var n=e.length-1;n>=0;n--)e[n]==t&&e.splice(n,1)},t.removeByProperty=function(e,t,n){if(e)for(var o=e.length-1;o>=0;o--)e[o][t]==n&&e.splice(o,1)},t.getArrayFromString=function(e,t,n){return e&&"string"==typeof e?(n&&(e=e.toLowerCase()),(e=e.replace(/[ ]/g,"").replace(/,,/g,","))?e.split(t):[]):[]},t.intersect=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(null==e)return[];for(var o=[],i=arguments.length,r=0,a=e.length;r<a;r++){var s=e[r];if(-1==this.indexOf(o,s)){for(var u=1;u<i;u++){var c=arguments[u];if(null==c||-1==this.indexOf(c,s))break}u===i&&o.push(s)}}return o},t.lastIndexOf=function(e,t,n){void 0===n&&(n=0);for(var o=e.length;--o>=n;)if(e[o]===t)return o;return-1},t.forEach=n,t.forEachProp=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n,e)},t.some=o,t.every=function(e,t){for(var n=0;n<e.length;++n)if(!t(e[n],n,e))return!1;return!0},t.everyProp=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!t(e[n],n,e))return!1;return!0},t.map=function(e,t){var o=new Array;return n(e,function(e,n,i){return o.push(t(e,n,i))}),o},t.firstIndex=i,t.first=function(e,t){return e[i(e,t)]},t.getAllEnumValues=function(e){var t=[];for(var n in e)"number"==typeof e[n]&&t.push(e[n]);return t},t.getUniqueValues=function(e){for(var t=0;t<e.length;++t)for(var n=t+1;n<e.length;n++)e[t]===e[n]&&e.splice(n,1);return e}},12:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(7),r=n(1),a=n(11),s=n(4),u=n(6),c=n(8),l={};function f(e){return e.replace(/^http(s?):\/\/cdn(s?)[0-9]*.gigya.com\//,"http$1://cdn$2.gigya.com/")}function d(e,t,n,o,u,c){var d;if(void 0===u&&(u=5e3),0===e.indexOf("//")&&(e=r.localInfo.protocol+":"+e),o){var g=f(e);if(l[g])return void(l[g].loaded?(window.gigya.logger.debug("script was already loaded:",{src:e}),n&&n()):(l[g].onLoad.push(n),l[g].onError.push(t)));d=l[g]={loaded:!1,onLoad:[n],onError:[t]},c&&c.length>0&&a.forEach(c,function(e){l[e]=d})}else d={loaded:!1,onLoad:[n],onError:[t]};var p=function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.charset="UTF-8";var n=!1,o=function(){if(!n){if(d.onLoad&&d.onLoad.length)for(var e=0;e<d.onLoad.length;e++)"function"==typeof d.onLoad[e]&&d.onLoad[e]();d.loaded=!0,d.onError=d.onLoad=null,n=!0,!0===u&&(u=0),!1!==u&&setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},u)}};t.onload=o,t.onreadystatechange=function(){"loaded"===this.readyState&&o()},t.onerror=function(){for(var t=0;t<d.onError.length;t++)"function"==typeof d.onError[t]&&d.onError[t]();delete l[e]};var a=document.getElementsByTagName("head");a&&a.length>0&&a[0].appendChild(t);var s=function(){var n,o,r=new RegExp("^https?://cdns?.*"+window.gigya.defaultApiDomain).test(e)?(n=e,(o=i.Uri.parse(n)).addToSearch({version:window.gigya.build.version}),o.toString()):e;t.src=r};r.localInfo.iosVersion>=6?s():setTimeout(s,1)};r.localInfo.isIE?s.invokeOnPageLoad(p):p()}t.isLoaded=function(e){var t=f(e);return Boolean(l[t]&&l[t].loaded)},t.load=d,function(e){e[e.script=0]="script",e[e.image=1]="image",e[e.iframe=2]="iframe"}(o=t.ResourceTypes||(t.ResourceTypes={})),t.triggerResource=function(e,t,n,i){switch(void 0===n&&(n=o.image),void 0===i&&(i=5e3),n){case o.script:d(e,t,t,!1,i);break;case o.image:!function(e,t){var n=new Image,o=!1;n.onload=n.onerror=function(){o||(o=!0,t())},n.src=e}(e,t);break;case o.iframe:!function(e,t,n){void 0===n&&(n=5e3);var o=document.createElement("iframe");o.style.width="30px",o.style.height="10px",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",!0===n&&(n=0);var i=function(e){var o;!(o=e&&e.srcElement?e.srcElement:e&&e.target?e.target:this).loaded&&o.parentNode&&(o.loaded=!0,t(),!1!==n&&window.setTimeout(function(){try{document.body.removeChild(o)}catch(e){}},n))};u.addEventListener(o,"load",i),u.addEventListener(o,"error",i),o.onload=function(e){i(e)},o.onerror=i,o.src=e,u.appendToBody(o)}(e,t,i);break;default:throw new Error("Unsupported resource type")}},t.loadService=function(e,t,n){var o=c.getCdnResource()+"/js/gigya.services."+e+".js";d(o,function(){"object"==typeof console&&console.error&&(console.error("error loading gigya service "+e+" from url: "+o),t&&t())},n,!0)}},13:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n(5);function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function a(e,t){return e&&-1!==e.indexOf("?")?o.deserialize(e.split("#")[0].split("?")[1],"&",t):{}}t.URLEncode=function(e){return encodeURIComponent(e)},t.URLDecode=r,t.URLDecodeRecursive=function(e){for(var t="",n=e;n!=t;)n=r(t=n);return n},t.getParamsFromURL=a,t.getParamValueFromURL=function(e,t,n){if(null==t||""==t)return n;var o=t.indexOf("?");if(-1===o)return n;var i="&"+t.substr(o+1),r=i.toLowerCase().indexOf("&"+e.toLowerCase()+"=");if(-1===r)return n;var a=i.substr(r+(1+e.length+1))+"&";return r=a.indexOf("&"),a.substr(0,r)},t.addParamsToURL=function(e,t){var n=a(e);i.add(n,t);var r=e.split("#"),s=r[0].split("?")[0]+"?"+o.serialize(n,"&");return r.length>1&&(s+="#"+r[1]),s}},14:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function i(){return o.localInfo.baseDomain||""}function r(e,t){return void 0===e&&(e=o.localInfo.pageDomain),void 0===t&&(t=i()),t.length>0&&e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length?t:e}function a(e){e=e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1").replace(/^[ \t]+|[ \t]+$/g,"");var t=new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)"),n=document.cookie.match(t);return n&&unescape(n[1])}function s(e,t,n,i,s){var u,c=o.localInfo.pageDomain;null==i&&(i=r()),u=null==n||""===n||isNaN(n)?31536e6:0==n?null:1e3*n;var l=new Date;l.setTime(l.getTime()+u);var f=e+"="+escape(t)+(s?"":"; path=/")+(null==u?"":"; expires="+l.toUTCString())+(i&&""!=i&&-1!=i.indexOf(".")?"; domain="+i:"");document.cookie=f,u&&!(u>0)||a(e)||(f=e+"="+escape(t)+(s?"":"; path=/")+(null==u?"":"; expires="+l.toUTCString())+(c&&""!=c&&-1!=c.indexOf(".")?"; domain="+c:""),document.cookie=f)}function u(){return 31536e3}t._getBaseDomain=i,t.getDefaultDomain=r,t.get=a,t.set=s,t.remove=function(e){var t=o.localInfo.pageDomain,n=i();n.length>0&&t.length>=n.length&&t.lastIndexOf(n)===t.length-n.length&&(s(e,"",-1,n),s(e,"",-1,n,!0)),s(e,"",-1,o.localInfo.pageDomain),s(e,"",-1,o.localInfo.pageDomain,!0),s(e,"",-1,""),s(e,"",-1,"",!0)},t.getInfiniteExpirationTimeInSeconds=u,t.canSaveCookie=function(e){void 0===e&&(e=document);var t=new Date((new Date).getTime()+1e3);try{return e.cookie="gig3pctest=true;expires="+t.toGMTString(),-1!==e.cookie.indexOf("gig3pctest")}catch(e){return!1}}},16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(10),r=n(1),a=["socialize","accounts","fidm","gm","comments","gcs","ids","ds","gscounters"];function s(e,t,n){void 0===t&&(t=window.gigya.dataCenter),void 0===n&&(n=window.gigya.defaultApiDomain);var o=t+"."+n;return e?e+"."+o:o}function u(e,t,n,o){return void 0===e&&(e=window.gigya.partnerSettings&&window.gigya.partnerSettings.customAPIDomainPrefix),void 0===t&&(t=r.localInfo.baseDomain),void 0===n&&(n=window.gigya.dataCenter),void 0===o&&(o=window.gigya.defaultApiDomain),e&&t&&t!==o?e+"."+t:s(void 0,n,o)}t.apiDomainFactory=function(e,t){void 0===e&&(e=u()),void 0===t&&(t=window.gigya.defaultApiDomain);var n=o.Uri.parse(e).isIn(o.Uri.parse(t));return function(t){if(t&&n){var o=t.split(".")[0];return-1==a.indexOf(o)&&(window.gigya.logger.error("trying to send request to an invalid domain"),o=a[0]),o+"."+e}return e}},t.getGigyaDomain=s,t.getBaseDomain=function(e,t,n){if(void 0===e&&(e=window.gigya.partnerSettings.baseDomains),void 0===t&&(t=location.hostname),void 0===n&&(n=["gigya.com","gigya-api.cn",window.gigya.defaultApiDomain]),!t)return"";var r=o.Uri.parse(t);n&&(e=e.concat(n));for(var a=0;a<e.length;a++){var s=i.replaceAll(e[a],"*",""),u=o.Uri.parse(s);if(r.isIn(u))return u.isForSubDomains()?r.domain:u.domain}return r.domain},t.resolveApiDomain=u},18:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),r=n(1),a=n(12),s=n(14),u=function(){function e(){}return e.getName=function(){return"AbstractAdapter"},e.prototype.setObject=function(e,t){this.setItem(e,i.serialize(t))},e.prototype.getObject=function(e,t){return i.deserialize(this.getItem(e),t)},e.prototype.isPersistent=function(){return!0},e}();t.AbstractLocalStorageAdapter=u;var c=function(e){function t(){var t=e.call(this)||this;return t.isLoaded=!1,t}return o.__extends(t,e),t.prototype.isReady=function(){return this.isLoaded},t.prototype.waitForService=function(e){var t=this;this.isReady()?e():setTimeout(function(){return t.waitForService(e)},50)},t}(u);t.AbstractAsyncLocalStorageAdapter=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getItem=function(e){return this.storage[e]},t.prototype.setItem=function(e,t,n){try{this.storage[e]=t}catch(e){}},t.prototype.removeItem=function(e){this.storage.removeItem(e)},t}(u),f=function(e){function t(){var t=e.call(this)||this;return t.storage=window.localStorage,t}return o.__extends(t,e),t.getName=function(){return"LocalStorageAdapter"},t.isAvailable=function(){return r.localInfo.supportsLocalStorage},t}(l),d=function(e){function t(){var t=e.call(this)||this;return t.storage=window.sessionStorage,t}return o.__extends(t,e),t.getName=function(){return"SessionStorageAdapter"},t.isAvailable=function(){return r.localInfo.supportsSessionStorage},t}(l),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.isAvailable=function(){return r.localInfo.isFF&&window.globalStorage},t.getName=function(){return"FirefoxStorageAdapter"},t.prototype.getItem=function(e){return window.globalStorage[location.hostname][e]},t.prototype.setItem=function(e,t,n){try{window.globalStorage[location.hostname][e]=t}catch(e){}},t.prototype.removeItem=function(e){delete window.globalStorage[location.hostname][e]},t}(u),p=function(e){function t(){var t=e.call(this)||this;return t.loadSwfStore(function(e){t.isLoaded=!0}),t}return o.__extends(t,e),t.isAvailable=function(){return r.localInfo.supportsFlash&&(r.localInfo.isIE||r.localInfo.isEdge)},t.getName=function(){return"FlashAsyncStorageAdapter"},t.prototype.loadSwfStore=function(e){var t=this;window.SwfStore?this.initializeSwfStore(function(){return t.loadSwfStore(e)}):a.load("https://cdns.gigya.com/gs/js/swfstore.min.js",function(){console.log("Failed to load Gigya SwfStore."),e(!1)},function(){t.initializeSwfStore(e)},!0)},t.prototype.initializeSwfStore=function(e){this.swfStore=new SwfStore({namespace:"gigSSO",swf_url:"https://cdns.gigya.com/gs/swf/swfstore.swf",onready:function(){e(!0)},onerror:function(){console.log("Failed to initialize Gigya SwfStore."),e(!1)}})},t.prototype.getItem=function(e){return this.swfStore.get(e)},t.prototype.setItem=function(e,t,n){this.swfStore.set(e,t)},t.prototype.removeItem=function(e){this.swfStore.clear(e)},t}(c),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.isAvailable=function(){return s.canSaveCookie()},t.getName=function(){return"CookieStorageAdapter"},t.prototype.getItem=function(e){return s.get(e)},t.prototype.setItem=function(e,t,n,o){s.set(e,t,n,o)},t.prototype.removeItem=function(e){s.remove(e)},t}(u);t.CookieStorageAdapter=h;var m=function(e){function t(){var t=e.call(this)||this;return t.memory={},t}return o.__extends(t,e),t.isAvailable=function(){return!0},t.getName=function(){return"MemoryStorageAdapter"},t.prototype.getItem=function(e){return this.memory[e]},t.prototype.setItem=function(e,t,n){this.memory[e]=t},t.prototype.removeItem=function(e){delete this.memory[e]},t.prototype.isPersistent=function(){return!1},t}(u);function v(e){var n=e.getName()||e.name;return t.instances[n]||(t.instances[n]=new e),t.instances[n]}function y(e){for(var n,o=0,i=t.adapters;o<i.length;o++){var r=i[o];if(r.isAvailable()){if(r.prototype instanceof c&&!e)continue;n=v(r);break}}return n||(n=v(m)),e&&(n instanceof c?n.waitForService(function(){e(n)}):e(n)),n}t.MemoryStorageAdapter=m,t.adapters=[f,d,g,p,h,m],t.instances={},t.initializeAdapter=v,t.waitForService=y;var w=y();t.getItem=function(e){return w.getItem(e)},t.setItem=function(e,t,n){return w.setItem(e,t,n)},t.removeItem=function(e){return w.removeItem(e)},t.setObject=function(e,t){return w.setObject(e,t)},t.getObject=function(e,t){return w.getObject(e,t)}},19:function(e,t){function n(){var e=0,t=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),{left:e,top:t}}function o(){var e,t,n=document.documentElement,o=document.body;return window.innerHeight?(e=window.innerHeight,t=window.innerWidth):(0==(e=n.clientHeight)&&(e=o.clientHeight),0==(t=n.clientWidth)&&(t=o.clientWidth)),{w:t,h:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getScroll=n,t.getFullSize=function(){var e=document.documentElement,t=document.body,n=e.clientHeight;0==n&&(n=t.clientHeight);var o=e.clientWidth;return 0==o&&(o=t.clientWidth),{w:o,h:n}},t.getOrientation=function(){var e=parseInt(window.orientation||"0");return e<0&&(e+=360),e},t.getInnerSize=o,t.getMiddleCenter=function(){var e=n(),t=o();return{top:e.top+Math.floor(t.h/2),left:e.left+Math.floor(t.w/2)}},t.isRectHorizontallyVisible=function(e){var t=n(),i=o();return e.left>=t.left&&e.right<=t.left+i.w},t.isRectFullyVisible=function(e){var t=n(),i=o();return e.top>=t.top&&e.bottom<=t.top+i.h&&e.left>=t.left&&e.right<=t.left+i.w},t.scrollIntoView=function(e){e&&e.scrollIntoView&&e.scrollIntoView()}},20:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n(3);t.serialize=function(e,t){var n=[];for(var r in t||(t="&"),e)switch(typeof e[r]){case"function":break;case"object":null!=e[r]&&n.push(r+"="+o.URLEncode(i.serialize(e[r])));break;case"undefined":break;default:n.push(r+"="+o.URLEncode(e[r]))}return n.join(t)},t.deserialize=function(e,t,n,i){var r={};if(!e)return r;t||(t="&");for(var a=e.split(t),s=0;s<a.length;s++){var u=a[s],c=u.indexOf("=");if(-1===c)r[l=n?u.toLowerCase():u]="1";else{var l=u.substr(0,c);n&&(l=l.toLowerCase());var f=u.substr(c+1).replace(/\+/g," ");try{r[l]=i?unescape(f):o.URLDecode(f)}catch(e){r[l]=unescape(f)}}}return r}},21:function(e,t){function n(e,t,n){void 0===n&&(n="&");var o=e.match(new RegExp(t+"=([^"+n+"]*)"));return o?o[1]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getParamValue=n,t.getReqParamValue=function(e,t){var o=n(e,t);return o?decodeURIComponent(o):null}},24:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};function o(e){if(!n[e])return!1;for(var t in n[e].ids)return!0;return!1}function i(e,t,o){n[e]||(n[e]={q:[],ids:{}}),n[e].q.push({func:t,args:o})}t._servicesStatus=function(){var e={};for(var t in n){var i=o(t);e[t]=i?{active:!0,waitingFor:n[t].ids,queuedCount:n[t].q.length}:{active:!1}}return e},t.isActive=o,t.release=function(e,t){if(window.gigya.logger.debug("releasing "+t+" queue by "+e),n[t]&&(delete n[t].ids[e],!o(t))){var i=n[t].q;for(n[t].q=[];i.length>0;){var r=i.splice(0,1)[0];try{r.func.apply(this,r.args)}catch(n){"object"==typeof console&&console.log&&console.log("Gigya: Exception while invoking queued method ("+t+": "+e+")")}if(o(t)){n[t].q=i;break}}}},t.hold=function(e,t){window.gigya.logger.debug("locking queue "+t+" by "+e),n[t]||(n[t]={q:[],ids:{}}),n[t].ids[e]=!0},t.waitFor=i,t.queueForExecution=function(e,t,n){n=n||[],o(e)?i(e,t,n):t.apply(this,n)}},240:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(37),n(241),n(42);var i=n(1),r=n(79),a=n(35),s=n(242),u=n(59),c=n(78),l=n(7),f=n(16);window.gigya.apiKey||(window.gigya.apiKey=window.gigya.utils.getReqParamValue(location.search,"apiKey"));var d=window.gigya.apiKey,g=window.gigya.defaultApiDomain,p=window.gigya.dataCenter,h=window.gigya.configHostnameOverride;!function(){o.__awaiter(this,void 0,void 0,function(){var t,n,m,v,y,w,_,b;return o.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=window.location!=window.parent.location?window.document.referrer||window.gigya.utils.getReqParamValue(location.hash,"origin"):window.document.location.href,n=h||"https://cdns."+p+"."+g,[4,l.Uri.parse(n+"/sdk.config.getAPI").addToSearch({apiKey:d,pageURL:t}).fetch()];case 1:return m=o.sent(),i.localInfo.baseDomain=f.getBaseDomain(m.baseDomains),e(window.gigya,i,r,{partnerSettings:m}),v=new a.GroupApiDomainService,y=s.createDomainResolver(p,m.baseDomains,t,g,m.customAPIDomainPrefix,v),w="ver2"===window.gigya.utils.getParamValue(document.cookie,"hasGmid",";"),_=new u.ApiService(d,w,y,v),new c.ProxyListener(_,t).listen({apiDomain:y.getApiDomain(),isGroupApiDomain:y.isGroupApiDomain,hasGroupApiDomainChanged:y.hasGroupApiDomainChanged}),[3,3];case 2:return b=o.sent(),window.gigya.logger.error("gigya: error loading api frame",{e:b}),[3,3];case 3:return[2]}})})}()}).call(this,n(0).__assign)},241:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(6),r=n(16),a=n(4),s=n(3),u=n(20),c=n(18),l=n(21),f=n(5),d=n(12),g=n(73),p=n(7),h=n(13),m=n(30);window.gigya._||(window.gigya._={}),window.gigya.utils||(window.gigya.utils={}),window.gigya.utils.cookie||(window.gigya.utils.cookie={}),window.gigya.utils.DOM||(window.gigya.utils.DOM={}),window.gigya.utils.functions||(window.gigya.utils.functions={}),window.gigya.utils.JSON||(window.gigya.utils.JSON={}),window.gigya.utils.keyValue||(window.gigya.utils.keyValue={}),window.gigya.utils.localStorage||(window.gigya.utils.localStorage={}),window.gigya.utils.object||(window.gigya.utils.object={}),window.gigya.utils.script||(window.gigya.utils.script={}),window.gigya.utils.sessionCache||(window.gigya.utils.sessionCache={}),window.gigya.utils.stringUtils||(window.gigya.utils.stringUtils={}),window.gigya.utils.URL||(window.gigya.utils.URL={}),window.gigya.utils.validation||(window.gigya.utils.validation={}),e(window.gigya._,p,r),e(window.gigya.utils.cookie,o),e(window.gigya.utils.DOM,i),e(window.gigya.utils.functions,a),e(window.gigya.utils.JSON,s),e(window.gigya.utils.keyValue,u),e(window.gigya.utils.localStorage,c),e(window.gigya.utils.object,f),e(window.gigya.utils.script,d),e(window.gigya.utils.sessionCache,g),e(window.gigya.utils.URL,h),e(window.gigya.utils.validation,m),e(window.gigya.utils,l)}).call(this,n(0).__assign)},242:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(35);function i(e,n,o,i){if(void 0===i&&(i=window.gigya.utils.localStorage.initializeAdapter(window.gigya.utils.localStorage.CookieStorageAdapter)),e)if(window.gigya.logger.info("has custom api domain prefix: "+e),e!==(n&&n.split(".")[0])){if(window.gigya.logger.info("..and it's different from existing group api domain's ("+n+")"),!Boolean(o&&i.getItem(t.LoginTokenPrefix+"_"+o)))return window.gigya.logger.debug("..and no group session -> resetting group api domain"),!0;window.gigya.logger.info("..but a group session exists so..")}else window.gigya.logger.info("..and it already matches group api domain's ("+n+") so..");else window.gigya.logger.info("no custom api domain prefix so..");return!1}t.LoginTokenPrefix="gig_loginToken",t.shouldResetGroupApiDomain=i,t.createDomainResolver=function(e,t,n,r,a,s,u){void 0===s&&(s=new o.GroupApiDomainService),void 0===u&&(u=window.gigya.partnerSettings.ssoKey);var c,l=window.gigya.logger.group("api domain resolver"),f=s.get(),d=Boolean(f),g=!d||i(a,f,u);if(g){window.gigya.logger.info("resolving api domain"),window.gigya.logger.info("trusted domains",t);var p=window.gigya._.getBaseDomain(t,n,["gigya.com","gigya-api.cn",r]);window.gigya.logger.info("base domain: "+p);var h=window.gigya._.resolveApiDomain(a,p,e,r);window.gigya.logger.info("resolved api domain: "+h),u&&(d=!0),c=h}else window.gigya.logger.info("using existing group api domain: "+f),c=f;return s.set(c),l.end(),{originDomain:n,isGroupApiDomain:d,getApiDomain:window.gigya._.apiDomainFactory(c,r),isApiDomainFirstParty:Boolean(a),hasGroupApiDomainChanged:u&&g}}},28:function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(44),a=n(21);t.gigErrorReport="gigErrorReport";var s={logLevel:r.LogLevel.disabled,clientMuteLevel:0,logTheme:1},u=((o={})[0]=[""],o[1]=["38f689","009FD4","b381b3","71b6ef","64c162","977bd8","d168a4","4c71d2","84b466","7d638a","799fb7","8fdf98","dc7767","0a70f5","38b159","af721b","bfaf6f"],o[2]=["40806A","003636","9B59B6","DB0A5B","7928A1","522032","0000E0","00202A","000036","005555","1D781D","4F5A65","765AB0","000000","3C1362","000060","591D77"],o),c=r.LogLevel.warn,l=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},f=function(){function e(e){this._global=e,this._groupsStack=[],this._currColorIdx=0,this.configKey="gig_loggerConfig",this._console=this._global.console,this.isEnabled&&this.overrideClientLogs()}return e.prototype.getConfig=function(){return this._config||(this._config=this.readLoggerConfigFromHash()||this.readLoggerConfigFromCookie()||s),this._config},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.getConfig().logLevel>r.LogLevel.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this.getConfig().logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return u[this.getConfig().logTheme]},enumerable:!0,configurable:!0}),e.prototype.getNextColor=function(){return 0===this.getConfig().logTheme?"":(this._currColorIdx>=this.palette.length&&(this._currColorIdx=0),"#"+this.palette[this._currColorIdx++])},Object.defineProperty(e.prototype,"currentGroup",{get:function(){return this._groupsStack[this._groupsStack.length-1]},enumerable:!0,configurable:!0}),e.prototype.readLoggerConfigFromHash=function(){var e=null,t=a.getReqParamValue(location.hash,this.configKey);if(t)try{e=JSON.parse(decodeURIComponent(t))}catch(e){console.error("[Gigya]: exception while trying to parse logger config from hash",e)}return e},e.prototype.readLoggerConfigFromCookie=function(){try{var e=null,t=a.getParamValue(document.cookie,this.configKey,";");if(t)try{e=JSON.parse(t)}catch(e){console.error("[Gigya]: exception while trying to parse logger config from cookie",e)}return e}catch(e){return}},e.prototype.setLoggerConfigCookie=function(e){document.cookie=this.configKey+"="+JSON.stringify(e)},e.prototype.overrideClientLogs=function(){var e=this,t=this._global.Proxy;if(t)switch(this.getConfig().clientMuteLevel){case 0:break;case 2:this._global.console=new t(this._global.console,{get:function(){return l}});break;case 1:default:this._global.console=new t(this._global.console,{get:function(t,n){return-1!==["group","groupCollapsed","groupEnd"].indexOf(n)?function(){for(var t,o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return(t=e._console).log.apply(t,i.__spreadArrays(["client has called console."+n],o))}:t[n]}})}},e.prototype.getFormattedLogArgs=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=this.currentGroup),{text:t?"%c█"+e:"%c"+e,css:t?"color: "+t.color+";":""}},e.prototype.restoreHangingGroups=function(e){for(;e.length;){var t=e.shift();this._groupsStack.push(t);var n=this.getFormattedLogArgs(" %c[RESTORED - "+t.groupTitle+"]");this._console.groupCollapsed(n.text,n.css,"color: #b0b0b0b0;")}},e.prototype.endGroup=function(e){var t=this.getFormattedLogArgs(" [END - "+e.groupTitle+"]",e);this._console.log(t.text,t.css),this._console.groupEnd()},e.prototype.log=function(e){if(this.isEnabled&&e>=this.logLevel||e>=c&&this.logLevel<c){var t=r.LogLevel[e],n=e===r.LogLevel.debug?r.LogLevel[r.LogLevel.info]:t,o=this.getFormattedLogArgs(" %c["+t+"]");return this._console[n].bind(this._console,o.text,o.css,e<=r.LogLevel.info?"color: #b0b0b0b0;":"")}return l},e.prototype.getJsonFromError=function(e){return{name:e.name,message:e.message,stack:e.stack}},Object.defineProperty(e.prototype,"debug",{get:function(){return this.log(r.LogLevel.debug)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return this.log(r.LogLevel.info)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warn",{get:function(){return this.log(r.LogLevel.warn)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){var e=this;return function(t,n){n&&"object"==typeof n&&Object.keys(n).forEach(function(t){n[t]instanceof Error&&(n[t]=e.getJsonFromError(n[t]))}),e.log(r.LogLevel.error).apply(e,[t].concat([n])),e.report(t,n)}},enumerable:!0,configurable:!0}),e.prototype.group=function(e,t){var n=this;if(void 0===t&&(t=!0),this.isEnabled){var o=this.getNextColor();this._groupsStack.push({groupTitle:e,color:o});var i=this.getFormattedLogArgs(" [START - "+e+"]");!function(){for(var e,o,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];t?(e=n._console).groupCollapsed.apply(e,i):(o=n._console).group.apply(o,i)}(i.text,i.css)}return{end:function(){return n.groupEnd(e)},endWhen:function(t){"function"==typeof t&&(t=t()),t&&t.then?t.then(function(){return n.groupEnd(e)}):n.groupEnd(e)}}},e.prototype.groupEnd=function(e){if(this.isEnabled){for(var t=[],n=this._groupsStack.pop();n.groupTitle!==e&&this._groupsStack.length;)t.unshift(n),n=this._groupsStack.pop(),this._console.groupEnd();this.endGroup(n),t.length&&this.restoreHangingGroups(t)}},e.prototype.enable=function(e,t,n){void 0===e&&(e=r.LogLevel.info),void 0===t&&(t=1),void 0===n&&(n=1),this.setLoggerConfigCookie({logLevel:e,clientMuteLevel:t,logTheme:n})},e.prototype.disable=function(){this.setLoggerConfigCookie({logLevel:r.LogLevel.disabled,clientMuteLevel:s.clientMuteLevel,logTheme:s.logTheme})},e}();t.BaseLogger=f},3:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var LocalInfo_1=__webpack_require__(1);function serialize(e,t,n,o,i){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===o&&(o=0),void 0===i&&(i=20),LocalInfo_1.localInfo.isIE8){if(o||(o=0),o>i)return"[Too deep]";var r="",a="",s="";if(n){s="\t",a="\n";for(var u=0;u<o+1;u++)r+=s}var c=typeof e;if("function"==c)return c.toString();if("object"!=c||null===e)return"string"==c&&(e='"'+e.replace(/(\"|\\)/g,"\\$1").replace(/\r\n|\r|\n/g,"\\n")+'"'),String(e);var l,f,d=[],g=e&&e.constructor==Array;if(g)for(u=0;u<e.length;u++)c=typeof(f=e[u]),null==f||"undefined"==c?f="":"string"==c?f='"'+f.replace(/(\"|\\)/g,"\\$1").replace(/\r\n|\r|\n/g,"\\n")+'"':"function"==c?f=t?"Function":"":f.parentNode&&f.innerHTML?f="HTMLElement":f.constructor==Date?f="":"object"==c&&null!==f&&(f=serialize(f,t,n,o+1)),""!=String(f)&&d.push(r+s+String(f));else for(l in e)c=typeof(f=e[l]),null==f||"undefined"==c?f=String(f):"string"==c?f='"'+f.replace(/(\"|\\)/g,"\\$1").replace(/\r\n|\r|\n/g,"\\n")+'"':"function"==c?f=t?"Function":"":f.parentNode&&f.innerHTML?f="HTMLElement":f.constructor==Date?f="":"object"==c&&null!==f&&(f=a+serialize(f,t,n,o+1)),""!=String(f)&&d.push(r+s+'"'+l.replace(/(\"|\\)/g,"\\$1").replace(/\r\n|\r|\n/g,"\\n")+'":'+String(f));return a+r+(g?"[":"{")+a+d.join(","+a)+a+r+(g?"]":"}")}return window.JSON.stringify(e)}function deserialize(json,defaultValue,scope){if(!json||!json.replace(/^\s+|\s+$/g,""))return defaultValue||{};try{var keys=[],values=[];if(scope)for(var key in scope)keys.push(key),values.push(scope[key]);var fn=eval("(function("+keys.join(",")+") { return "+json.trim()+"; })");return fn.apply(void 0,values)}catch(e){return console.warn("Error deserializing JavaScript",e),defaultValue||{}}}function parse(e,t){if(LocalInfo_1.localInfo.isIE8)return deserialize(e,t);try{return window.JSON.parse(e)}catch(e){return t||{}}}exports.serialize=serialize,exports.deserialize=deserialize,exports.parse=parse},30:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isExplicitTrue=function(e){var t=(""+e).toLowerCase();return"true"==t||"1"==t},t.isExplicitFalse=function(e){var t=(""+e).toLowerCase();return"false"==t||"0"==t},t.isLaterThanNow=function(e){return e>(new Date).getTime()},t.allDefinedOrAllUndefined=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.some(function(e){return void 0===e}),o=e.some(function(e){return void 0!==e});return o&&!n||!o&&n}},31:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=/\/\/cdn(s)?\.(ru1\.)?gigya.com/,o=["gigya.js","socialize.js","socialize2.js","gsjssdk.js"];t.getGigyaScriptElement=function(){for(var e,t=document.getElementsByTagName("script"),i=function(i){var r=t[i],a=r.src.toLowerCase();if(""!==a&&(n.test(a)||a.indexOf("?apikey=")>-1)&&(0===o.length||o.some(function(e){return a.indexOf(e)>-1})))return e=r,"break"},r=t.length-1;r>=0&&"break"!==i(r);r--);return e}},35:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i="apiDomain",r=function(){function e(e,t,n){void 0===e&&(e=window.gigya.partnerSettings.ssoKey),void 0===t&&(t=window.gigya.utils.localStorage.initializeAdapter(window.gigya.utils.localStorage.CookieStorageAdapter)),void 0===n&&(n=o.localInfo.pageDomain),this._ssoKey=e,this._storage=t,this._pageDomain=n,this._cookieName=i+"_"+this._ssoKey}return e.prototype.get=function(){return this._ssoKey?this._storage.getItem(this._cookieName):void 0},e.prototype.set=function(e){this._ssoKey&&(window.gigya.logger.info("setting as group api domain for "+this._ssoKey),this._storage.removeItem(this._cookieName),this._storage.setItem(this._cookieName,e,void 0,this._pageDomain))},e}();t.GroupApiDomainService=r},37:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=n(38);e(window.gigya,{Promise:o})}).call(this,n(0).__assign)},38:function(e,t,n){(function(t,n){var o;o=function(){"use strict";function e(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,r=void 0,a=void 0,s=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(a?a(h):_())},u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function g(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<i;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}i=0}var m,v,y,w,_=void 0;function b(e,t){var n=this,o=new this.constructor(O);void 0===o[S]&&N(o);var i=n._state;if(i){var r=arguments[i-1];s(function(){return M(i,o,r,n._result)})}else P(n,o,e,t);return o}function I(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(O);return L(t,e),t}f?_=function(){return t.nextTick(h)}:l?(v=0,y=new l(h),w=document.createTextNode(""),y.observe(w,{characterData:!0}),_=function(){w.data=v=++v%2}):d?((m=new MessageChannel).port1.onmessage=h,_=function(){return m.port2.postMessage(0)}):_=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(h)}:g()}catch(e){return g()}}():g();var S=Math.random().toString(36).substring(2);function O(){}var x=void 0,T=1,E=2;function C(t,n,o){n.constructor===t.constructor&&o===b&&n.constructor.resolve===I?function(e,t){t._state===T?A(e,t._result):t._state===E?D(e,t._result):P(t,void 0,function(t){return L(e,t)},function(t){return D(e,t)})}(t,n):void 0===o?A(t,n):e(o)?function(e,t,n){s(function(e){var o=!1,i=function(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}(n,t,function(n){o||(o=!0,t!==n?L(e,n):A(e,n))},function(t){o||(o=!0,D(e,t))},e._label);!o&&i&&(o=!0,D(e,i))},e)}(t,n,o):A(t,n)}function L(e,t){if(e===t)D(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(o=t),null===o||"object"!==i&&"function"!==i)A(e,t);else{var n=void 0;try{n=t.then}catch(t){return void D(e,t)}C(e,t,n)}var o,i}function k(e){e._onerror&&e._onerror(e._result),j(e)}function A(e,t){e._state===x&&(e._result=t,e._state=T,0!==e._subscribers.length&&s(j,e))}function D(e,t){e._state===x&&(e._state=E,e._result=t,s(k,e))}function P(e,t,n,o){var i=e._subscribers,r=i.length;e._onerror=null,i[r]=t,i[r+T]=n,i[r+E]=o,0===r&&e._state&&s(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,i=void 0,r=e._result,a=0;a<t.length;a+=3)o=t[a],i=t[a+n],o?M(n,o,i,r):i(r);e._subscribers.length=0}}function M(t,n,o,i){var r=e(o),a=void 0,s=void 0,u=!0;if(r){try{a=o(i)}catch(e){u=!1,s=e}if(n===a)return void D(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==x||(r&&u?L(n,a):!1===u?D(n,s):t===T?A(n,a):t===E&&D(n,a))}var R=0;function N(e){e[S]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(O),this.promise[S]||N(this.promise),o(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&A(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===x&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===I){var i=void 0,r=void 0,a=!1;try{i=e.then}catch(e){a=!0,r=e}if(i===b&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===B){var s=new n(O);a?D(s,r):C(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},e.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===x&&(this._remaining--,e===E?D(o,n):this._result[t]=n),0===this._remaining&&A(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(T,t,e)},function(e){return n._settledAt(E,t,e)})},e}(),B=function(){function t(e){this[S]=R++,this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){L(e,t)},function(t){D(e,t)})}catch(t){D(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return B.prototype.then=b,B.all=function(e){return new F(this,e).promise},B.race=function(e){var t=this;return o(e)?new t(function(n,o){for(var i=e.length,r=0;r<i;r++)t.resolve(e[r]).then(n,o)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},B.resolve=I,B.reject=function(e){var t=new this(O);return D(t,e),t},B._setScheduler=function(e){a=e},B._setAsap=function(e){s=e},B._asap=s,B.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===o&&!t.cast)return}e.Promise=B},B.Promise=B,B},e.exports=o()}).call(this,n(39),n(40))},39:function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&g())}function g(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(g)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},4:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var DOMUtils=__webpack_require__(6),cdn_1=__webpack_require__(8),LocalInfo_1=__webpack_require__(1);function callFunction(name,arParams){var fn=eval(name),arParts=name.split(".");arParts.splice(arParts.length-1,1);var scope=eval(arParts.join("."));fn.apply(scope,arParams)}function invokeOnPageLoad(e,t){if(!document.readyState&&document.body||"complete"===document.readyState||!t&&"interactive"===document.readyState&&document.body)e();else{var n=!1,o=function(){n||(n=!0,e())};window.setTimeout(o,2e4),DOMUtils.addEventListener(window,"load",o),DOMUtils.addEventListener(document,"DOMContentLoaded",o)}}function createAlias(e,t){for(var n=e.split("."),o=window,i=0;i<n.length-1;i++){var r=n[i];o[r]||(o[r]={}),o=o[r]}o[n[n.length-1]]=t}function debounce(e,t){var n=void 0;return function(){void 0!==n&&clearTimeout(n),n=setTimeout(function(){n=void 0,e()},t)}}function addSrcToIFrameIfNeeded(e,t){void 0===t&&(t=cdn_1.getCdnResource("/")),(LocalInfo_1.localInfo.isIOSWebView||LocalInfo_1.localInfo.isIOS&&LocalInfo_1.localInfo.isWeChat)&&e.setAttribute("src",t)}exports.callFunction=callFunction,exports.invokeOnPageLoad=invokeOnPageLoad,exports.createAlias=createAlias,exports.debounce=debounce,exports.addSrcToIFrameIfNeeded=addSrcToIFrameIfNeeded},40:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},42:function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=n(43),i=n(46);window.gigya.logger||e(window.gigya,{logger:window===window.top?new o.ParentLogger:new i.IFrameLogger})}).call(this,n(0).__assign)},43:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(28),r=n(45),a=n(31),s=n(13),u=n(1),c=function(e){function t(t,n,o,i,a){void 0===t&&(t=window),void 0===n&&(n=window.gigya.errorReport),void 0===o&&(o=window.gigya.canary),void 0===i&&(i=function(){return 100*Math.random()}),void 0===a&&(a=r.loggerJsonp);var s=e.call(this,t)||this;s._global=t,s._errorReportConfig=n,s._canaryConfig=o,s._random=i,s._jsonp=a;var u=s._errorReportConfig&&s._errorReportConfig.enabled,c=s._canaryConfig&&s._canaryConfig.isActive,l=s.enrollErrorReporting();return u&&(c||l)&&(s._isErrorReporter=!0,s.setupMessageListener()),s}return o.__extends(t,e),t.prototype.enrollErrorReporting=function(){return(this._errorReportConfig&&this._errorReportConfig.probability)>=this._random()},t.prototype.setupMessageListener=function(){var e=this;this._global.addEventListener("message",function(t){var n=window.gigya.dataCenter,o=window.gigya.defaultApiDomain.replace(/\./g,"."),r=new RegExp("cdns?."+n+"."+o+"$");if(t.origin.match(r))try{var a=JSON.parse(t.data);a.type===i.gigErrorReport&&e.report(a.message,a.details,a.includeStack)}catch(e){}},!1)},t.prototype.getApiKey=function(){var e=window.gigya.thisScript&&window.gigya.thisScript.APIKey;if(!e){var t=a.getGigyaScriptElement();e=(s.getParamsFromURL(t&&t.src,!0)||{}).apikey}return e},t.prototype.createReportParams=function(e,t,n){void 0===n&&(n=!0);var o={message:e,apiKey:this.getApiKey(),stack:n?(new Error).stack:"",page:u.localInfo&&u.localInfo.pageDomain,browser:u.localInfo&&u.localInfo.currentBrowser,buildVersion:window.gigya.build.version,buildNumber:window.gigya.build.number,callback:"gigya.callback",format:"jsonp",sdk:"web"};return t&&(o.details=JSON.stringify(t)),Object.keys(o).map(function(e){return e+"="+encodeURIComponent(o[e])}).join("&")},t.prototype.report=function(e,t,n){if(void 0===n&&(n=!0),this._isErrorReporter)try{var o=this.createReportParams(e,t,n),i=location.protocol+"//accounts."+window.gigya.dataCenter+"."+window.gigya.defaultApiDomain+"/sdk.errorReport";this._jsonp(i,o)}catch(e){}},t}(i.BaseLogger);t.ParentLogger=c},44:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.disabled=0]="disabled",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error"}(t.LogLevel||(t.LogLevel={}))},45:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loggerJsonp=function(e,t){var n=document.createElement("script");n.src=e+"?"+t,n.type="text/javascript",n.onload=function(){document.getElementsByTagName("head")[0].removeChild(n)},document.getElementsByTagName("head")[0].appendChild(n)}},46:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(28),r=n(21),a=function(e){function t(t){void 0===t&&(t=window);var n=e.call(this,t)||this;return n._global=t,n}return o.__extends(t,e),t.prototype.report=function(e,t,n){void 0===n&&(n=!0);try{var o=document.createElement("a");o.href=r.getReqParamValue(location.hash,"origin")||r.getReqParamValue(location.hash,"d");var a=o.protocol+"//"+o.hostname+(o.port?":"+o.port:"");this._global.top.postMessage(JSON.stringify({type:i.gigErrorReport,message:e,details:t,includeStack:n}),a)}catch(e){console.error(e)}},t}(i.BaseLogger);t.IFrameLogger=a},49:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getParentUrl=function(e,t){return void 0===e&&(e=window),void 0===t&&(t=document),e.location!=e.parent.location?t.referrer:t.location.href},t.getBodyElement=function(e){return void 0===e&&(e=document),new gigya.Promise(function(t){e.body?t(e.body):e.addEventListener("DOMContentLoaded",function(){return t(e.body)})})},t.validateOrigin=function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())},t.createIframe=function(e){void 0===e&&(e=document);var t=e.createElement("iframe");return t.style.position="absolute",t.style.height="0px",t.style.width="0px",t.style.display="none",t};var n=1;t.generateId=function(){return String(n++)},t.getAllClassMethodsNames=function(e){var t=[],n=function(e){return!!e.prototype}(e)?e.prototype:e;do{try{var o=Object.getOwnPropertyNames(n).map(function(e){return e.toString()}).sort().filter(function(e,o,i){return"function"==typeof n[e]&&"constructor"!==e&&(0==o||e!==i[o-1])&&-1===t.indexOf(e)});t=t.concat(o)}catch(e){for(var i=Object.getOwnPropertyNames(n).map(function(e){return e.toString()}).sort(),r=(o=[],0);r<i.length;r++){var a=i[r];"function"!=typeof n[a]||"constructor"===a||0!=r&&a===i[r-1]||-1!==t.indexOf(a)||o.push(a)}t=t.concat(o)}}while((n=Object.getPrototypeOf(n))&&Object.getPrototypeOf(n));return t}},5:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);function i(e,t,n){if(!t)return e;for(var o=e,i=t.split("."),r=0;r<i.length;r++){var a=i[r],s=null;a.match(/\[[0-9]]/)&&(s=Number(a.match(/\[[0-9]]/)[0].replace(/[\[\]]/g,""))),a=a.split(/\[[0-9]]/).join("");var u=(s||0===s)&&o[a]?o[a][s]:o[a];if(n&&!o[a]?o[a]={}:n&&!u&&!1!==u&&(o[a]=[]),!u&&!1!==u)return null;o=u}return o}function r(e,t,n,o,i,a){if(void 0===o&&(o=20),void 0===i&&(i=0),i>o)return null;if(void 0===e||null==e)return null;if("function"==typeof e&&n)return null;if(e.constructor==Array){for(var s=[],u=0;u<e.length;u++)n&&"function"==typeof e[u]||(s[u]=t?r(e[u],t,n,o,i+1,a):e[u]);return s}if("object"==typeof e){var c={};for(var l in e)a&&"context"==l||n&&"function"==typeof e[l]||(c[l]=t?r(e[l],t,n,o,i+1,a):e[l]);return c}return e}function a(e,t,n){if(null!=e){if(null==t&&(t={}),e.constructor==Array)for(var o=0;o<e.length;o++)a(e[o],t,n);else if(n){var i=n.split("|"),s={};for(var u in e)s[u.toLowerCase()]=1;for(var c=0;c<i.length;c++){var l=i[c];s[l.toLowerCase()]&&(t[l]=e[l])}}else t=r(e,!1);return t}}t.removeUndefined=function(e){var t={};for(var n in e)null!=e[n]&&null!=e[n]&&(t[n]=e[n]);return t},t.expressionHelper=function(e){return e=e||{},{getField:function(t){if(t){var n,o=t.split("."),i=e;for(n=0;n<o.length;++n){if(null==i[o[n]])return;i=i[o[n]]}return i}}}},t.getPropertyBySerializedName=i,t.setPropertyBySerializedName=function(e,t,n){var o=t.split("."),r=o.pop();i(e,o.join("."),!0)[r]=n},t.add=function(e,t,n){for(var o in t)n&&void 0!==e[o]||(e[o]=t[o])},t.getHash=function(e){var t=[];for(var n in e){var i;"object"==typeof e[n]?i=o.serialize(e[n],!1):e[n]&&(i=e[n].toString()),t.push(n+"="+i)}return t.sort().join("&")},t.getMurmurHash=function(e,t){var n,o,i,r,a,s,u,c;for(t||(t=0),n=3&e.length,o=e.length-n,i=t,a=3432918353,s=461845907,c=0;c<o;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(r=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0},t.clone=r,t.merge=function e(t,n){for(var o={},i=0;i<t.length;i++)if(t[i]&&t[i].length)for(var r=0;r<t[i].length;r++)for(var a in t[i][r])o[a]=t[i][r][a];else if(n)for(var a in t[i])"object"!=typeof o[a]||o[a]instanceof Array?o[a]=t[i][a]:o[a]=e([o[a],t[i][a]],!0);else for(var a in t[i])o[a]=t[i][a];return o},t.unflatten=function(e){if(Object(e)!==e||Array.isArray(e))return e;var t={};for(var n in e){for(var o=t,i="",r=n.split("."),a=0;a<r.length;a++){var s=!isNaN(Number(r[a]));o=o[i]||(o[i]=s?[]:{}),i=r[a]}o[i]=e[n]}return t[""]||{}},t.flatten=function(e,t){void 0===t&&(t=!1);var n={};return function e(o,i){if(Object(o)!==o)n[i]=o;else if(Array.isArray(o)){for(var r=o.length,a=0;a<r;a++){var s=t?i+"["+a+"]":i+"."+a;e(o[a],i?s:String(a))}0===r&&(n[i]=[])}else{var u=!0;for(var c in o)u=!1,e(o[c],i?i+"."+c:c);u&&""!==i&&(n[i]={})}}(e,""),n},t.extractProperties=a,t.extractProperty=function(e,t){return a(e,void 0,t)[t]},t.parseToObject=function(e){try{var t=window.JSON.parse(e);if("object"==typeof t)return t}catch(e){}}},58:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSignalRequest=function(e){return Boolean(e.signal)}},59:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(35);t.TokenKeys={GMID:"gig_gmid",UCID:"gig_ucid",GMID_TICKET:"gmidTicket",GMID_TICKET_EXPIRATION_TIME:"gmidTicketExpiration"};var r=function(){function e(e,t,n,o,r,a){void 0===o&&(o=new i.GroupApiDomainService),void 0===r&&(r=window.gigya.JsonpRequest),this._apiKey=e,this._hasGmid=t,this._domainResolver=n,this._groupApiDomainService=o,this._requestClass=r,a&&(this._storage=a)}return e.prototype.getApiDomain=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return[2,this._domainResolver.getApiDomain(e)]})})},e.prototype.bootstrap=function(e){return void 0===e&&(e=!1),o.__awaiter(this,void 0,void 0,function(){var t,n,i,r;return o.__generator(this,function(o){switch(o.label){case 0:return t=window.gigya.logger.group("bootstrap api service"),this._storage?[3,2]:(window.gigya.logger.debug("init storage"),n=this,[4,new gigya.Promise(function(e){window.gigya.utils.localStorage.waitForService(function(t){e(t)})})]);case 1:n._storage=o.sent(),o.label=2;case 2:return!this._hasGmid||e?[3,3]:(window.gigya.logger.info("already has gmid"),[3,7]);case 3:return window.gigya.logger.info(this._hasGmid?"forcing bootstrap":"no gmid set"),this.canSaveGmidAsCookie()?(window.gigya.logger.info("save gmid as cookie"),[4,this.sendRequest({methodName:"accounts.webSdkBootstrap",params:{apiKey:this._apiKey},settings:{forceHttps:!0}})]):[3,5];case 4:if(0!=(i=o.sent()).errorCode)throw window.gigya.logger.error("error bootstrapping sdk",{type:"bootstrap failed",scope:"ApiService.bootstrap",res:i}),"error bootstrapping sdk\n"+JSON.stringify(i,null,4);return[3,7];case 5:return window.gigya.logger.info("save gmid in storage"),[4,this.setupWithStorage()];case 6:o.sent(),this._useStorage=!0,o.label=7;case 7:return this._useStorage?[4,this.getGmidTicket()]:[3,9];case 8:return r=o.sent(),[3,10];case 9:this.cleanStorage(),o.label=10;case 10:return t.end(),[2,{ticketInfo:r}]}})})},e.prototype.setGroupApiDomain=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return window.gigya._.getBaseDomain(window.gigya.partnerSettings.baseDomains,this._domainResolver.originDomain,["gigya.com","gigya-api.cn",window.gigya.defaultApiDomain])===window.gigya.defaultApiDomain&&this._groupApiDomainService.set(e),[2]})})},e.prototype.canSaveGmidAsCookie=function(){return this._domainResolver.isApiDomainFirstParty||window.gigya.utils.cookie.canSaveCookie()},e.prototype.sendRequest=function(e){var n=this;return new gigya.Promise(function(o,i){if(!e){var r="ApiService: request data must has methodName and params";return window.gigya.logger.error(r),i(r)}var a=e.methodName,s=window.gigya.utils.object.clone(e.params,!0,!0);s.pageURL=n._domainResolver.originDomain,n._useStorage&&(s.gmid=n._storage.getItem(t.TokenKeys.GMID),s.ucid=n._storage.getItem(t.TokenKeys.UCID)),n.getApiDomain(a).then(function(t){new n._requestClass("https://"+t,a,s,function(e){var t=window.gigya.utils.JSON.serialize(e);window.gigya.utils.JSON.deserialize(t,void 0)||(e={errorCode:400004,errorMessage:"Invalid parameter format.\nOne of the parameters of this request has been set with a value which is not in the expected format."}),o(e)},e.settings).send()})})},e.prototype.setupWithStorage=function(){return o.__awaiter(this,void 0,void 0,function(){var e,n,i,r;return o.__generator(this,function(o){switch(o.label){case 0:return e=Boolean(this._storage.getItem(t.TokenKeys.GMID)),n=parseInt(this._storage.getItem(t.TokenKeys.GMID_TICKET_EXPIRATION_TIME)),e?[3,2]:(window.gigya.logger.info("getting gmid by endpoint"),[4,this.getIds()]);case 1:if(!(i=o.sent()).gcid||!i.ucid)throw"ApiService getIDs: the request to the endpoint failed";return window.gigya.logger.info("setting gmid in storage"),this._storage.setItem(t.TokenKeys.GMID,i.gcid),this._storage.setItem(t.TokenKeys.UCID,i.ucid),r=this.createTicketResponse(i.gmidTicket),this.updateGmidTicket(r),[3,3];case 2:window.gigya.utils.validation.isLaterThanNow(n)?window.gigya.logger.info("already has gmid in storage"):this.refreshGmidTicketFromServer(),o.label=3;case 3:return[2]}})})},e.prototype.getGmidTicket=function(e){return void 0===e&&(e=!1),o.__awaiter(this,void 0,void 0,function(){var n,i;return o.__generator(this,function(o){switch(o.label){case 0:return(n=this._storage.getItem(t.TokenKeys.GMID_TICKET))||e?[3,1]:[2,void 0];case 1:return i=parseInt(this._storage.getItem(t.TokenKeys.GMID_TICKET_EXPIRATION_TIME)),!e&&n&&window.gigya.utils.validation.isLaterThanNow(i)?[2,{gmidTicket:n,expirationTime:parseInt(this._storage.getItem(t.TokenKeys.GMID_TICKET_EXPIRATION_TIME))}]:[3,2];case 2:return this.deleteGmidTicket(),[4,this.refreshGmidTicketFromServer()];case 3:return[2,o.sent()]}})})},e.prototype.refreshGmidTicketFromServer=function(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return window.gigya.logger.info("refreshing gmid ticket"),[4,this.createGmidTicket(this._storage.getItem(t.TokenKeys.GMID))];case 1:return(e=n.sent())&&e.gmidTicket&&this.updateGmidTicket(e),[2,e]}})})},e.prototype.updateGmidTicket=function(e){window.gigya.logger.info("updating gmid ticket",e),this._storage.setItem(t.TokenKeys.GMID_TICKET,e.gmidTicket),this._storage.setItem(t.TokenKeys.GMID_TICKET_EXPIRATION_TIME,String(e.expirationTime))},e.prototype.deleteGmidTicket=function(){this._storage.removeItem(t.TokenKeys.GMID_TICKET),this._storage.removeItem(t.TokenKeys.GMID_TICKET_EXPIRATION_TIME)},e.prototype.cleanStorage=function(){this._storage.removeItem(t.TokenKeys.GMID),this._storage.removeItem(t.TokenKeys.UCID),this.deleteGmidTicket()},e.prototype.getIds=function(){return this.sendRequest({methodName:"socialize.getIDs",params:{APIKey:this._apiKey,includeTicket:!0},settings:{forceHttps:!0}})},e.prototype.createGmidTicket=function(e,t){var n=this;void 0===t&&(t=window.gigya.partnerSettings.gmidTicketExpiration||3600);var o={apiKey:this._apiKey,expires:t};return e&&(o.gmid=e),this.sendRequest({methodName:"socialize.getGmidTicket",params:o,settings:{forceHttps:!0}}).then(function(e){if(e&&e.gmidTicket)return n.createTicketResponse(e.gmidTicket);window.gigya.logger.error("Failed to establish gmidTicket",{response:JSON.stringify(e),method:"socialize.getGmidTicket"}),n.deleteGmidTicket()})},e.prototype.createTicketResponse=function(e){var t=new Date;return t.setHours(t.getHours()+1),{gmidTicket:e,expirationTime:t.getTime()}},e}();t.ApiService=r},6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(19),r=n(4);t._popupContainers=[],t._pseudoContainers=[];var a=999999999,s=null;function u(){return++a}function c(e,t,n){e&&n&&(e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent("on"+t,n))}function l(e,t,n){n&&(e.removeEventListener?e.removeEventListener(t,n,!0):e.detachEvent("on"+t,n))}function f(){s&&(l(window,"hashchange",s),s=null,window.location.hash=window.location.hash.replace("|gigyaMobileDialog",""))}function d(e,t){void 0===t&&(t=window.document),t.body&&(t.body.insertBefore&&t.body.firstChild?t.body.insertBefore(e,t.body.firstChild):t.body.appendChild(e))}function g(e){var t=[];return"string"==typeof e.className&&(t=e.className.split(" ")),t}function p(e,t){if(!e)return!1;if(!t)return!0;if(!e.className)return!1;for(var n=!1,o=g(e),i=0;i<o.length;i++)if(o[i]===t){n=!0;break}return n}t.getNextZIndex=u,t.getGigyaScriptElement=function(e){for(var t,n=document.getElementsByTagName("script"),o=/\/\/cdn(s)?\.(ru1\.)?gigya.com/,i=n.length-1;i>=0;i--){var r=n[i],a=r.src.toLowerCase();if(""!==a&&(o.test(a)||a.indexOf("?apikey=")>-1)&&(0===e.length||e.some(function(e){return a.indexOf(e)>-1}))){t=r;break}}return t},t.dispatch=function(e,t){var n;try{n=new Event(t)}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,{})}e.dispatchEvent(n)},t.addButtonSubmitListener=function(e,t,n,o){void 0===n&&(n="click"),e&&(e.setAttribute("role","button"),"-1"!=e.getAttribute("tabindex")&&e.setAttribute("tabindex","0"),c(e,n,function(e){return t(e)}),c(e,"keydown",function(e){13==(e.which||e.keyCode)&&(e.preventDefault(),t(e))}))},t.addEventListener=c,t.removeEventListener=l,t.disableDefaultEventHandling=function(e){e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1)},t.addDialogBackListener=function(e){f(),s=function(t){t&&t.newURL&&-1==t.newURL.indexOf("|gigyaMobileDialog")&&(e(t),f())},window.setTimeout(function(){-1==window.location.hash.indexOf("|gigyaMobileDialog")&&(window.location.hash=window.location.hash+"|gigyaMobileDialog"),c(window,"hashchange",s)},50)},t._removeDialogBackListener=f,t.appendToBody=d,t.removeElement=function(e){e&&e.parentElement&&e.parentElement.removeChild(e)},t.isChildOf=function(e,t){for(var n=e.parentNode;n;){if(t==n)return!0;n=n.parentNode}return!1},t.isVisible=function(e){for(;e;){var t=getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility)return!1;e=e.parentElement}return!0},t.getCenteredDivID=function(e){return"gig_"+o.localInfo.initTime.getTime().toString()+"_"+e},t.createElementWithAttributes=function(e,t){var n=document.createElement(e);if(t)for(var o in t)n[o]=t[o];return n},t.createTopLevelDiv=function(e){var t=document.createElement("div");return null!=t.style.zIndex&&(t.style.zIndex=""+u()),t.innerHTML="",e&&(t.id=e),document.body&&(document.body.insertBefore&&document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild&&document.body.appendChild(t)),t},t.hideByID=function(e){var t=document.getElementById(e);t&&(t.style.display="none")},t.showByID=function(e){var t=document.getElementById(e);t&&(t.style.display=o.localInfo.isIE6?"TD"==t.tagName?"table-cell":"TR"==t.tagName?"":"TABLE"==t.tagName?"":"block":"")},t.clearByID=function(e){try{var t=document.getElementById(e);null!=t&&(t.innerHTML="")}catch(e){}},t.getHTMLSize=function(e,t){var n=document.createElement("div");n.style.position="absolute",n.style.left="-1000px",n.innerHTML=e,t.appendChild(n);var o=n.offsetWidth,i=n.offsetHeight;return n.parentNode.removeChild(n),{w:o,h:i}},t.getElementsByClass=function(e,t,n){if(!e)return[];var o=[];n&&p(e,t)&&o.push(e);for(var i=e.getElementsByTagName("*"),r=0;r<i.length;r++)p(i[r],t)&&o.push(i[r]);return o||[]},t.getElementsByAttribute=function(e,t,n,o){for(var i=[],r=e.getElementsByTagName(t),a=0;a<r.length;a++)r[a].getAttribute(n)==o&&i.push(r[a]);return i},t.getElementPosition=function(e){if(!e)return{left:0,top:0,bottom:0,right:0};var t=e.getBoundingClientRect(),n=i.getScroll(),o=t.left+n.left,r=t.top+n.top;return{left:o,top:r,right:o+t.width,bottom:r+t.height}},t.addClassToElement=function(e,t){if(e){var n=e.className?g(e):[],o=n.length,i=t.split(" ");for(var r in i){var a=!1;if(!i[r])break;for(var s in n)if(n[s]===i[r]){a=!0;break}a||n.push(i[r])}n.length!==o&&(e.className=n.join(" "))}},t.removeClassFromElement=function(e,t,n){if(void 0===n&&(n=!1),e){for(var o=g(e),i=o.length-1;i>=0;i--)(o[i]===t||n&&-1!==o[i].indexOf(t))&&o.splice(i,1);e.className=o.join(" ")}},t.getClassNames=g,t.isElementClass=p,t.cancelEvent=function(e){e&&("cancelable"in e?e.preventDefault():e.returnValue=!1)},t.createElement=function(e,t){var n=document.createElement("div");return t=t||"",n.innerHTML="<"+e+' name="'+t+'" id="'+t+'"></'+e+">",n.firstChild},t.setSize=function(e,t,n,o){if(null!=e&&null!=e.style){if(t){var r=(t=""+t).indexOf("%")>0;if(!isNaN(t)||r){var a=""+(r?t:t+"px");e.style.width!=a&&(e.style.width=a)}}if(n){var s=(n=""+n).indexOf("%")>0;if(!isNaN(t)||s){var c=""+(s?n:n+"px");e.style.height!==c&&(e.style.height=c)}}if(o&&t&&n){(null==e.style.zIndex||o)&&(e.style.zIndex=""+u());var l=i.getInnerSize(),f=i.getScroll(),d=f.top,g=f.left;e.style.top=Math.max(0,d+Math.floor((l.h-n)/2))+"px",e.style.left=Math.max(0,g+Math.floor((l.w-t)/2))+"px",e.style.visibility=""}}},t.createHiddenIframe=function(e){var t=document.createElement("iframe");return t.src=e,t.style.width="30px",t.style.height="10px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",document.body?d(t):r.invokeOnPageLoad(function(){d(t)}),t},t.attributeEncode=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},t.manipulateAttributes=function(e,t,n,o){void 0===o&&(o=function(){return!0}),e.forEach(function(e){e.attributes&&Array.prototype.slice.call(e.attributes).forEach(function(e){o(e)&&(e.value=e.value.replace(t,n))})})},t.textNodesUnder=function(e){for(var t,n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=o.nextNode();)n.push(t);return n},t.isHTMLBooleanAttribute=function(e){return["autocomplete","autofocus","checked","disabled","hidden","readonly","required","selected"].indexOf(e)>-1},t.isBelongToGigyaFieldset=function e(t){return!(!t||t instanceof HTMLFormElement)&&(!!p(t.parentElement,"gigya-fieldset")||e(t.parentElement))}},7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=function(){function e(e,t){void 0===t&&(t=!0),this._anchor=document.createElement("a");var n="http:"==document.location.protocol?"http":"https";t&&-1===e.indexOf("://")&&"/"!==e.charAt(0)&&(e=n+"://"+e),this._anchor.href=e}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._anchor.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._anchor.pathname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"href",{get:function(){return this._anchor.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._anchor.search.slice(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._anchor.hash.slice(1)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._anchor.href},e.prototype.addToSearch=function(e){for(var t in e){var n=e[t];if(("boolean"==typeof n||"number"==typeof n||"string"==typeof n)&&"eventName"!=t){var o=this._anchor.search?"&":"";this._anchor.search+=""+o+t+"="+encodeURIComponent(e[t])}}return this},e.prototype.fetch=function(){var e=this.toString();return window.fetch?fetch(e).then(function(e){return e.json()}):new gigya.Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.send(),o.onerror=n,o.onload=function(){if(4!==o.readyState||200!==o.status)n("Error "+o.status+": "+o.statusText);else{var e=void 0;try{e=JSON.parse(o.responseText)}catch(e){return void n(e)}t(e)}}})},e.prototype.isBaseOf=function(t){return e.parse(t).isIn(this)},e.prototype.isIn=function(t){return"string"==typeof t&&(t=e.parse(t)),(this.domain==t.domain||this.isSubDomainOf(t))&&(!t.path||0==this.path.indexOf(t.path))},e.prototype.isForSubDomains=function(){return 0==this.domain.indexOf(".")},e.prototype.isSubDomainOf=function(e){var t="";return e.isForSubDomains()||(t="."),t+=e.domain,o.endsWith(this.domain,t)},e.parse=function(t,n){if(void 0===n&&(n=!0),t)return new e(t,n)},e}();t.Uri=i},73:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(3),r=n(24);try{o=Boolean(window.sessionStorage)}catch(e){o=!1}function a(e,t){if(o){var n;try{n=i.deserialize(window.sessionStorage.getItem("gigyaCache")),null==t&&n[e]?delete n[e]:n[e]={response:t,time:(new Date).getTime()},window.sessionStorage.setItem("gigyaCache",i.serialize(n))}catch(e){}r.release("cache","cache_"+e)}}function s(e){a(e,null)}t.set=a,t.get=function e(t,n,a){if(o)try{if(!r.isActive("cache_"+t)){var u=window.sessionStorage.getItem("gigyaCache"),c=i.deserialize(u)[t];if(c){if(n&&n+c.time>(new Date).getTime())return void a(c.response);s(t),c=null}if(!c)return r.hold("cache","cache_"+t),void a(null)}if(r.isActive("cache_"+t))return void r.waitFor("cache_"+t,e,arguments)}catch(e){a(null)}else"function"==typeof a&&a(null)},t.remove=s},78:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(49),r=n(58),a=function(){function e(e,t,n,a,s){var u=this;void 0===t&&(t=i.getParentUrl()),void 0===n&&(n=i.getAllClassMethodsNames(e)),void 0===a&&(a=window.parent),void 0===s&&(s=window),this._service=e,this.origin=t,this._allowedMethods=n,this._target=a,this._win=s,this.stopCancellers=[],this._listening=!1,this.onRequest=function(e){return o.__awaiter(u,void 0,void 0,function(){var t,n;return o.__generator(this,function(o){switch(o.label){case 0:if(!i.validateOrigin(this.origin,e.origin))return[3,7];t=JSON.parse(e.data),o.label=1;case 1:return o.trys.push([1,6,,7]),r.isSignalRequest(t)?[4,this.handleSignalRequest(t)]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,this.handleProxyRequest(t)];case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:return n=o.sent(),this.postError({res:n.message||n,id:t.id}),[3,7];case 7:return[2]}})})}}return Object.defineProperty(e.prototype,"isListening",{get:function(){return this._listening},enumerable:!0,configurable:!0}),e.prototype.listen=function(e){var t=this;this.isListening||this._win.setTimeout(function(){t._win.addEventListener("message",t.onRequest,!0),t.postMessage({id:void 0,signal:"listening",res:e}),t._listening=!0},1)},e.prototype.stopListen=function(){this.isListening&&(this._win.removeEventListener("message",this.onRequest,!0),this._listening=!1)},e.prototype.handleSignalRequest=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,i;return o.__generator(this,function(o){switch(o.label){case 0:switch(e.signal){case"stop":return[3,1]}return[3,7];case 1:return[4,this.getCancelResult()];case 2:return t=o.sent(),n=void 0,t?[3,5]:(this.stopListen(),i=void 0,this.onStop&&(i=this.onStop()).then?[4,i]:[3,4]);case 3:i=o.sent(),o.label=4;case 4:return n={id:e.id,signal:"stop",res:i},[3,6];case 5:n={id:e.id,signal:"error",res:t},o.label=6;case 6:return this.postMessage(n),[3,8];case 7:return[3,8];case 8:return[2]}})})},e.prototype.getCancelResult=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,n,i;return o.__generator(this,function(o){switch(o.label){case 0:e=0,t=this.stopCancellers,o.label=1;case 1:return e<t.length?(n=t[e],(i=n()).then?[4,i]:[3,3]):[3,5];case 2:i=o.sent(),o.label=3;case 3:if(i)return[2,i];o.label=4;case 4:return e++,[3,1];case 5:return[2,void 0]}})})},e.prototype.handleProxyRequest=function(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:return this.validateRequest(e),[4,this.forwardToService(e)];case 1:return t=n.sent(),this.postMessage({id:e.id,res:t}),[2]}})})},e.prototype.validateRequest=function(e){if(!e.id||!e.methodName||this._allowedMethods.indexOf(e.methodName)<0)throw"proxy request in invalid format"},e.prototype.forwardToService=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n;return o.__generator(this,function(o){switch(o.label){case 0:return t=this._service[e.methodName],(n=t.apply(this._service,e.params))&&n.then?[4,n]:[3,2];case 1:n=o.sent(),o.label=2;case 2:return[2,n]}})})},e.prototype.postMessage=function(e){var t="object"==typeof e?JSON.stringify(e):e;this._target.postMessage(t,this.origin)},e.prototype.postError=function(e){e.signal="error",this.postMessage(e)},e}();t.ProxyListener=a},79:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function i(e,t){if(!t&&e&&(t=e.context),t){var n=r[t];n&&n.handleResponse(e)}}t.callback=i;var r={},a="gigyaRequestForms_"+Date.now(),s=function(){function e(e,t,n,o,i,r){var a=this;void 0===i&&(i={}),void 0===r&&(r=function(e,t,n){var o=n.jsSdkRequestId;if(o)return o;if(n.disableCache||window.gigya.localInfo.isSafari||window.gigya.localInfo.isIE10&&e.indexOf("accounts.getAccountInfo")>-1)return"R"+(new Date).getTime()+"_"+Math.random();var i=window.gigya.utils.object.clone(t);for(var r in i)i.hasOwnProperty(r)&&(0!==r.indexOf("fb_")&&"source"!==r&&"sourceData"!==r||delete i[r]);return"R"+window.gigya.utils.object.getMurmurHash(Math.random().toString()+e+window.gigya.utils.object.getHash(i))}(t,n,i)),this.baseDomain=e,this.method=t,this.params=n,this.callback=o,this.settings=i,this.id=r,this.getUrl=function(){return a.baseDomain+"/"+a.method},this.ifrName="gigyaPostIframe_"+(new Date).getTime(),this.retry=0}return e.prototype.send=function(e){var t=this;if(!this.inProgress){r[this.id]=this,this.inProgress=!0,this.addDefaultParams();var n=window.gigya.utils.keyValue.serialize(this.params);if(e||!this.settings.cacheTimeout){var s=0;if(window.gigya.localInfo.isIE&&(s=2048),window.gigya._.Uri.parse(this.getUrl()).href.toLowerCase()===this.getUrl().toLowerCase()){var u=this.getUrl()+"?"+n;!o.localInfo.isOnLine()||u.length+s<=4096&&!this.settings.forcePost?window.gigya.utils.script.load(u,function(){i({context:t.id,errorCode:500026,errorMessage:"Network_error"})}):window.gigya.utils.functions.invokeOnPageLoad(function(){var e=document.getElementById(a);null==e&&((e=document.createElement("span")).id=a,e.style.display="none",window.gigya.utils.DOM.appendToBody(e));var n=t.getPostContainer();e.appendChild(n)})}else window.gigya.logger.warn("Aborting Request for "+this.method+". Path manipulation detected.")}else{var c=this.getCacheKey();window.gigya.utils.sessionCache.get(c,this.settings.cacheTimeout,function(e){e?(delete t.settings.cacheTimeout,i(e,t.id)):(t.inProgress=!1,t.send(!0))})}}},e.prototype.handleResponse=function(e){var t=this;if(this.settings.cacheTimeout&&window.gigya.utils.sessionCache.set(this.getCacheKey(),0==e.errorCode?e:null),null!=this.retryTimerID&&window.clearTimeout(this.retryTimerID),this.inProgress=!1,100001==e.errorCode){var n=this.getDataPendingTimeout(this.retry++);if(n>0)return void window.setTimeout(function(){t.send()},n)}else this.dispose(),this.callback(e)},e.prototype.addDefaultParams=function(){this.params.format="jsonp",this.params.callback="gigya.callback",this.params.context=this.id},e.prototype.getCacheKey=function(){return this.method+"_"+window.gigya.utils.keyValue.serialize(this.params)},e.prototype.createParamFormElements=function(){var e=document.createDocumentFragment();for(var t in this.params){var n=window.gigya.utils.DOM.createElementWithAttributes("textarea",{name:t,value:"object"==typeof this.params[t]?window.gigya.utils.URL.URLEncode(window.gigya.utils.JSON.serialize(this.params[t])):this.params[t]});e.appendChild(n)}return e},e.prototype.getPostContainer=function(){var e,t=this;if(!this.postContainerElem){e=document.createElement("span");var n,o=this.ifrName+"form",i=this.id,r=window.gigya.utils.DOM.createElementWithAttributes("form",{acceptCharset:"UTF-8",id:o,method:"post",action:this.getUrl()+"?context="+this.id+"&&saveResponseID="+this.id,target:this.ifrName}),a=window.gigya.utils.DOM.createElementWithAttributes("input",{type:"hidden",name:"utf8",value:"&#x2713;"}),s=window.gigya.utils.DOM.createElementWithAttributes("input",{type:"submit"});r.appendChild(this.createParamFormElements()),r.appendChild(a),r.appendChild(s),e.appendChild(r);var u=window.gigya.utils.DOM.createElement("iframe",this.ifrName);u.setAttribute("id",this.ifrName),window.gigya.utils.functions.addSrcToIFrameIfNeeded(u),window.gigya.utils.DOM.addEventListener(u,"load",function(){n?t.getSavedFormResponse(i):(window.setTimeout(function(){var e=document.getElementById(o);e&&e.submit()},10),n=!0)}),e.appendChild(u),this.postContainerElem=e}return e},e.prototype.getSavedFormResponse=function(t){var n=this;new e(this.baseDomain,"socialize.getSavedResponse",{APIKey:this.params.APIKey,saveResponseID:this.id,ucid:this.params.ucid,noAuth:!0,sdk:"js_"+window.gigya.build.version},function(e){n.handleResponse(e)},void 0,t).send()},e.prototype.getDataPendingTimeout=function(e){return e<=4?500:e<=8?1e3:e<=21?2e3:e<=39?5e3:-1},e.prototype.dispose=function(){delete r[this.id],this.postContainerElem&&window.gigya.utils.DOM.removeElement(this.postContainerElem),delete this.postContainerElem},e}();t.JsonpRequest=s},8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=0;function r(e){var n=window.gigya.thisScript?window.gigya.thisScript.baseDomain:"",r=window.gigya.thisScript?window.gigya.thisScript.protocol:o.localInfo.protocol;if(!n||/cdns?\.gigya\.com$/.test(n)){var a=t.CDN_HOSTS[r];a.length<=i&&(i=0),n=a[i++]}return e&&0!==e.indexOf("/")&&(e="/"+e),r+"://"+n+(e||"")}t.CDN_HOSTS={http:["cdn.gigya.com","cdn1.gigya.com","cdn2.gigya.com","cdn3.gigya.com"],https:["cdns.gigya.com","cdns1.gigya.com","cdns2.gigya.com","cdns3.gigya.com"]},t.getCdnResource=r,t.getImgCdnResource=function(){return r("/gs/i/")}}});</script>
</body></html>