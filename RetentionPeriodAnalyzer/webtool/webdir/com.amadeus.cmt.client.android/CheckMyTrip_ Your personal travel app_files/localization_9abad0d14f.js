function pegasus(t,n,e){return e=new XMLHttpRequest,e.open("GET",t),t=[],pegasus.timeout&&(e.timeout=pegasus.timeout),e.ontimeout=function(t){n=t},e.onreadystatechange=e.then=function(t,r,i,o){if(t&&t.call&&(a=[,t,r]),n&&a[2]&&a[2](n,e),4==e.readyState&&(i=a[0|e.status/200])){try{o=JSON.parse(e.responseText)}catch(a){o=null}i(o,e)}},e.send(),e}!function(){"use strict";var t=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n=function(t){return"object"==typeof t&&null!==t},e=function(t){return"[object String]"===Object.prototype.toString.call(t)};window.libTranslate={getTranslationFunction:function(r,i){function o(t){if(r[t])return r[t];var n=t.split(c),e=n[0],i=n[1];return r[e]&&r[e][i]?r[e][i]:null}function a(t,e){if(n(t)){var r,i=Object.keys(t);if(0===i.length)return u&&console.log("[Translation] No plural forms found."),null;for(var o=0;o<i.length;o++)0===i[o].indexOf("gt")&&(r=parseInt(i[o].replace("gt",""),10));t[e]?t=t[e]:e>r?t=t["gt"+r]:t.n?t=t.n:(u&&console.log('[Translation] No plural forms found for count:"'+e+'" in',t),t=t[Object.keys(t).reverse()[0]])}return t}function l(t,n){return e(t)?t.replace(/\{(\w*)\}/g,function(t,e){return n.hasOwnProperty(e)?n.hasOwnProperty(e)?n[e]:e:(u&&console.log('Could not find replacement "'+e+'" in provided replacements object:',n),"{"+e+"}")}):t}i=n(i)?i:{};var u=i.debug,c=i.namespaceSplitter||"::";return function(e){var r=n(arguments[1])?arguments[1]:n(arguments[2])?arguments[2]:{},i=t(arguments[1])?arguments[1]:t(arguments[2])?arguments[2]:null,c=o(e);return null!==i&&(r.n=r.n?r.n:i,c=a(c,i)),c=l(c,r),null===c&&(c=u?"@@"+e+"@@":e,u&&console.log('Translation for "'+e+'" not found.')),c}}}}();var i18n={setLanguage:function(t,n,e){return i18n.language=e,i18n.defaultLang=n||"en",i18n.supported=t||["en"],i18n},init:function(t,n,e){t=t||"resources/",n=n||"locale_",e=e||".json";var r=function(t,n){var e=window.navigator.userLanguage||window.navigator.language;return e=e.length>2?e.split("-")[0]:e,t.indexOf(e)>-1?e:n},i=function(t,n){if(null==t)try{JSON.parse(n.responseText),i18n._fail("Content is not defined")}catch(e){i18n._fail("Failed to parse the content",e)}else i18n.strings=t,"complete"===document.readyState?i18n.localize():window[window.addEventListener?"addEventListener":"attachEvent"](window.addEventListener?"load":"onload",i18n.localize,!1)},o=pegasus(t+n+(i18n.language||r(i18n.supported,i18n.defaultLang))+e);o.then(i,i18n._fail)},_fail:function(t){console.error("[I18N]:"+t)},_jsonWalker:function(t,n){var e=n.split(".");return n=e.shift(),void 0==t||void 0==t[n]?(e.splice(0,0,n),"~~"+e.join(".")+"~~"):"object"==typeof t[n]&&e.length>0?i18n._jsonWalker(t[n],e.join(".")):t[n]},_isStringLocalized:function(t){function n(t){return t=t.replace(/\r/g,"").replace(/\n/g,"").trim(),/\s/.test(t)||t.indexOf("..")>-1||t.split(".").length<3}return t?n(t):!1},localize:function(){if(!i18n.strings)throw"You must call the init method first";var t=function(t,n){if(n)try{n=n.replace("{",'{"').replace(":",'":').replace("}","}").replace(":'",':"').replace("'}",'"}'),n=JSON.parse(n)}catch(e){i18n._fail("Fail to parse context for "+t,e)}var r=libTranslate.getTranslationFunction({string:i18n._jsonWalker(i18n.strings,t.trim())});return r("string",void 0!=n?n:{})},n=function(n){if(n.indexOf("|i18n")>-1){var e=n.split("|");n=t(e[0],e.length>1?e[2]:null)}return n};Array.prototype.slice.call(document.getElementsByTagName("i18n")).map(function(n){i18n._isStringLocalized(n.textContent)?n.attributes.key&&(n.innerHTML=t(n.attributes.key.value,n.attributes.context?n.attributes.context.value:null)):n.innerHTML=t(n.textContent,n.attributes.context?n.attributes.context.value:null)}),Array.prototype.slice.call(document.getElementsByTagName("input")).map(function(t){t.placeholder=n(t.placeholder)}),Array.prototype.slice.call(document.getElementsByTagName("textarea")).map(function(t){t.placeholder=n(t.placeholder)}),Array.prototype.slice.call(document.getElementsByTagName("img")).map(function(t){t.alt=n(t.alt)}),Array.prototype.slice.call(document.getElementsByTagName("img")).map(function(t){t.title=n(t.title)}),Array.prototype.slice.call(document.getElementsByTagName("img")).filter(function(t){return void 0!==t.attributes["i18n-src"]}).map(function(t){t.src=n(t.attributes["i18n-src"].value)})}};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});