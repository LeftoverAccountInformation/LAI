webpackJsonp(["auth-signin"],{"+kt+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mfaCode=function(e){if(!e)return"Please enter a code";if(6!==e.length)return"Please enter a code that's exactly 6 characters long";return""},t.mfaRecoveryCode=function(e){return e?/^[a-zA-Z0-9]{16}$/.test(e.replace(/\s/g,""))?"":"Please enter a valid recovery code":"Please enter a recovery code"}},"/DI9":function(e,t,n){"use strict";var r=n("gdL/"),o=n("HX7c"),i=n("E5Mg"),a=n("d+h2"),u={};function s(e){var t=e.total,n=e.loaded;return{total:t,transferred:n,percent:100*n/t}}function l(e,t){return new Promise(function(n,r){t.onprogress=function(t){e.emitter.emit(i.EVENT_PROGRESS_DOWNLOAD,s(t))};var a=e.file;a&&(t.upload.onprogress=function(t){e.emitter.emit(i.EVENT_PROGRESS_UPLOAD,s(t))}),t.onerror=function(e){r(e)},t.onabort=function(){var t=new o({request:e,type:i.ERROR_REQUEST_ABORTED});r(t)},t.onload=function(){if(delete u[e.id],t.status<200||t.status>=400){var i=new o({request:e,body:t.response,statusCode:t.status});r(i)}else n(t)};var l=e.body;"string"===typeof l?t.send(l):l?t.send(JSON.stringify(l)):a?t.send(a):t.send(),u[e.id]=t}).then(function(t){return function(e,t){return new r(e,{body:t.response,headers:a(t.getAllResponseHeaders()),statusCode:t.status})}(e,t)})}function c(e,t){var n=e.url(t),r=new window.XMLHttpRequest;return r.open(e.method,n),Object.keys(e.headers).forEach(function(t){r.setRequestHeader(t,e.headers[t])}),r}e.exports={browserAbort:function(e){var t=u[e.id];t&&(t.abort(),delete u[e.id])},sendRequestXhr:l,browserSend:function(e){return Promise.resolve().then(function(){var t=c(e,e.client.accessToken);return l(e,t)})},createRequestXhr:c}},"/wbQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n("GiK3")),o=y(n("KSGD")),i=y(n("I3qB")),a=y(n("4ek4")),u=y(n("s9cg")),s=y(n("mNJa")),l=y(n("aAym")),c=n("XfjR"),f=y(n("qZaK")),d=n("SXbo"),p=y(n("c5+T")),h=y(n("C4Wz")),m=y(n("43ha"));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=E(t).call(this,e))||"object"!==b(o)&&"function"!==typeof o?O(r):o).changeFormState=n.changeFormState.bind(O(O(n))),n.signIn=n.signIn.bind(O(O(n))),n.renderForm=n.renderForm.bind(O(O(n))),n.handleSuccess=n.handleSuccess.bind(O(O(n))),n.handleServerError=n.handleServerError.bind(O(O(n))),n.wwwOrigin="staging"===e.origin||e.origin===d.ORIGIN_WWW_STAGING?d.ORIGIN_WWW_STAGING:d.ORIGIN_WWW_PRODUCTION,n.state={formState:d.SIGN_IN_STATE_SIGN_IN,formConfig:(0,p.default)(d.SIGN_IN_STATE_SIGN_IN),serverError:null},n}var n,o,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"changeFormState",value:function(e){this.setState({formState:e,formConfig:(0,p.default)(e),serverError:null})}},{key:"signIn",value:function(e){return this.setState({serverError:null}),(0,c.signIn)(this.props.origin,e).then(this.handleSuccess,this.handleServerError)}},{key:"handleSuccess",value:function(e){var t=this.props.onSuccess;this.state.formState===d.SIGN_IN_STATE_MFA_RECOVERY?(0,f.default)().location.assign("".concat(this.wwwOrigin,"/account/settings/#security")):t&&t(e)}},{key:"renderServerErrorMessage",value:function(e){return 403===e.statusCode&&/username or password/i.test(e.message)?"Invalid username or password.":403===e.statusCode&&/wait 60 seconds/i.test(e.message)?"Please wait 60 seconds before signing in again.":401===e.statusCode&&/Incorrect MFA/i.test(e.message)?this.state.formState===d.SIGN_IN_STATE_SIGN_IN?void this.changeFormState(d.SIGN_IN_STATE_MFA):"Invalid two-factor authentication code.":403===e.statusCode&&/recovery code/i.test(e.message)?"Invalid two-factor authentication recovery code.":"unx"}},{key:"handleServerError",value:function(e){var t=this.renderServerErrorMessage(e);"unx"===t&&this.props.onUnexpectedServerError?this.props.onUnexpectedServerError(e):("unx"===t&&(console.error(e),t="We're sorry! There's been an unexpected error. Please try again."),this.setState({serverError:t}))}},{key:"renderForm",value:function(e,t){var n=this.state.formConfig;return r.default.createElement("div",null,r.default.createElement("div",{className:"block mb18 col col--12"},r.default.createElement(l.default,e("username"))),r.default.createElement("div",{className:"block mb18 col col--12"},r.default.createElement(l.default,e("password"))),n.mfaCode&&r.default.createElement("div",{className:"block mb18 col col--12"},r.default.createElement(l.default,e("mfaCode"))),n.mfaRecoveryCode&&r.default.createElement("div",{className:"block mb18 col col--12"},r.default.createElement(l.default,e("mfaRecoveryCode")),r.default.createElement("div",{className:"mt12 flex-parent txt-s color-gray"},r.default.createElement("div",{className:"flex-child flex-child--no-shrink mr6"},r.default.createElement(u.default,{name:"alert"})),r.default.createElement("div",{className:"flex-child flex-child--grow"},"Using your recovery code will temporarily disable two-factor authentication. Don't forget to to re-enable it after you sign in to Studio."))),r.default.createElement(s.default,{testId:"signin-form-submit",label:this.props.submitText,onSubmit:t}))}},{key:"renderLostDeviceMessage",value:function(){var e=this;return this.state.formState!==d.SIGN_IN_STATE_MFA?null:r.default.createElement("button",{"data-test":"use-recovery-code-button",type:"button",className:"txt-s mt6 link",onClick:function(){return e.changeFormState(d.SIGN_IN_STATE_MFA_RECOVERY)}},"Lost your mobile device?")}},{key:"renderServerError",value:function(){var e=this.state.serverError;return e?r.default.createElement("div",{"data-test":"server-error",className:"mb12"},r.default.createElement(h.default,null,r.default.createElement("div",{className:"txt-bold"},e))):null}},{key:"renderSignUpLink",value:function(){var e=this.props.onSignUpClick,t={"data-test":"signup-link",className:"link"},n=r.default.createElement(i.default,{text:"Sign up for Mapbox"});return e?r.default.createElement("button",v({},t,{onClick:e}),n):r.default.createElement("a",v({},t,{"data-test":"signup-link",href:"".concat(this.wwwOrigin,"/signup/")}),n)}},{key:"renderHelp",value:function(){return this.props.showHelp?r.default.createElement("div",{"data-test":"signin-help"},this.renderLostDeviceMessage(),r.default.createElement("div",{className:"mt18 txt-s color-gray border-t border--gray-light pt12"},"Don't have an account? ",this.renderSignUpLink(),r.default.createElement("div",{className:"mt6"},r.default.createElement(m.default,{href:"".concat(this.wwwOrigin,"/account/recover-password/"),className:"link","data-test":"forgot-password-link"},r.default.createElement(i.default,{text:"I forgot my password"}))))):null}},{key:"render",value:function(){return r.default.createElement("div",{className:"wmax-full"},this.renderServerError(),r.default.createElement(a.default,{handleFormData:this.signIn,config:this.state.formConfig,renderForm:this.renderForm}),this.renderHelp())}}])&&g(n.prototype,o),y&&g(n,y),t}();t.default=w,w.propTypes={onSuccess:o.default.func.isRequired,origin:o.default.string.isRequired,onUnexpectedServerError:o.default.func,onSignUpClick:o.default.func,submitText:o.default.string,showHelp:o.default.bool},w.defaultProps={submitText:"Sign in",showHelp:!0}},"0pEU":function(e,t){e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var i=0;i<o;i++){var a=n[i];if(e[a]!==t[a])return!1}return!0}},"2Dh4":function(e,t,n){"use strict";e.exports=function(){return window}},"3cK2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.routeAuthenticatedUser=function(){if("undefined"===typeof window)return;var e=(0,r.getRouteToParameter)(window.location.search);e?window.location.assign(e):window.location.assign(o.config.URL_ACCOUNT_SITE)};var r=n("KCVG"),o=n("QmSG")},"43ha":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n("GiK3"))&&r.__esModule?r:{default:r};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.default.PureComponent),n=t,(r=[{key:"render",value:function(){return o.default.createElement("a",a({target:"_blank",rel:"noopener"},this.props))}}])&&u(n.prototype,r),i&&u(n,i),t}();t.default=f},"4aD1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignIn=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return i.default.createElement(c.UnexpectedErrorContext.Consumer,null,function(t){return i.default.createElement(b,r({},e,{onUnexpectedError:t.setUnexpectedErrorMessage}))})};var i=y(n("GiK3")),a=(y(n("KSGD")),y(n("/wbQ"))),u=n("5e9p"),s=n("tHZf"),l=n("Wz2I"),c=n("BNgD"),f=n("FKm8"),d=n("PIDH"),p=n("X1Ha"),h=n("QmSG"),m=n("3cK2");function y(e){return e&&e.__esModule?e:{default:e}}var b=t.SignIn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSuccess=n.onSuccess.bind(n),n.handleSignUpClick=n.handleSignUpClick.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"onSuccess",value:function(){(0,m.routeAuthenticatedUser)()}},{key:"handleSignUpClick",value:function(){var e=this.props.location,t=(0,p.getUrlQueryParameter)(e.search,"route-to"),n=t?"?route-to="+t:"";(0,u.routeToPrefixed)("/signup/"+n)}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.onUnexpectedError;return i.default.createElement(s.PageShell,{title:"Sign in",description:"Sign in to Mapbox",pathname:t.pathname},i.default.createElement(l.StandardAuthWrapper,null,i.default.createElement(f.UnauthenticatedUsersOnly,{onUnexpectedError:n},i.default.createElement("div",{className:"bg-white round py24 px24 w360 wmax-full"},i.default.createElement("h1",null,i.default.createElement(d.FormTitle,null,"Sign in")),i.default.createElement(a.default,{onSuccess:this.onSuccess,onUnexpectedServerError:function(){n()},onSignUpClick:this.handleSignUpClick,origin:h.config.ORIGIN_ACCOUNT_API})))))}}]),t}()},"4ek4":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("yb6k"))&&r.__esModule?r:{default:r}).default;t.default=o},"61Oa":function(e,t,n){"use strict";var r=n("DfNm"),o=n("i4oF"),i=n("fm8N"),a={createUser:function(e){return o.assertShape({username:o.required(o.string),password:o.required(o.string),email:o.required(o.string),segmentId:o.string})(e),this.client.createRequest({method:"POST",path:"/api/User",body:{username:e.username.toLowerCase(),password:e.password,email:e.email,segmentId:e.segmentId},internalOrigin:!0,withCredentials:!0})},getUser:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"GET",path:"/_/api/User/:userId",params:e})},deleteUser:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"DELETE",path:"/api/User/:userId",params:e,internalOrigin:!0,withCredentials:!0})},getUserBySearch:function(e){return o.assertShape({search:o.required(o.string)})(e),this.client.createRequest({method:"GET",path:"/_/api/User/search/:search",params:e})},updateUser:function(e){return o.assertShape({userId:o.required(o.string),name:o.string,password:o.string,email:o.string,contactInfo:o.string})(e),this.client.createRequest({method:"PUT",path:"/api/User/:userId",params:i(e,["userId"]),body:{id:e.userId,name:e.name,password:e.password,email:e.email,contact:e.contactInfo},internalOrigin:!0,withCredentials:!0})},getFlags:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"GET",path:"/_/api/users/:userId/flags",params:e})},updateFlags:function(e){return o.assertShape({userId:o.required(o.string),data:o.required(o.plainObject)})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/flags",params:i(e,["userId"]),body:e.data})},updateStorage:function(e){return o.assertShape({userId:o.required(o.string),extraStorage:o.required(o.number)})(e),this.client.createRequest({method:"PUT",path:"/_/api/User/:userId",params:i(e,["userId"]),body:{id:e.userId,extraStorage:e.extraStorage}})},createAtlasAuth:function(e){return o.assertShape({userId:o.required(o.string),expires:o.required(o.number),features:o.arrayOf(o.string)})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/atlas",params:i(e,["userId"]),body:{id:e.userId,atlasv2:{expires:e.expires,features:e.features||[]}}})},createStaffAuth:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/staff",params:e})},deleteStaffAuth:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"DELETE",path:"/_/api/users/:userId/staff",params:e})},createEnterpriseAuth:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/enterprise",params:e})},deleteEnterpriseAuth:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"DELETE",path:"/_/api/users/:userId/enterprise",params:e})},confirmEmail:function(e){return o.assertShape({userId:o.required(o.string),email:o.string,token:o.string})(e),this.client.createRequest({method:"PUT",path:"/api/User/:userId",params:i(e,["userId"]),body:{id:e.userId,email:e.email,token:e.token},internalOrigin:!0,withCredentials:!0})},createTwoFactorAuth:function(e){return o.assertShape({userId:o.required(o.string),key:o.required(o.string),code:o.required(o.string)})(e),this.client.createRequest({method:"PUT",path:"/api/User/:userId",params:i(e,["userId"]),body:{id:e.userId,mfaKey:e.key,code:e.code},internalOrigin:!0,withCredentials:!0})},deleteTwoFactorAuth:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"PUT",path:"/api/User/:userId",params:i(e,["userId"]),body:{id:e.userId,mfaKey:!1},internalOrigin:!0,withCredentials:!0})},createTwoFactorAuthRecoveryCode:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"POST",path:"/accounts/v1/:userId/recovery",params:e})},createEmailConfirmation:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/resend",params:e})},createPasswordRecovery:function(e){return o.assertShape({email:o.required(o.string)})(e),this.client.createRequest({method:"POST",body:{email:e.email},path:"/api/reset-password",anonymous:!0,internalOrigin:!0})},resetPassword:function(e){o.assertShape({userId:o.required(o.string),newPassword:o.required(o.string),recoveryToken:o.required(o.string)})(e);var t={access_token:e.recoveryToken};return this.client.createRequest({method:"PUT",path:"/api/User/:userId",params:i(e,["userId"]),body:{id:e.userId,password:e.newPassword},query:t,internalOrigin:!0,withCredentials:!1,anonymous:!0})},getUsage:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"GET",path:"/_/api/users/:userId/usage",params:e})},getOrders:function(e){return o.assertShape({userId:o.required(o.string)})(e),this.client.createRequest({method:"GET",path:"/_/api/users/:userId/orders",params:e})},createOrder:function(e){return o.assertShape({userId:o.required(o.string),date:o.required(o.date),termsOfService:o.required(o.string),text:o.required(o.string)})(e),this.client.createRequest({method:"POST",path:"/_/api/users/:userId/orders",params:i(e,["userId"]),body:{data:{date:e.date,termsOfService:e.termsOfService,text:e.text}}})},getOrder:function(e){return o.assertShape({userId:o.required(o.string),orderId:o.required(o.string),anonymous:o.boolean})(e),this.client.createRequest({method:"GET",path:"/_/api/users/:userId/orders/:orderId",params:i(e,["userId","orderId"]),anonymous:e.anonymous})},updateOrder:function(e){return o.assertShape({userId:o.required(o.string),orderId:o.required(o.string),date:o.required(o.string),termsOfService:o.required(o.string),text:o.required(o.string)})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/orders/:orderId",params:i(e,["userId","orderId"]),body:{data:{date:e.date,termsOfService:e.termsOfService,text:e.text}}})},signOrder:function(e){return o.assertShape({userId:o.required(o.string),orderId:o.required(o.string),billingName:o.required(o.string),billingEmail:o.required(o.string),purchaseOrder:o.required(o.boolean),anonymous:o.boolean})(e),this.client.createRequest({method:"PUT",path:"/_/api/users/:userId/orders/:orderId/sign",params:i(e,["userId","orderId"]),anonymous:e.anonymous,body:{billingName:e.billingName,billingEmail:e.billingEmail,PO:!e.purchaseOrder}})},deleteOrder:function(e){return o.assertShape({userId:o.required(o.string),orderId:o.required(o.string)})(e),this.client.createRequest({method:"DELETE",path:"/_/api/users/:userId/orders/:orderId",params:i(e,["userId","orderId"])})}};e.exports=r(a)},"865g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(e);t.offsetFromAnchor=c(e.offsetFromAnchor,5),t.containWithinViewport=c(e.containWithinViewport,!1),t.allowPlacementAxisChange=c(e.allowPlacementAxisChange,!0),t.hasPointer=c(e.hasPointer,!0),t.pointerAltitude=c(e.pointerAltitude,6),t.pointerBase=c(e.pointerBase,12),t.pointerColor=c(e.pointerColor,"#fff"),t.hideWhenAnchorIsOffscreen=c(e.hideWhenAnchorIsOffscreen,!1),t.hasPointer||(t.pointerAltitude=0,t.pointerBase=0);var n=(0,o.default)(t),l=(0,i.default)(t,n),f=l.placement,d=l.alignment,p=(0,a.default)(f,d,t,n),h=(0,u.default)(f,t,n),m=(0,s.default)(h,p,f,t,n),y=m.bodyStyle,b=m.pointerStyle;return{placement:f,alignment:d,pointerPositioningStyle:b,bodyPositioningStyle:y}};var r=l(n("q+vg")),o=l(n("KEvp")),i=l(n("JYiG")),a=l(n("wohe")),u=l(n("SZ3t")),s=l(n("upMS"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return void 0===e?t:e}},A6dJ:function(e,t,n){"use strict";var r=n("Jhn0");e.exports=function(){return r("impersonate")}},BEKf:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("hHTd"))&&r.__esModule?r:{default:r}).default;t.default=o},BLC9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e&&!t)throw new Error("Provide a partial or full message to validateRequired");return function(n){return(0,r.default)(n)?t||(e?"Please enter ".concat((0,o.default)(e)):void 0):""}};var r=i(n("R+LT")),o=i(n("hkkl"));function i(e){return e&&e.__esModule?e:{default:e}}},DfNm:function(e,t,n){"use strict";var r=n("vkK+"),o=n("SjS8");e.exports=function(e){return function(t){var n;n=r.prototype.isPrototypeOf(t)?t:o(t);var i=Object.create(e);return i.client=n,i}}},E5Mg:function(e,t,n){"use strict";e.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},E5qB:function(e,t,n){"use strict";e.exports=function(e){return e?e.split(/,\s*</).reduce(function(e,t){var n=function(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var n=t[1],r=null,o=t[2].split(";").reduce(function(e,t){var n=function(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}(t);return n?"rel"===n.key?(r||(r=n.value),e):(e[n.key]=n.value,e):e},{});return r?{url:n,rel:r,params:o}:null}(t);return n?(n.rel.split(/\s+/).forEach(function(t){e[t]||(e[t]={url:n.url,params:n.params})}),e):e},{}):{}}},EPTI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)(e).filter(function(e){return e!==window}),n=e.getBoundingClientRect();if(t.length>0){var r=t[0].getBoundingClientRect();if(r.top>n.top||r.bottom<n.bottom)return!1}var i=document.body.scrollTop;return!(i>n.top+i)&&i+window.innerHeight>n.bottom+i};var r,o=(r=n("G8qG"))&&r.__esModule?r:{default:r}},FKm8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnauthenticatedUsersOnly=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n("GiK3")),i=(u(n("KSGD")),n("qJQX")),a=n("3cK2");function u(e){return e&&e.__esModule?e:{default:e}}t.UnauthenticatedUsersOnly=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showSpinner:!0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onUnexpectedError;i.authenticationService.getSession().send().then(function(){(0,a.routeAuthenticatedUser)()},function(n){if(403!==n.statusCode)throw t(n.message),n;e.setState({showSpinner:!1})})}},{key:"render",value:function(){var e=this.props.children;return this.state.showSpinner?o.default.createElement("div",{className:"loading loading--dark"}):e}}]),t}()},G8qG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=getComputedStyle(e).position;if("fixed"===t)return[];var n=[],r=e.parentElement;for(;r;){var o=getComputedStyle(r),i=o.overflow+o.overflowY;if(/(auto|scroll|overlay)/.test(i)&&(("absolute"!==t||/(relative|absolute|fixed)/.test(o.position))&&n.push(r),"fixed"===o.position))return n;r=r.parentElement}return n.push(window),n}},GrxZ:function(e,t,n){"use strict";var r=n("DfNm"),o=n("i4oF"),i=n("qpD5"),a=n("f1MR"),u={createSession:function(e){return o.assertShape({username:o.required(o.string),password:o.required(o.string),mfaCode:o.string,mfaRecoveryCode:o.string})(e),i(this.client,e)},deleteSession:function(){return this.client.createRequest({method:"DELETE",path:"/api/logout",internalOrigin:!0,withCredentials:!0})},getSession:function(){return a(this.client)},getSessionOAuth:function(e){return o.assertShape({redirectUri:o.required(o.string),clientId:o.required(o.string)})(e),this.client.createRequest({method:"GET",path:"/oauth/auth",internalOrigin:!0,query:{redirect_uri:e.redirectUri,client_id:e.clientId,response_type:"code"},withCredentials:!0})}};e.exports=r(u)},Gyqk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("GiK3")),o=a(n("KSGD")),i=a(n("XNrh"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.themeControlWrapper,o=e.validationError,a=null;if(o){var u="".concat(this.props.id,"-error"),s="string"===typeof o?(0,i.default)(o):o;a=r.default.createElement("div",{className:"bg txt-s mt3 py6 px12 bg-red-faint round border border--red color-red",id:u,"data-test":u},s)}var l="relative ".concat(n);return r.default.createElement("div",{className:l},t,r.default.createElement("div",{role:"alert"},a))}}])&&s(n.prototype,o),a&&s(n,a),t}();t.default=p,d(p,"propTypes",{id:o.default.string.isRequired,validationError:o.default.node,children:o.default.node,themeControlWrapper:o.default.string}),d(p,"defaultProps",{themeControlWrapper:""})},HX7c:function(e,t,n){"use strict";var r=n("E5Mg");e.exports=function(e){var t,n=e.type||r.ERROR_HTTP;if(e.body)try{t=JSON.parse(e.body)}catch(n){t=e.body}else t=null;var o=e.message||null;o||("string"===typeof t?o=t:t&&"string"===typeof t.message?o=t.message:n===r.ERROR_REQUEST_ABORTED&&(o="Request aborted")),this.message=o,this.type=n,this.statusCode=e.statusCode||null,this.request=e.request,this.body=t}},Hmar:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("e2pr"))&&r.__esModule?r:{default:r}).default;t.default=o},I3qB:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("YYCL"))&&r.__esModule?r:{default:r}).default;t.default=o},JYiG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.placement,o=e.alignment,i=void 0===e.allowPlacementAxisChange||e.allowPlacementAxisChange,a=n,u=o,s=t.anchorRect.left-t.offsetFromEdge,l=t.availableWidth-t.anchorRect.right-t.offsetFromEdge,c=t.anchorRect.top-t.offsetFromEdge,f=t.availableHeight-t.anchorRect.bottom-t.offsetFromEdge,d=t.bodyElementWidthWithoutPadding+t.bodyOffsetFromAnchor<=s,p=t.bodyElementWidthWithoutPadding+t.bodyOffsetFromAnchor<=l,h=t.bodyElementHeightWithoutPadding+t.bodyOffsetFromAnchor<=c,m=t.bodyElementHeightWithoutPadding+t.bodyOffsetFromAnchor<=f;if(n===r.PLACEMENT_TOP||n===r.PLACEMENT_BOTTOM){if(n===r.PLACEMENT_BOTTOM&&!m){if(h)return{placement:r.PLACEMENT_TOP,alignment:u};if(i&&d)return{placement:r.PLACEMENT_LEFT,alignment:r.ALIGNMENT_CENTER};if(i&&p)return{placement:r.PLACEMENT_RIGHT,alignment:r.ALIGNMENT_CENTER};if(c>f)return{placement:r.PLACEMENT_TOP,alignment:u}}if(n===r.PLACEMENT_TOP&&!h){if(m)return{placement:r.PLACEMENT_BOTTOM,alignment:u};if(i&&d)return{placement:r.PLACEMENT_LEFT,alignment:r.ALIGNMENT_CENTER};if(i&&p)return{placement:r.PLACEMENT_RIGHT,alignment:r.ALIGNMENT_CENTER};if(f>c)return{placement:r.PLACEMENT_BOTTOM,alignment:u}}}if(n===r.PLACEMENT_LEFT||n===r.PLACEMENT_RIGHT){if(n===r.PLACEMENT_LEFT&&!d){if(p)return{placement:r.PLACEMENT_RIGHT,alignment:u};if(i&&!m&&h)return{placement:r.PLACEMENT_TOP,alignment:r.ALIGNMENT_CENTER};if(i)return{placement:r.PLACEMENT_BOTTOM,alignment:r.ALIGNMENT_CENTER};if(l>s)return{placement:r.PLACEMENT_RIGHT,alignment:u}}if(n===r.PLACEMENT_RIGHT&&!p){if(d)return{placement:r.PLACEMENT_LEFT,alignment:u};if(i&&!m&&h)return{placement:r.PLACEMENT_TOP,alignment:r.ALIGNMENT_CENTER};if(i)return{placement:r.PLACEMENT_BOTTOM,alignment:r.ALIGNMENT_CENTER};if(s>l)return{placement:r.PLACEMENT_LEFT,alignment:u}}}return{placement:a,alignment:u}};var r=n("RKCO")},Jhn0:function(e,t,n){"use strict";var r=n("2Dh4");e.exports=function(e){var t=r();if("undefined"!==typeof t&&t.location&&t.location.search){var n=t.location.search.match(new RegExp("[?&]"+e+"=([^&]+)"));if(n)return n[1]}}},JoEH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("GiK3")),o=i(n("KSGD"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.id,o=e.aside,i=e.optional,a=e.themeLabel,u="inline-block ".concat(a);return r.default.createElement("div",null,r.default.createElement("label",{htmlFor:n,className:u},t," ",i&&r.default.createElement("span",{className:"txt-normal"},"(optional)")),o&&r.default.createElement("span",{className:"inline-block ml12"},o))}}])&&u(n.prototype,o),i&&u(n,i),t}();t.default=d,f(d,"propTypes",{text:o.default.string.isRequired,id:o.default.string.isRequired,aside:o.default.node,optional:o.default.bool,themeLabel:o.default.string}),f(d,"defaultProps",{themeLabel:"txt-s txt-bold mb6"})},KCVG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRouteToParameter=function(e){if(!e)return;var t=(0,o.getUrlQueryParameter)(e,"route-to"),n=decodeURIComponent(t).replace(/^['"]/,"").replace(/['"]$/,"");if((0,r.isSafeReroute)(n))return n};var r=n("iuq6"),o=n("X1Ha")},KEvp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={},n=(0,o.default)(),r=n.document.documentElement;t.scrollY=n.pageYOffset;var i=e.getAnchorElement();if(!i)throw new Error("No anchor element provided");var a=e.getContainingElement?e.getContainingElement().getBoundingClientRect():null;t.offsetFromEdge=void 0!==e.offsetFromEdge?e.offsetFromEdge:a?0:5,t.bodyOffsetFromAnchor=e.offsetFromAnchor+e.pointerAltitude,t.availableWidth=r.scrollWidth,t.documentTopOffset=0;var u=r.style.position;"fixed"!==u&&"absolute"!==u||(t.documentTopOffset=parseFloat(r.style.top));t.availableHeight,e.containWithinViewport?t.availableHeight=n.innerHeight:t.availableHeight=r.scrollHeight;t.topBoundary,a?t.topBoundary=a.top+t.scrollY+t.offsetFromEdge:!0===e.containWithinViewport?t.topBoundary=t.scrollY+t.offsetFromEdge:t.topBoundary=t.offsetFromEdge;t.bottomBoundary,a?t.bottomBoundary=a.bottom+t.scrollY-t.offsetFromEdge:!0===e.containWithinViewport?t.bottomBoundary=t.scrollY+t.availableHeight-t.offsetFromEdge:t.bottomBoundary=t.availableHeight-t.offsetFromEdge;t.anchorRect=i.getBoundingClientRect();var s=e.getPopoverElement();if(!s)throw new Error("No body element provided");return t.bodyElementRect=s.getBoundingClientRect(),t.bodyElementWidthWithoutPadding=t.bodyElementRect.width-parseInt(s.style.paddingLeft||0)-parseInt(s.style.paddingRight||0),t.bodyElementHeightWithoutPadding=t.bodyElementRect.height-parseInt(s.style.paddingTop||0)-parseInt(s.style.paddingBottom||0),t.anchorAbsoluteTop=t.anchorRect.top+t.scrollY,t.anchorAbsoluteBottom=t.anchorRect.bottom+t.scrollY,t.anchorHorizontalCenter=t.anchorRect.left+t.anchorRect.width/2,t.anchorVerticalCenter=t.anchorAbsoluteTop+t.anchorRect.height/2,t.maxLeftOffset=Math.max(t.availableWidth-t.offsetFromEdge-t.bodyElementRect.width,t.offsetFromEdge),t.maxWidth=t.availableWidth-2*t.offsetFromEdge,t.maxHeight=t.availableHeight-2*t.offsetFromEdge,Object.freeze(t)};var r,o=(r=n("kgpH"))&&r.__esModule?r:{default:r},i=n("RKCO");var a={};a[i.PLACEMENT_TOP]=i.POINTER_DIRECTION_DOWNWARD,a[i.PLACEMENT_BOTTOM]=i.POINTER_DIRECTION_UPWARD,a[i.PLACEMENT_LEFT]=i.POINTER_DIRECTION_RIGHTWARD,a[i.PLACEMENT_RIGHT]=i.POINTER_DIRECTION_LEFTWARD},Lp1G:function(e,t,n){"use strict";var r=n("g2Z/");e.exports=r},OTY2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!1;function r(){n=!1,t()}function o(){n||requestAnimationFrame(r),n=!0}return{start:function(){e.addEventListener("scroll",o)},stop:function(){e.removeEventListener("scroll",o)}}}},PPN3:function(e,t,n){"use strict";var r=n("4aD1");r=r.default||r,e.exports={component:r,props:{frontMatter:{}}}},QIKs:function(e,t,n){"use strict";var r=n("NNT+"),o=n("q+vg"),i=n("cK/w"),a=n("xTxg"),u=n("E5Mg"),s=1;function l(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};t.body&&(n["content-type"]="application/json");var r=o(n,t.headers),a=Object.keys(r).reduce(function(e,t){return e[t.toLowerCase()]=r[t],e},{});this.id=s++,this._options=t,this.emitter=new i,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.headers=a}l.prototype.url=function(e){var t=a.prependOrigin(this.path,this.origin);t=a.appendQueryObject(t,this.query);var n=this.params;if(e){t=a.appendQueryParam(t,"access_token",e);var i=r(e).user;n=o({ownerId:i},n)}return t=a.interpolateRouteParams(t,n),t},l.prototype.send=function(){var e=this;if(e.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return e.sent=!0,e.client.sendRequest(e).then(function(t){return e.response=t,e.emitter.emit(u.EVENT_RESPONSE,t),t},function(t){throw e.error=t,e.emitter.emit(u.EVENT_ERROR,t),t})},l.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},l.prototype.eachPage=function(e){var t=this;function n(n){e(null,n,function(){delete t._nextPageRequest;var e=n.nextPage();e&&(t._nextPageRequest=e,o(e))})}function r(t){e(t,null,function(){})}function o(e){e.send().then(n,r)}o(this)},l.prototype.clone=function(){return this._extend()},l.prototype._extend=function(e){var t=o(this._options,e);return new l(this.client,t)},e.exports=l},"R+LT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e||null===e||""===e}},RKCO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POINTER_DIRECTION_RIGHTWARD=t.POINTER_DIRECTION_LEFTWARD=t.POINTER_DIRECTION_UPWARD=t.POINTER_DIRECTION_DOWNWARD=t.ALIGNMENT_CENTER=t.ALIGNMENT_RIGHT=t.ALIGNMENT_LEFT=t.ALIGNMENT_BOTTOM=t.ALIGNMENT_TOP=t.PLACEMENT_RIGHT=t.PLACEMENT_LEFT=t.PLACEMENT_BOTTOM=t.PLACEMENT_TOP=void 0;t.PLACEMENT_TOP="top";t.PLACEMENT_BOTTOM="bottom";t.PLACEMENT_LEFT="left";t.PLACEMENT_RIGHT="right";t.ALIGNMENT_TOP="top";t.ALIGNMENT_BOTTOM="bottom";t.ALIGNMENT_LEFT="left";t.ALIGNMENT_RIGHT="right";t.ALIGNMENT_CENTER="center";t.POINTER_DIRECTION_DOWNWARD="downward";t.POINTER_DIRECTION_UPWARD="upward";t.POINTER_DIRECTION_LEFTWARD="leftward";t.POINTER_DIRECTION_RIGHTWARD="rightward"},SXbo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ORIGIN_WWW_PRODUCTION=t.ORIGIN_WWW_STAGING=t.MARKETO_SUBMIT_TIMEOUT_MS=t.MARKETO_SIGN_UP_FORM_ID=t.MARKETO_FORMS_MUNCHKIN_ID=t.MARKETO_FORMS_BASEURL=t.SIGN_IN_STATE_MFA_RECOVERY=t.SIGN_IN_STATE_MFA=t.SIGN_IN_STATE_SIGN_IN=void 0;t.SIGN_IN_STATE_SIGN_IN="sign-in";t.SIGN_IN_STATE_MFA="mfa";t.SIGN_IN_STATE_MFA_RECOVERY="mfa-recovery";t.MARKETO_FORMS_BASEURL="https://go.mapbox.com";t.MARKETO_FORMS_MUNCHKIN_ID="117-NXK-490";t.MARKETO_SIGN_UP_FORM_ID=62;t.MARKETO_SUBMIT_TIMEOUT_MS=2500;t.ORIGIN_WWW_STAGING="https://122e4e-mapbox.global.ssl.fastly.net";t.ORIGIN_WWW_PRODUCTION="https://www.mapbox.com"},SZ3t:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,c,f,d,p=Math.round(n.anchorHorizontalCenter-t.pointerBase/2),h=Math.round(n.anchorVerticalCenter-t.pointerBase/2),m="".concat(t.pointerBase/2,"px solid transparent"),y="".concat(t.pointerAltitude,"px solid ").concat(t.pointerColor),b=l[e],v=o.default.dash("transform");if(!1===t.hasPointer)return{display:"none"};return b===u?(i(c={},v,"translate3d(".concat(p,"px, ").concat(Math.round(n.anchorAbsoluteTop+n.anchorRect.height+t.offsetFromAnchor-n.documentTopOffset),"px, 0)")),i(c,"border-top",0),i(c,"border-bottom",y),i(c,"border-left",m),i(c,"border-right",m),c):b===a?(i(f={},v,"translate3d(".concat(p,"px, ").concat(Math.round(n.anchorAbsoluteTop-t.offsetFromAnchor-t.pointerAltitude-n.documentTopOffset),"px, 0)")),i(f,"border-top",y),i(f,"border-bottom",0),i(f,"border-left",m),i(f,"border-right",m),f):b===s?(i(d={},v,"translate3d(".concat(Math.round(n.anchorRect.right+t.offsetFromAnchor),"px, ").concat(h-n.documentTopOffset,"px, 0)")),i(d,"border-top",m),i(d,"border-bottom",m),i(d,"border-left",0),i(d,"border-right",y),d):(i(r={},v,"translate3d(".concat(Math.round(n.anchorRect.left-t.offsetFromAnchor-t.pointerAltitude),"px, ").concat(h-n.documentTopOffset,"px, 0)")),i(r,"border-top",m),i(r,"border-bottom",m),i(r,"border-left",y),i(r,"border-right",0),r)};var r,o=(r=n("vuZI"))&&r.__esModule?r:{default:r};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="downward",u="upward",s="leftward",l={};l.top=a,l.bottom=u,l.left="rightward",l.right=s},SjS8:function(e,t,n){"use strict";var r=n("/DI9"),o=n("vkK+");function i(e){o.call(this,e)}i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.sendRequest=r.browserSend,i.prototype.abortRequest=r.browserAbort,e.exports=function(e){return new i(e)}},UTry:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var i=Object.keys(t);var a=Object.keys(n);var u=i.length;if(a.length!==u)return!1;for(var s=0;s<u;s++){var l=i[s],c=t[l],f=n[l];if(-1!==o.indexOf(l))return e(c,f);if("object"===r(c))throw new Error("shallowEqualObjects can only compare objects whose values are primitives or functions, unless you allow for an object value with the allowedObjectKeys argument");if(c!==f)return!1}return!0}},Wz2I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StandardAuthWrapper=function(e){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"absolute top left right pt24"},r.default.createElement("div",{className:"limiter"},r.default.createElement("a",{className:"mb-logo mb-logo--white",href:"https://www.mapbox.com","aria-label":"Mapbox"}))),r.default.createElement("div",{className:"flex-parent flex-parent--column"},r.default.createElement("div",{className:"flex-parent flex-parent--column bg-blue-purple-gradient",style:{minHeight:"100vh"}},r.default.createElement("div",{className:"flex-child flex-child--grow limiter flex-parent flex-parent--center-main flex-parent--center-cross py60 "},r.default.createElement("div",{className:"flex-child mt30"},e.children)),r.default.createElement("div",{className:"flex-child flex-child--no-shrink bg-white py24"},r.default.createElement("div",{className:"limiter"},r.default.createElement(o.FooterLegalStrip,null))))))};var r=i(n("GiK3")),o=(i(n("KSGD")),n("vbRg"));function i(e){return e&&e.__esModule?e:{default:e}}},XNrh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return e;var t=e.trim(),n=t[t.length-1];return"."===n||"!"===n||"?"===n?t:t+"."}},XfjR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signIn=function(e,t){var n=(0,a.default)().MapboxPageShell,i=(0,r.default)(s(e)),u=(0,o.default)(i);return u.createSession(t).send().then(function(){return n?new Promise(function(e){n.checkSession({cache:!1},function(){var t=n.getUser();e(t)})}):u.getSession().send().then(function(e){return e.body})})},t.signUp=function(e,t){var n=(0,r.default)(s(e));return(0,i.default)(n).createUser(t).send()};var r=u(n("Lp1G")),o=u(n("GrxZ")),i=u(n("61Oa")),a=u(n("qZaK"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return"staging"===e||"production"===e?{environment:e}:{origin:e}}},Xq7W:function(e,t,n){"use strict";var r=n("f1MR"),o=n("qpD5"),i=n("Z9i/"),a=n("vP2I"),u=[];function s(e){for(;u.length;){var t=u.shift();e?t.reject(e):t.request.clone().send().then(t.resolve,t.reject)}}var l={clearQueue:function(){u=[]},initializeReauth:function(e,t){return new Promise(function(n,l){var c=0===u.length;u.push({request:e,resolve:n,reject:l}),c&&r(e.client).send().then(function(n){var r=n.body;t({provideCredentials:function(e,t){return function(n){return i.resetTemporaryToken(e.client),o(e.client,{password:n.password,mfaCode:n.mfaCode,username:t.id}).send().then(function(e){return s(),e})}}(e,r),isUserMfa:function(){return r.mfa},cancel:function(){var e=new Error("Reauth cancelled");e.type=a.ERROR_REAUTH_CANCELLED,s(e)}})}).catch(l)})}};e.exports=l},YPza:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("pLK3"))&&r.__esModule?r:{default:r}).default;t.default=o},YYCL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("GiK3")),o=a(n("KSGD")),i=a(n("s9cg"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.iconBefore,n=e.iconSize,o=e.text.split(" "),a=t?o.shift():o.pop(),u=o.join(" ");return t?r.default.createElement("span",{className:"inline-block"},r.default.createElement("span",{className:"txt-nowrap"},r.default.createElement(i.default,{name:"chevron-left",inline:!0,size:n}),a)," ",u):r.default.createElement("span",{className:"inline-block"},u," ",r.default.createElement("span",{className:"txt-nowrap"},a,r.default.createElement(i.default,{name:"chevron-right",inline:!0,size:n})))}}])&&s(n.prototype,o),a&&s(n,a),t}();t.default=p,d(p,"propTypes",{iconBefore:o.default.bool,iconSize:o.default.oneOfType([o.default.string,o.default.number]),text:o.default.string.isRequired}),d(p,"defaultProps",{iconBefore:!1,iconSize:"1.5em"})},"Z9i/":function(e,t,n){"use strict";var r=n("NNT+"),o=n("Zw0q"),i=0;e.exports={getTemporaryToken:function(e){if(e.temporaryTokenBeingFetched)return e.temporaryTokenBeingFetched;var t=e.temporaryToken;if(t&&!(r(t).expires+i<Date.now()))return Promise.resolve(t);var n=o(e).send().then(function(t){var n=t.body.token;return function(e){i=Date.now()-r(e).created}(n),e.temporaryToken=n,e.temporaryTokenBeingFetched=null,n});return e.temporaryTokenBeingFetched=n,n},resetTemporaryToken:function(e){e.temporaryTokenBeingFetched=null,e.temporaryToken=null}}},Zw0q:function(e,t,n){"use strict";var r=n("A6dJ");e.exports=function(e){var t=r(),n="/tokens/v1";return t&&(n+="/:ownerId"),e.createRequest({method:"GET",path:n,params:{ownerId:t},internalOrigin:!0,withCredentials:!0})}},aAym:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("uhx4"))&&r.__esModule?r:{default:r}).default;t.default=o},"c5+T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e===a.SIGN_IN_STATE_SIGN_IN)return{username:(0,r.default)(s),password:(0,r.default)(l)};if(e===a.SIGN_IN_STATE_MFA)return{username:(0,r.default)(s,{disabled:!0}),password:(0,r.default)(l,{disabled:!0}),mfaCode:(0,r.default)(c,t.showHelp?{}:{aside:null})};if(e===a.SIGN_IN_STATE_MFA_RECOVERY)return{username:(0,r.default)(s,{disabled:!0}),password:(0,r.default)(l,{disabled:!0}),mfaRecoveryCode:(0,r.default)(f)};throw new Error("Invalid form state ".concat(e))};var r=u(n("q+vg")),o=u(n("BLC9")),i=n("+kt+"),a=n("SXbo");function u(e){return e&&e.__esModule?e:{default:e}}var s={label:"Username or email",noAuto:!0,validator:[(0,o.default)(null,"Please enter a username or email.")]},l={label:"Password",noAuto:!0,validator:[(0,o.default)("password")],type:"password"},c={label:"Two-factor authentication code",pattern:"\\d*",noAuto:!0,validator:[(0,o.default)("code"),i.mfaCode],autoFocus:!0},f={label:"Two-factor authentication recovery code",validator:[(0,o.default)("recovery code"),i.mfaRecoveryCode],noAuto:!0,autoFocus:!0}},"cK/w":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n,r,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new function(e,t,n){this.fn=e,this.context=t,this.once=n||!1}(n,r||e,i),u=o?o+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,i,a){var u=o?o+e:e;if(!this._events[u])return!1;var s,l,c=this._events[u],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,i),!0;case 6:return c.fn.call(c.context,t,n,r,i,a),!0}for(l=1,s=new Array(f-1);l<f;l++)s[l-1]=arguments[l];c.fn.apply(c.context,s)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];c[l].fn.apply(c[l].context,s)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return u(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,i);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[i]=1===l.length?l[0]:l:u(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&u(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,e.exports=s},"d+h2":function(e,t,n){"use strict";e.exports=function(e){var t={};return e?(e.trim().split(/[\r|\n]+/).forEach(function(e){var n,r,o=(r=(n=e).indexOf(":"),{name:n.substring(0,r).trim().toLowerCase(),value:n.substring(r+1).trim()});t[o.name]=o.value}),t):t}},dSRC:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var i=n("GiK3"),a=["onEnter","onCancel"],u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onKeyDown=function(e){"INPUT"===e.target.tagName&&(13===e.keyCode?r.props.onEnter(e):27===e.keyCode&&r.props.onCancel&&r.props.onCancel(e))},r.onSubmit=function(e){e.preventDefault()},o(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this,t={onKeyDown:this.onKeyDown,onSubmit:this.onSubmit};return Object.keys(this.props).forEach(function(n){-1===a.indexOf(n)&&(t[n]=e.props[n])}),i.createElement("form",t,this.props.children)}}]),t}();e.exports=u},e2pr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("GiK3")),o=a(n("KSGD")),i=a(n("pY2X"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,f(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props.themeLoader,n="loading absolute top left right bottom flex-parent";e&&(n+=" "+e);var o=(0,i.default)(this.props,t.propNames);return r.default.createElement("div",s({className:n},o))}}])&&l(n.prototype,o),a&&l(n,a),t}();t.default=h,p(h,"propTypes",{themeLoader:o.default.string}),p(h,"defaultProps",{themeLoader:"bg-gray-faint"}),p(h,"propNames",["themeLoader"])},f1MR:function(e,t,n){"use strict";e.exports=function(e){return e.createRequest({method:"GET",path:"/api/session",internalOrigin:!0,withCredentials:!0})}},fm8N:function(e,t,n){"use strict";e.exports=function(e,t){var n=function(e,n){return-1!==t.indexOf(e)&&void 0!==n};return"function"===typeof t&&(n=t),Object.keys(e).filter(function(t){return n(t,e[t])}).reduce(function(t,n){return t[n]=e[n],t},{})}},"g2Z/":function(e,t,n){"use strict";var r=n("p/Ca");e.exports=function(e){return new r(e)}},gYl1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("GiK3")),o=u(n("KSGD")),i=u(n("kgpH")),a=u(n("UTry"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(){var e,n,r,o,i,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return r=this,o=(e=f(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==s(o)&&"function"!==typeof o?p(r):o,i=p(p(n)),u=function(e){n.iconElement=e},(a="setIconElement")in i?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u,n}var n,o,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.default.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.setHeight()}},{key:"shouldComponentUpdate",value:function(e){return!(0,a.default)(this.props,e,["passthroughProps"])}},{key:"componentDidUpdate",value:function(){this.setHeight()}},{key:"setHeight",value:function(){if(this.props.inline&&this.iconElement){var e=(0,i.default)().getComputedStyle(this.iconElement)["line-height"];this.iconElement.style.height=e}}},{key:"render",value:function(){var e=this.props,t="events-none icon";e.inline&&(t+=" inline-block align-t");var n=e.passthroughProps.style||{};return!n.width&&e.size&&(n.width=e.size),!n.height&&e.size&&(n.height=e.size),r.default.createElement("svg",l({ref:this.setIconElement,role:"presentation",focusable:"false",className:t},e.passthroughProps,{style:n}),r.default.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"#icon-".concat(e.name)}))}}])&&c(n.prototype,o),u&&c(n,u),t}();t.default=h,h.propTypes={name:o.default.string.isRequired,size:o.default.oneOfType([o.default.string,o.default.number]),inline:o.default.bool,passthroughProps:o.default.object},h.defaultProps={inline:!1,passthroughProps:{},size:18}},"gdL/":function(e,t,n){"use strict";var r=n("E5qB");function o(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch(e){this.body=t.body}this.links=r(this.headers.link)}o.prototype.hasNextPage=function(){return!!this.links.next},o.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},e.exports=o},hHTd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n("GiK3")),o=f(n("HW6M")),i=f(n("KSGD")),a=f(n("sHdP")),u=f(n("0Orf")),s=f(n("EPTI")),l=f(n("q9QJ")),c=f(n("Q3/6"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=0,E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=m(t).call(this,e),v(b(b(n=!o||"object"!==d(o)&&"function"!==typeof o?b(r):o)),"maybeFocusPopover",function(){if(n.bodyElement){var e=b(b(n)).props;if(!n.focusTrap&&e.trapFocus)return n.focusTrap=(0,a.default)(n.bodyElement,{escapeDeactivates:e.escapeCloses,clickOutsideDeactivates:e.clickOutsideCloses,returnFocusOnDeactivate:!1,initialFocus:e.getInitialFocus?e.getInitialFocus():void 0,fallbackFocus:n.bodyElement}),void n.focusTrap.activate();if(!n.hasReceivedFocus&&e.receiveFocus){var t;if(n.hasReceivedFocus=!0,e.getInitialFocus)t=e.getInitialFocus();else t=(0,u.default)(n.bodyElement,{includeContainer:!0})[0];t&&t.focus&&t.focus()}}}),v(b(b(n)),"onDocumentMousedown",function(e){var t=n.props.onExit;n.bodyElement&&t&&(n.bodyElement.contains(e.target)||n.elementIsWithinChildPopover(e.target)||2!==e.button&&((0,c.default)("[data-popover-ignore-clicks]",e.target)||n.props.ignoreClickWithinElement&&n.props.ignoreClickWithinElement(e.target)||t()))}),v(b(b(n)),"onBodyKeyDown",function(e){n.props.onExit&&n.props.escapeCloses&&"Escape"===e.key&&n.props.onExit()}),v(b(b(n)),"onBodyFocus",function(){n.bodyElement&&n.focusTrap&&n.focusTrap.unpause()}),v(b(b(n)),"elementIsWithinChildPopover",function(e){var t=e.getAttribute("data-popover-id");return t?Number(t)>n.popoverId:!(!e.parentElement||e.parentElement===document)&&n.elementIsWithinChildPopover(e.parentElement)}),v(b(b(n)),"setPopoverElement",function(e){n.bodyElement=e,n.props.onElement&&n.props.onElement(e)}),g+=1,n.popoverId=g,n}var n,i,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.default.Component),n=t,(i=[{key:"componentWillMount",value:function(){this.previouslyFocusedElement=document.activeElement}},{key:"componentDidMount",value:function(){var e=this;if(this.hackListenerRemovers=[],"ontouchstart"in document.documentElement){document.documentElement.style.WebkitTapHighlightColor="transparent";for(var t=document.body.childNodes,n=function(n,r){var o=t[n];o.addEventListener("mouseover",_),e.hackListenerRemovers.push(function(){o.removeEventListener("mouseover",_)})},r=0,o=t.length;r<o;r++)n(r)}document.addEventListener("mousedown",this.onDocumentMousedown),this.focusBodyTimer=setTimeout(function(){e.maybeFocusPopover()},10)}},{key:"componentDidUpdate",value:function(){this.maybeFocusPopover()}},{key:"componentWillUnmount",value:function(){if(this.hackListenerRemovers.forEach(function(e){return e()}),document.removeEventListener("mousedown",this.onDocumentMousedown),this.focusBodyTimer&&clearTimeout(this.focusBodyTimer),this.focusTrap){this.focusTrap.deactivate();var e=this.previouslyFocusedElement;setTimeout(function(){e&&(0,s.default)(e)&&e.focus()},0)}}},{key:"render",value:function(){var e=this.props,t=function(e){if("dark"===e)return{background:"#273d56",textClass:"color-white"};if("warning"===e)return{background:"#FFF5A0",textClass:"color-text"};return{background:"#fff",textClass:"color-text"}}(e.coloring),n=(0,o.default)("".concat(t.textClass," shadow-darken25 round"),{"px12 py12":"medium"===e.padding,"px12 py6":"small"===e.padding});return r.default.createElement(l.default,{getAnchorElement:e.getAnchorElement,hasPointer:e.hasPointer,placement:e.placement,alignment:e.alignment,pointerColor:t.background,hideWhenAnchorIsOffscreen:e.hideWhenAnchorIsOffscreen,allowPlacementAxisChange:e.allowPlacementAxisChange,containWithinViewport:e.containWithinViewport,getContainingElement:e.getContainingElement,offsetFromAnchor:e.offsetFromAnchor,onElement:this.setPopoverElement},r.default.createElement("div",p({key:"body",style:{backgroundColor:t.background},className:n,onKeyDown:this.onBodyKeyDown,onFocus:this.onBodyFocus,"data-popover-id":this.popoverId,tabIndex:-1,role:"dialog"},e.passthroughProps),e.children))}}])&&h(n.prototype,i),f&&h(n,f),t}();function _(){}t.default=E,E.propTypes={getAnchorElement:i.default.func.isRequired,children:i.default.node.isRequired,placement:i.default.oneOf(["top","bottom","left","right"]),alignment:i.default.oneOf(["top","bottom","left","right","center"]),coloring:i.default.oneOf(["light","dark","warning"]),padding:i.default.oneOf(["medium","small","none"]),hasPointer:i.default.bool,hideWhenAnchorIsOffscreen:i.default.bool,allowPlacementAxisChange:i.default.bool,containWithinViewport:i.default.bool,clickOutsideCloses:i.default.bool,escapeCloses:i.default.bool,receiveFocus:i.default.bool,trapFocus:i.default.bool,onExit:i.default.func,onElement:i.default.func,getInitialFocus:i.default.func,ignoreClickWithinElement:i.default.func,getContainingElement:i.default.func,offsetFromAnchor:i.default.number,passthroughProps:i.default.object},E.defaultProps={coloring:"light",placement:"right",alignment:"top",padding:"medium",hasPointer:!0,hideWhenAnchorIsOffscreen:!1,allowPlacementAxisChange:!0,containWithinViewport:!0,clickOutsideCloses:!0,escapeCloses:!0,receiveFocus:!0,trapFocus:!1},E.repositionPopovers=l.default.recalculatePositions},hkkl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/[aeiou]/i.test(e.charAt(0))?"an":"a";return"".concat(t," ").concat(e)}},i4oF:function(e,t,n){"use strict";(function(t){var r=n("q+vg"),o=n("ckV8");e.exports=r(o,{file:function(e){if("undefined"!==typeof window){if(e instanceof t.Blob||e instanceof t.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!==typeof e&&void 0===e.pipe)return"Filename or Readable stream"},date:function(e){if("boolean"===typeof e)return"date";try{var t=new Date(e);if(t.getTime&&isNaN(t.getTime()))return"date"}catch(e){return"date"}},coordinates:function(e){return o.tuple(o.number,o.number)(e)},assertShape:function(e,t){return o.assert(o.strictShape(e),t)}})}).call(t,n("DuR2"))},iuq6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafeReroute=function(e){if(a.test(e))return!0;if(i.test(e))return!0;if(r.test(e)||o.test(e))return!0;return!1};var r=new RegExp("^https://[a-zA-Z0-9_-]+(\\.mapbox\\.com|\\.tilestream\\.net)(\\/|$)"),o=new RegExp("^https://122e4e-mapbox\\.global\\.ssl\\.fastly\\.net(\\/|$)"),i=new RegExp("^https?://localhost(:[0-9]+)?/"),a=new RegExp("^/[^/]")},j5tb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("GiK3")),o=i(n("KSGD"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.testId,n=e.disabled,o=e.label,i=e.onSubmit,a=e.themeButton,s={onClick:i,disabled:n,"data-test":t};return r.default.createElement("button",u({type:"button",className:a},s),o)}}])&&s(n.prototype,o),i&&s(n,i),t}();t.default=p,d(p,"propTypes",{onSubmit:o.default.func.isRequired,label:o.default.string,disabled:o.default.bool,testId:o.default.string,themeButton:o.default.string}),d(p,"defaultProps",{label:"Submit",testId:"",disabled:!1,themeButton:"btn px24 py12 round-full txt-s"})},kgpH:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(void 0===("undefined"===typeof window?"undefined":r(window)))throw new Error("window not available");return window}},l8M2:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("JoEH"))&&r.__esModule?r:{default:r}).default;t.default=o},ll3R:function(e,t,n){"use strict";var r=n("q+vg"),o=n("QIKs"),i=n("vP2I");function a(e,t){o.call(this,e,t),this.withCredentials=t.withCredentials||!1,this.internalOrigin=t.internalOrigin||!1,this.anonymous=t.anonymous||!1,this.origin=t.origin||function(e){if(e.client.origin)return e.client.origin;var t=e.client.environment;return e.internalOrigin?"production"===t?i.ORIGIN_SITE_PRODUCTION:i.ORIGIN_SITE_STAGING:"production"===t?i.ORIGIN_API_PRODUCTION:i.ORIGIN_API_STAGING}(this),this.modifications=[]}a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype._extend=function(e){var t=r(this._options,e),n=new a(this.client,t);return this.modifications.forEach(function(e){n.modifyRequest(e)}),n},a.prototype.modifyRequest=function(e){var t;return this.modifications.push(e),e.bustCache&&((t=this).query=r(t.query,{_:Date.now()})),e.draftStyle&&function(e){var t=e.path;/styles\/v1\/[^/?]+\/[^/?]+\//.test(t)?e.path=t.replace(/(styles\/v1\/[^/?]+\/[^/?]+)/,"$1/draft"):/\/styles\/v1\//.test(t)&&(e.query=r(e.query,{draft:""}))}(this),this},e.exports=a},mNJa:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("j5tb"))&&r.__esModule?r:{default:r}).default;t.default=o},"p/Ca":function(e,t,n){"use strict";var r=n("/DI9"),o=n("vkK+"),i=n("NNT+"),a=n("xEur"),u=n("ll3R");function s(e){(e=e||{}).accessToken&&(i(e.accessToken),this.accessToken=e.accessToken),this.environment=e.environment,this.handleReauth=e.handleReauth,this.origin=e.origin,this.temporaryTokenBeingFetched=null,this.temporaryToken=null}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.createRequest=function(e){return new u(this,e)},s.prototype.sendRequest=a,s.prototype.abortRequest=r.browserAbort,e.exports=s},pLK3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("GiK3")),o=s(n("KSGD")),i=s(n("WDRl")),a=s(n("pY2X")),u=s(n("q+vg"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,p(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"render",value:function(){var e="fixed top left right bottom flex-parent flex-parent--center-main flex-parent--center-cross",n="loading";this.props.opaque?e+=" bg-white":(e+=" bg-darken50",n+=" loading--dark");var o=(0,a.default)(this.props,t.propNames.concat("mounted")),i=(0,u.default)(this.props.style,{zIndex:9999});return r.default.createElement("div",c({className:e,"data-test":"loader",style:i},o),r.default.createElement("div",{className:n}))}}])&&f(n.prototype,o),i&&f(n,i),t}();m(y,"propTypes",{opaque:o.default.bool,style:o.default.object}),m(y,"propNames",["opaque","style"]),m(y,"defaultProps",{style:{}});var b=(0,i.default)(y);t.default=b},pY2X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce(function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n},{})}},q9QJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n("GiK3")),o=f(n("KSGD")),i=f(n("WDRl")),a=f(n("HhAh")),u=f(n("865g")),s=f(n("G8qG")),l=f(n("OTY2")),c=f(n("kgpH"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=[],g=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=h(t)).call.apply(e,[this].concat(a)),b(y(y(n=!o||"object"!==d(o)&&"function"!==typeof o?y(r):o)),"getScrollableParentElement",function(){return n.scrollableParents[0]}),b(y(y(n)),"setPosition",function(){var e=y(y(n)).props,t=n.props.calculatePosition({getScrollableParentElement:n.getScrollableParentElement,getPopoverElement:n.getPopoverElement,getAnchorElement:e.getAnchorElement,placement:e.placement,alignment:e.alignment,offsetFromAnchor:e.offsetFromAnchor,pointerBase:e.pointerBase,pointerAltitude:e.pointerAltitude,pointerColor:e.pointerColor,hideWhenAnchorIsOffscreen:e.hideWhenAnchorIsOffscreen,allowPlacementAxisChange:e.allowPlacementAxisChange,containWithinViewport:e.containWithinViewport,getContainingElement:e.getContainingElement}),r=n.bodyElement;if(r)for(var o in r.style.setProperty("visibility","visible"),t.bodyPositioningStyle)r.style.setProperty(o,t.bodyPositioningStyle[o]);var i=n.pointerElement;if(i)for(var a in i.style.setProperty("visibility","visible"),t.pointerPositioningStyle)i.style.setProperty(a,t.pointerPositioningStyle[a])}),b(y(y(n)),"setBodyElement",function(e){n.bodyElement=e}),b(y(y(n)),"setContainerElement",function(e){n.containerElement=e,n.props.onElement&&n.props.onElement(e)}),b(y(y(n)),"getPopoverElement",function(){return n.bodyElement}),b(y(y(n)),"setPointerElement",function(e){n.pointerElement=e}),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.default.PureComponent),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;v.push(this.setPosition),this.scrollableParents=this.props.getScrollableParents(this.props.getAnchorElement()),this.handleResize=(0,a.default)(this.setPosition,200),this.props.getWindow().addEventListener("resize",this.handleResize),this.scrollListeners=this.scrollableParents.map(function(t){var n=e.props.createScrollListener(t,e.setPosition);return n.start(),n},this),this.setPosition()}},{key:"componentDidUpdate",value:function(){this.setPosition()}},{key:"componentWillUnmount",value:function(){this.props.getWindow().removeEventListener("resize",this.handleResize),this.scrollListeners.forEach(function(e){e.stop()}),v.splice(v.indexOf(this.setPosition),1)}},{key:"render",value:function(){var e={position:"absolute",zIndex:1,top:0,left:0,visibility:"hidden"};return r.default.createElement("div",{ref:this.setContainerElement},r.default.createElement("div",{"data-test":"popover-body",ref:this.setBodyElement,style:e},this.props.children),r.default.createElement("div",{"data-test":"popover-pointer",ref:this.setPointerElement,style:e}))}}])&&p(n.prototype,o),i&&p(n,i),t}();b(g,"propTypes",{children:o.default.node.isRequired,getAnchorElement:o.default.func.isRequired,placement:o.default.oneOf(["top","bottom","left","right"]),alignment:o.default.oneOf(["top","bottom","left","right","center"]),pointerBase:o.default.number,hasPointer:o.default.bool,pointerAltitude:o.default.number,pointerColor:o.default.string,offsetFromAnchor:o.default.number,hideWhenAnchorIsOffscreen:o.default.bool,allowPlacementAxisChange:o.default.bool,containWithinViewport:o.default.bool,getContainingElement:o.default.func,onElement:o.default.func,calculatePosition:o.default.func,getScrollableParents:o.default.func,createScrollListener:o.default.func,getWindow:o.default.func}),b(g,"defaultProps",{calculatePosition:u.default,getScrollableParents:s.default,createScrollListener:l.default,getWindow:c.default});var E=(0,i.default)(g);E.recalculatePositions=function(){v.forEach(function(e){e()})};var _=E;t.default=_},qZaK:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(void 0===("undefined"===typeof window?"undefined":r(window)))throw new Error("no window");return window}},qpD5:function(e,t,n){"use strict";e.exports=function(e,t){var n={username:t.username.toLowerCase(),password:t.password};return t.mfaCode?n.code=t.mfaCode.replace(/\s*/g,""):t.mfaRecoveryCode&&(n.recoveryCode=t.mfaRecoveryCode.replace(/\s*/g,"")),e.createRequest({method:"POST",body:n,path:"/api/login",internalOrigin:!0,withCredentials:!0})}},s9cg:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("gYl1"))&&r.__esModule?r:{default:r}).default;t.default=o},uhx4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n("GiK3")),o=f(n("KSGD")),i=f(n("pY2X")),a=f(n("l8M2")),u=f(n("wzjV")),s=f(n("BEKf")),l=f(n("s9cg")),c=f(n("kgpH"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=["id","value","onChange","type","label","noAuto","optional","aside","validationError","errorStyle","errorTooltipTheme","errorTooltipBackgroundColor","themeControlInput","themeControlWrapper","themeLabel","initialValue","validator"],E=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=m(t).call(this,e),v(b(b(n=!i||"object"!==d(i)&&"function"!==typeof i?b(o):i)),"inputElement",null),v(b(b(n)),"errorElement",null),v(b(b(n)),"onChange",function(e){return n.props.onChange(e.target.value,n.props.id)}),v(b(b(n)),"setInputElement",function(e){n.inputElement=e}),v(b(b(n)),"setErrorElement",function(e){n.errorElement=e}),v(b(b(n)),"getErrorElement",function(){return n.errorElement}),v(b(b(n)),"onErrorClick",function(){n.inputElement&&n.inputElement.select()}),v(b(b(n)),"onFocus",function(){n.setState({popoverOpen:!0})}),v(b(b(n)),"onBlur",function(){n.setState({popoverOpen:!1})}),v(b(b(n)),"isActive",function(){return(0,c.default)().document.activeElement===n.inputElement||(0,c.default)().document.activeElement===n.errorElement}),v(b(b(n)),"onContainerMouseOver",function(){n.isActive()||n.setState({popoverOpen:!0})}),v(b(b(n)),"onContainerMouseOut",function(){n.isActive()||n.setState({popoverOpen:!1})}),v(b(b(n)),"renderLabel",function(){var e=n.props,t=e.id,o=e.label,i=e.optional,u=e.aside,s=e.themeLabel;return r.default.createElement(a.default,{text:o,id:t,aside:u,optional:i,themeLabel:s})}),v(b(b(n)),"renderPopover",function(){var e=n.props,t=e.validationError,o=e.errorTooltipTheme,i=e.errorTooltipBackgroundColor,a={getAnchorElement:n.getErrorElement,placement:"top",receiveFocus:!1,accessibleTitle:"Validation error"};return i&&(a.backgroundColor=i),o&&(a.themePopover=o),r.default.createElement(s.default,a,t)}),n.state={popoverOpen:!1},n}var n,o,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.default.Component),n=t,(o=[{key:"render",value:function(){var e=(0,i.default)(this.props,g),t=this.props,n=t.id,o=t.value,a=t.label,s=t.type,c=t.optional,f=t.validationError,d=t.errorStyle,h=t.noAuto,m=t.themeControlInput,y=t.themeControlWrapper,b=this.state.popoverOpen,v={id:n,name:n,onChange:this.onChange,value:o,type:s,className:m,"aria-required":!c,"data-test":"".concat(n,"-input")};h&&(v.autoCapitalize="none",v.autoCorrect="off",v.spellCheck=!1),f&&(v["aria-invalid"]=!0),f&&"inline"===d&&(v.className="".concat(m," round-l flex-child flex-child--grow"),v.style={boxShadow:"inset 0 0 0 1px #f74e4e"});var E=a?this.renderLabel():null,_=b?this.renderPopover():null,O=r.default.createElement("input",p({},v,e));return"inline"===d?(f&&(O=r.default.createElement("div",{onMouseOver:this.onContainerMouseOver,onMouseOut:this.onContainerMouseOut,"data-test":"control-text-container",className:"flex-parent"},r.default.createElement("input",p({ref:this.setInputElement,onFocus:this.onFocus,onBlur:this.onBlur},v,e)),r.default.createElement("button",{type:"button",onFocus:this.onFocus,onBlur:this.onBlur,ref:this.setErrorElement,onClick:this.onErrorClick,role:"alert","aria-label":f,className:"flex-child bg-red color-white round-r px6"},r.default.createElement("span",{className:"flex-parent flex-parent--center-cross flex-parent--center-main"},r.default.createElement(l.default,{name:"alert",themeIcon:"cursor-pointer"}))))),r.default.createElement(u.default,{themeControlWrapper:y,id:n},E,O,_)):r.default.createElement(u.default,{themeControlWrapper:y,id:n,validationError:f},E,O)}}])&&h(n.prototype,o),f&&h(n,f),t}();t.default=E,v(E,"propTypes",{id:o.default.string.isRequired,onChange:o.default.func.isRequired,value:o.default.string,type:o.default.string,label:o.default.string,noAuto:o.default.bool,optional:o.default.bool,aside:o.default.node,validationError:o.default.node,errorStyle:o.default.oneOf(["default","inline"]),errorTooltipBackgroundColor:o.default.string,errorTooltipTheme:o.default.string,themeControlInput:o.default.string,themeControlWrapper:o.default.string,themeLabel:o.default.string}),v(E,"defaultProps",{value:"",type:"text",optional:!1,noAuto:!1,errorStyle:"default",themeControlInput:"input"})},upMS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,l){var c=(0,o.default)(),f=void 0!==a.getScrollableParentElement?a.getScrollableParentElement():null;if(!f)return{pointerStyle:e,bodyStyle:t};var d,p,h=c.pageYOffset;if(f===c)d=a.containWithinViewport?h:0,p=a.containWithinViewport?h+c.innerHeight:l.availableHeight;else{var m=f.getBoundingClientRect();d=m.top+h,p=m.bottom+h}var y=Math.round(l.anchorVerticalCenter-a.pointerBase/2)-2,b=Math.round(l.anchorVerticalCenter+a.pointerBase/2)+2,v=n===i.PLACEMENT_LEFT||n===i.PLACEMENT_RIGHT;return n===i.PLACEMENT_TOP&&d>l.anchorAbsoluteTop||n===i.PLACEMENT_BOTTOM&&p<l.anchorAbsoluteTop||!v&&p<l.anchorAbsoluteTop||!v&&d>l.anchorAbsoluteBottom||v&&(d+a.pointerBase/2+1>y||p-a.pointerBase/2-1<b)?(g=(0,r.default)(e,u),E=a.hideWhenAnchorIsOffscreen?(0,r.default)(t,u):t,{pointerStyle:g,bodyStyle:E}):function(){var n=(0,r.default)(e,s),o=a.hideWhenAnchorIsOffscreen?(0,r.default)(t,s):t;return{pointerStyle:n,bodyStyle:o}}();var g,E};var r=a(n("q+vg")),o=a(n("kgpH")),i=n("RKCO");function a(e){return e&&e.__esModule?e:{default:e}}var u={visibility:"hidden",zIndex:-1},s={visibility:"visible",zIndex:1}},vP2I:function(e,t,n){"use strict";e.exports={ORIGIN_SITE_PRODUCTION:"https://www.mapbox.com/core",ORIGIN_SITE_STAGING:"https://122e4e-mapbox.global.ssl.fastly.net/core",ORIGIN_API_PRODUCTION:"https://api.mapbox.com",ORIGIN_API_STAGING:"https://cloudfront-staging.tilestream.net",ERROR_REAUTH_CANCELLED:"ReauthCancelledError"}},vbRg:function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("GiK3")),i=r(n("KSGD"));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?d(e):t}var h=function(e){function t(){return a(this,t),p(this,c(t).apply(this,arguments))}return l(t,o.Component),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.siteName,r=e.siteUri,i=e.onSiteNameClick,a=t.map(function(e){return o.createElement("a",{href:e.href,className:"flex-child relative mr18 mr36-mxl color-gray-dark color-blue-on-hover",key:e.href,onClick:e.onClick},e.text)});return o.createElement("div",{className:"limiter flex-parent flex-parent--center-cross"},o.createElement("div",{className:"flex-child flex-child--no-shrink flex-parent flex-parent--center-cross"},o.createElement("a",{className:"flex-child mb-logo wmax180-mxl wmax30",href:"https://www.mapbox.com","aria-label":"Mapbox"}),o.createElement("div",{className:"flex-child flex-parent flex-parent--center-cross color-blue txt-l txt-bold relative"},o.createElement("div",{className:"flex-child mx12 bg-blue h24 none block-mxl",style:{width:2}}),o.createElement("a",{href:r,onClick:i,className:"flex-child color-blue color-blue-dark-on-hover ml6 ml0-mxl"},n))),o.createElement("nav",{className:"flex-child flex-child--grow flex-parent flex-parent--center-cross flex-parent--end-main txt-bold txt-s"},a),o.createElement("div",{id:"mbx-user-menu-non-mobile",style:{width:66},className:"flex-child flex-child--no-shrink"}))}}]),t}();h.propTypes={items:i.arrayOf(i.object).isRequired,siteName:i.string.isRequired,siteUri:i.string.isRequired,onSiteNameClick:i.func};var m=function(e){function t(){return a(this,t),p(this,c(t).apply(this,arguments))}return l(t,o.PureComponent),s(t,[{key:"render",value:function(){var e=this.props;return o.createElement("svg",{role:"presentation",focusable:"false",className:"events-none icon",style:{width:e.size,height:e.size}},o.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"#icon-".concat(e.name)}))}}]),t}();m.propTypes={name:i.string.isRequired,size:i.number.isRequired};var y=function(e){function t(e){var n;return a(this,t),(n=p(this,c(t).call(this,e))).state={open:!1},n.closeOnDocumentClick=n.closeOnDocumentClick.bind(d(d(n))),n.toggleMenu=n.toggleMenu.bind(d(d(n))),n}return l(t,o.Component),s(t,[{key:"componentDidUpdate",value:function(e,t){!this.state.open||t.open?!this.state.open&&t.open&&window.document.removeEventListener("click",this.closeOnDocumentClick):window.document.addEventListener("click",this.closeOnDocumentClick)}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("click",this.closeOnDocumentClick)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.open!==t.open}},{key:"closeOnDocumentClick",value:function(e){this.state.open&&(this.mobileTriggerRef.contains(e.target)||this.menuBodyElement.contains(e.target)&&!e.target.getAttribute("data-page-header-mobile-link")||this.setState({open:!1}))}},{key:"toggleMenu",value:function(){this.setState(function(e){return{open:!e.open}})}},{key:"renderLogoName",value:function(){var e=this.props,t=e.siteName,n=e.siteUri,r=e.onSiteNameClick;return o.createElement("div",{className:"flex-parent flex-parent--center-cross"},o.createElement("a",{className:"flex-child mb-logo",href:"https://www.mapbox.com","aria-label":"Mapbox",style:{width:30}}),o.createElement("a",{href:n,className:"flex-child color-blue color-blue-dark-on-hover txt-l txt-bold ml6",style:{marginBottom:1},onClick:r},t))}},{key:"renderMenu",value:function(){var e=this;if(!this.state.open)return null;var t={width:0,height:0,fontSize:0,lineHeight:0,borderLeft:"".concat(16,"px solid transparent"),borderRight:"".concat(16,"px solid transparent"),borderBottom:"".concat(16,"px solid currentColor"),position:"absolute",top:-16,left:16},n=this.props.items,r=n.map(function(e,t){var r="color-gray-dark color-blue-on-hover txt-s txt-bold block";return t<n.length-1&&(r+=" mb12"),o.createElement("li",{key:e.href,className:r},o.createElement("a",{href:e.href,"data-page-header-mobile-link":!0,onClick:e.onClick},e.text))});return o.createElement("div",{className:"absolute left shadow-darken10-bold bg-white round z5",style:{top:56,marginLeft:10},ref:function(t){e.menuBodyElement=t}},o.createElement("div",{className:"color-white",style:t}),o.createElement("div",{className:"py30 px30"},o.createElement("nav",null,o.createElement("ul",{className:"txt-bold color-darken75"},r))))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:"relative"},o.createElement("div",{className:"limiter flex-parent flex-parent--center-cross"},o.createElement("div",{className:"flex-child flex-child--no-shrink"},o.createElement("button",{type:"button",ref:function(t){e.mobileTriggerRef=t},"aria-label":"menu",className:"block color-blue",onClick:this.toggleMenu},o.createElement(m,{name:this.state.open?"close":"menu",size:36}))),o.createElement("div",{className:"flex-child flex-child--grow ml12"},this.renderLogoName()),o.createElement("div",{id:"mbx-user-menu-mobile",style:{width:66},className:"flex-child flex-child--no-shrink"})),this.renderMenu())}}]),t}();y.propTypes={items:i.arrayOf(i.object).isRequired,siteName:i.string.isRequired,siteUri:i.string.isRequired,onSiteNameClick:i.func};var b=function(e){function t(){return a(this,t),p(this,c(t).apply(this,arguments))}return l(t,o.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.siteName,r=e.siteUri,i=e.onSiteNameClick;return o.createElement("div",null,o.createElement("div",{className:"none block-mm"},o.createElement(h,{items:t,siteName:n,siteUri:r,onSiteNameClick:i})),o.createElement("div",{className:"none-mm"},o.createElement(y,{items:t,siteName:n,siteUri:r,onSiteNameClick:i})))}}]),t}();b.propTypes={items:i.arrayOf(i.shape({href:i.string.isRequired,text:i.string.isRequired,onClick:i.func})).isRequired,siteName:i.string.isRequired,siteUri:i.string.isRequired,onSiteNameClick:i.func};var v=function(e){function t(){return a(this,t),p(this,c(t).apply(this,arguments))}return l(t,o.Component),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return o.createElement("div",{className:"txt-s color-darken50"},o.createElement("a",{className:"color-blue-on-hover mr18",href:"https://www.mapbox.com/"},"\xa9 Mapbox"),o.createElement("a",{className:"color-blue-on-hover mr18",href:"https://www.mapbox.com/tos/"},"Terms"),o.createElement("a",{className:"color-blue-on-hover mr18",href:"https://www.mapbox.com/privacy/"},"Privacy"),o.createElement("a",{className:"color-blue-on-hover",href:"https://www.mapbox.com/platform/security/"},"Security"))}}]),t}();t.PageHeader=b,t.FooterLegalStrip=v},"vkK+":function(e,t,n){"use strict";var r=n("NNT+"),o=n("QIKs"),i=n("E5Mg");function a(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");r(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||i.API_ORIGIN}a.prototype.createRequest=function(e){return new o(this,e)},e.exports=a},wohe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var u,s,l;s=e===i.PLACEMENT_TOP?r.anchorAbsoluteTop-r.bodyElementHeightWithoutPadding-r.bodyOffsetFromAnchor:e===i.PLACEMENT_BOTTOM?r.anchorAbsoluteBottom+r.bodyOffsetFromAnchor:t===i.ALIGNMENT_TOP?r.anchorAbsoluteTop:t===i.ALIGNMENT_BOTTOM?r.anchorAbsoluteBottom-r.bodyElementHeightWithoutPadding:r.anchorAbsoluteTop+r.anchorRect.height/2-r.bodyElementHeightWithoutPadding/2;(s=Math.max(r.offsetFromEdge,Math.round(s)))<r.topBoundary&&(s=r.topBoundary);s+r.bodyElementHeightWithoutPadding>r.bottomBoundary&&(s=r.bottomBoundary-r.bodyElementHeightWithoutPadding);s-=r.documentTopOffset,l=e===i.PLACEMENT_LEFT?r.anchorRect.left-r.bodyElementWidthWithoutPadding-r.bodyOffsetFromAnchor:e===i.PLACEMENT_RIGHT?r.anchorRect.right+r.bodyOffsetFromAnchor:t===i.ALIGNMENT_LEFT?r.anchorRect.left:t===i.ALIGNMENT_RIGHT?r.anchorRect.right-r.bodyElementWidthWithoutPadding:r.anchorRect.left+r.anchorRect.width/2-r.bodyElementWidthWithoutPadding/2;l=Math.max(r.offsetFromEdge,Math.round(l)),l=Math.min(r.maxLeftOffset,l);var c=o.default.dash("transform");return a(u={},c,"translate3d(".concat(l,"px, ").concat(s,"px, 0)")),a(u,"max-width","".concat(r.maxWidth,"px")),a(u,"max-height","".concat(r.maxHeight,"px")),u};var r,o=(r=n("vuZI"))&&r.__esModule?r:{default:r},i=n("RKCO");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},wzjV:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n("Gyqk"))&&r.__esModule?r:{default:r}).default;t.default=o},xEur:function(e,t,n){"use strict";var r=n("/DI9"),o=n("Xq7W"),i=n("Z9i/");e.exports=function(e){var t=e.client;return Promise.resolve().then(function(){if(!e.withCredentials&&!e.anonymous)return t.accessToken?t.accessToken:i.getTemporaryToken(t)}).then(function(t){var n=r.createRequestXhr(e,t);return e.withCredentials&&(n.withCredentials=!0),r.sendRequestXhr(e,n)}).catch(function(n){if(!function(e){return!(401!==e.statusCode||e.message&&/Incorrect MFA token/.test(e.message))}(n))throw n;if(!t.handleReauth)throw new Error("No reauth handler is set, so this API method is not available.");return o.initializeReauth(e,t.handleReauth)})}},xTxg:function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.map(encodeURIComponent).join(","):encodeURIComponent(String(e))}function o(e,t,n){if(!1===n||null===n)return e;var o=/\?/.test(e)?"&":"?",i=encodeURIComponent(t);return void 0!==n&&""!==n&&!0!==n&&(i+="="+r(n)),""+e+o+i}e.exports={appendQueryObject:function(e,t){if(!t)return e;var n=e;return Object.keys(t).forEach(function(e){var r=t[e];void 0!==r&&(Array.isArray(r)&&(r=r.filter(function(e){return!!e}).join(",")),n=o(n,e,r))}),n},appendQueryParam:o,prependOrigin:function(e,t){if(!t)return e;if("http"===e.slice(0,4))return e;var n="/"===e[0]?"":"/";return""+t.replace(/\/$/,"")+n+e},interpolateRouteParams:function(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(e,n){var o=t[n];if(void 0===o)throw new Error("Unspecified route parameter "+n);return"/"+r(o)}):e}}},yb6k:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n("GiK3")),o=c(n("KSGD")),i=c(n("q+vg")),a=c(n("0pEU")),u=c(n("dSRC")),s=c(n("YPza")),l=c(n("Hmar"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={preSubmission:"PRE_SUBMISSION",errorSubmission:"SUBMITTED_WITH_ERRORS",pendingSubmission:"PENDING",completeSubmission:"COMPLETE"},g=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=d(t).call(this,e),b(y(y(n=!o||"object"!==f(o)&&"function"!==typeof o?y(r):o)),"_isMounted",!1),b(y(y(n)),"onControlChange",function(e,t){var r=n.state.controlValues;r[t]=e,n.state.formState!==v.preSubmission?n.checkValidation(v.preSubmission).then(function(){n.setState({controlValues:r})}):n.setState({controlValues:r}),n.props.onChange&&n.props.onChange(r)}),b(y(y(n)),"getControlProps",function(e){var t=n.props.config[e];return(0,i.default)(t,{id:e,onChange:n.onControlChange,validationError:n.state.controlValidationErrors[e],value:n.state.controlValues[e]})}),b(y(y(n)),"onSubmit",function(){n.checkValidation(v.pendingSubmission).then(function(){n.state.formState===v.pendingSubmission&&n.submitForm()})}),b(y(y(n)),"submitForm",function(){Promise.resolve(n.props.handleFormData(n.state.controlValues)).then(function(){n._isMounted&&n.state.formState===v.pendingSubmission&&n.setState({formState:v.completeSubmission})}).catch(function(e){n._isMounted&&(n.state.formState===v.pendingSubmission&&n.setState({formState:v.completeSubmission}),console.error(e))})}),n.state=(0,i.default)(n.setControlProperties(e.config),{formState:v.preSubmission,ready:!1}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.default.Component),h(t,[{key:"setControlProperties",value:function(e){var t=this,n={},r={};return Object.keys(e).forEach(function(o){var i=e[o];t.state&&t.state.controlValues&&t.state.controlValues[o]?n[o]=t.state.controlValues[o]:n[o]=void 0!==i.initialValue?i.initialValue:"",r[o]=""}),{controlValues:n,controlValidationErrors:r}}}]),h(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setState({ready:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.config;if(!(0,a.default)(e.config,t)){var n=this.setControlProperties(e.config),r=n.controlValues,o=n.controlValidationErrors;this.setState({controlValues:r,controlValidationErrors:o,formState:v.preSubmission})}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"checkValidation",value:function(e){var t=this;return new Promise(function(n){var r=t.state.controlValidationErrors;Object.keys(t.state.controlValues).forEach(function(n){var o=function(e,t,n){if(!t)return"";Array.isArray(t)||(t=[t]);for(var r=0,o=t.length;r<o;r++){var i=t[r](e,n);if(i)return i}return""}(t.state.controlValues[n],t.props.config[n].validator,t.state.controlValues);o?(r[n]=o,e=v.errorSubmission):r[n]=""}),t.setState({controlValidationErrors:r,formState:e},function(){n()})})}},{key:"render",value:function(){var e=this.props.onCancel,t={onEnter:this.onSubmit,noValidate:!0};return e&&(t.onCancel=e),r.default.createElement("div",{className:"relative"},r.default.createElement(u.default,t,this.props.renderForm(this.getControlProps,this.onSubmit)),this.state.formState===v.pendingSubmission&&r.default.createElement(s.default,null),!this.state.ready&&r.default.createElement(l.default,null))}}]),t}();t.default=g,b(g,"propTypes",{config:o.default.object.isRequired,renderForm:o.default.func.isRequired,handleFormData:o.default.func.isRequired,onChange:o.default.func,onCancel:o.default.func})}});
//# sourceMappingURL=auth-signin-852ec0baef7f4bf36bdd.chunk.js.map