var $document=$(document),$body=$("body"),noop=function(){};jQuery.ajaxSetup({beforeSend:function(t,e){it.csrf_token&&e.type&&"GET"!=e.type&&t.setRequestHeader("X-CSRF-Token",it.csrf_token)},complete:function(t){try{var e=JSON.parse(t.responseText);e.csrf_token&&(it.csrf_token=e.csrf_token)}catch(t){}}}),Function.prototype.curry||(Function.prototype.curry=function(){var t=Array.prototype.slice,e=t.apply(arguments),n=this;return function(){return n.apply(null,e.concat(t.apply(arguments)))}}),Date.now||(Date.now=function(){return+new Date}),String.prototype.substring=String.prototype.substr=String.prototype.slice,function(e){if(!e.setImmediate)if(e.postMessage&&e.addEventListener){var n=[],i="zero-timeout";e.addEventListener("message",function(t){t.source===e&&t.data===i&&(t.stopPropagation(),n.length&&n.shift()())},!0),e.setImmediate=function(t){return n.push(t),e.postMessage(i,"*"),t},e.clearImmediate=function(t){var e=n.lastIndexOf(t);0<-~e&&n.splice(e,1)}}else e.setImmediate=function(t){return e.setTimeout(t,0)},e.clearImmediate=function(t){e.clearTimeout(t)}}(window),function(t){t.fn.invisible=function(){return this.each(function(){t(this).css("visibility","hidden")})},t.fn.visible=function(){return this.each(function(){t(this).css("visibility","visible")})}}(jQuery),function(t){t.fn.disableOnSubmit=function(){this.each(function(){$this=t(this),$this.is("a")?$this.click(function(t){$this.addClass("disabled-action")}):$this.submit(function(){$this.find(":submit").attr("disabled",!0)})})}}(jQuery);var initializeTooltips=function(o){var a=!1;o("[data-tooltip]").each(function(){var t=o(this),e=t.data("tooltip"),n=o("<div>").addClass("tooltip").css({opacity:.8}).hide(),i=n.text(e);t.data("is-tooltip-html")&&(i=n.html(e)),hoverHandlerIn=function(){i.appendTo("body"),a?i.show():i.fadeIn("slow")},hoverHandlerOut=function(){a=!0,i=i.hide().detach(),window.setTimeout(function(){a=!1},500)},mousemoveHandler=function(t){i.css({left:t.pageX+10,top:t.pageY+20})},t.removeAttr("title").hover(hoverHandlerIn,hoverHandlerOut).mousemove(mousemoveHandler)})};function IT(){var c=jQuery;this.dateFormat=this.dateStrCulture=this.timeStrCulture,this.Async=function(){this.objForm=this.objEl=this.elId,this.simpleSubmit=function(n,t,i,o,a,e){var s,r=!1;null!==n&&""!==n&&(document.getElementById(n),r=c.isArray(n)),e=c.isPlainObject(e)?e:{};c.getJSON("/"===t.substr(0,1)||0<t.indexOf("://")?t:it.global_baseURL+t,e,function(t){var e;if(null!==n){if(i){if(r)for(s=0;s<n.length;++s)it.async.closeAll(n[s]);else it.async.closeAll(n);return}if(""!==t.result_string)if(r)for(s=0;s<n.length;++s)(e=document.getElementById(n[s])).innerHTML=t.result_string,"null"!==o&&(e.style.color=o);else(e=document.getElementById(n)).innerHTML=t.result_string,"null"!==o&&(e.style.color=o)}try{c.isFunction(a)?a():itPag.simpleSuccessCallback()}catch(t){}})},this.submit=function(t,i,o,e,n,a){var s,r="acFormUniqueCheck"===t,l=c("#"+t);it.async.objForm=l.get(0),null!==i&&(it.async.objEl=document.getElementById(i+"_modal_dialog"),it.async.elId=i),this.clearAllErrs(),s=r&&ac.handleSuccess||function(t){var e,n=null;"object"==typeof t?n=t:void 0!==t&&""!==t&&(n=c.parseJSON(t)),e=n&&0<n.form_errors.length,(o=o||{}).responseObj=n,o.formCallback&&e?o.formCallback(it.async.objForm):o.successCallback&&o.successCallback(),n&&""!==n.redirect_url&&window.location.replace(n.redirect_url),(null!==it.async.objEl&&a||!n)&&it.async.closeAll(i)},c.ajax({type:n||"GET",url:"/"===e.substr(0,1)||0<e.indexOf("://")?e:it.global_baseURL+e,data:l.serialize(),success:s,error:function(){o&&c.isFunction(o.failureCallback)&&o.failureCallback(i)},cache:!1})},this.popErr=function(t,e){var n=c(it.async.objEl),i=0<n.find(':input[name="'+t+'"]').length?'<label for="'+t+'">'+e+"</label>":e;n.find(".error_box").append('<div class="alert_yellow">'+i+"</div>"),n.dialog("option","height","auto"),n.on("dialogclose",function(){it.async.clearAllErrs()})},this.clearAllErrs=function(){c(".error_box").empty()},this.cancel=function(){it.async.clearAllErrs(),it.async.statusSwitch(it.async.elId,"input")},this.closeAll=function(t){it.async.clearAllErrs(),c("#"+t+"_modal_dialog").dialog("close")},this.statusSwitch=function(t,e){var n=c("#"+t+"_con_err").hide(),i=c("#"+t+"_but_err").hide(),o=c("#"+t+"_con_input").hide(),a=c("#"+t+"_con_list").hide(),s=c("#"+t+"_but_input").hide(),r=c("#"+t+"_but_list").hide(),l=c("#"+t+"_con_wait").hide();switch(e){case"list":a.show(),r.show();break;case"wait":l.show();break;case"input":o.show(),s.show();break;case"error":n.show(),i.show()}}},this.async=new this.Async,this.FormUtil=function(){this.checkChange=function(t){return it.formUtil.isBeforeUnloadEvent?it.formUtil.hasChange?"You have unsaved changes.":void 0:!!it.formUtil.hasChange&&window.confirm(t||"Are you sure you want to navigate away from this page?\n\nYou have unsaved changes.\n\nPress OK to continue without saving or Cancel to stay on the current page.")},this.confirmAction=function(t,e){window.confirm(t)&&(it.formUtil.clearChanges(),window.location.replace(e))},this.errCallback=function(t,e){try{t.removeChild(e)}catch(t){}},this.clearAllErrs=function(){c(".asyncErr").remove()},this.setHasChange=function(){it.formUtil.hasChange=!0},this.clearChanges=function(){it.formUtil.hasChange=!1},this.createHiddenField=function(t,e,n){var i=c('<input type="hidden"/>').attr("name",t).attr("value",e);c("#"+n).append(i)},this.sendPublicInvitation=function(t,e,n){var i=e+"?to_acct_id="+n+"&msg="+encodeURI(document.getElementById(t).value);window.location.replace(i)},this.getFieldId=function(t,e){window.alert(document.form.field.id)}},this.formUtil=new this.FormUtil,this.Menu=function(){var i=this;i.mouse_is_inside=!1,i.doClose=function(){c(".options_link_on").addClass("options_link").removeClass("options_link_on").find(".sprites_nav.ico_up_arr_m").removeClass("ico_up_arr_m").addClass("ico_down_arr_m"),c(".options_link").find(".sprites_nav.ico_gear_m").show(),c(".options_link").data("menu-open",!1),c("#menu .inPop.opts").hide(),c("#menu").addClass("posStc").removeAttr("id")},$document.on("mouseup",function(t){i.mouse_is_inside||i.doClose()}),c(".options_link_on").data("menu-open",!1),$document.on("click",".options_link, .options_link_on",function(t){var e=c(this);e.data("menu-open")?i.doClose():($document.trigger("clickTripOptions"),i.doClose(),e.removeClass("options_link").addClass("options_link_on"),e.find(".sprites_nav.ico_down_arr_m").removeClass("ico_down_arr_m").addClass("ico_up_arr_m"),e.find(".sprites_nav.ico_gear_m").hide(),c("#menu").removeAttr("id").addClass("posStc"),e.parent().parent().attr("id","menu"),c("#menu .inPop.opts").show(),$document.on("click","#menu ul li a",function(t){i.doClose()}),i.mouse_is_inside=!0,c("#menu").hover(function(){i.mouse_is_inside=!0},function(){i.mouse_is_inside=!1}),c(".options_link_on").data("menu-open",!0))}),$document.on("click",".underdraw a.underdraw_link",function(t){var e=c(this),n=c("#menu.underdraw");return"menu"===e.parent().attr("id")?n.addClass("posStc").removeAttr("id"):(n.removeAttr("id").addClass("posStc"),e.parent().attr("id","menu"),n.find(".jQoptions").hover(function(){i.mouse_is_inside=!0},function(){i.mouse_is_inside=!1})),it.noclick(t)})},this.menu=new this.Menu}function ITUtil(f){this.Modal=function(){this.Scrollbar_handler=function(){this.con_id,this.scrl_toggle=function(){var t=f("#"+itUtil.modal.scrollbar_handler.con_id);t.hasClass("oflHid")?t.removeClass("oflHid").addClass("oflAut posRel"):t.removeClass("oflAut").addClass("oflHid")},this.scrl=function(){window.setTimeout(itUtil.modal.scrollbar_handler.scrl_toggle,400)},this.exec=function(t){itUtil.modal.scrollbar_handler.con_id=t,itUtil.modal.scrollbar_handler.scrl()}},this.scrollbar_handler=new this.Scrollbar_handler},this.modal=new this.Modal,this.JQmodal=function(){this.execSetup=function(t,e,n,i,o,a,s,r,l,c){var u=f("#"+t+"_modal_dialog").data("modal-shouldHideClose",a),d=u.attr("title");u.dialog({modal:!0,width:i,height:o,title:r||d||"",autoOpen:!1,resizable:!1,open:function(){u.find("[data-modal-close]").blur()},close:it.showAds,zIndex:2001,appendTo:c}),jQuery.isFunction(l)&&u.on("dialogopen",l),s&&u.dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove()},this.modalHelper=function(t,e){this.execSetup(t,e.idOverride||t,!!e.canNotCloseViaOverlay,e.width||"auto",e.height||"auto",!!e.hideClose,!!e.removeTitleBar,e.title||null,e.openCallback||null,e.appendToDiv||null)},this.launch=function(t,e,n){it.hideAds();var i=f("#"+t+"_modal_dialog");i.dialog("open"),e?f(".ui-widget-overlay").css({opacity:.45,background:"#000"}):f(".ui-widget-overlay").css({opacity:.1,background:"#000"}).click(function(){f("#"+t+"_modal_dialog").dialog("close")}),(n||i.data("modal-shouldHideClose"))&&i.parent().find(".ui-dialog-titlebar-close").hide()},this.exec=function(e,n,i,o,a,s,r,l,c,u){var d=this;jQuery(function(t){d.execSetup(e,n,i,o,a,s,r,l,c,u),"open_onload"===n?$document.ready(function(){itUtil.jQmodal.launch(e,i,s)}):$document.on("click","#"+n+"_lnk",function(){itUtil.jQmodal.launch(e,i,s)})})}},this.jQmodal=new this.JQmodal}jQuery(initializeTooltips),it=$.extend(it,new IT),jQuery(function(t){t('input[type="text"], input[type="email"], input[type="number"], textarea').attr("autocomplete","off"),t("form").attr("novalidate",!0)}),function(t,o){t.showAds=t.hideAds=noop,t.addEventHandler=function(n,i){var t=o("#add_event_modal_dialog");t.dialog(),t.find("a").each(function(){var t=o(this),e=t.attr("href")||"";e=e.replace(/trip_id=[0-9]+/,"trip_id="+(n||"")).replace(/date=[^&]+/,"date="+(i||"")),t.attr("href",e)})},$document.on("click",".launch-add-plans",function(){var t=o(this);it.addEventHandler(t.data("trip-id"),t.data("date"))}),t.noclick=function(t){return(t=t||window.event)&&o.isFunction(t.preventDefault)&&t.preventDefault(),!1},t.keys={},t.keys.modifier=function(t,e){var n,i={"0001":"altKey","0002":"altLeft","0010":"ctrlKey","0020":"ctrlLeft","0100":"shiftKey","0200":"shiftLeft",1e3:"metaKey"};return(e=e||window.event)&&(e.target||e.srcElement,e.which||e.keyCode,void 0!==e[i[t]]?n=!!e[i[t]]:e.modifiers&&(t=parseInt(t,2),n=0<(e.modifiers&t))),!!e&&!!n},t.keys.shift=t.keys.modifier.curry("0100"),t.keys.ctrl=t.keys.modifier.curry("0010"),t.keys.alt=t.keys.modifier.curry("0001"),t.keys.meta=t.keys.modifier.curry("1000"),t.keys.altLeft=t.keys.modifier.curry("0002"),t.keys.ctrlLeft=t.keys.modifier.curry("0020"),t.keys.shiftLeft=t.keys.modifier.curry("0200"),t.keys.enter=function(t){return 13===((t=t||window.event).which||t.keyCode||-1)},t.keys.esc=function(t){return 27===((t=t||window.event).which||t.keyCode||-1)},t.keys.tab=function(t){return 9===((t=t||window.event).which||t.keyCode||-1)}}(it,jQuery);var itUtil=new ITUtil(jQuery);$document.on("click",".itUI-clickHide",function(){var t=$(this);t.slideUp("fast",function(){t.remove()})}),$document.on("click",".itUI-print",function(){window.print()}),jQuery(function(t){it.Event.publish("DOMReady",t)}),jQuery(function(n){n(".itUI-tabs").each(function(){var t=n(this),e=t.data("initial-tab");t.tabs(),void 0!==e&&t.tabs("option","active",e)})}),$document.on("itUI-tabs-setup",".itUI-tabs",function(){$(this).each(function(){$(this).tabs()})}),function(o){var a=null;it.Event={publish:function(t,n){var e,i=o.isArray(t)?t:[t];for(e=0;e<i.length;++e)!function(e){jQuery(function(t){(a=a||t("body")).trigger(i[e],n)})}(e)},subscribe:function(t,e){o(function(){a=o("body").on(t,e)})}}}(jQuery),it.debounce=function(n,i,o){var a;return function(){var t=this,e=arguments;a?window.clearTimeout(a):o&&n.apply(t,e),a=window.setTimeout(function(){o||n.apply(t,e),a=null},i||100)}},$document.on("click","[data-click-publish], [data-click-event]",function(t){var e=$(this),n=(e.attr("data-click-publish")||e.attr("data-click-event")||"").split(" ");t.preventDefault(),it.Event.publish(n,e)}),$document.on("change","[data-change-publish], [data-change-event]",function(t){var e=$(this),n=(e.attr("data-change-publish")||e.attr("data-change-event")||"").split(" ");it.Event.publish(n,$(this))}),jQuery(function(o){o("[data-confirm]").each(function(){var t=o(this),e=o('<button type="button"></button>').prop("className",t.prop("className")).text(t.text());t.is(":disabled")&&e.prop("disabled",!0),t.hide().text(t.attr("data-confirm")).removeAttr("data-confirm").removeClass("primary offer positive").addClass("negative").before(e);function n(){t.show().css({opacity:.5}).stop().animate({opacity:1})}var i=function(t){e.css({marginRight:10,opacity:.5}),e.on("click mouseover",n).off("click",i),n()};e.on("click",i)})}),function(s){var r=it.debounce(s.getJSON,250);$document.on("keyup","[data-edit-href],[data-edit-publish]",function(t){var e=s(this),n=e.attr("data-edit-href"),i=e.attr("data-edit-param")||"edited_value",o={},a=e.attr("data-edit-publish");if(onLoadEvents=e.attr("data-edit-onload"),eventIdx=0,callback=function(t){if(onLoadEvents)for(eventIdx=0;eventIdx<onLoadEvents.length;eventIdx++)it.Event.publish(onLoadEvents[eventIdx],[t,e])},a=a&&a.split(" ")||[],onLoadEvents=onLoadEvents&&onLoadEvents.split(" ")||[],n&&(o[i]=e.val(),r(n,o,callback)),a)for(eventIdx=0;eventIdx<a.length;eventIdx++)it.Event.publish(a[eventIdx],[null,e])})}(jQuery),function(){var n,i,l=(n={},{put:function(t,e){n[t]=e},get:function(t){return n[t]}});it.cellFunctions=(i={},{put:function(t,e){if(i[t])throw new Exception("function name already defined");i[t]=e},get:function(t){return i[t]}}),it.cellFunctions.put("noop",function(){}),it.cellFunctions.put("identity",function(t){return t});function o(t,o,a){var e,s=[],r=it.cellFunctions.get("identity");for(e=0;e<t.length;e++)!function(){var i=e;$(document).on(t[i],function(t,e){var n=null;s[i]=e,window.setTimeout(function(){n=r.apply(this,s),o?(a(l,n),it.Event.publish(o,[n])):a(l,n)},0)})}();return{onAny:function(t){r=t||it.cellFunctions.get("identity")}}}it.Cell=function(t,n){if(!$.isArray(t))throw new Exception("Arguments to construct cells must be: dependent events, cellId (optional). Thank you.");return o(t,n,function(t,e){t.get(n)||t.put(n,{id:n}),t.get(n).val=e})},it.HTMLCell=function(){var n=$(this),t=n.attr("id")||null,e=n.attr("data-cell-subscribes").split(" "),i=n.attr("data-cell-function");t&&l.put(t,n),o(e,t,function(t,e){n.is(":input")||n.is("textarea")||n.is("select")?n.val(e):(e&&e.result_string&&0<e.result_string.length&&(e=e.result_string),n.html(e))}).onAny(it.cellFunctions.get(i))}}(),jQuery(function(t){t("[data-cell-subscribes],[data-cell-function]").each(it.HTMLCell)}),jQuery(function(t){it.Event.subscribe("availableValueChanged",function(t,e,n){it.Event.publish("sourceElementKnown",[n]),n&&it.Event.publish("newNameKnown",[n.val()]),e&&(it.Event.publish("validateErrorsKnown",[e.form_errors]),it.Event.publish("availableValueKnown",[0===e.form_errors.length]))}),it.Event.subscribe("availableValueUnknown",function(){it.Event.publish("availableValueKnown",[void 0])}),t("#unique_name").each(function(){it.Event.publish("oldNameKnown",[t(this).val()])})}),it.Cell(["sourceElementKnown"],"validateDisplaySetup").onAny(function(t){var e=null;return t&&(e=t.siblings(".inline-display")),e&&0===e.size()&&(e=$('<div class="inline-display"></div>'),t.after(e)),e}),it.Cell(["validateErrorsKnown","oldNameKnown","newNameKnown"],"validateHasErrors").onAny(function(t,e,n){return t&&0<t.length&&($.trim(e)!==$.trim(n)||""===n)}),it.Cell(["sourceElementKnown","validateHasErrors","oldNameKnown"],"newNameAvailable").onAny(function(t,e,n){return!1===e&&t?t.val():t?n||"":void 0}),it.Cell(["validateHasErrors","validateDisplaySetup"]).onAny(function(t,e){e&&(e.toggleClass("fntRed",t),e.toggleClass("fntGrn",!t))}),it.Cell(["validateHasErrors","validateErrorsKnown","validateDisplaySetup"]).onAny(function(t,e,n){var i=0,o=null;if(n&&t&&0!==e.length)for(n.empty();i<e.length;++i)o=1<e.length&&e.length!==i-1?"<br />":"",n.append(e[i].error_message+o)}),it.Cell(["validateDisplaySetup","availableValueKnown","validateHasErrors"]).onAny(function(t,e,n){t&&(e&&!1===n?t.html("Available"):void 0===e&&!1===n?t.html("Checking availability"):!1===e&&!1===n&&t.empty())}),jQuery(function(a){a("[data-menu-selector], [data-menu-title]").each(function(){function e(t){(n.is(":visible")&&n.get(0)!==t.target||0<n.selector.length&&0<a(t.target).parents(n.selector).length)&&(o.fadeOut("fast"),$body.off("click",e))}var n,t,i,o=a(this);(new Image).src="/css/images/ui-bg_highlight-soft_25_519dce_1x100.png",o.removeClass("semicolonDelimited"),o.attr("data-menu-title")?n=a('<button class="action soft sizeS">'+o.attr("data-menu-title")+"</button>"):o.attr("data-menu-selector")&&(t={top:(n=a(o.attr("data-menu-selector"))).css("top"),left:n.css("left")}),n.click(function(t){t.preventDefault(),$document.on("click","body",e),o.show()}),o.delegate(".ui-menu-item a","click",function(){o.fadeOut("fast")}).mouseout(function(){i=window.setTimeout(function(){o.fadeOut("fast")},400)}).mouseover(function(){i=i&&window.clearTimeout(i)}).before(n),o.attr("data-menu-title")&&(t=n.position()),o.hide().css({position:"absolute",left:t.left,top:t.top,zIndex:1e3}).menu()})}),function(a){$document.on("click","[data-hijax-href], [data-hijax-event]",function(t){t.preventDefault();var e=a(this),n=e.attr("data-hijax-href"),i=e.attr("data-hijax-event"),o=e.attr("data-hijax-target");n?a.get(n,function(t){i&&e.trigger(i,[t]),o&&a(o).html(t)}):e.trigger(i)})}(jQuery),$document.on("click","[data-href]",function(t){var e=$(this).attr("data-href");if(e)return window.location.assign(e),it.noclick(t)}),$document.on("click","[data-click-submit-href]",function(t){var e=$(this),n=e.attr("data-click-submit-href"),i=e.attr("data-click-submit-data"),o=e.attr("data-click-submit-confirm");n&&(o&&!window.confirm(o)||(e.attr("disabled",!0),$.ajax({type:"POST",dataType:"json",url:n,data:i,success:function(t){t&&t.redirect_url&&window.location.assign(t.redirect_url)},error:function(t){if(401==t.status)window.location.assign(it.login_page+"?redirect_url="+window.location.href);else if(403==t.status)window.location.assign(it.csrf_mismatch_page);else if(t&&t.responseText){var e=$.parseJSON(t.responseText);e&&e.redirect_url&&window.location.assign(e.redirect_url)}}})),t.preventDefault())}),jQuery(function(i){var o=function(){var e=i(this),t=e.attr("data-load-href"),n=e.attr("data-load-event");i.get(t,function(t){e.html(t),n&&$body.trigger(n,[t]),e.find("[data-load-href]").each(o)})};i("[data-load-href]").each(o)}),jQuery(function(i){$document.on("click","[data-show-selector]",function(t){t.preventDefault(),i(i(this).attr("data-show-selector")).show()}),$document.on("click","[data-hide-selector]",function(t){t.preventDefault(),i(i(this).attr("data-hide-selector")).hide()}),i("[data-toggle-event]").each(function(){for(var t=i(this),e=t.attr("data-toggle-event").split(" "),n=0;n<e.length;n++)$body.on(e[n],function(){t.toggle()})}),i("[data-show-event]").each(function(){for(var t=i(this),e=t.attr("data-show-event").split(" "),n=0;n<e.length;n++)$body.on(e[n],function(){t.show()})}),i("[data-hide-event]").each(function(){for(var t=i(this),e=t.attr("data-hide-event").split(" "),n=0;n<e.length;n++)$body.on(e[n],function(){t.hide()})}),i("[data-close-event]").each(function(){var t,e=i(this),n=e.attr("data-close-event").split(" ");for(t=0;t<n.length;++t)$body.on(n[t],function(){e.dialog("close")})})}),String.prototype.toTitleCase=function(){return(this||"").replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},$document.ready(function(){var o=new window.TRIPIT.util.tracking;$document.on("click","a.track-click-event",function(t){var e=$(this),n=e.attr("href"),i=e.text()||n;t.preventDefault(),o.trackEvent("link","click",i),window.open(n)})}),$document.on("click","[data-googleanalytics-outgoingurl]",function(){window._gaq=_gaq||[],window._gaq.push(["_trackPageview",$(this).attr("data-googleanalytics-outgoingurl")])}),$document.ready(void jQuery("#removeOnReady").remove()),$document.ready(function(o){if(it.is_mobile){$document.delegate("form","submit",function(t){var e=o(this),n=e.find(":submit");o.browser.msie||(e.attr("disabled",!0),n.attr("disabled",!0).each(function(){var t=o(this);o.data(this,"html_orig",t.html()),t.html("Submitting&hellip;")}),window.setTimeout(function(t){t.each(function(){o(this).html(o.data(this,"html_orig"))}).removeAttr("disabled").parents("form").removeAttr("disabled")}.curry(n),5e3))})}o("div.alert_yellow > label").each(function(){var t=o(this),e=t.attr("for")||"",n=o(':input[name="'+e+'"]'),i=n.attr("id")||"";0<e.length&&0<n.length&&0<i.length?t.attr("for",i):t.removeAttr("for")})});var isBound=function(t,e,n){"use strict";var i,o=$._data(t,"events"),a=!1;if(void 0!==o&&0!==o.length)if(void 0===n)a=!0;else for(i=0;i<o[e].length;i++)a=o[e][i].namespace===n;return a};!function(a){"use strict";$document.ready(function(){a(".deferred_image").each(function(){var t=a(this),e=a("<img/>"),n=t.get(0).attributes,i={};t.removeClass("deferred_image");for(var o=0;o<n.length;o++){null!==n[o].nodeValue&&void 0!==n[o].nodeValue&&"object"!=typeof n[o].nodeValue&&0<(n[o].nodeValue+"").length&&(i[n[o].nodeName]=n[o].nodeValue)}e.attr("style",t.attr("style")),e.attr(i),e.attr("src",t.data("image-src")),t.replaceWith(e)})})}($),function(o){it.Mask=function(i,t){this.element=i,this.maskDiv=null,this.maskMsgDiv=null,this.show=function(){var t=o(i),e=o('<div class="loadmask"></div>'),n=o('<div class="loadmask-msg" style="display: none;"><img src="/images/icons/loading-atom.gif" class="loading-atom" alt="Loading" title="Loading"/></div>');this.maskDiv=e,this.maskMsgDiv=n,t.addClass("masked"),-1<navigator.userAgent.toLowerCase().indexOf("msie")&&(e.height(t.height()+parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))),e.width(t.width()+parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")))),e.append(n),t.append(e),n.show()},this.hide=function(){this.maskMsgDiv.remove(),this.maskDiv.remove()},t&&this.show()}}(jQuery),$document.ready(function(t){var e,n,i,o,a;e=document,n="twitter-wjs",o=e.getElementsByTagName("script")[0],a=/^http:/.test(e.location)?"http":"https",e.getElementById(n)||((i=e.createElement("script")).id=n,i.src=a+"://platform.twitter.com/widgets.js",o.parentNode.insertBefore(i,o))}),function(l){"use strict";function c(e,t,n,i){l.ajax({url:e,dataType:"JSON",type:"GET",success:function(n){n&&n.result_map&&t&&l.each(t,function(t,e){l(e).html(n.result_map[t])})},error:function(t){401===t.status?window.location.assign(it.login_page+"?redirect_url="+e):403===t.status&&window.location.assign(it.csrf_mismatch_page)},complete:function(){n||window.history.pushState({url:e,selectors:t},document.title,e),i&&i()}})}l(window).on("popstate",function(t){if(t.originalEvent&&t.originalEvent.state){var e=t.originalEvent.state;c(e.url,e.selectors,!0)}return!1}),$document.on("click","a.ajax-link",function(t){t.preventDefault();var e=l(this),n=e.attr("href"),i=e.data("target-selectors")?e.data("target-selectors").split(","):[],o=e.data("onclick-event"),a=e.data("on-complete-event"),s=e.data("prevent-pushstate"),r=l(t.target);o&&r.trigger(o),window.history&&window.history.pushState&&i?c(n,i,s,function(){a&&$document.trigger(a)}):window.location.assign(n)})}(jQuery),function(n){"use strict";function t(t,e){return i.pages[t]&&i.pages[t][e]&&n.isFunction(i.pages[t][e])}var i={},e=$body.data("js-module"),o=$body.data("js-action");window.TRIPIT={components:{},pages:{},polyfill:{},social:{},util:{},ui:{}},$document.ready(function(){i=window.TRIPIT,t(e,"preExecute")&&i.pages[e].preExecute(),t(e,"common")&&i.pages[e].common(),t(e,o)&&i.pages[e][o](),t(e,"postExecute")&&i.pages[e].postExecute()})}(jQuery),$(".one-click").disableOnSubmit();