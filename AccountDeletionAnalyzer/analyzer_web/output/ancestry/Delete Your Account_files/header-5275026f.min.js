!function(e){e.prototype.closest||(e.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),n=void 0,a=this;do{for(n=t.length;n>=0&&t.item(n)!==a;)n-=1}while(n<0&&(a=a.parentElement));return a}),e.prototype.matches||(e.prototype.matches=e.prototype.matchesSelector||e.prototype.mozMatchesSelector||e.prototype.msMatchesSelector||e.prototype.oMatchesSelector||e.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;n>=0&&t.item(n)!==this;)n-=1;return n>-1}),window.NodeList&&!window.NodeList.prototype.forEach&&(window.NodeList.prototype.forEach=function(e,t){for(var n=t||window,a=0;a<this.length;a++)e.call(n,this[a],a,this)}),[window.Element.prototype,window.CharacterData.prototype,window.DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})}(window.Element);var header=function(e){"use strict";function t(e){-1===location.host.indexOf(".ancestry.")&&console.warn(e)}function n(){Ie=window.ui||function(){return t("Using fallback window.ui methods and polyfills. Update to ancestry-ui@1.0.0 or greater."),{deleteCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"},getCookie:function(e){var t,n,a=e+"=",i=document.cookie.split(";"),o=i.length;for(n=0;n<o;n+=1)if(t=i[n].trim(),0===t.indexOf(a))return t.substring(a.length,t.length);return""},getRandomNumber:function(e,t){return Number.isNaN(e)||Number.isNaN(t)?Date.now().toString()+Math.floor(1e3*Math.random()+1):Math.floor(Math.random()*(1+t-e)+e)},keyCodes:{down:40,enter:13,esc:27,left:37,right:39,shift:16,tab:9,up:38,space:32},setCookie:function(e,t,n,a,i){var o,r=new Date;n=n||90,r.setTime(r.getTime()+864e5*n),o="expires="+r.toUTCString(),a=a||window.location.hostname.replace(/.+?\./,"."),i=i||"/",document.cookie=e+"="+t+"; "+o+"; "+(a?"domain="+a+"; ":"")+(i?"path="+i+"; ":"")},setDictionaryCookie:function(e,t,n,a,i,o){var r=e.toUpperCase(),s=t.toUpperCase(),c=this.getCookie(r);if(null===c||void 0===c)c=s+"="+n;else{var l=c.toLowerCase(),u=l.indexOf(s.toLowerCase()+"=");if(-1===u)c.length>0&&(c+="&"),c=""+c+s+"="+n;else{var d=l.indexOf("&",u);-1===d?c=0===u?s+"="+n:""+c.substring(0,u)+s+"="+n:(l=c,c="",u>0&&(c=l.substring(0,u)),c=""+c+s+"="+n+l.substring(d))}}this.setCookie(r,c,a,i,o)},visible:function(e){var t=!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),n=!Array.prototype.filter.call(function(e){for(var t=e,n=[];t&&t.parentNode&&t!==t.parentNode;)n.push(t.parentNode),t=t.parentNode;return n}(e).push(e),function(e,t){return"hidden"===window.getComputedStyle(t).visibility}).length;return t&&n}}}(),Ie.keyCodes||(Ie.keyCodes={down:40,enter:13,esc:27,left:37,right:39,shift:16,tab:9,up:38,space:32}),Ie.keyCodes.space||(Ie.keyCodes.space=32)}function a(e){if(e.testResponse)return void setTimeout(function(){e.success(e.testResponse)},Ae.testing.ajaxDelay||500);var t=e.url.indexOf("?")>-1?"&":"?",n="headerCallback"+Ie.getRandomNumber(),a=document.createElement("script");a.src=e.url+t+"callback="+n,a.id="headerApiScript",a.async=!0,window[n]=function(t){document.getElementById("headerApiScript").remove();var n="string"==typeof t?JSON.parse(t):t;e.success&&e.success(n)},document.head.appendChild(a)}function i(e,t){return e&&t?"<em>"+e+" - "+t+"</em>":e?"<em>"+e+"</em>":t?"<em>"+t+"</em>":""}function o(e,t){return JSON.stringify(e)===JSON.stringify(t)}function r(e,t,n){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+n+"$2"):e+i+t+"="+n}function s(){window.acom&&window.acom.bus?window.acom.bus.on("PersonHintTab::hintcount_change::pending",function(){header.updateUserData("hints")}):setTimeout(function(){window.acom&&window.acom.bus&&window.acom.bus.on("PersonHintTab::hintcount_change::pending",function(){header.updateUserData("hints")})},500)}function c(){var e=document.getElementById("navDna"),t=document.getElementById("navDnaMenu");Ae.isLoggedIn&&e&&e.hasAttribute("aria-controls")&&(e.addEventListener("focusin",j),e.addEventListener("mouseenter",j),t.addEventListener("focusin",j),t.addEventListener("mouseenter",j),t.addEventListener("touchstart",j))}function l(){y(),v(),s(),d(),c(),p(),g()}function u(){var e=document.getElementById("nav"),t=document.querySelectorAll('#nav a[href*="//www.progenealogists.com"]');e.removeEventListener("click",C),e.addEventListener("click",C),t.forEach(function(e){e.removeEventListener("click",C),e.addEventListener("click",C)})}function d(){var e=document.querySelector(".navLanguageToggle");e&&(e.removeEventListener("click",N),e.addEventListener("click",N))}function m(){var e=document.getElementById("navSeeMoreDnaNotifications");e.removeEventListener("click",J),e.addEventListener("click",J)}function v(){var e=document.getElementById("navSkip");e&&(e.removeEventListener("keydown",U),e.addEventListener("keydown",U))}function g(){var e,t=document.getElementById("nav"),n=t.getAttribute("data-nav-version"),a=t.getElementsByClassName("navSubMenu"),i=document.querySelector(".navMobileMenu"),o=document.getElementById("navSeeAllHintsIn");for(e=a.length-1;e>0;e--)a[e].classList.add(n);le(),t.addEventListener("focusout",S),i&&i.addEventListener("click",M),Ae.isLoggedIn&&o&&o.addEventListener("click",H)}function f(e){var t=e.target,n=t&&t.closest("[data-tracking-name]"),a=n&&(n.closest(".navSubMenu, .navMobileMenu")||n.closest(".nav")||n.closest("#progenLeavingAncestryModal"));if(n&&a){var i=n.classList.contains("calloutTrigger"),o=n.classList.contains("closing"),r="navCart"===n.id;(!i||i&&o&&!r||i&&r)&&D(n.getAttribute("data-tracking-name"))}}function p(){Ae.addTracking&&document.body.addEventListener("click",f)}function y(){var e;ze||(window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){I(),le()},1e3)}),ze=!0)}function h(){a({url:Ae.clearCartUrl+"?customerId="+Ae.userId,success:function(e){if(e){var t=document.getElementById("navCart");t&&t.classList.add("noDisplay");var n=document.querySelector(".navSecondaryMenu .navEmphasizedButton, .navSecondaryMenu .navEmphasizedExpertButton");n&&n.classList.remove("noDisplay")}}})}function E(){a({url:Ae.hintsClearAllUrl+"?customerId="+Ae.userId,success:function(e){e&&document.querySelectorAll("#navHints .badge").forEach(function(e){e.classList.add("noDisplay")})}})}function b(e){var t=e.target.querySelector(".badge[data-badge-viewed]");e.target.closest("a")&&t&&(t.setAttribute("data-badge-clicked","true"),F())}function w(t,n){if(Ie.callout&&t.id&&xe[t.id]){var a="position"!==n||xe[t.id][n]?n:"reposition";xe[t.id][a](),"destroy"===n&&(xe[t.id]=null)}else window.$&&window.$.callout&&e(t).callout(n)}function L(){var e=document.querySelector("#navDnaNotifications .badge");e&&e.classList.add("noDisplay")}function I(){document.querySelectorAll("#nav .initialized[aria-controls]").forEach(function(e){if(!Ie.visible(e)){if(e.classList.remove("initialized"),e.removeEventListener("keyup",x),e.removeEventListener("keydown",B),xe[e.id]&&xe[e.id].contentElement){var t="navMobile"===e.id?"nav":"navMobileMenu";document.getElementById(t).appendChild(xe[e.id].contentElement.firstChild)}w(e,"destroy")}})}function M(e){var t=e.target,n=t.closest(".navSubMenu");t.closest(".calloutMenuTitle")&&n&&n.parentNode.querySelectorAll(".navSubMenu").forEach(function(e){e===n?e.classList.toggle("navSubMenuExpanded"):e.classList.remove("navSubMenuExpanded")})}function C(n){if(n.target.matches('a[href*="//www.progenealogists.com"]'))if(e&&e.modal)e(Pe.templateProgen).modal({width:500}),n.preventDefault();else if(Ie&&Ie.modal)De?De.open():De=Ie.modal(Pe.templateProgen,{width:500,open:!0}),n.preventDefault();else{var a=document.getElementById("progenMessage").innerText;window.confirm(a)||n.preventDefault(),t("Header Error: Missing core.js dependency. DO NOT IGNORE. This is an issue with your page.")}}function D(e){window.utag?window.utag.link({link_name:e,action:"ancestry : navigation : "+e}):t("Omniture Unavailable : "+e)}function S(){var e=document.querySelector(".calloutTrigger.active");e&&setTimeout(function(){var t=document.activeElement,n=t.closest(".calloutContent"),a=e.classList.contains("active");t&&a&&!n&&w(e,"close")},200)}function k(){var e=Date.now(),t=z();document.querySelectorAll("#navMobileMenu .navSubMenu").forEach(function(n){var a=0;if(n.querySelectorAll(".badge").forEach(function(n){var i=n.getAttribute("data-badge-id"),o=Date.parse(n.getAttribute("data-badge-expiration")),r=!0;(t&&t.viewed&&-1!==t.viewed.indexOf(i)||o<=e)&&(r=!1,n.setAttribute("data-badge-viewed","true")),!t||t&&!t.clicked||t&&t.clicked&&-1===t.clicked.indexOf(i)?o>e&&n.classList.remove("noDisplay"):n.setAttribute("data-badge-clicked","true"),r&&a++}),a>0){var i=n.id.replace("Menu",""),o=document.getElementById(i);o.querySelectorAll(".badge").forEach(function(e){e.remove()}),o.insertAdjacentHTML("beforeend"," "+Pe.templateBadge.replace("{text}",a))}})}function A(e){w(document.getElementById(e),"destroy")}function B(e){var t=e.currentTarget,n=document.querySelector("#"+t.getAttribute("aria-controls")),a=n?n.querySelectorAll("a"):[],i=[];a.forEach(function(e){Ie.visible(e)&&i.push(e)}),!e.shiftKey&&e.keyCode===Ie.keyCodes.tab&&i.length&&(i[0]&&i[0].focus(),e.preventDefault(),e.stopPropagation()),e.keyCode===Ie.keyCodes.space&&e.preventDefault()}function x(e){e.keyCode===Ie.keyCodes.space&&w(e.currentTarget,"open")}function N(e){var t=e.currentTarget.getAttribute("data-language-id"),n=e.currentTarget.getAttribute("data-language-name");Ie.setDictionaryCookie("VARS","LCID",t,3560),Ie.setDictionaryCookie("VARS","LCISONAME",n,3560);var a=""+window.location,i=a.replace(/lcid=\d{4}/gi,"lcid="+t);a===i?window.location.reload():window.location=i}function T(){var e=[].slice.call(document.querySelectorAll("#navDnaNotificationsList .navListItem:not(:visible)")).filter(function(e){return Ie.visible(e)}),t=document.getElementById("navSeeMoreDnaNotifications");e?t.classList.remove("noDisplay"):t.classList.add("noDisplay")}function H(e){var t=e.target,n=document.getElementById("navSeeAllHintsMenu");n&&(n.classList.contains("noDisplay")?(t.setAttribute("aria-expanded","true"),n.classList.remove("noDisplay")):(t.setAttribute("aria-expanded","false"),n.classList.add("noDisplay")))}function U(e){var t=document.querySelector(e.target.getAttribute("href"));if(e.keyCode===Ie.keyCodes.enter||e.keyCode===Ie.keyCodes.space){if(!t.getAttribute("tabindex")){var n=function(){t.removeAttribute("tabindex"),t.removeEventListener("blur",n)};t.setAttribute("tabindex","-1"),t.addEventListener("blur",n)}t.focus(),e.preventDefault(),e.stopPropagation()}}function q(e){var t=document.getElementById(e+"Loading");t&&(t.setAttribute("aria-busy","false"),t.classList.add("noDisplay"))}function j(e){$(),O(Ae.dnaUrl+"/rest/headerinfo",K,"dna")}function O(e,t,n){var i=Date.now(),o={url:e,success:t,error:t};Ae.testing&&(o.testResponse=Ae.testing[n]),i>(Oe[n]||0)+5e3&&(Oe[n]=i,a(o))}function z(){var e=P();return e=!!e[Ae.userId]&&e[Ae.userId]}function P(){var e=Ie.getCookie(Ne);return e=!!e.length&&JSON.parse(e)}function R(e){e.target.closest("a")&&(e.currentTarget.removeEventListener("click",R),a({url:Ae.clearUserDataUrl+"?trees=true"}))}function J(){var e=document.getElementById("navDnaNotificationsList"),t=[].slice.call(e.querySelectorAll(".navListItem")).forEach(function(e){return Ie.visible(e)}),n=t.pop(),a=function(e){n.removeEventListener("focusout",a),e.currentTarget.classList.remove("navHideHighlight")};e.querySelectorAll(".navListItem").forEach(function(e){e.classList.add("navShowListItem")}),n.nextSibling.querySelectorAll("a").forEach(function(e){e.classList.add("navHideHighlight")}),n.focus(),n.addEventListener("focusout",a),T()}function F(){var e=P()||{},t=[],n=[];document.querySelectorAll(".navSubMenu").forEach(function(e){e.querySelectorAll(".badge[data-badge-id]").forEach(function(e){e.getAttribute("data-badge-viewed")&&t.push(e.getAttribute("data-badge-id")),e.getAttribute("data-badge-clicked")&&n.push(e.getAttribute("data-badge-id"))})}),t.length||n.length?(e[Ae.userId]={},t.length&&(e[Ae.userId].viewed=t),n.length&&(e[Ae.userId].clicked=n),Ie.setCookie(Ne,JSON.stringify(e),90)):Ie.deleteCookie(Ne)}function W(){document.body.removeEventListener("click",f)}function $(){var e=document.getElementById("navDna"),t=document.getElementById("navDnaMenu");e&&(e.removeEventListener("focusin",j),e.removeEventListener("mouseenter",j),t&&(t.removeEventListener("focusin",j),t.removeEventListener("mouseenter",j),t.removeEventListener("touchstart",j)))}function G(){$(),V(),_(),W()}function V(){document.getElementById("nav").addEventListener("focusout",S)}function _(){var e=document.querySelector(".navMobileMenu");e&&e.removeEventListener("click",M);var t=document.getElementById("navSeeAllHintsIn");t&&t.removeEventListener("click",H)}function Q(e,t,n){Ae.cachedData&&Ae.cachedData[e]&&Ae.cachedData[e].success?n(Ae.cachedData[e]):re(t)}function K(e){var t,n=0,a="",i=document.getElementById("navDna"),o=document.querySelector(".navDnaMenu");if(e&&(e=e.results),i&&!o&&Ie&&Ie.callout){var r=Ie.callout.getInstance(i.getAttribute("data-ui-id"));r&&(o=r.contentElement)}if(!(e&&e.menuitems&&i&&o))return!1;for(n=e.menuitems.length,t=0;t<n;t+=1){a+='<li><a data-tracking-name="'+(e.menuitems[t].trackingName||"DNA Menu Item")+'" href="'+e.menuitems[t].url+'"'+(e.target?' target="'+e.target+'"':"")+">"+e.menuitems[t].text+"</a></li>"}o&&o.querySelector("ul")&&(o.querySelector("ul").innerHTML=a),xe.navDna&&w(i,"position")}function X(e){var t,n,a,i,r,s="",c=document.getElementById("navDnaNotifications"),l=document.getElementById("navDnaNotificationsMenu");if(!c||!l)return!1;if(!e||!0!==e.success||o(Ae.cachedData.navDnaNotificationsMenu,e))return Ae.cachedData.navDnaNotificationsMenu||A("navDnaNotifications"),!1;if(Ae.cachedData.navDnaNotificationsMenu=e,(n=e.menuitems.length)>0){for(t=0;t<n;t+=1){var u=e.menuitems[t];i=Pe.templateNotification.replace("{url}",u.url).replace("{unread}",u.unread?"navUnread":"").replace("{tracking}","DNA Notification"+(u.unread?" Unread":"")),u.img?i=i.replace("{image}",Pe.templateNotificationUsercardImage.replace("{imageUrl}",u.img)):(a=(u.gender||"").toLowerCase(),r="male"===a?"Male":"female"===a?"Female":"Person",i=i.replace("{image}",Pe.templateNotificationUsercardIcon.replace("{icon}",r))),i=i.replace("{title}",u.title).replace("{badge}",u.visited?"":Pe.templateBadge.replace("{text}",Pe.templateNew)).replace("{subtitle}",u.name).replace("{meta}",u.date+", "+u.test),s+=i}document.getElementById("navDnaNotificationsList").innerHTML=s,document.getElementById("navHasDnaNotifications").classList.remove("noDisplay"),document.getElementById("navNoDnaNotifications").classList.add("noDisplay"),m(),T()}else document.getElementById("navNoDnaNotifications").classList.remove("noDisplay"),document.getElementById("navHasDnaNotifications").classList.add("noDisplay");q("navDnaNotificationsMenu")}function Y(e){var t,n,a,r,s,c="",l="",u=document.getElementById("navHints"),d=document.getElementById("navHintsMenu");if(!u||!d)return!1;if(!e||!0!==e.success||o(Ae.cachedData.navHintsMenu,e))return Ae.cachedData.navHintsMenu||A("navHints"),!1;if(Ae.cachedData.navHintsMenu=e,r=e.menuitems.length,s=e.trees.length,r>0){for(t=0;t<r;t+=1){var m=e.menuitems[t];a="Person"===m.type?"Person":"Photo"===m.type?"Image":"Story"===m.type?"Story":"Note",n=i(m.birth,m.death),n.length&&s>1&&(n+=", "),n+=s>1?m.treeName:"",l=Pe.templateNotification.replace("{url}",m.url).replace("{unread}",m.unread?"navUnread":"").replace("{image}",Pe.templateNotificationUsercardIcon.replace("{icon}",a)).replace("{title}",m.title).replace("{badge}",m.unread?Pe.templateBadge.replace("{text}",Pe.templateNew):"").replace("{subtitle}",m.name).replace("{meta}",n).replace("{tracking}","Hint"+(m.unread?" New":"")),c+=l}document.getElementById("navHintsList").innerHTML=c,document.getElementById("navNoHints").classList.add("noDisplay"),document.getElementById("navHasHints").classList.remove("noDisplay")}else document.getElementById("navNoHints").classList.remove("noDisplay"),document.getElementById("navHasHints").classList.add("noDisplay");if(s>1){for(c="",t=0;t<s;t+=1)c+='<li><a data-tracking-name="Hints in Specific Tree" href="'+e.trees[t].url+'">'+e.trees[t].text+"</a></li>";document.getElementById("navSeeAllHintsMenu").innerHTML=c,document.getElementById("navSeeAllHints").classList.add("noDisplay"),document.getElementById("navSeeAllHintsIn").classList.remove("noDisplay")}else document.getElementById("navSeeAllHints").classList.remove("noDisplay"),document.getElementById("navSeeAllHintsIn").classList.add("noDisplay");q("navHintsMenu")}function Z(e){var t,n,a="",i="",r=document.getElementById("navMessages"),s=document.getElementById("navMessagesMenu");if(!r||!s)return!1;if(!e||!0!==e.success||o(Ae.cachedData.navMessagesMenu,e))return Ae.cachedData.navMessagesMenu||A("navMessages"),!1;if(Ae.cachedData.navMessagesMenu=e,(n=e.menuitems.length)>0){for(t=0;t<n;t+=1){var c=e.menuitems[t];i=Pe.templateNotification.replace("{url}",c.url).replace("{unread}",c.unread?"navUnread":"").replace("{tracking}","Message"+(c.unread?" New":"")),i=c.img&&c.img.length?i.replace("{image}",Pe.templateNotificationUsercardImage.replace("{imageUrl}",c.img)):i.replace("{image}",Pe.templateNotificationUsercardIcon.replace("{icon}","Person")),i=i.replace("{title}",c.username).replace("{badge}",c.unread?Pe.templateBadge.replace("{text}",Pe.templateNew):"").replace("{subtitle}",c.text).replace("{meta}",c.date+", "+c.subject),a+=i}document.getElementById("navMessagesList").innerHTML=a,document.getElementById("navNoMessages").classList.add("noDisplay"),document.getElementById("navHasMessages").classList.remove("noDisplay")}else document.getElementById("navNoMessages").classList.remove("noDisplay"),document.getElementById("navHasMessages").classList.add("noDisplay");q("navMessagesMenu")}function ee(e){var t,n,a=0,i="",r=!1,s="navTrees",c=document.getElementById(s),l=document.getElementById("navTreesMenu");if(!c||!l)return!1;if(!e||!0!==e.success||o(Ae.cachedData.navTreesMenu,e))return Ae.cachedData.navTreesMenu||A(s),!1;for(Ae.cachedData.navTreesMenu=e,n=e.mostRecentlyViewedTreeId||!1,a=e.menuitems.length,t=0;t<a;t+=1){var u=e.menuitems[t],d=u.url,m=d.indexOf("family-tree/tree")>=0?"Manage Trees":"Family Tree";r=n&&-1!==d.indexOf(n),i+='<li><a data-tracking-name="'+m+'" '+(r?'aria-current="true" class="calloutMenuChecked iconAfter iconAfterCheck" ':"")+'href="'+d+'">'+u.text+"</a></li>",r&&c.setAttribute("href",d)}l.querySelector("ul").innerHTML=i,l.addEventListener("click",R),xe[s]&&w(c,"position")}function te(e,t,n){if(document.querySelectorAll(".navEmphasizedButton, .navEmphasizedTitle, .navEmphasizedExpertButton").forEach(function(e){e.remove()}),e||n||!Ce)e&&(Se.querySelector("#navSubscriptionOptions").insertAdjacentHTML("afterbegin",Pe.templateEmphasizedButton.replace("{url}",e).replace("{text}",t).replace("{tracking}",t)),ke.insertAdjacentHTML("beforeend",Pe.templateEmphasizedMobileButton.replace("{url}",e).replace("{text}",t).replace("{tracking}",t)));else{e=Ce.getAttribute("href")+"-upsell",t=Ce.textContent;var a=Ce.getAttribute("data-tracking-name")+" : Upsell",i=Pe.templateEmphasizedButton.replace("{url}",e).replace("{text}",t).replace("navEmphasizedButton","navEmphasizedExpertButton").replace("{tracking}",a);Se.querySelector("#navSubscriptionOptions").insertAdjacentHTML("afterbegin",i)}}function ne(){if(Me.name){var e=document.getElementById("navAccountImage"),t=document.getElementById("navAccountUsername");Me.image?e.insertAdjacentHTML("beforebegin",'<span class="userCardImg userCardImgCenter" id="navAccountImage" style="background-image:url(\''+Me.image+'\');"><img class="navUserImage" src="'+Me.image+'" alt="" /></span>'):e.insertAdjacentHTML("beforebegin",'<span class="userCardImg icon iconPerson" id="navAccountImage"></span>'),e.remove(),t.innerHTML=Me.name}}function ae(){if(Me&&Me.name){var e=document.getElementById("navAccountMobileImage"),t=document.getElementById("navAccountMobileUsername");Me.image?e.insertAdjacentHTML("beforebegin",'<div aria-hidden="true" class="userCardImg userCardImgCenter" id="navAccountMobileImage" style="background-image:url(\''+Me.image+'\');"><img src="'+Me.image+'" alt="" /></div>'):e.insertAdjacentHTML("beforebegin",'<div aria-hidden="true" class="userCardImg icon iconPerson" id="navAccountMobileImage"></div>'),e.remove(),t.innerHTML=Me.name}}function ie(e,t){var n=document.getElementById(e),a=n.querySelector(".badge");t>0?(a.innerHTML=t>99?"99+":t,a.classList.remove("noDisplay")):a.classList.add("noDisplay")}function oe(){document.getElementById("navDnaNotifications").classList.remove("noDisplay")}function re(e){var t=document.getElementById(e+"Loading");t&&(t.setAttribute("aria-busy","true"),t.classList.remove("noDisplay"))}function se(e){if(je){var t=document.querySelector(".navSecondaryMenu .navEmphasizedButton, .navSecondaryMenu .navEmphasizedExpertButton");return void(t&&t.classList.add("noDisplay"))}var n=document.getElementById("navCart"),a=document.getElementById("navCartCheckout");e&&n&&a?(n.setAttribute("href",e[0].checkoutUrl),a.setAttribute("href",e[0].checkoutUrl),n.classList.remove("noDisplay"),document.querySelectorAll(".navSecondaryMenu .navEmphasizedButton, .navSecondaryMenu .navEmphasizedExpertButton").forEach(function(e){e.classList.add("noDisplay")})):(n&&n.classList.add("noDisplay"),document.querySelectorAll(".navSecondaryMenu .navEmphasizedButton, .navSecondaryMenu .navEmphasizedExpertButton").forEach(function(e){e.classList.remove("noDisplay")}))}function ce(){var e=document.getElementById("HeaderRegion"),t=document.getElementById("GlobalWrpr");t&&t.querySelector("#HeaderRegion")&&document.body.offsetWidth>e.offsetWidth&&t.insertAdjacentElement("beforebegin",e),e&&(e.style.height="",e.style.minHeight="")}function le(){document.querySelectorAll("#nav [aria-controls]:not(.initialized)").forEach(function(e){Ie.visible(e)&&he(e)})}function ue(){var e=0,t=Ie.getCookie(He);if(t){var n=JSON.parse(t);n&&n.offerIdMap&&Object.keys(n.offerIdMap).forEach(function(t){var a=n.offerIdMap[t];e+=a.qty})}return e}function de(e,t){window.phxCart&&window.phxCart.addOffer(e,t)}function me(e){window.phxCart&&window.phxCart.removeOffer(e)}function ve(e){e=e||1,window.phxCart?window.phxCart.showCart(!0):e<100&&setTimeout(function(){ve(e+1)},100)}function ge(e){if(window.phxCart)return void(e&&e());if(!Ue){var t=document.head,n=document.createElement("link"),a=document.createElement("script");Ue=!0,n.type="text/css",n.rel="stylesheet",n.href=Ae.phxCartCss,t.appendChild(n),a.type="text/javascript",a.src=Ae.phxCartJs,a.onload=function t(){window.phxCart?(e&&e(),ve(1)):setTimeout(t,100)},t.appendChild(a)}}function fe(e){pe(),je&&w(document.getElementById("navCart"),e?"open":"close")}function pe(){if(!qe){var e=parseInt(Ie.getCookie(Te));if(je=1===e||2===e){qe=!0;var t=document.getElementById("navCart");t&&t.remove();var n=document.querySelector(".navSecondaryMenu");if(n){var a=ue();n.querySelector("#navSubscriptionOptions").insertAdjacentHTML("afterbegin",Pe.templatePhxCart.replace("{text}",a||"")),t=document.getElementById("navCart"),t.classList.remove("noDisplay"),ie("navCart",a);var i=document.getElementById("phxNavCartMenu");i.addEventListener("click",function(e){e.stopPropagation(),i.contains(document.activeElement)||i.focus()}),he(t)}}}}function ye(e,t){return e?e.element?e.element:e[0]:t}function he(n){var a,i,o=n.getAttribute("aria-controls"),r=document.getElementById(o),s=n.classList.contains("navMainLink"),c=n.classList.contains("navHints"),l=n.classList.contains("navCart"),u=n.classList.contains("navAccount"),d=n.classList.contains("navMobile"),m=n.classList.contains("navDnaNotifications"),v=o.toLowerCase().replace("nav","").replace("menu",""),g=function(){w(n,"close"),h()},f={allowClick:!0,content:"#"+o,classes:"calloutMenu navCalloutMenu",disableAutofocusOnOpen:!d,onOpen:function(e){var t=ye(e,this),n=t.querySelector(".badge");a=!!n&&Ie.visible(n),Ae.isLoggedIn&&(Be.updateUserData(v),t.setAttribute("data-already-loaded","true")),s&&Ae.isLoggedIn&&(a&&(i=setTimeout(function(){r&&r.querySelector(".badge")&&r.querySelector(".badge").setAttribute("data-badge-viewed",!0);var e=n.previousElementSibling;e&&e.classList.contains("navSpacer")&&e.remove(),n.remove(),F()},1e3)),r&&(r.removeEventListener("click",b),r.addEventListener("click",b))),l?je?(ge(),window.phxCart&&phxCart.showCart(!0)):document.getElementById("navCartEmpty").addEventListener("click",g):c&&a?i=setTimeout(E,3e3):m&&a?i=setTimeout(L,3e3):u&&ae(),t.insertAdjacentHTML("beforeend",Pe.templateEnterMenu)},onClose:function(e){var t=ye(e,this);a&&clearTimeout(i),l&&!je&&document.getElementById("navCartEmpty").removeEventListener("click",g),Ae.addTracking&&(t.classList.add("closing"),setTimeout(function(){t.classList.remove("closing")})),t.querySelector(".a11yHint").remove()}};Ie.callout?xe[n.id]=Ie.callout(n,f):e.callout?(e(n).callout(f),xe[n.id]=e(n).data("calloutInstance")):t("Header Error: Missing core.js dependency. DO NOT IGNORE. This is an issue with your page."),n.classList.add("link"),n.classList.add("initialized"),n.addEventListener("keyup",x),n.addEventListener("keydown",B)}function Ee(){n(),document.getElementById("navTemplates")&&Le(),Ae.showHireAnExpertWarning&&u(),Ce=document.getElementById("navLinkExpert"),Se=document.querySelector(".navSecondaryMenu"),ke=document.querySelector(".navMobileMenu"),ce(),Be.setSelectedPage(Ae.selectedTabName),Ae.isLoggedIn&&(we(),k()),pe(),l()}function be(e){if(Ae.ajaxUrl){var t={url:Ae.ajaxUrl+(e?"?bypassCache=true":""),success:function(e){e.user&&(Me=e.user,ne(),te(Me.subscribeUrl,Me.subscribeText,Me.isFullAccessFreeTrialer),se(e.cart),ie("navMessages",e.messagecount),ie("navHints",e.hintcount),e.showDnaNotification&&(oe(),ie("navDnaNotifications",e.dnaCount)),le());var t=document.querySelector(".navSecondaryMenuUnloaded");t&&t.classList.remove("navSecondaryMenuUnloaded")}};Ae.testing&&(t.testResponse=Ae.testing.userinfo),a(t)}}function we(){Q("trees","navTreesMenu",ee),Q("hints","navHintsMenu",Y),Q("messages","navMessagesMenu",Z),Q("dnaNotifications","navDnaNotificationsMenu",X),be()}function Le(){var e=document.getElementById("navTemplates");if(null===Pe&&e){var t=e.children;Pe={};for(var n=0,a=t.length;n<a;n++)Pe[t[n].id]=t[n].innerHTML.trim();e.remove()}}var Ie,Me,Ce,De,Se,ke,Ae,Be={},xe={},Ne="navbadges",Te="shopping-cart-cell",He="PhxCartCheckout",Ue=!1,qe=!1,je=!1,Oe={},ze=!1,Pe=null,Re={isLoggedIn:!1,dnaUrl:"https://www.ancestry.com/dna",ajaxUrl:"https://www.ancestry.com/navigation/ajax/userdata/2.1",hintsAjaxUrl:"https://www.ancestry.com/navigation/ajax/Hints",messagesAjaxUrl:"https://www.ancestry.com/navigation/ajax/Messages",treesAjaxUrl:"https://www.ancestry.com/navigation/ajax/Trees",dnaNotificationsAjaxUrl:"https://www.ancestry.com/navigation/ajax/DnaHints",userAjaxUrl:"https://www.ancestry.com/navigation/ajax/UserInfo",clearUserDataUrl:"https://www.ancestry.com/navigation/ajax/Clear",clearCartUrl:"https://www.ancestry.com/navigation/ajax/ClearCart",selectedTabName:!1,jQueryTimeout:1e4,cookieDomain:"ancestry.com"};return Be.addItemToCart=function(e,t){window.phxCart?de(e,t):ge(function(){de(e,t)}),w(document.getElementById("navCart"),"open"),window.scrollTo(0,0)},Be.removeItemFromCart=function(e){window.phxCart?me(e):ge(function(){me(e)}),w(document.getElementById("navCart"),"open"),window.scrollTo(0,0)},Be.setCartCount=function(e){void 0===e&&(e=ue()),ie("navCart",Number(e))},Be.runPhxCartTest=pe,Be.showCart=function(){fe(!0)},Be.hideCart=function(){fe(!1)},Be.setReturnUrl=function(e){var t=document.getElementById("navAccount"),n=t.getAttribute("href");n=r(n,"returnUrl",encodeURIComponent(e)),t.setAttribute("href",n)},Be.setSelectedPage=function(e){if(e){var t=document.getElementById("nav"),n="nav"+e;t.querySelectorAll(".navLinkSelected").forEach(function(e){e.classList.contains(n)||(e.classList.remove("navLinkSelected"),e.removeAttribute("aria-current"))});var a=t.querySelector("."+n);a&&(a.classList.add("navLinkSelected"),a.setAttribute("aria-current","page"))}},Be.updateUserData=function(e){switch(e){case"trees":case"mobile":O(Ae.treesAjaxUrl,ee,"trees");break;case"hints":O(Ae.hintsAjaxUrl+"?bypassCache=true",Y,"hints");break;case"messages":O(Ae.messagesAjaxUrl+"?bypassCache=true",Z,"messages");break;case"user":be(!0);break;case"dna":O(Ae.dnaUrl+"/rest/headerinfo",K,"dna");break;case"dnanotifications":O(Ae.dnaNotificationsAjaxUrl,X,"dnaNotifications")}},Be.init=function(t){void 0!==Ae&&G(),Ae=Re;for(var n in t)t.hasOwnProperty(n)&&(Ae[n]=t[n]);return Ae.cachedData||(Ae.cachedData={}),Ie&&Ie.callout||e&&e.callout?Ee():setTimeout(Ee,20),Ae},Be}(window.jQuery);
//# sourceMappingURL=header-5275026f.min.js.map