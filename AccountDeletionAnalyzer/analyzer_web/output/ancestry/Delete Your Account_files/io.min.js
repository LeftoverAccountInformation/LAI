!function(r,l,c){var s,d,u,f=l.location,i=l.cookie,p=r.jstag||{},g=p.config||{},h="length",m="2.0.0",o={},t=Array.prototype.slice,n=Object.prototype.toString,v=function(){var t="";try{t=top.document.referrer}catch(e){try{t=parent.document.referrer}catch(e){t=""}}""===t&&(t=l.referrer);return t}(),b=a(),y=void 0,k={};function w(e){return"[object Function]"===n.call(e)}function _(e){return"[object Object]"===n.call(e)}function j(e){return"[object String]"===n.call(e)}function x(e){return"[object Array]"===n.call(e)}function q(){var n={},i=!1,e=0,t=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],e++);function a(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i&&"[object Object]"===Object.prototype.toString.call(e[t])?n[t]=q(!0,n[t],e[t]):n[t]=e[t])}for(;e<t;e++){a(arguments[e])}return n}function a(e){void 0===e&&(e=f.href);for(var i={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"qs",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=i.parser[i.strictMode?"strict":"loose"].exec(e),a={},n=14;n--;)a[i.key[n]]=t[n]||"";return a[i.q.name]={},a[i.key[12]].replace(i.q.parser,function(e,t,n){t&&(a[i.q.name][t]=decodeURIComponent(n))}),a}function z(){return(65536*(1+Math.random())).toString()}function O(t){if(void 0!==window.jQuery){if(void 0!==window.jQuery&&window.jQuery.ajax&&w(window.jQuery.ajax)){var e=g.url+g.idpath+g.cid[0];window.jQuery.ajax({url:e,dataType:"jsonp",success:function(e){p.setid(e),u="t",t(e)}})}}else p.setid(z())}function e(e){return(g=q(p.config,e)).loadid&&(g.getid=O),p.config=g,function(){for(var e in y=I(p.config.sesname),b.qs)0===e.indexOf("utm_")&&(k[e]=b.qs[e]);if(p.config.qsargs&&x(p.config.qsargs))for(var t=null,n=p.config.qsargs.length-1;0<=n;n--)(t=p.config.qsargs[n])in b.qs&&(k[t]=b.qs[t]);y||(k._sesstart="1");if(v&&1<v[h]){var i=v.toString().match(/\/\/(.*)\//);i&&-1==i[1].indexOf(f.host)&&(k._ref=v.replace("http://","").replace("https://",""),y||(k._sesref=v.replace("http://","").replace("https://","")))}var a=new Date;a.setTime(a.getTime()+1e3*p.config.sessecs),T(p.config.sesname,"e",a),k._tz=parseInt(a.getTimezoneOffset()/60*-1)||"0",k._ul="Netscape"==c.appName?c.language:c.userLanguage,"object"==typeof screen&&(k._sz=screen.width+"x"+screen.height)}(),p}(r.jstag=p).isLoaded=!0,p.isSendable=!1,r.console||(r.console={log:function(){}}),p.config=q({url:"",Q:[],payloadQueue:[],id:void 0,cid:void 0,getid:function(e){p.setid(z()),w(e)&&e(s)},loadid:void 0,serializer:function e(t,n){var i=[],a="";1==arguments.length&&(n="");if(x(t)){window.JSON&&i.push("_json="+C(JSON.stringify(t)));for(var o=t.length-1;0<=o;o--)i.push(e(t[o],n));return i.join("&")}for(var r in t)if(t.hasOwnProperty(r))if(a=C(r),""!==n&&(a=n+"."+a),_(t[r]))i.push(e(t[r],r));else if(w(t[r]))i.push(a+"="+C(t[r]()));else if(x(t[r])){i.push(a+"_len="+t[r].length),window.JSON&&i.push(a+"_json="+C(window.JSON.stringify(t[r])));for(var c=t[r].length-1;0<=c;c--)_(t[r][c])?i.push(e(t[r][c],a)):null!==t[r][c]&&void 0!==t[r][c]&&i.push(a+"="+C(t[r][c]))}else j(t[r])&&0<t[r].length?i.push(a+"="+C(t[r])):null!==t[r]&&void 0!==t[r]&&i.push(a+"="+C(t[r]));return i.join("&")},pipeline:["identity","analyze"],delay:2e3,blockload:!1,path:"/c/",idpath:"/cid/",cookie:"seerid",sesname:"seerses",stream:void 0,sessecs:1800,channel:"Gif",qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},version:m},g),p.extend=q,p.parseUri=a,p.setid=function(e){s=e;var t=I(g.cookie);t&&t[h]&&"undefined"!=t&&(d=t);var n=new Date;n.setTime(n.getTime()+7776e6),T(g.cookie,e,n)},p.getid=function(e){if(g.getid&&w(g.getid)){e=e||function(){};var t=I(g.cookie);t&&t[h]&&"undefined"!=t?e(s=t):g.getid(e)}return s},"_c"in p&&e(p._c),p.init=p.connect=e;var A={};function Q(e,t,n){t.opts=q({},n),e in A?A[e].push(t):A[e]=[t]}function S(e){j(e[1])&&e[1]in p?Q(e[0],function(){p[e[1]].apply(p,t.call(e[2]?e[2]:{}))}):Q.apply(p,[e[0]].concat(t.call(e[1])))}function I(e){if(0<(i=l.cookie)[h]){var t,n=i.indexOf(e+"=");if(-1!=n)return n+=e.length+1,-1==(t=i.indexOf(";",n))&&(t=i[h]),unescape(i.substring(n,t))}return null}function T(e,t,n,i,a,o){var r=a;if(!a&&b&&b.host){var c=b.host.split(".");r=b.host,1<c.length&&(a="."+c[c.length-2]+"."+c[c.length-1])}i=i||"/";var s=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(i?"; path="+i:"")+(a?"; domain="+a:"")+(o?"; secure":""),d=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(i?"; path="+i:"")+(r?"; domain="+r:"")+(o?"; secure":"");l.cookie=s,l.cookie=d}p.bind=Q,p.emit=function(e){var t,n=[],i=[],a=Array.prototype.slice.call(arguments,1);if(A[e]&&A[e].length)for(var o=0,r=A[e].length;o<r;o++)w(A[e][o])&&((t=A[e][o]).opts.onetime?n.push(t):(t.apply({},a),i.push(A[e][o])));A[e]=i;for(var c=n[h]-1;0<=c;c--)n[c].apply({},a)},p.ckieGet=I,p.ckieSet=T,p.channels={Gif:function(n){return{images:[],send:function(e,t){if(l.images){function n(e){if(!t.callback.hasRun){t.callback.hasRun=!0;try{t.callback(e)}catch(e){}}}var i=new Image;this.images.push(i),2===arguments.length&&t&&w(t.callback)&&(t.callback.hasRun=!1,i.onload&&(i.onload=n()),r.setTimeout(function(){n({timeout:!0})},p.config.delay)),i.src=this.getUrl(e)}},getUrl:function(e){var t=n.sendurl;return t.indexOf("?")<1?t+="?":t+="&",t+e}}},Form:function(r){this.config=r;function c(e){var t=new p.channels.Gif(r);try{t.send(e)}catch(e){}}return{send:function(t,n){try{var e,i,a=l.createElement("iframe"),o="f"+Math.floor(99999*Math.random());l.body.appendChild(a),a.style.display="none",a.id=o,setTimeout(function(){if(e=a.contentWindow.document.createElement("form"),!a.contentWindow.document.body)return c(t);a.contentWindow.document.body.appendChild(e),e.setAttribute("action",r.sendurl),e.setAttribute("method","post"),(i=a.contentWindow.document.createElement("input")).setAttribute("type","hidden"),i.setAttribute("name","_js"),i.value=t,e.appendChild(i),e.submit(),setTimeout(function(){try{l.body.removeChild(a)}catch(e){}!function(e){n&&n.callback&&!n.callback.hasRun&&(n.callback.hasRun=!0,n.callback(e))}({timeout:!0})},2*g.delay)},0)}catch(e){c(t)}}}}};var M,E,N,G,R={analyze:function(e){for(var t in"_e"in e.data||(e.data._e="pv"),k)e.data[t]=k[t]},identity:function(e){if(function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}()){e.data._mob="t";var t="unknown";c.userAgent.match(/Android/i)?t="Android":c.userAgent.match(/BlackBerry/i)?t="Blackberry":c.userAgent.match(/iPhone|iPad|iPod/i)?t="IOS":c.userAgent.match(/IEMobile/i)&&(t="WinMobile"),e.data._device=t}else e.data._nmob="t",e.data._device="desktop";e.data.url=f.href.replace("http://","").replace("https://",""),r.location!=r.parent.location&&(e.data._if="t"),"_uid"in e.data&&(!e.data._uid||"null"==e.data._uid||"undefined"==e.data._uid)&&delete e.data._uid;var n=I("__utma"),i=-1;if(n&&10<n[h]&&(i=n.indexOf(".",10),e.data._ga=n.substring(0,i)),!("_uid"in e.data))if(s)e.data._uid=s;else{var a=I(g.cookie);a&&a[h]&&"undefined"!=a&&(s=e.data._uid=a)}u&&(e.data._getid="t"),d&&(e.data._uido=d);var o=I("optimizelyEndUserId");o&&(e.data.optimizelyid=o),"_v"in e.data||(e.data._v=m)}};function C(e){return encodeURIComponent(e)}function P(e){return this instanceof P?(this.init(e),this):new P(e)}function U(e){var t,n,i,a;for(var o in a=!1,arguments)switch(typeof arguments[o]){case"string":t=arguments[o];break;case"boolean":a=arguments[o];break;case"function":i=arguments[o];break;case"object":n=arguments[o];break;default:console.warn("unable to process jstag.send event: unknown value type ("+typeof arguments[o]+")")}return null==n&&(n={}),{data:n,callback:i,stream:t,mock:a}}function B(e){if(!p.config.blockload||e.mock){if(e.mock){for(var t={},n=0,i=p.config.payloadQueue.length;n<i;n++)t=q(t,p.config.payloadQueue[n].data);e.data=q(t,e.data)}if("io"in o&&x(o.io))for(var a=o.io.length-1;0<=a;a--)return o.io[a].send(e);else(new P).send(e)}else p.config.payloadQueue.push(e)}function W(e,t){var n="";for(var i in t=t||"",e)_(e[i])?n+=W(e[i],i+"."):w(e[i])||(n+="<tr><td>"+t+i+"</td><td>"+e[i]+"</td></tr>");return n}R.analyze.onetime=!0,p.Io=P,p.parseEvent=U,p.block=function(e){p.config.blockload=!0,"number"!=typeof e&&(e=2e3),setTimeout(function(){p.unblock()},e)},p.unblock=function(){p.config.blockload=!1;for(var e=0;e<p.config.payloadQueue.length;e++)B(p.config.payloadQueue[e]);p.config.payloadQueue.length=0},p.send=function(){B(U.apply(this,arguments))},p.mock=function(){var e=[].slice.call(arguments);e.push(!0),p.send.apply(p,e)},p.pageView=function(){var e;for(var t in"_e"in(e=U.apply(this,arguments)).data||(e.data._e="pv"),k)e.data[t]=k[t];B(e)},p.identify=function(){B(U.apply(this,arguments))},P.prototype=(M=[],G=N=E=null,{init:function(){if(E=this,!(N=g).url||""===N.url){var e=l.getElementById(N.tagid),t=null;e&&(t=a(e.getAttribute("src")),N.url="//"+t.authority)}if(!N.url||!N.cid)throw new Error("Must have collection url and ProjectIds (cid)");"cid"in N&&(x(N.cid)?p.config.cid=N.cid:p.config.cid=[N.cid]),this.serializer=N.serializer,"io"in o?o.io.push(this):o.io=[this];for(var n=N.pipeline.length-1;0<=n;n--)w(G=N.pipeline[n])?M.push(G):G in R?M.push(R[G]):item in r&&M.push(r[G]);if(N.Q&&0<N.length)for(var i=N.Q.length-1;0<=i;i--)E.send.apply(E,N.Q[i]);N.Q&&(N.Q.push=function(){E.send.apply(E,Array.prototype.slice.call(arguments))}),p.emit("io.ready",this)},collect:function(t){var e,n,i=this;if(p.emit("send.before",t),this.data=t.data,t.data._ca="jstag1",e=q(g.pagedata,t.data),n=this.serializer(e),t.sendurl||(t.sendurl=[]),t.sendurl.push(t.config.sendurl),t.dataMsg=n,t.channelName=t.config.channel,t.mock)w(t.callback)&&t.callback(t,i);else{var a=new p.channels[t.config.channel||"Gif"](t.config);j(n)&&2e3<n.length+t.config.sendurl.length&&(a=new p.channels.Form(t.config),t.channelName="Form"),a.send(n,{callback:function(e){t.returndata=e,w(t.callback)&&t.callback(t,i),p.emit("send.finished",t,i)}})}},send:function(e){if(x(g.cid))for(var t=g.cid.length-1;0<=t;t--)this.sendcid(g.cid[t],e);else this.sendcid(g.cid,e)},sendcid:function(e,t){var n=q(n,t.data)||{};t.data=n,t.config=q({},this.config),t.data._ts=(new Date).getTime();var i=this,a=N.url+N.path+e,o=[];t.config.stream=t.stream||p.config.stream,t.config.sendurl=t.config.stream?a+"/"+t.config.stream:a,-1==t.config.sendurl.indexOf("_uidn=")&&"seerid"!=g.cookie&&(t.config.sendurl=function(e,t,n){return e.indexOf("?")<1?e+="?":e+="&",e+t+"="+n}(t.config.sendurl,"_uidn",g.cookie));for(var r=M.length-1;0<=r;r--)M[r](t),M[r].onetime||o.push(M[r]);if(!t.mock&&1<M.length&&(M=o),s)return i.collect(t);g.getid&&w(g.getid)?g.getid(function(e){e&&!t.data._uid&&(t.data._uid=e,u="t",t.data._getid="t",s=e),i.collect(t)}):i.collect(t)},debug:function(){return"<table><tr><th>field</th><th>value</th></tr>"+W(this.data)+"<tr><th>config</th></tr><tr>"+W(g)+"</tr></table>"}}),r&&"jstagAsyncInit"in r&&w(r.jstagAsyncInit)&&r.jstagAsyncInit(),"ready"in p||(p.ready=function(){}),r.jstag._c&&r.jstag._c.blockload&&r.jstag.block(),p.load=function(){return this},function(){if("_q"in p&&x(p._q))for(var e=p._q.length-1;0<=e;e--)S(p._q[e])}(),p.emit("ready")}(window,document,window.navigator);