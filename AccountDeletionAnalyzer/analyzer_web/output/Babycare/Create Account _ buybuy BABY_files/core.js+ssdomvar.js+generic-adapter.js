/* Copyright 2018, SiteSpect, Inc. All Rights Reserved. */
!function(h,e){var m=h.document,u=h.SS||{};h.SS=u;var p=h.encodeURIComponent;u.Cookie=function(){var v="\v";function i(e){return e.split(v)}return{get:function(e,t){if(e){var n,r,o,a=(n=e,r=m.cookie,0<=(o=(r=" "+r+";").indexOf(n=" "+n+"="))?(o+=n.length,decodeURIComponent(r.substring(o,r.indexOf(";",o)))):"");if(!a)return"";switch(t&&(t=t.substr(0,1).toLowerCase()),t){case"s":return a;case"a":return i(a);default:return a.match(v)?i(a):a}}},set:function(e,t,n,r,o,a){var i,c,u,s,f,d,l;e&&!/^(?:expires|max-age|path|domain|secure|HttpOnly)$/i.test(e)&&("object"==typeof t&&(t=t.join(v)),m.cookie=(i=e,c=t,s=r,f=o,d=a,(u=n)&&";"===u.toString().substr(0,1)?l=u:(d||(d="/"),f||(f=h.location.hostname.match(/^[\d.]+|(?:\.[\da-z\-]+)*[\da-z\-]+\.[\da-z\-]+$/i)[0]),"."!==f.substr(0,1)&&(f="."+f),s=s?";secure":"",null!=u&&(u=parseInt(u,10),isNaN(u)&&(u=0),u=";expires="+new Date(+new Date+u).toUTCString()),l=";path="+d+";domain="+f+u+s),p(i)+"="+p(c)+l))}}}(),u.JSEvents=function(){function a(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}return{on:a,off:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},trgt:function(e){e||(e=h.event);var t=e.target||e.srcElement||m;return 3===t.nodeType&&(t=t.parentNode),t},ready:function(e){var n,t,r=!1,o=!1;if(n=function(){if(!r){if(!m.body)return setTimeout(n,1);r=!0,e()}},m.addEventListener)t=function(){m.removeEventListener("DOMContentLoaded",t,!1),n()},m.addEventListener("DOMContentLoaded",t,!1);else if(m.attachEvent){t=function(){"complete"===m.readyState&&(m.detachEvent("onreadystatechange",t),n())},m.attachEvent("onreadystatechange",t);try{o=null===h.frameElement}catch(e){}m.documentElement.doScroll&&o&&function t(){if(!r){try{m.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}n()}}()}a(h,"load",n)}}}(),u.TimerFactory=function(){function e(){var t=-1,e=-1;return{start:function(e){return 0<(t=(e||new Date).getTime())},stop:function(){return 0<(e=(new Date).getTime())},reset:function(){e=t=-1},diff:function(){if(t<=0)throw"Failure to Start Timer";if(e<=0)throw"Failure to Stop Timer";if(e<t)throw"Failure to Reset Timer";return(e-t)/1e3}}}return{get:function(){return new e}}}(),u.EventTrack=function(){var c=h.location.host,u=h.location.protocol,s="/__ssobj/track",f=Math.floor(99999999*Math.random()),t=[];function o(e){t.push(e)}function a(t,n,e){void 0===h.__ssmMetricResponseReadyChange&&e<5?setTimeout(function(){a(t,n,e+1)},1e3):void 0!==h.__ssmMetricResponseReadyChange&&h.__ssmMetricResponseReadyChange.forEach(function(e){e(t,n)})}function d(){return c!==h.location.host}function n(e,t,n){var r=function(e,t){var n,r=(new Date).getTime()+f,o=[];if("object"==typeof e){for(n=0;n<e.length;n++)e[n]="event"+n+"="+p(e[n]);e=e.join("&")}else e="event="+p(e);if(t&&"object"==typeof t){for(n in t)t.hasOwnProperty(n)&&(o[o.length]="value_"+p(n)+"="+p(t[n]));t=o.join("&")}else t="value="+p(null!==t?t:"");var a=s+"?"+e+"&"+t+"&x="+r,i=u!==h.location.protocol;return(d()||i)&&(a="//"+c+a,i&&(a=u+a)),a}(e,t);!d()&&function(e,t){var n;e+="-1";try{(n=h.ActiveXObject?new h.ActiveXObject("Microsoft.XMLHTTP"):new h.XMLHttpRequest).open("GET",e,!t)}catch(e){return!1}try{n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","*/*")}catch(e){}try{n.send(null)}catch(e){if(!0&e.number)return!1}return t?a(n,this,0):n.onreadystatechange=function(){a(n,this,0)},o(n),!0}(r,n)||("https:"===u?function(e){e+="-3";var t=m.createElement("img");t.src=e,t.id="SS.IMG"+f,t.style.width="0px",t.style.height="0px",m.body.appendChild(t),o(t)}(r):function(e){e+="-2";var t=new Image;t.src=e,o(t)}(r))}return{metric:n,rp:n,rpAsync:function(e,t){n(e,t,!1)},rpSync:function(e,t){n(e,t,!0)},r:t,setDomain:function(e){var t=e.match(/^(?:(https?:)?\/\/)?([^\/]+)/);if(t){var n=t[1],r=t[2];c=r,u=n||u}}}}(),u.PageTimer=function(){var o,a,i=u.JSEvents;function c(t,n){var r=!1;return function(){if(a&&!r&&(r=!0,o.stop()))try{var e=o.diff();e<=1795&&u.EventTrack.rp(t,e,n)}catch(e){}}}return{time:function(e,t,n){if(o=u.TimerFactory.get(),a=o.start(n)){var r=!1;return"ready"===e?(i.ready(c(t,!1)),r=!0):"load"===e?(i.on(h,"load",c(t,!1)),r=!0):"dwell"===e?(i.on(h,"unload",c(t,!0)),r=!0):"abandon"===e&&(unloadEvent=c(t,!0),i.on(h,"unload",unloadEvent),i.on(h,"load",function(){i.off(h,"unload",unloadEvent)}),r=!0),r}return!1}}}(),u.Debug=function(){function t(e){var t=e.filename;t.match(/scripterror/i)&&(t="externaljsfile"),u.EventTrack.rp("js-error",{path:e.filename,line:e.lineno,error:e.message})}return{trackJSErrors:function(e){h.addEventListener("error",t,!1)}}}()}(this);
/* Copyright 2017, SiteSpect, Inc. All Rights Reserved. */
var ss_dom_var=function(){"use strict";var MAX_APPLICATIONS=1e3;var THROTTLE_TIME=1e3;var variations=[];var metrics=[];var timestamps={};var checkCriteria;var asmtRequest;var metricRequest;var asmtCallback;var is_ve_edit_mode=false;var ignore_variation_mutations=false;var pause_variations=false;var variationWatchers=[];var variations_applied={};var variations_by_target=[];var target_indices=[];var observer;var counted_tcs={};var observer_options={childList:true,attributes:true,characterData:true,subtree:true};var flag_attr="data-ss-variation-applied";var case_insensitive_comment="(?#i)";var asmtCallbackDefault=function(e){var t=window.SS||{};t.getAsmtData=function(){return e};window.SS=t};asmtCallbackDefault();var applySingleVariation=function(){try{observer=new MutationObserver(mutationsOccurred)}catch(e){}function mutationsOccurred(e){e.forEach(function(e){var t=getNormalizedMutationTarget(e.target);if(!ignore_variation_mutations&&document.body.contains(t)){var i=findVariationsForTarget(t);if(i){i.forEach(function(e){executeVariation(t,e)})}}});cleanup()}function getNormalizedMutationTarget(e){var t;var i=e;while(i){if(i.nodeType===Node.ELEMENT_NODE){t=t||i;if(i.getAttribute(flag_attr)||target_indices.indexOf(e)>-1){return i}}i=i.parentNode}return t}function cleanup(){target_indices.forEach(function(e,t){if(!document.querySelector("["+flag_attr+'="'+t+'"]')){delete target_indices[t];delete variations_by_target[t]}})}function applyHtmlChange(e,t){e.innerHTML=t}function applyCssChange(e,t){Object.keys(t).forEach(function(i){e.style[i]=t[i]})}function applyAttributesChange(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function applyCustomChange(target,code){if(typeof code==="string"){try{var customFunc,funcCode="customFunc = function () {"+code+"\n}";eval(funcCode);customFunc.apply(target)}catch(e){return false}}else if(typeof code==="function"){try{code.apply(target)}catch(e){return false}}}function applyVariation(e){if(!e.selector){return 0}if(!checkCriteria(e)){return 0}var t=document.querySelectorAll(e.selector);var i=0;var r;for(r=0;r<t.length;r++){if(is_ve_edit_mode&&typeof __ssedit!=="undefined"&&__ssedit.isVEContent(t[r])){continue}i+=registerVariation(t[r],e)}return i}function findVariationsForTarget(e){var t=e.getAttribute(flag_attr);if(t===null){t=target_indices.indexOf(e);if(t===-1){t=target_indices.length;target_indices[t]=e;if(observer&&!ignore_variation_mutations){observer.observe(e,observer_options)}}e.setAttribute(flag_attr,t)}var i=variations_by_target[t];if(!i){i=variations_by_target[t]=[]}return i}function registerVariation(e,t){var i=findVariationsForTarget(e);if(i.indexOf(t)===-1){i.push(t);return executeVariation(e,t)}return 0}function executeVariation(e,t){if(!checkCriteria(t)){return}var i;var r=(new Date).getTime();var a=0;if(pause_variations){return}while(a<t.applied.length&&t.applied[a]+THROTTLE_TIME<r){a++}t.applied.push(r);if(a){t.applied.splice(0,a)}if(t.applied.length>=MAX_APPLICATIONS){console.warn("Possible infinite loop detected, aborting");return 0}if(is_ve_edit_mode){i=e.ss_revert||e.cloneNode(true)}if(t.html){applyHtmlChange(e,t.html)}if(t.css){applyCssChange(e,t.css)}if(t.attributes){applyAttributesChange(e,t.attributes)}if(t.custom){applyCustomChange(e,t.custom)}if(e.hasAttribute("data-sspvid")){var n=document.querySelector(t.selector);if(t.custom&&!n&&t.attributes&&t.attributes["data-sspvid"]){n=document.querySelector('[data-sspvid="'+t.attributes["data-sspvid"]+'"]')}if(n){if(t.custom){var s=["data-sspvid","data-ss-sole-change","data-sspv-control","data-ss-fe-edit-type","data-ss-display-name","data-ss-orig-order","data-ssmid","data-ss-metric-name"];s.forEach(function(t){if(e.hasAttribute(t)){n.setAttribute(t,e.getAttribute(t))}});var o=Array.prototype.slice.call(e.attributes).filter(function(e){return e.name.match(/^data-ss-(?:control-)?reference-node-/)});o.forEach(function(e){n.setAttribute(e.name,e.value)})}if(is_ve_edit_mode){if(i){n.ss_revert=i}if(typeof __ssedit!=="undefined"){__ssedit.outlineEdited(n)}}if(!n.hasAttribute(flag_attr)&&e.hasAttribute(flag_attr)){n.setAttribute(flag_attr,e.getAttribute(flag_attr));var c=target_indices.indexOf(e);if(c>-1){target_indices[c]=n}if(observer&&!ignore_variation_mutations){observer.observe(n,observer_options)}}}}else if(e.hasAttribute("data-ssmid")&&is_ve_edit_mode){if(typeof __ssedit!=="undefined"){__ssedit.outlineEdited(e)}}if(observer){observer.takeRecords()}return 1}function setVariationPreview(e,t){variations_applied[e]=variations_applied[e]||0;variations_applied[e]+=t;var i="#ssp_history_panel .ss_csf_applied_"+e;var r=document.querySelectorAll(i);for(var a=0;a<r.length;a++){if(variations_applied[e]){r[a].style.display="block"}else{r[a].style.display="none"}}}return function(e){var t=0;t=applyVariation(e);if(t){if(!e.counted&&e.trigger_counted&&!counted_tcs[e.campaign_id]){e.counted=true;counted_tcs[e.campaign_id]=true}if(typeof asmtCallback!=="function"){asmtCallback=asmtCallbackDefault}asmtRequest(asmtCallback,counted_tcs)}setVariationPreview(e.id,t);return t}}();function applyVariations(e){if(!(e instanceof Array)){e=variations}var t=e.map(applySingleVariation).reduce(function(e,t){return e+t},0);return t}function removeRegexComments(e){return e.replace(/\(\?#[^)]*\)/g,"")}function createRegex(e){var t=e.indexOf(case_insensitive_comment)!==-1?"i":"";var i=removeRegexComments(e);return new RegExp(i,t)}function isDefined(e){return typeof e!=="undefined"&&e!==null}checkCriteria=function(){function checkCriterionCustom(criterion){if(typeof criterion.script_criterion==="string"){try{var customFunc,funcCode="customFunc = function () {"+criterion.script_criterion+"}";eval(funcCode);return customFunc()}catch(e){return false}}else if(typeof criterion.script_criterion==="function"){try{return criterion.script_criterion()}catch(e){return false}}}function checkCriterionHash(e){return!!document.location.hash.match(createRegex(e.hash_criterion))}function checkCriterionHashQuery(e){var t=document.location.hash.indexOf("?")+1,i=[];if(t){i=document.location.hash.substring(t).split("&")}return checkForKeyValuePair(e.hashquery_name_criterion,e.hashquery_value_criterion,i)}function checkCriterionPath(e){return!!document.location.pathname.match(createRegex(e.path_criterion))}function checkCriterionQuery(e){var t=document.location.search.substring(1).split("&");return checkForKeyValuePair(e.query_name_criterion,e.query_value_criterion,t)}function checkForKeyValuePair(e,t,i){var r=createRegex(e),a=createRegex(t),n,s,o;for(n=0;n<i.length;n++){s=i[n].split("=");if(s.shift().match(r)){o=s.join("=");if(o.match(a)){return true}}}return false}return function(e){var t,i,r={Path:checkCriterionPath,Hash:checkCriterionHash,Query:checkCriterionQuery,HashQuery:checkCriterionHashQuery,Custom:checkCriterionCustom};var a=false;for(t=0;t<e.criteria.length;t++){i=e.criteria[t];if(isDefined(i.GroupNumber)&&a&&isDefined(i.Pre)&&isDefined(e.criteria[i.Pre])&&i.GroupNumber===e.criteria[i.Pre].GroupNumber){continue}a=r[i.Type]&&r[i.Type](i);if(!a){if(!(isDefined(i.GroupNumber)&&isDefined(i.Next)&&isDefined(e.criteria[i.Next])&&i.GroupNumber===e.criteria[i.Next].GroupNumber)){return false}}}return true}}();asmtRequest=engineRequest("/__ssobj/asmt_update");metricRequest=engineRequest("/__ssobj/api");function engineRequest(e){var t,i=100,r,a;function n(){c();var t=JSON.stringify(r),i=new XMLHttpRequest;i.open("POST",e);i.setRequestHeader("Context-Type","application/json;charset=UTF-8");i.addEventListener("load",s,false);i.send(t)}function s(e){var t;try{t=JSON.parse(e.target.response);if(typeof a==="function"){a(t,this)}trackingPreviewLoaded(t,0)}catch(e){}}function o(e){if(e&&t){c()}else if(t){return}t=setTimeout(n,i)}function c(){clearTimeout(t);t=null}return function(e,i){a=e;r=i;if(!t){o()}}}function trackingPreviewLoaded(e,t){if(typeof window.__sscCSFCountStatusChange==="undefined"&&t<5){setTimeout(function(){trackingPreviewLoaded(e,t+1)},1e3)}else{if(typeof window.__sscCSFCountStatusChange!=="undefined"){window.__sscCSFCountStatusChange.forEach(function(t){t(e)})}}}function setIgnoreVariationMutationsOnDelay(e){setTimeout(function(){ignore_variation_mutations=!!e.is_ve_edit_mode},5e3)}function setVariations(e){if(e){variations=e.variations||variations;timestamps=e.timestamps||timestamps;setIgnoreVariationMutationsOnDelay(e);is_ve_edit_mode=!!e.is_ve_edit_mode}variations.forEach(function(e){e.applied=e.applied||[]});variationWatchers.forEach(function(e){e(variations)})}function setMetrics(e){metrics=e?e.metrics||metrics:metrics}function registerVariationWatcher(e){variationWatchers.push(e);e(variations)}function checkVariationApplied(e){return variations_applied[e]||0}function setAsmtCallback(e){asmtCallback=e}setVariations(window.__ss_variations);setMetrics(window.__ss_variations);document.addEventListener("ready",function(){if(!variations.length){setVariations(window.__ss_variations)}if(!metrics.length){setMetrics(window.__ss_variations)}},false);function pauseVariations(){if(is_ve_edit_mode){pause_variations=true}}function unpauseVariations(){if(is_ve_edit_mode){pause_variations=false}}function updateVariationSelector(e){var t=e.identifying_attr_key;var i=e.identifying_attr_val;var r=e.identifying_script_content_regex;var a=e.new_selector;if(!is_ve_edit_mode){return}Object.keys(variations).forEach(function(e){var n=variations[e];if(t&&n.attributes&&n.attributes[t]&&n.attributes[t]===i||r&&n.custom&&n.custom.toString().match(r)){n.selector=a}})}function isSafeToEdit(e){var t=true;if(variations.length&&!ignore_variation_mutations){var i=e.getAttribute("data-sspvid");if(i){t=variations.some(function(t){if(t.attributes&&t.attributes["data-sspvid"]===i){var r=e.getAttribute("data-ss-fe-edit-type")==="frontend_order";return!t.custom||r}})}}return t}function generateMetricsPayload(e){var t=[];var i={visits:[{AsmtCounted:[],Data:{}}]};e.forEach(function(e){i.visits[0].Data[e.id]={Hits:1};if(e.trigger_counting){e.vg_ids.forEach(function(e){if(t.indexOf(e)<=-1){t.push(e)}})}});if(t.length>0){i.visits[0].AsmtCounted=t}return i}function evaluateMetrics(){var e=[];metrics.forEach(function(t){if(checkCriteria(t)){e.push(t)}});if(e.length>0){metricRequest(function(e,t){function i(e,t){if(typeof window.__ssmCSMetricResponseReadyChange==="undefined"&&t<5){setTimeout(function(){i(e,t+1)},1e3)}else{if(typeof window.__ssmCSMetricResponseReadyChange!=="undefined"){window.__ssmCSMetricResponseReadyChange.forEach(function(t){t(e.getResponseHeader("SiteSpect-Metrics-Info"))})}}}i(t,0)},generateMetricsPayload(e))}}return{applyVariations:applyVariations,applySingleVariation:applySingleVariation,setVariations:setVariations,setMetrics:setMetrics,registerVariationWatcher:registerVariationWatcher,checkVariationApplied:checkVariationApplied,setAsmtCallback:setAsmtCallback,pauseVariations:pauseVariations,unpauseVariations:unpauseVariations,updateVariationSelector:updateVariationSelector,isSafeToEdit:isSafeToEdit,evaluateMetrics:evaluateMetrics}}();(function(){"use strict";function e(e){var t={childList:true,attributes:true,subtree:true};var i;var r;var a;var n=e.callback;var s=document.querySelector("html");if(s){if(window.MutationObserver){r=new MutationObserver(u);i=s;a=r.observe.bind(r,i,t);a()}else{o(s)}}function o(e){e.addEventListener("DOMSubtreeModified",f,false)}function c(e){e.removeEventListener("DOMSubtreeModified",f,false)}function u(){if(r){r.disconnect()}var t=document.querySelectorAll(e.selector);if(t.length>0){n()}if(a){a()}}function f(){c(s);u();o(s)}}ss_dom_var.registerVariationWatcher(function(t){t.forEach(function(t){e({selector:t.selector,callback:ss_dom_var.applySingleVariation.bind(ss_dom_var,t)})})});var t=null;setInterval(function(){if(t===null||t!==window.location.href){t=window.location.href;ss_dom_var.evaluateMetrics()}},500)})();
/* Copyright 2016, SiteSpect, Inc. All Rights Reserved. */
if(!window.SS){window.SS={}}SS.SPA=function(){"use strict";var n=1;var i=document.querySelectorAll.bind(document);function t(t){var o={childList:true,attributes:true};var c;var u;var f="ss-modified-"+n++;var s=e.bind(null,t.dynamicContainer,f);var d;var l=t.callback||t.callbackFunction;if(i(t.staticContainer).length>0){if(window.MutationObserver){if(t.watchSubtree){o.subtree=true}u=new MutationObserver(S);c=i(t.staticContainer)[0];d=u.observe.bind(u,c,o);d()}else{a(i(t.staticContainer),v)}if(t.runCallbackNow){l()}}function v(n){n.addEventListener("DOMSubtreeModified",w,false)}function b(n){n.removeEventListener("DOMSubtreeModified",w,false)}function S(){if(u){u.disconnect()}var n=s(true);if(n.length>0){a(n,r.bind(null,f));l()}if(d){d()}}function w(){a(i(t.staticContainer),b);S();a(i(t.staticContainer),v)}}function e(n,t,e){var a=[n];if(e){a.push(":not(."+t+")")}return i(a.join(""))}function a(n,i){[].forEach.call(n,i)}function r(n,i){if(i.className.indexOf(n)===-1){i.className+=" "+n}}return{dynamicModify:t}}();