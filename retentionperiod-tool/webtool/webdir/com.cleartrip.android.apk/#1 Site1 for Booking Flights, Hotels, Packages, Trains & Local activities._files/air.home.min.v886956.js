function prefAirlineSelectionHandler(e, t) {
    $(e.target.parentNode).find("#carrier").val(t.item.k);
}

function originAirlineSelectionHandler(e, t) {
    var n = $(e.target), r;
    n.val() != "" && n.next().val(t.item.k).trigger("change"), r = Number(n.attr("tabIndex")), n.closest(".fieldRow").parent().find('[tabIndex="' + (r + 1) + '"]').focus();
}

function destinationAirlineSelectionHandler(e, t) {
    var n = $(e.target);
    n.val() != "" && (n.next().val(t.item.k).trigger("change"), $(".switchAirports").removeClass("faded")), tabIndex = Number(n.attr("tabIndex")), n.closest(".fieldRow").parent().find('[tabIndex="' + (tabIndex + 1) + '"]').focus();
}

function responseModifierFlight(e, t) {
    var n = [], r = 0, i = 0, s, o = [];
    return $(e).each(function(t, n) {
        n.pr || o.push(n), n.p && _.filter(e, function(e, t) {
            return e.pr === n.p && o.push(e), !0;
        });
    }), $(o).each(function(e, t) {
        n[r] = {}, $.extend(n[r], t), t.c !== s && (i = 0), t.k === "sg" && (t.v = t.k = "Did you mean?", n[r].cls = "infoTitle"), t.pr ? n[r].cls = "child" : t.c && i == 0 && (n[r].country = t.c, s = t.c, i = 1), n[r].label = t.v, n[r].value = t.k, r++;
    }), n;
}

function toEmailSelectionHandler(e, t) {
    var n = $(e.target);
    n.val(t.item.email);
}

function responseModifierToEmail(e, t) {
    var n = [], r = 0;
    return $(e).each(function(e, t) {
        n[r] = {}, $.extend(n[r], t), n[r].label = t.email, n[r].value = t.email, r++;
    }), n;
}

!function(e, t, n) {
    n[e] = t(CT.Pers, CT.settings.validators);
}("validators", function(e, t) {
    var n = $.extend(t, {});
    return n;
}, CT.settings), CT.messages = $.extend({
    air: {
        zeroResultsMsg: "Sorry, there aren't any flights available for your search",
        fiveHundredResultsMsg: "Sorry, our system is acting up",
        fourHundredResultsMsg: "Sorry, our servers are stumped with your request, please check the URL",
        filterZeroResMsg: {
            title: "We couldn't find flights to match your filters",
            btnL: "Undo last filter",
            btnLCls: "primary",
            msg: "   ",
            btnR: "Reset filter",
            cls: "filters",
            btnRCls: "button"
        },
        pastDatesResMsg: "Looks like your dates are in the the past",
        nearByairportsMsg: {
            pickedClosestAirportMsg: "We've picked an airport which closely matches your request. If this is not what you asked for, please try a fresh search",
            mainMsgNoDestination: "Oops, we couldn't find flights <from-to> <city_name>",
            mainMsgWithDestination: "We found more airports near <city_name>",
            commonNbMsg: "We found more airports for your search",
            msg: "Please uncheck the airports that do not work for you"
        },
        PriceAdvisaryMsg: "Found better fares around your travel date",
        presetFilterMsg: "Looks like you've applied some filters. <a href ='javascript:void(0)' class='weak presetFilterLink'>Reset filters</a>",
        rememberedFilterMsg: 'We have remembered your preferred filters to help you book fast. Showing <strong class="resultsCount"></strong> flights <a href ="javascript:void(0)" class="weak presetFilterLink">(Show all flights)</a>',
        sameDayRTFilterMsg: 'We have pre-applied departure time filters to help you book fast . Showing <strong class="resultsCount"></strong> flights <a href ="javascript:void(0)" class="weak presetFilterLink">(Show all flights)</a>',
        minStopFilterMsg: 'We are showing you flights with minimum stops - showing <strong class="resultsCount"></strong> flights <a href ="javascript:void(0)" class="weak presetFilterLink minStopFilterOff">(Show all flights)</a>',
        sameDayInternationalSearchMsg: "Only Flights departing after 8 hours from now are shown",
        zeroResultsSameDayInternationalSearchMsg: "Sorry, we can't find international flights at such short notice",
        NoBaggageMsg: "Baggage information unavailable for this flight",
        GetPriceAvl: "Getting prices and availability...",
        GetFlightDet: "Getting flight details...",
        somethingCropped: "Hmm looks like something crapped out",
        onSelectLoose: "On selecting this, you might loose your ",
        infoUnavailable: "info unavailable",
        baggageRecheck: "You may need to change terminals and re-check in your baggage.<br/>The baggage allowance might be lower on this connection.",
        combinationNotfound: "<div class='flushMessage comboError'><p><i class='ugly'></i><strong class='ugly'>No flight combination found.</strong></p></div>",
        combinationNotAvl: "<div class='flushMessage comboError'><p><i class='ugly'></i><strong class='ugly'>This combination is not available. Please select another flight</strong></p></div>",
        airportTravelTax: "Airport Arrival Tax",
        buttonSelect: "Select",
        buttonBook: "Book",
        mmtFare: "MMT Fare",
        MakeLastMinPlan: "Making last minute plans?",
        flashUpsellText: "Find last minute flights in a flash with the Cleartrip app",
        LookForDealFlight: "Looking for a deal on flight bookings?",
        getBestOfferDeals: "Get the best offers on flights and hotels with Cleartrip Mobile.",
        undoFilter: "Undo last filter",
        moreOption: " more option",
        OptPlural: "s",
        atsamePrice: " at same price",
        modPackageButton: "View packages",
        modKnowButton: "Know more â†’",
        buttonFresh: "Try a fresh search",
        flightAvlDiffDay: "<h6>Try changing your dates</h6><p><small class='weak'>There might be flights available on different day</small></p>",
        baggageInfoNote: "<p><small><strong>Please note:</strong> Airlines typically permit 23 KG baggage weight per piece.</small></p>",
        TimeBucketAny: "Any time",
        BucketEarly: "Early Morning : Before 8am",
        BucketMorng: "Morning : 8am to 12pm",
        BucketAftrn: "Afternoon : 12pm to 4pm",
        BucketEve: "Evening : 4pm to 8pm",
        BucketNight: "Night : After 8pm",
        HeadPrice: "Price",
        OWHeadPrice: "One-way price",
        validationSameCity: "Looks like you've picked the same city",
        CitySuggestion: "Please pick a city from the list of suggestions",
        DateInformat: "Please enter the date in DD/MM/YYYY format or pick a date from the date picker",
        DateIsPast: "Please enter the date which is not past",
        cantFindIntFlight: "Sorry, we can't find international flights at such short notice",
        cantFindDomFlight: "Sorry, we can't find domestic flights at such short notice",
        differentDest: "Please choose a destination that is different from your origin.",
        AirportSuggestion: "Please pick an airport from the list of suggestions",
        showRefundFare: "Show only refundable fares",
        showCorpFare: "Show only corporate fares",
        RTDiscounts: "Round trip discounts",
        saveSpclRTFare: "Save money on flights with special round trip fares.",
        KnowFlight: "Know your flight",
        GlanceIdentifyFlight: "Just one glance to identify flights with a short or long layover, red-eye flights, number of seats left at this price, and more",
        FlighttDetails: "Flight details",
        CompltFlightDetails: "Complete flight details, including change and cancellation fees",
        FlexiDates: "Flexible with dates?",
        SnapofMonth: "Snapshot of fares this month. Search on a different date with just one click",
        NonstopFlight: "Non-stop flights",
        OnlyNonStopFlight: "See only non-stop flights with just one click",
        SwitchCalView: "Switch to calendar view",
        seeFullMonthFare: "See fares for an entire month, book on the cheapest date",
        newExperience: "Welcome to a brand new Cleartrip experience",
        getBuses: "Get all the buses you'll ever need with just one search",
        IntroducingPkg: "Introducing Packages",
        Buses: "Buses",
        Mobile: "Mobile",
        getMobile: "Book Hotels, Flights & Trains. Your travel agent in your pocket.",
        bookFlightHotelTogether: "Book a flight and hotel together for your <destination> trip and save upto 40%",
        fareAlerts: "Fare Alerts",
        trackAirlinesAndSave: "Track airfares before you buy and save BIG.",
        oneTouchBook: "Introducing 1-touch flight bookings",
        ExpWay: "Expressway",
        BizCabin: "Business",
        EcoCabin: "Economy",
        FCCabin: "First class",
        PECabin: "Premium economy",
        Refundable: "Partially Refundable",
        nonRefundable: "NON Refundable",
        filterPriceTitle: "Price",
        filterStopsTitle: "Stops",
        filterAirTitle: "Airlines",
        filterTripDurTitle: "Trip duration",
        filterFareTitle: "Fare options",
        filterDepartTimeTitle: "Departure time",
        filterRetTimeTitle: "Return time",
        filterLaypDurTitle: "Layover duration",
        BSfilter: "Bs Filter",
        layoverAirport: "Layover airports",
        refFare: "Partially Refundable fare",
        filterCorpFare: "Corporate fare",
        filterNearbyAirportOrigin: "Origin Nearby airports",
        filterNearbyAirportDest: "Destination Nearby airports",
        filterPolicyComplaint: "Show policy compliant flights",
        OptAtSamePrice: " at same price",
        ArrivesNextDay: "Arrives next day",
        Arrives: "Arrives ",
        Day: " day",
        Later: " later",
        ArrivesPrevDay: "Arrives previos day",
        MulCarriers: "Multiple carriers",
        Stops: " stops",
        Stop: " stop",
        NonStop: "non-stop",
        Seat: " seat",
        splRTMsg: '<p class="warn" style="">Cancellation or change of only onward journey is not allowed. <br>Cancellation or change of return journey is allowed only if onward journey is over.</p>',
        b2cCorpFare: "One Fare",
        b2cNormalFare: "Standard Fare",
        b2cCorpFareBreakupTitle: '<svg class="ff-placeholder" id="ctone-small" viewBox="0 0 194 194" style="width:18px;height:18px;"><title>ctone-small</title><g fill-rule="nonzero"><path d="M80.7 111.6L15.3 46.2c-2.9 4.6-5.4 9.5-7.4 14.5l61.8 61.8 11-10.9zM66.9 125.4L6.3 64.8c-2 5.6-3.5 11.5-4.4 17.5l54 54 11-10.9zM157 118.2L192.2 83c-.9-6.1-2.4-12-4.3-17.7L162.2 91l-5.2 27.2zM53.1 139.2L1.3 87.4c-.7 6.9-.6 14 .2 21.2 0 .4.1.8.2 1.1l40.4 40.4 11-10.9zM172.6 37.5l-2.4 12.3 6.6-6.6c-1.4-2-2.8-3.9-4.2-5.7zM163.6 84l22.7-22.7c-2-5.1-4.5-10-7.4-14.6l-10.1 10.1-5.2 27.2zM117.8 74.6l2.9-14.8c.3-1.6-1.2-2.8-2.7-2.2l-32.6 13c-2 .8-4.1-.7-4.1-2.8V32.4c0-.9.5-1.6 1.4-1.9L140.1 11C123.8 2.8 104.9-.9 85.4 1.5 56.8 5 32.7 20.7 17.6 42.7l66 66 34.2-34.1zM145 180.4c23.4-13.5 40.2-36.3 46-62.8l-41.9 41.9-4.1 20.9zM96.4 184.5l-8.3 8.3c2.2.2 4.4.3 6.6.4l1.7-8.7zM192.8 88.1l-37.1 37.1-5.2 27.2 41.8-41.8c1-7.3 1.2-14.8.5-22.5zM109.7 115.9L46.6 179c4.6 2.9 9.5 5.3 14.6 7.4l43.2-43.2 5.3-27.3zM116.4 81.6L31 167c3.8 3.6 7.9 6.9 12.2 9.8l67.9-67.9 5.3-27.3zM2.8 116.6c3.4 16.6 11 31.5 21.6 43.6l3.9 3.9 11-11-36.5-36.5zM103.1 150.2l-37.7 37.7c5.7 2 11.6 3.4 17.7 4.3l14.7-14.7 5.3-27.3z"></path></g></svg>  Fare Breakup',
        b2cWPCorpFareBreakupTitle: '<svg height="20" width="20" class="mr5" fill="#999" viewBox="0 0 194 194"><use xlink:href="#work-plus"></use></svg> Work Fare Breakup',
        showB2cCorpFare: 'Flights with <span id="ctOneFare"><svg class="ff-placeholder" id="ctone-small" viewBox="0 0 194 194"><title>ctone-small</title><g fill-rule="nonzero"><path d="M80.7 111.6L15.3 46.2c-2.9 4.6-5.4 9.5-7.4 14.5l61.8 61.8 11-10.9zM66.9 125.4L6.3 64.8c-2 5.6-3.5 11.5-4.4 17.5l54 54 11-10.9zM157 118.2L192.2 83c-.9-6.1-2.4-12-4.3-17.7L162.2 91l-5.2 27.2zM53.1 139.2L1.3 87.4c-.7 6.9-.6 14 .2 21.2 0 .4.1.8.2 1.1l40.4 40.4 11-10.9zM172.6 37.5l-2.4 12.3 6.6-6.6c-1.4-2-2.8-3.9-4.2-5.7zM163.6 84l22.7-22.7c-2-5.1-4.5-10-7.4-14.6l-10.1 10.1-5.2 27.2zM117.8 74.6l2.9-14.8c.3-1.6-1.2-2.8-2.7-2.2l-32.6 13c-2 .8-4.1-.7-4.1-2.8V32.4c0-.9.5-1.6 1.4-1.9L140.1 11C123.8 2.8 104.9-.9 85.4 1.5 56.8 5 32.7 20.7 17.6 42.7l66 66 34.2-34.1zM145 180.4c23.4-13.5 40.2-36.3 46-62.8l-41.9 41.9-4.1 20.9zM96.4 184.5l-8.3 8.3c2.2.2 4.4.3 6.6.4l1.7-8.7zM192.8 88.1l-37.1 37.1-5.2 27.2 41.8-41.8c1-7.3 1.2-14.8.5-22.5zM109.7 115.9L46.6 179c4.6 2.9 9.5 5.3 14.6 7.4l43.2-43.2 5.3-27.3zM116.4 81.6L31 167c3.8 3.6 7.9 6.9 12.2 9.8l67.9-67.9 5.3-27.3zM2.8 116.6c3.4 16.6 11 31.5 21.6 43.6l3.9 3.9 11-11-36.5-36.5zM103.1 150.2l-37.7 37.7c5.7 2 11.6 3.4 17.7 4.3l14.7-14.7 5.3-27.3z"></path></g></svg> One</span> <span id="WPFare" style="display:none"><svg class="ff-placeholder" viewBox="0 0 20 20"><use xlink:href="#work-plus"></use></svg>Work</span> fares',
        shortlistFirstRun: "Shortlist this itinerary to get fare updates directly in your inbox",
        B2B: {
            AG: {
                customerCareNumber: {
                    DOM: 'For any assitance please call 022 - 3035 1655 / 0730 443 2408 & press Option 1 on IVR or mail to <a href="mailto:flights.agentbox@cleartrip.com">flights.agentbox@cleartrip.com</a> & <a href="mailto:agencysupport@cleartrip.com">agencysupport@cleartrip.com</a>.',
                    INTL: 'For any assitance please call 022 - 3035 1655 / 0730 443 2408 & press Option 1 on IVR or mail to <a href="mailto:flights.agentbox@cleartrip.com">flights.agentbox@cleartrip.com</a> & <a href="mailto:agencysupport@cleartrip.com">agencysupport@cleartrip.com</a>.'
                }
            }
        }
    }
}, CT.messages || {}), !function(e, t, n) {
    n[e] = t(CT.settings.validators);
}("searchForm", function(e) {
    return {
        update: function() {},
        addValidations: function() {
            var e = this;
            (function(e) {
                var t = {}, n = e.find("#ToTag"), r = e.find("#FromTag");
                n && (t.elem = n, t.mess = CT.messages.air.validationSameCity, t.condition = function(e) {
                    return n.next().val() != "" && r.next().val() !== "" && n.next().val() === r.next().val() ? !1 : !0;
                }, n.get(0).validatorObjects || (n.get(0).validatorObjects = []), n.get(0).validatorObjects.push(t));
            })(this.$el), CT.app == "dp" && (function(e) {
                var t = {}, n = e.find("#ToTag");
                $destCode = e.find("#dest_code"), n && (t.elem = n, t.mess = CT.messages.air.CitySuggestion, t.condition = function(e) {
                    return $destCode.val() == "" ? !1 : !0;
                }, n.get(0).validatorObjects || (n.get(0).validatorObjects = []), n.get(0).validatorObjects.push(t));
            }(this.$el), function(e) {
                var t = {}, n = e.find("#FromTag"), r = e.find("#from");
                n && (t.elem = n, t.mess = CT.messages.air.CitySuggestion, t.condition = function(e) {
                    return r.val() == "" ? !1 : !0;
                }, n.get(0).validatorObjects || (n.get(0).validatorObjects = []), n.get(0).validatorObjects.push(t));
            }(this.$el)), function(e) {
                function t(e) {
                    var t = /[0-9]+\/[0-9]+\/([0-9][0-9][0-9][0-9])+/;
                    return t.test(e);
                }
                function n(e) {
                    if (t(e)) {
                        var n = !0, r, i, s, o, u = e, a = "/", f = u.indexOf(a), l = u.lastIndexOf(a);
                        return i = parseInt(u.substring(0, f), 10), r = parseInt(u.substring(f + 1, l), 10) - 1, s = parseInt(u.substring(l + 1), 10), o = new Date(s, r, i), o.getDate() == i ? o.getMonth() == r ? !o.getFullYear() == s && (n = !1) : n = !1 : n = !1, n;
                    }
                    return !1;
                }
                _.each(e.find(".depart_date, .return_date"), function(e) {
                    var t = {}, n, r = $(e);
                    r.attr("validate") || r.attr("validate", "true"), t.elem = r, t.mess = CT.messages.air.DateInformat, t.condition = function(e) {
                        try {
                            if (r.attr("disabled")) return !0;
                            var t = r.nextAll("input"), n;
                            return t.val() == "" && t.val(r.val()), n = t.val(), moment(n, "DD/MM/YYYY", !0).isValid() ? !0 : moment(n, "ddd, DD MMM, YYYY").isValid() ? (t.val(moment(n, "ddd, DD MMM, YYYY").format("DD/MM/YYYY")), !0) : !1;
                        } catch (i) {
                            return !0;
                        }
                    }, r.get(0).validatorObjects || (r.get(0).validatorObjects = []), r.get(0).validatorObjects.push(t);
                });
            }(this.$el), function(e) {
                _.each(e.find(".depart_date, .return_date"), function(e) {
                    var t = {}, n, r = $(e);
                    r.attr("validate") || r.attr("validate", "true"), t.elem = r, t.mess = CT.messages.air.DateIsPast, t.condition = function(e) {
                        try {
                            if (r.attr("disabled")) return !0;
                            var t = r.nextAll("input"), n;
                            t.val() == "" && t.val(r.val()), n = t.val();
                            var i = moment(window.serverCurrentDate).format("MM/DD/YYYY");
                            return n = moment(n, "DD/MM/YYYY").format("MM/DD/YYYY"), (new Date(i)).getTime() <= (new Date(n)).getTime() ? !0 : !1;
                        } catch (s) {
                            return !0;
                        }
                    }, r.get(0).validatorObjects || (r.get(0).validatorObjects = []), r.get(0).validatorObjects.push(t);
                });
            }(this.$el), function(e) {
                var t = {}, n, r, i, i, s = e.find(".depart_date"), o = moment().format("MM/DD/YYYY");
                s.attr("validate") || s.attr("validate", "true"), s && (t.elem = s, t.mess = CT.messages.air.cantFindIntFlight, t.condition = function(u) {
                    n = e.find("#FromTag").val(), $from = e.find("#FromTag").next().val(), r = e.find("#ToTag").val(), $to = e.find("#ToTag").next().val();
                    if (CT.app == "dp") {
                        var a = e.find("#Country").val();
                        return $from && n && n.indexOf(", IN - ") > 0 && $to && a && a == "IN" ? t.mess = CT.messages.air.cantFindDomFlight : t.mess = CT.messages.air.cantFindIntFlight, i = moment(s.nextAll("input").val(), "DD/MM/YYYY").format("MM/DD/YYYY"), i = new Date(i), i.setDate(i.getDate()), _.datesDuration(o, i) >= window.intlSearchToBookDays;
                    }
                    return $from && n && n.indexOf(", IN - ") < 0 || $to && r && r.indexOf(", IN - ") < 0 ? (i = moment(s.nextAll("input").val(), "DD/MM/YYYY").format("MM/DD/YYYY"), i = new Date(i), i.setDate(i.getDate()), _.datesDuration(o, i) >= window.intlSearchToBookDays) : !0;
                }, s.get(0).validatorObjects || (s.get(0).validatorObjects = []), s.get(0).validatorObjects.push(t));
            }(this.$el), this.$el.length > 0 && ((el = this.$el.get(0)).validatesuccess || (el.validatesuccess = this.validateSuccess), el.id === "SearchForm" && (el.validateerror = this.validateerror)), this.$el.get(0).beforevalidate = function() {
                var t = $("#FromTag3") && $("#FromTag3").parents(".searchBox").find("input[type=text]"), n = $("#FromTag4") && $("#FromTag4").parents(".searchBox").find("input[type=text]"), r = $("#FromTag5") && $("#FromTag5").parents(".searchBox").find("input[type=text]");
                t.removeClass("required"), n.removeClass("required"), r.removeClass("required"), _.each([ t, n, r ], function(e) {
                    _.filter(e, function(e, t) {
                        return CT.widgets.validator.getConditions(".required")(e);
                    }).length > 0 && _.each(e, function(e, t) {
                        CT.widgets.validator.getConditions(".required")(e) || $(e).addClass("required");
                    });
                }), e.submitAirForm();
            };
        },
        switchAirports: function(e) {
            var t = $(e.target), n = this.$el.find("#FromTag"), r = this.$el.find("#ToTag"), i = this.$el.find("#From"), s = this.$el.find("#To"), o = n.val(), u = r.val(), a = i.val(), f = s.val();
            o != "" && u != "" && o != n.attr("placeholder") && u != r.attr("placeholder") && (n.parent().addClass("goToRight"), r.parent().addClass("goToLeft"), t.addClass("rotateMe"), window.setTimeout(function() {
                r.val(o), n.val(u), i.val(f), s.val(a), t.removeClass("rotateMe");
            }, 500), window.setTimeout(function() {
                n.parent().removeClass("goToRight"), r.parent().removeClass("goToLeft");
            }, 700));
        },
        getParamsForStaticCall: function(e) {
            function n() {
                var e = "";
                return t.$el[0].id == "SearchForm" ? e = _.filter(t.$el[0].trip_type, function(e) {
                    if (e.checked) return e;
                })[0].value : e = t.$el[0].srpReturnDate.value && t.$el[0].srpReturnDate.value != $(t.$el[0].srpReturnDate).attr("placeholder") ? "RoundTrip" : "OneWay", {
                    from: t.$el[0].from.value,
                    to: t.$el[0].to.value,
                    trip_type: e
                };
            }
            var t = this, r = n();
            return r.to && r.from && r.trip_type && r.trip_type != "MultiCity" ? r : null;
        },
        validateSuccess: function(t) {
            t.preventDefault();
            var n = this, r, s = $(this), o = !0, u = [], a = function(e) {
                $("body").removeClass("roundTrip multiCity splitScreen"), e.intl === "n" && e.trip_type === "MultiCity" && $(".modify.searchBox").hide();
            }, f = function(t) {
                var n = _.deserialize(t);
                $.browser.msie || a(n);
                var r = [ "formatDate" ];
                _.each(r, function(t) {
                    e[t](n);
                });
                if (n.origin) n.intl = _.isUndefined(n.origin.split(",")[1]) || _.isUndefined(n.destination.split(",")[1]) ? "n" : n.origin.split(",")[1].split("-")[0].trim() !== "IN" || n.destination.split(",")[1].split("-")[0].trim() !== "IN" ? "y" : "n"; else {
                    n.intl = "n";
                    for (var i = 1; i < n.num_legs + 1; i++) if (n["origin" + i] && n["origin" + i].split(",")[1].split("-")[0].trim() !== "IN" || n["destination" + i] && n["destination" + i].split(",")[1].split("-")[0].trim() !== "IN") {
                        n.intl = "y";
                        break;
                    }
                }
                return n;
            }, l = function() {
                var e = $("#ToTag");
                return e && s.find('input[name="trip_type"]:checked').val() != "MultiCity" && e.next().val() != "" && $("#FromTag").next().val() !== "" && e.next().val() === $("#FromTag").next().val() && (c(e, CT.messages.air.differentDest), o = !1), o;
            }, c = function(e, t) {
                var n = [];
                n.push({
                    elem: e.get(0),
                    mess: t,
                    name: "custom"
                }), CT.widgets.validator.showErrors(s, n);
            }, h = function() {
                var e = "test", t = window.sessionStorage;
                try {
                    return t.setItem(e, "1"), t.removeItem(e), localStorageName in win && win[localStorageName];
                } catch (n) {
                    return !1;
                }
            }, p = function() {
                var e = "", t = d(location.href), n = JSON.stringify(t);
                CT.utils.helperFunctions.isLocalStorageNameSupported() && sessionStorage.setItem("UTM_PARAMETERS", n);
                for (id in t) e = e + "<input type='hidden' name='" + id + "' value='" + t[id] + "' />";
                $("#SearchForm").append(e);
            }, d = function(e) {
                var t = {};
                sessionStorage.getItem("UTM_PARAMETERS") != null && (t = JSON.parse(sessionStorage.getItem("UTM_PARAMETERS")));
                var n = [ "utm_source", "utm_medium", "utm_term", "utm_campaign", "utm_content", "user-agent" ];
                return e.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function(e, r, i, s) {
                    n.indexOf(r) > -1 && (t[r] = s);
                }), t;
            }, v = function(e, t) {
                u.push(e);
                try {
                    var n = CT.utils.getAbTestCookie("plm") === "a";
                    n && window.callBooBeacon && typeof window.callBooBeacon == "function" && window.callBooBeacon();
                } catch (r) {
                    L(r);
                }
                if (u.length === t && u.indexOf(!1) === -1 && l()) {
                    CT.widgets.placeholder.removeLabels(s[0]), $("#SearchBtn").addClass("loading formIsValid"), p(), CT.utils.genericBlocks && CT.utils.genericBlocks.hideLanguagePrefToolTip && CT.utils.genericBlocks.hideLanguagePrefToolTip(), CT.settings.currentTab;
                    var o = f(s.serialize().replace(/&/g, CT.utils.urlDelimiter));
                    if (window.isWL) {
                        var a = CT.settings.routes;
                        CT.utils.helperFunctions.getSEMParams(window.location.search.substring(1), o);
                        var c = a.cleanURLParams($.extend({}, o));
                        c = a.cleanURLParams($.extend({}, o), [ "ver", "type", "trip_type", "srpDepartDate", "srpReturnDate" ]), c = a.cleanURLParams(c, function() {
                            _.each(this, function(e, t, n) {});
                        }), c.rnd_one = o.trip_type == "OneWay" ? "O" : "R", window.location.href = "/flights/search?" + _.serialize(c);
                        return;
                    }
                    window.scrollTo && window.scrollTo(0, 0), CT.fire("recent.update", [ o ]);
                    if (window.resultsCSSAssetsLoaded) CT.fire("url.update", [ o ]); else {
                        var h = function() {
                            if (!window.resultsCSSAssetsLoaded) {
                                var e = CT.settings.routes, t = e.cleanURLParams($.extend({}, o), [ "ver", "type", "trip_type", "srpDepartDate", "srpReturnDate" ]), n = t.intl === "y" ? "/international" : "";
                                t.rnd_one = o.trip_type == "OneWay" ? "O" : "R", window.location.href = "/flights" + n + "/results?" + _.serialize(t);
                            }
                        };
                        setTimeout(h, 5e3), CT.subscribe("results_css_assets_loaded", function() {
                            clearTimeout(h), CT.fire("url.update", [ o ]);
                        });
                    }
                    try {
                        CT.utils.helperFunctions.trackGAEvent("Flights_TR", "click", "FlightSearchSubmit", "1"), CT.utils.helperFunctions.trackFlightMoengageOnSearch && CT.utils.helperFunctions.trackFlightMoengageOnSearch("fsc", o);
                        var d = o.trip_type == "MultiCity" ? "Multi-city" : o.trip_type == "RoundTrip" ? "RoundTrip" : "One-way";
                        if (d == "Multi-city") {
                            var v = [];
                            for (i = 1; i <= parseInt(o.num_legs); i++) v.push(o["from" + i] + "-" + o["to" + i]);
                        } else var v = [ o.from + "-" + o.to ];
                        var m = CT.utils.helperFunctions.tpTrack({
                            tp: "clevertap",
                            category: "Air_UI_Action",
                            values: {
                                last_event_type: -1,
                                last_page_name: -1,
                                current_page: "flights_home",
                                action_type: "Button",
                                action_name: "search_home",
                                action_value: d,
                                action_value2: v.join(","),
                                is_logged_in: CT.utils.readCTAuthCookie() ? "yes" : "no",
                                platform: "desktop",
                                dom_int: o.intl == "n" ? "domestic" : "international",
                                source: "web"
                            }
                        });
                    } catch (r) {
                        window.console && console.log(r);
                    }
                    var g = function(e) {
                        var t = e.destination.split(","), n = t[0], r = t[1].split("-"), i = r[0].trim();
                        return {
                            city: n,
                            countryCode: i
                        };
                    }, y = function(e, t) {
                        var n = window.open(e);
                        window.open(t, "_self");
                    }, b = function() {
                        var e = _.deserialize(s.serialize());
                        Boolean(e.multicity) && (e.depart_date = e.depart_date_1, e.destination = e.destination1, e.origin = e.origin1);
                        var t = g(e), n = window.initHotelSearchTravellerInfo, r = {
                            city: t.city,
                            state: "",
                            country: t.countryCode,
                            chk_in: e.depart_date,
                            chk_out: e.return_date || moment(e.depart_date, "DD/MM/YYYY").add({
                                days: 1
                            }).format("DD/MM/YYYY"),
                            num_rooms: n.numberOfRooms,
                            adults1: n.numberOfAdults,
                            children1: n.numberOfChildren,
                            ca1: n.childrenAge
                        }, i = "/hotels/results?" + _.serialize(r);
                        y(window.location.href, i), CT.utils.helperFunctions.trackClaverTapEvtHotel("Hotel_Search_Selected", {
                            flightOrigin: e.origin,
                            flightDestination: e.destination,
                            journeyType: e.trip_type,
                            onwardJourney: e.depart_date,
                            returnJourney: e.return_date,
                            dx: String(moment(e.depart_date, "DD/MM/YYYY").diff(moment(), "days") + 1),
                            adultCount: e.adults,
                            childCount: e.childs,
                            infantCount: e.infants,
                            domain: window.location.host,
                            los: String(moment(r.chk_out, "DD/MM/YYYY").diff(moment(r.chk_in, "DD/MM/YYYY"), "days"))
                        });
                    }, w = $("#showHotels").prop("checked");
                    w && b();
                }
            }, m = s.find("#AirlineAutocomplete"), g = s.find("#carrier");
            g && g.length > 0 && g.get(0).value === "" && (m.get(0).value = "");
            var y = s.find(".ui-autocomplete-input.keyValue").length;
            s.find(".ui-autocomplete-input.keyValue").each(function(t, n) {
                $inpEle = $(n), $inpEle.val() !== "" && $inpEle.val() !== $inpEle.attr("placeholder") && $inpEle.next().val() === "" || $inpEle.val() === $inpEle.next().val() ? function(t) {
                    e.checkForCityAvailability(t.val()).done(function(n) {
                        e.isValidCity(t, n) || (c(t, CT.messages.air.AirportSuggestion), o = !1), v(o, y);
                    });
                }($inpEle) : v(o, y);
            });
        },
        validateerror: function(e) {
            CT.utils.UILogger && CT.utils.UILogger.setFormErrors(e);
        },
        modifyInfantsDropdowns: function() {
            var e = this.$el.find("#Adults").val(), t = this.$el.find("#Childrens").val(), n = this.$el.find("#Infants").val(), r, i;
            this.$el.find("#Childrens").children().remove(), this.$el.find("#Infants").children().remove();
            for (r = 0; r <= e; r++) i = $("<option/>", {
                value: r,
                text: r
            }), n == r && i.attr("selected", "selected"), this.$el.find("#Infants").append(i);
            for (r = 0; r < 10 - e; r++) i = $("<option/>", {
                value: r,
                text: r
            }), t == r && i.attr("selected", "selected"), this.$el.find("#Childrens").append(i);
        }
    };
}, CT.settings), !function(e) {
    e();
}(function() {
    $.extend(CT.settings || {}, {
        air: {
            showFirstRun: !1,
            rcntSearchTrigger: 3,
            refreshTimeout: 18e5,
            dlEnabled: $.browser.msie && parseInt($.browser.version, 10) <= 8 ? !1 : window.dlEnabled != null ? window.dlEnabled : !0,
            dlCallCounts: 10,
            dlCallCountsIntl: 10,
            dateLessEnabled: window.dateLessSearchEnabled || !1,
            dlTimeout: 25e3,
            dateCallTimeout: 25e3,
            showFareCalendar: !0,
            runVmoTesting: !1,
            filterApplied: !1,
            newGdsSplrtFare: !0,
            saveFilter: window.enablePersistentFilter ? !0 : !1,
            responseVer: "V2",
            isStickyUI: !0,
            urls: {
                domesticSearch: "/flights/results/airjson",
                intlSearch: "/flights/results/intlairjson",
                multiCitySearch: "/flights/results/mcairjson",
                searchDynLoader: CT.settings.localhost ? "/flightstatic/json/search1.json" : "/flights/results/airjson",
                staticCall: CT.settings.localhost ? "/flightstatic/json/search1.json" : "/flights/results/airjson",
                filterPreference: CT.settings.localhost ? "/flightstatic/json/filterpref.json" : "/filterDetails",
                rSearch: "/{fromCity}-to-{toCity}?{params}",
                pers: "/flightstatic/json/pers-all.json",
                resultsJs: (CT.langUrlPrefix || "") + "/javascripts/search/air.results.min" + window.air_results_min_js_ver + ".js",
                mJsonWk: "/javascripts/search/mJson.wk.min" + window.mJson_wk_min_js_ver + ".js",
                fltSrtWk: "/javascripts/search/fltSrt.wk.min" + window.fltSrt_wk_min_js_ver + ".js",
                miniRule: CT.settings.localhost ? "/flightstatic/json/mini_rule.json" : "/flights/getminirule",
                transitVisa: CT.settings.localhost ? "/flightstatic/json/transit_visa.json" : " /flights/transitvisa",
                baggage: CT.settings.localhost ? "/flightstatic/json/baggage.json" : "/flights/baggageinfo",
                calendarFare: CT.settings.localhost ? "/flightstatic/json/calendar/calendarstub.json" : "/flights/calendar/calendarstub.json",
                checkHoldBookingUrl: "/checkHoldBookingCount"
            },
            searchParamKeys: [ "from", "to", "depart_date", "return_date", "adults", "childs", "infants", "class", "airline", "carrier" ],
            departFilters: [ "0_8", "8_12", "12_16", "16_20", "20_24" ],
            departFiltersConfig: {
                "0_8": {
                    order: 1,
                    text: "Early Morning",
                    time: "12am - 8am"
                },
                "8_12": {
                    order: 2,
                    text: "Morning",
                    time: "8am - 12pm"
                },
                "12_16": {
                    order: 3,
                    text: "Mid-Day",
                    time: "12pm - 4pm"
                },
                "16_20": {
                    order: 4,
                    text: "Evening",
                    time: "4pm - 8pm"
                },
                "20_24": {
                    order: 5,
                    text: "Night",
                    time: "8pm - 12am"
                }
            },
            filter: {
                price: {
                    title: CT.messages.air.filterPriceTitle,
                    hintCheckBoxLabel: CT.messages.air.showRefundFare,
                    hintCheckBoxClass: "refundable",
                    hintCheckBoxCheckAll: !1,
                    priceLockCheckBox: !0,
                    priceLockCheckBoxLabel: window.showPriceLockFilterName,
                    priceLockCheckBoxClass: "pricelock",
                    priceLockCheckBoxCheckAll: !1,
                    corpFareCheckBoxLabel: window.productCode == "CP" || window.productCode == "AG" ? CT.messages.air.showCorpFare : CT.messages.air.showB2cCorpFare,
                    corpFareCheckBoxClass: "corpFare",
                    corpFareCheckBoxCheckAll: !1,
                    staticRange: !0
                },
                stops: {
                    title: CT.messages.air.filterStopsTitle,
                    inline: "inline",
                    checkAll: !0,
                    elements: []
                },
                airlines: {
                    title: CT.messages.air.filterAirTitle,
                    showAll: !0,
                    checkAll: !0
                },
                fareoptions: {
                    title: CT.messages.air.filterFareTitle,
                    showAll: !0,
                    checkAll: !0
                },
                tripDuration: {
                    title: CT.messages.air.filterTripDurTitle,
                    min: 10,
                    max: 20
                },
                departureTime: {
                    title: CT.messages.air.filterDepartTimeTitle,
                    min: 0,
                    max: 24,
                    step: .25,
                    staticRange: !1
                },
                arrivalTime: {
                    title: CT.messages.air.filterRetTimeTitle,
                    min: 0,
                    max: 24,
                    step: .25,
                    staticRange: !1
                },
                layoverDuration: {
                    title: CT.messages.air.filterLaypDurTitle,
                    min: 10,
                    max: 20
                },
                bsfl: {
                    title: CT.messages.air.BSfilter,
                    checkAll: !1
                },
                layoverairports: {
                    title: CT.messages.air.layoverAirport,
                    showAll: !0
                },
                refundableFare: {
                    title: CT.messages.air.refFare,
                    showAll: !1
                },
                corporateFare: {
                    title: CT.messages.air.filterCorpFare,
                    showAll: !1
                },
                nearbyairportsOrigin: {
                    title: CT.messages.air.filterNearbyAirportOrigin,
                    checkAll: !0
                },
                nearbyairportsDest: {
                    title: CT.messages.air.filterNearbyAirportDest,
                    checkAll: !0
                },
                policyCompliant: {
                    title: CT.messages.airfilterPolicyComplaint,
                    checkAll: !1
                }
            },
            ignoreFilters: {
                dom: {
                    rt: {
                        "0": [ "arrivalTime" ],
                        "1": [ "departureTime" ]
                    },
                    ow: {},
                    mc: {}
                },
                intl: {}
            },
            filterTypes: {
                chkBox: [ {
                    id: "stops",
                    el: ".stops"
                }, {
                    id: "refundable",
                    el: ".refundable",
                    isChkBox: !0
                }, {
                    id: "corpFare",
                    el: ".corpFare",
                    isChkBox: !0
                }, {
                    id: "nearbyairportsOrigin",
                    el: ".nearbyairportsOrigin"
                }, {
                    id: "nearbyairportsDest",
                    el: ".nearbyairportsDest"
                }, {
                    id: "airlines",
                    el: ".airlines"
                }, {
                    id: "bsfl",
                    el: ".bsfl"
                }, {
                    id: "policyCompliant",
                    el: ".policyCompliant"
                }, {
                    id: "pricelock",
                    el: ".pricelock",
                    isChkBox: !0
                }, {
                    id: "fareoptions",
                    el: ".fareoptions",
                    isChkBox: !0
                } ],
                slider: [ {
                    id: "price",
                    el: ".price.rangeSlider"
                }, {
                    id: "tripDuration",
                    el: ".tripDuration.rangeSlider"
                }, {
                    id: "layoverDuration",
                    el: ".layoverDuration.rangeSlider"
                }, {
                    id: "departureTime",
                    el: ".departureTime.rangeSlider"
                }, {
                    id: "arrivalTime",
                    el: ".arrivalTime.rangeSlider"
                } ]
            },
            filterParamList: [ "price", "corpFare", "refundable", "stops", "airlines", "departureTime", "fareoptions", "arrivalTime", "tripDuration", "layoverDuration", "bsfl", "policyCompliant", "pricelock", "nearbyairportsOrigin", "nearbyairportsDest" ],
            sorterParamList: [ "sortType{{idx}}", "sortOrder{{idx}}" ],
            filterHashModifiers: [ "stops", "airlines", "fareoptions", "corpFare", "refundable", "price", "departureTime", "arrivalTime", "nearbyairportsOrigin", "nearbyairportsDest", "topbarClassFilters", "tripDuration", "layoverDuration", "bsfl", "policyCompliant" ],
            cabinTypesMap: {
                B: CT.messages.air.BizCabin,
                E: CT.messages.air.EcoCabin,
                F: CT.messages.air.FCCabin,
                P: CT.messages.air.PECabin
            },
            refundableMap: {
                R: CT.messages.air.Refundable,
                N: CT.messages.air.nonRefundable
            },
            refundableClassMap: {
                R: "refund",
                N: "nonRefund"
            },
            placesUri: "/places/airports/search?string=",
            paramsKeyMapper: {
                abp: "adult_base",
                adtbp: "per_adult_base_price",
                bp: "base_price",
                mi_oadtbp: "out_per_adult_base_price",
                mi_radtbp: "ret_per_adult_base_price",
                mi_obp: "out_base_price",
                mi_rbp: "ret_base_price",
                bundledFareCategory: "bfc",
                ds: "disc",
                fk: "fare_key",
                pr: "price",
                t: "taxes",
                no_legs: "no_legs",
                fare_subtype: "fare_subtype",
                legMapper: {
                    ac: "aircode",
                    oa: "airline",
                    a: "arrives",
                    ad: "arrives_date",
                    ct: "cabin_type",
                    dp: "departs",
                    dpd: "departs_date",
                    fb: "fare_basis",
                    fc: "fare_class",
                    fn: "flt_num",
                    fr: "from",
                    r: "refundable",
                    s: "stops",
                    to: "to",
                    v: "via",
                    arp: "toAirportName",
                    arpc: "toCityName"
                }
            },
            priceAdvisery: {
                duration: 10,
                percentage: 5,
                range: 3,
                pricethreshold: {
                    dom: 5,
                    intl: 10
                }
            },
            firstRunObj: [ {
                comboTabs: {
                    direction: "N",
                    mainHeading: CT.messages.air.RTDiscounts,
                    subHeading: CT.messages.air.saveSpclRTFare,
                    className: "combo"
                }
            }, {
                vIndicator: {
                    direction: "S",
                    mainHeading: CT.messages.air.KnowFlight,
                    subHeading: CT.messages.air.GlanceIdentifyFlight,
                    className: "vi",
                    ele: "vi"
                }
            }, {
                detailsLink: {
                    direction: "E",
                    mainHeading: CT.messages.air.FlighttDetails,
                    subHeading: CT.messages.air.CompltFlightDetails,
                    className: "flightInfo"
                }
            }, {
                miniCalendar: {
                    direction: "E",
                    mainHeading: CT.messages.air.FlexiDates,
                    subHeading: CT.messages.air.SnapofMonth,
                    className: "calendar"
                }
            }, {
                convenientFlights: {
                    mainHeading: CT.messages.air.NonstopFlight,
                    direction: "N",
                    subHeading: CT.messages.air.OnlyNonStopFlight,
                    className: "convenient"
                }
            }, {
                calendarViewLink: {
                    mainHeading: CT.messages.air.SwitchCalView,
                    direction: "N",
                    subHeading: CT.messages.air.seeFullMonthFare,
                    className: "calendar"
                }
            }, {
                primaryBar: {
                    mainHeading: CT.messages.air.newExperience,
                    direction: "N",
                    subHeading: "",
                    takeTour: !0
                }
            } ],
            firstRunEle: [ "comboTabs", "vIndicator", "detailsLink", "miniCalendar", "convenientFlights", "calendarViewLink", "primaryBar" ],
            ignoreCCAirlineCheck: (window.splrtIgnoreAirlines || "").split(","),
            splrtLCCAirlineCheck: (window.splrtIgnoreAirlines || "").split(","),
            miniRuleUIDevDomain: [ "uidev.cleartrip.com", "dev.cleartrip.com", "manit.cleartripforbusiness.com" ]
        },
        filters: {
            ids: "ids",
            or: [ "stops", "airline" ],
            and: [],
            range: [ "price", "dep", "ret" ],
            attrMap: {
                stops: "data-stops",
                airline: "data-airline",
                fareoption: "data-fareoption",
                price: "data-price",
                dep: "data-dep",
                ret: "data-arr"
            },
            constants: {
                airlineCombinations: {
                    "9W-K": [ "9W-K", "S2" ]
                },
                timeRange: {
                    "1": [ 0, 800 ],
                    "2": [ 801, 1200 ],
                    "3": [ 1201, 1600 ],
                    "4": [ 1601, 2e3 ],
                    "5": [ 2001, 2400 ]
                },
                starAlliance: [ "JP", "AC", "CA", "NZ", "NH", "OZ", "OS", "KF", "BD", "SN", "CO", "OU", "MS", "LO", "LH", "SK", "FM", "SQ", "SA", "JK", "LX", "TP", "TG", "TK", "UA", "US" ],
                skyTeam: [ "SU", "AM", "UX", "AF", "AZ", "CZ", "OK", "DL", "KQ", "KL", "KE" ],
                oneWorld: [ "AA", "BA", "CX", "AY", "IB", "JL", "LA", "MA", "QF", "RJ", "MX" ]
            }
        },
        dates: {
            shortNames: {
                months: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
                days: [ "Sun", "Mon", "Tue", "Wed", "Thr", "Fri", "Sat" ]
            }
        },
        upsell: {
            domestic: [ {
                title: CT.messages.air.Mobile,
                desc: CT.messages.air.getMobile,
                link: "http://www.cleartrip.com/mobile"
            }, {
                title: CT.messages.air.IntroducingPkg,
                desc: CT.messages.air.bookFlightHotelTogether,
                link: "/packages"
            } ],
            intl: [ {
                title: CT.messages.air.Mobile,
                desc: CT.messages.air.getMobile,
                link: "http://www.cleartrip.com/mobile"
            }, {
                title: CT.messages.air.IntroducingPkg,
                desc: CT.messages.air.bookFlightHotelTogether,
                link: "/packages"
            } ],
            AE: [ {
                title: CT.messages.air.fareAlerts,
                desc: CT.messages.air.trackAirlinesAndSave,
                link: "http://www.cleartrip.com/alerts/?ref=SRP"
            }, {
                title: CT.messages.air.IntroducingPkg,
                desc: CT.messages.air.bookFlightHotelTogether,
                link: "/packages"
            } ],
            ME: [ {
                title: CT.messages.air.fareAlerts,
                desc: CT.messages.air.trackAirlinesAndSave,
                link: "http://www.cleartrip.com/alerts/?ref=SRP"
            }, {
                title: CT.messages.air.ExpWay,
                desc: CT.messages.air.oneTouchBook,
                link: "/expressway/?ref=SRP"
            } ]
        },
        urlDelimiter: "&"
    });
    try {
        CT.settings.air.isStickyUI && (CT.settings.air.filter.stops = {
            title: CT.messages.air.filterStopsTitle,
            inline: "inline",
            checkAll: !1,
            elements: [],
            addAltFiltersClass: !0,
            altFiltersClass: "smartFilters horizontal",
            smartFilterCheckBox: 1
        }, CT.settings.air.filter.departureTime = {
            title: CT.messages.air.filterDepartTimeTitle,
            masterValues: {},
            inline: "inline",
            checkAll: !1,
            elements: [],
            addAltFiltersClass: !0,
            altFiltersClass: "smartFilters vertical",
            smartFilterCheckBox: 1
        }, CT.settings.air.filter.arrivalTime = {
            title: CT.messages.air.filterRetTimeTitle,
            masterValues: {},
            inline: "inline",
            checkAll: !1,
            elements: [],
            addAltFiltersClass: !0,
            altFiltersClass: "smartFilters vertical",
            smartFilterCheckBox: 1
        }, _.each(CT.settings.air.departFiltersConfig, function(e, t) {
            e.html = e.text + '<span class="fRight">' + e.time + "</span>", CT.settings.air.filter.departureTime.masterValues[t] = CT.settings.air.filter.arrivalTime.masterValues[t] = e;
        }), CT.settings.air.filterTypes.chkBox.push({
            id: "departureTime",
            el: ".departureTime"
        }), CT.settings.air.filterTypes.chkBox.push({
            id: "arrivalTime",
            el: ".arrivalTime"
        }), CT.settings.air.filterTypes.slider.splice(3, 2), window.sessionStorage && (window.sessionStorage.stickyFilter = 1));
    } catch (e) {
        window.console && console.log("sticky filter error:" + e.message);
    }
}), CT = function(e) {
    function s(e) {
        var t = {
            adults: 1,
            childs: 0,
            infants: 0,
            ver: "V2",
            type: "json",
            "class": "Economy",
            airline: "",
            carrier: "",
            search_ver: "V2",
            dls: "y"
        };
        return window.productCode === "CP" && (t.source = "CORP"), _.extend({}, e, t);
    }
    function o(e) {
        return e.from + "_" + e.to + "_" + e.trip_type;
    }
    function u(e, o) {
        e = s(e), window.companyId && (e.companyid = window.companyId), n || (n = CT.settings[CT.app].urls.staticCall), $.ajax({
            url: n,
            data: e
        }).done(function(e) {
            var n = _.indexOf(i, o);
            n != -1 && i.splice(n, 1);
            if (e !== "" && e !== null && e !== undefined && typeof e == "string") try {
                e = JSON.parse(e), e.mJson && (e.isIntl != null && (e.mJson.jsons.searchType.isIntl = e.isIntl), e = e.mJson), e.jsons && e.jsons.intlSearchToBookDays != null ? window.intlSearchToBookDays = e.jsons.intlSearchToBookDays : e.intlSearchToBookDays != null && (window.intlSearchToBookDays = e.intlSearchToBookDays);
            } catch (s) {
                e = "";
            }
            e && _.keys(e.mapping).length > 0 && (t[o] = e, _.each(r, function(e) {
                o == e.key && e.onGetData(t[o]);
            }));
        });
    }
    function f(e) {
        function t() {
            setTimeout(function() {
                if (_.indexOf(e.mandateElements, document.activeElement) == -1) {
                    var t = e.getParams();
                    t && t.from != t.to && a.fetch(t);
                }
            }, 10);
        }
        CT.settings[CT.app].dateLessEnabled && ($(e.$el.find("input[type='text'], input[type='radio'], select")).blur(t), $(e.$el.find("input[type='radio']")).change(t));
    }
    function l(e) {}
    var t = {}, n = "", r = [], i = [], a = {
        initialize: function() {},
        fetch: function(e) {
            var n = o(e);
            !t[n] && _.indexOf(i, n) == -1 ? (i.push(n), u(e, n)) : t[n], clearTimeout(this.fetchFilterPreferenceTimer), this.fetchFilterPreferenceTimer = setTimeout(function() {
                CT.fire("fetchFilterPreference");
            }, 1e3);
        },
        getData: function(e, n) {
            var i = o(e), s = t[i];
            s ? n(s) : (r = [], r.push({
                key: i,
                onGetData: n
            }));
        },
        getCache: function() {
            return t;
        }
    };
    return e.StaticResultsModel = a, e.StaticResultsView = {
        bind: f,
        unbind: l
    }, e;
}(CT || {}), !function(e) {
    e(CT.settings.searchForm, CT.View, Mustache, CT.Store, CT.Pers);
}(function(e, t, n, r, i) {
    var s, o = function() {
        s = CT.cache.views.searchForm = t({
            $el: $("#SearchForm"),
            initialize: function() {
                var e = this;
                this.addValidations(), $("body").removeClass("srp").addClass("home");
                var t = {
                    $el: e.$el,
                    mandateElements: [ e.$el[0].origin, e.$el[0].destination ].concat(_.map(e.$el[0].trip_type, function(e) {
                        return e;
                    })),
                    getParams: e.getParamsForStaticCall
                };
                window.location.search.indexOf("ui=v3") != -1 && !_.find(this.$el.elements, function(e) {
                    return e.name == "ui";
                }) && this.$el.prepend('<input type="hidden" name="ui" value="v3" />'), $("#FromTag").attr("name", "origin"), $("#ToTag").attr("name", "destination"), $('<input id="From" type="hidden" name="from" value="">').insertAfter("#FromTag"), $('<input id="To" type="hidden" name="to" value="">').insertAfter("#ToTag"), $('<input type="hidden" name="intl" />').insertBefore(this.$el.find('[type="submit"]')), $("#DepartDate, #ReturnDate").removeAttr("name"), $('<input type="hidden" class="dateField" name="depart_date" id="FromDate" />').insertAfter("#DepartDate"), $('<input type="hidden" class="dateField" name="return_date" id="ToDate" />').insertAfter("#ReturnDate"), CT.StaticResultsView.bind(t), this.$elViewController = this.$el.parents(".viewController");
            },
            subscriptions: {
                "searchForm.update": "renderSearchForm"
            },
            render: function() {
                $("#Result, #Interstitial").hide(), $("#Home, #GlobalNav, footer").show(), $(".srpOverlay,#srpOverlayWarning").hide(), $("body").removeClass("calendarView srp").addClass("home"), CT.widgets.placeholder.parseDomTree(this.$el);
                try {
                    CT.utils && CT.utils.trackers && CT.utils.trackers.page_count(window.pageName == "home" ? {
                        n: "ho",
                        p: "ad"
                    } : {
                        n: "si",
                        p: "ad"
                    }), CT.utils.trackers.ctanalyticsTrackingData("Flights_TS", "Page_Viewed", "Home_Page_Loaded", {}, "page_load"), CT.utils.helperFunctions.tpTrack({
                        tp: "clevertap",
                        category: "Air_PageLoad",
                        values: {
                            last_event_type: -1,
                            last_page_name: -1,
                            page_name: "flights_home",
                            source: "web",
                            page_load_time: (new Date).getTime() - window.pageLoadStartTime,
                            user_pref_curr: CT && CT.utils && CT.utils.utmCurrency.utmCheck() ? CT.utils.utmCurrency.utmClevertapEvent() : window.disp_currency.code
                        }
                    });
                } catch (e) {}
            },
            events: {
                "click .tripType": "makeSelectedTrip",
                "click .switchFields": "switchAirports",
                "click #McAddMore": "addMoremultiCity",
                "change #Adults": "modifyInfantsDropdowns",
                "putSelectedDate input.dateField": "putSelectedDate",
                "click #MoreOptionsLink": "ToggleMoreOptions",
                "click .removeRow a": "removeMCSearchField",
                updateTabIndices: "updateTabIndices",
                "blur #AirlineAutocomplete": "updateAirlineField"
            },
            updateTabIndices: function() {
                var e = 0;
                return this.$("input, select").not('[type="hidden"], :hidden').map(function() {
                    $(this).attr("tabindex", ++e);
                }), this;
            },
            removeMCSearchField: function(e) {
                $target = $(e.target), $target.parents("section.row").remove();
                var t = that.$el.find("#MultiTrip"), n = +t.attr("maxroutes") || 4;
                return curMaxMcField = t.find("section.row"), curMaxMcField.length > 2 && $(curMaxMcField[curMaxMcField.length - 1]).append('<div class="col col1 removeRow"><a href="javascript:void(0);"><i class="remove"></i></a><div class="col col6 removeRow">'), curMaxMcField.length <= n && this.$el.find(".addMcRow").show(), this.alterFormHeight(), !1;
            },
            ToggleMoreOptions: function(e) {
                var t, n = this.$el.find("#moreOptions"), r = e.target.tagName.toLowerCase() === "a" ? $(e.target) : $(e.target).parents("a");
                r.find("i").hasClass("dArrow") ? r.find("i").removeClass("dArrow").addClass("rArrow") : r.find("i").removeClass("rArrow").addClass("dArrow"), n.toggle(), this.$el.trigger("updateTabIndices"), this.alterFormHeight();
            },
            submitAirForm: function() {
                window.airjsonXhr ? window.airjsonXhr.abort() : "", this.$el.find("#OneWay").attr("checked") == "checked" && ($retDateObj = this.$el.find("#ReturnDate"), $retDateObj.attr("disabled", "disabled"));
                if (this.$el.find("#MultiCity").attr("checked") == "checked") {
                    var e, t = this.$el.find("#McNumLegs");
                    $mcDiv = this.$el.find("#MultiTrip"), $dpd = $mcDiv.find(".depart_date"), e = _.filter($dpd, function(e) {
                        return $(e).val() != "" && $(e).val() !== $(e).attr("placeholder");
                    }).length, t[0] || this.$el.append(t = $('<input type="hidden" name="num_legs" id="McNumLegs" />')), t.val(e);
                }
            },
            updateAirlineField: function(e) {
                e.target.value.length === 0 && $(e.target).next().val("");
            },
            changeTrip: function() {
                this.$el.find("#RoundTrip").trigger("click");
            },
            addMoremultiCity: function() {
                that = this, this.addMultiCityRow(that.$el.find("#MultiTrip").find("section.row").length + 1), CT.widgets.placeholder ? CT.widgets.placeholder.parseDomTree(that.$el.find("#MultiTrip").find("section.row").last()) : null, that.alterFormHeight(), this.$el.trigger("updateTabIndices");
            },
            renderOneWay: function(e) {
                this.$el.find(e.toDate).parents("dl").addClass("faded").end().attr("disabled", "disabled"), this.$el.find(e.retTime).parents("dl").hide(), this.$el.find(e.retDate).attr("tabindex", -1).parents("dl").hide(), this.$el.find(e.moreOptions).show(), this.$el.find(e.retDate).val(""), this.$el.find("#PaxBlock").find("div.mulField").addClass("andAhalf"), this.$el.find("#PaxBlock").find("#multiFlClass").addClass("col13"), this.$el.trigger("updateTabIndices");
            },
            renderRoundTrip: function(e) {
                var t = Number($(e.pdDate).attr("tabindex"));
                this.$el.find(e.toDate).removeAttr("disabled", "disabled").parents("dl").removeClass("faded").end(), this.$el.find(e.retTime).parents("dl").show(), this.$el.find(e.retDate).attr("tabindex", ++t).parents("dl").show(), this.$el.find(e.moreOptions).show(), this.$el.find("#PaxBlock").find("div.mulField").addClass("andAhalf").end().find("multiFlClass").addClass("col13");
                var n = this.$el.find(e.pdDate), r = this.$el.find(e.fromDate);
                n.val() != "" && (this.$el.find(e.retDate).datepicker("option", "minDate", n.val()), this.$el.find(e.retDate).val(n.val()), this.$el.find(e.toDate).val(r.val()), CT.widgets.placeholder ? CT.widgets.placeholder.setLabel(this.$el.find(e.retDate)[0]) : null), this.$el.trigger("updateTabIndices");
            },
            prefillMultiCityFromField: function(e) {
                that = this, $currSection = that.$el.find("#MultiTrip").find("section.row")[e - 1], $fromField = $($currSection).find("input")[0], $($fromField).on("focus", function() {
                    $prevSection = $(this).parents("section.row").prev();
                    if ($prevSection) {
                        $prevToField = $($prevSection.find("input")[2]);
                        if ($(this).get(0).value === "" || $(this).get(0).value === $(this).attr("placeholder")) $(this).val($prevToField.val()), CT.widgets.placeholder ? CT.widgets.placeholder.setLabel(this) : null, $(this).next().val($prevToField.next().val());
                    }
                }), that.$el.find("#PaxBlock").find("select").removeAttr("tabindex"), that.$el.find("#PaxBlock").find("div.andAhalf").removeClass("andAhalf").addClass("mulField"), that.$el.find("#PaxBlock").find("#multiFlClass").removeClass("col13");
            },
            addMultiCityRow: function(e, t) {
                var n, r = this, t = t || "", i = "", s = r.$el.find("#MultiTrip"), o = +s.attr("maxroutes");
                n = r.$el.find("#MultiTrip").find("section.row"), n.length > 1 && n.length === e - 1 && ($(n[n.length - 1]).find(".removeRow").remove(), i = "<a href='javascript:void(0);'><i class='remove'></i></a>"), mcHtml = CT.to_html("MCSearchField", {
                    idx: e,
                    cls: t,
                    removeBtnHTML: i
                }), r.$el.find("#MultiTrip .addMcRow").before(mcHtml);
                var u = r.$el.find("#MultiTrip").find("#DepartDate" + (e - 1)), a = r.$el.find("#MultiTrip").find("#DepartDate" + e);
                a.ctdatepicker(), r.$el.find("#MultiTrip").find("#FromTag" + e).autocomplete(), r.$el.find("#MultiTrip").find("#ToTag" + e).autocomplete(), n.length > 1 && n.length === e - 1 && setTimeout(function() {
                    a && a.datepicker("option", "minDate", u.val());
                }, 500), e > 1 && r.prefillMultiCityFromField(e);
                if (n.length >= o) return this.$el.find(".addMcRow").hide(), !1;
            },
            renderMultiCity: function(e) {
                this.$el.find(e.owRet).hide(), this.$el.find(e.multi).show(), this.$el.find("#MultiTrip").find(".searchBox").length === 0 && (this.addMultiCityRow(1, "required"), this.addMultiCityRow(2, "required"), this.addMultiCityRow(3, "")), CT.widgets.placeholder ? CT.widgets.placeholder.parseDomTree(that.$el.find("#MultiTrip")) : null, $flClassDiv = this.$el.find(e.flClass).clone(), $flClassDiv.removeClass("col8").addClass("col6").attr("id", "multiFlClass"), this.$el.find(e.paxBlock).append($flClassDiv), this.$el.find(e.moreOptions).hide(), this.resetElements(this.$el.find(e.owRet), !0), this.resetElements(this.$el.find(e.moreOptions), !0), this.resetElements(this.$el.find(e.multi), !1), this.$el.find("#PaxBlock").find("select").removeAttr("tabindex"), this.$el.find("#PaxBlock").find("div.andAhalf").removeClass("andAhalf").addClass("mulField"), this.$el.find("#PaxBlock").find("#multiFlClass").removeClass("col13"), this.$el.trigger("updateTabIndices");
            },
            renderPackages: function() {
                window.location.href = "/packages";
            },
            makeSelectedTrip: function(e) {
                var t = e && $(e.target).closest("label").attr("for") || "OneWay", n = this, r = {
                    owRet: "#ORtrip",
                    multi: "#MultiTrip",
                    toDate: "#ToDate",
                    fromDate: "#FromDate",
                    retTime: "#RetTime",
                    origin: "#FromTag",
                    destination: "#ToTag",
                    airSwitch: ".switchFields",
                    retDate: "#ReturnDate",
                    pdDate: "#DepartDate",
                    flClass: "#FlClass",
                    paxBlock: "#PaxBlock",
                    moreOptions: "#MoreOptionsDiv"
                }, i;
                e && t === "MultiCity" && window.location.pathname.indexOf("results") == -1 ? ($(".searchCheckBox").hide(), CT.utils.helperFunctions.trackGAEvent("Flights_TS", "click", "MultiCity", 100)) : e && t == "RoundTrip" && window.location.pathname.indexOf("results") == -1 ? ($(".searchCheckBox").show(), CT.utils.helperFunctions.trackGAEvent("Flights_TS", "click", "RoundTrip", 100)) : e && t == "OneWay" && window.location.pathname.indexOf("results") == -1 ? ($(".searchCheckBox").show(), CT.utils.helperFunctions.trackGAEvent("Flights_TS", "click", "OneWay", 100)) : e && t == "Packages" && window.location.pathname.indexOf("results") == -1 && ($(".searchCheckBox").hide(), CT.utils.helperFunctions.trackGAEvent("Flights_TS", "click", "Packages", 100)), n.$el.find(r.owRet).show(), n.$el.find(r.multi).hide(), n.resetElements(n.$el.find(r.owRet), !1), n.resetElements(n.$el.find(r.moreOptions), !1), n.resetElements(n.$el.find(r.multi), !0), n.$el.find("#multiFlClass") && n.$el.find("#multiFlClass").remove(), n.$el.find("#" + t).attr("checked", "checked"), n.$el.find(r.airSwitch).removeClass("faded"), n["render" + t](r), n.alterFormHeight(), e && e.stopPropagation();
            },
            alterFormHeight: function() {},
            resetElements: function(e, t) {
                e.find("INPUT, SELECT, TEXTAREA").each(function(e, n) {
                    $(n).attr("disabled", t);
                });
            },
            putSelectedDate: function(e) {
                var t = $(e.target).val(), n = $(e.target).prevAll("input");
                n.parent("dl").hasClass("faded") && n.parent("dl").removeClass("faded"), t && $.datepicker._setDateDatepicker(n.get(0), moment(t, "DD/MM/YYYY").format("ddd, DD MMM, YYYY")), n.attr("id") === "ReturnDate" && n.attr("tabindex", 8);
            },
            renderOptionalField: function(e) {
                sForm = this.$el.get(0);
                var t = !1;
                $([ "class", "airline", "carrier" ]).each(function(n, r) {
                    e[r] !== "Economy" && e[r] !== "" && e[r] !== undefined && (t = !0);
                }), t && $("#MoreOptionsLink").trigger("click");
            },
            renderSearchForm: function(e) {
                var t, n, i = this, s, o, u = (new Date).getTime(), a = [ "origin", "destination", "from", "to" ], f = this.$el.get(0), t = r("Recents").get("lastFormSearch" + (CT.langUrlPrefix || ""));
                if (typeof t == "undefined") return i.makeSelectedTrip(), !1;
                t.length > 0 && (t = _.first(t));
                if (window.product != "B2B") {
                    var l = t.depart_date && new Date(CT.utils.tweakDate(t.depart_date)) < new Date(moment().format("MM/DD/YYYY"));
                    a = a.concat([ "adults", "childs", "infants", "class", "airline" ]);
                } else var l = (t.sd && u - t.sd) > 36e5;
                if (t.trip_type !== "MultiCity" && l) return $("#" + t.trip_type).trigger("click"), _.each(a, function(e) {
                    $(document.activeElement).is(f[e]) || (f[e].value = t[e]);
                }), this.renderOptionalField(t), !1;
                if (t.trip_type === "MultiCity" && new Date(moment().format("MM/DD/YYYY")) > new Date(moment(t.sd).format("MM/DD/YYYY"))) return i.makeSelectedTrip(), !1;
                _.deserialize(window.location.search.substring(1)).l == "ar" || CT.utils.cookies.read("lp") == "ar" ? (t.depart_date = "", t.return_date = "") : _(t).map(function(e, n) {
                    n === "depart_date" && new Date(CT.utils.tweakDate(e)) < new Date(moment().format("MM/DD/YYYY")) && (t.depart_date = "", t.return_date = "");
                }), e && $("#" + t.trip_type).trigger("click"), o = Number(t.num_legs), o > 3 && _.times(o, function(e) {
                    e += 1, e > 3 && i.addMultiCityRow(e, "");
                }), _.each(t, function(e, t) {
                    f[t] && ($(document.activeElement).is(f[t]) || (f[t].value = e, $(f[t]).trigger("putSelectedDate"))), t == "adults" && i.modifyInfantsDropdowns();
                }), this.renderOptionalField(t), CT.widgets.placeholder.parseDomTree(i.$el);
            },
            _fetchFilterPreference: function(e) {
                try {
                    if (window.airFilterPersonalize) {
                        e = _.deserialize($(this.$el).serialize());
                        if (!window.localStorage) return;
                        var t = $(this.$el).find("#DepartDate");
                        if (!t.length || t.prop("placeholder") == t.val()) return;
                        var r = $(this.$el).find("#ReturnDate");
                        if (e.trip_type == "RoundTrip" && (!r.length || r.prop("placeholder") == r.val())) return;
                        if (!e.depart_date || e.trip_type == "RoundTrip" && !e.return_date) return;
                        var i = e.depart_date + (e.trip_type == "RoundTrip" ? "_" + e.return_date : ""), s = e.from + "_" + e.to;
                        if (n[s + "-" + i]) return;
                        $.ajax({
                            url: CT.settings[CT.app].urls.filterPreference,
                            type: "POST",
                            data: JSON.stringify(e),
                            contentType: "application/json; charset=utf-8",
                            dataType: "json"
                        }).done(function(e) {
                            typeof e.abShow == undefined ? e.show = !0 : e.show = e.abShow, o = e;
                            if (window.localStorage.airFilters) {
                                var t = JSON.parse(window.localStorage.airFilters);
                                if (t.sectors && t.sectors[s] && t.sectors[s].sd && t.sectors[s].sd[i]) return !1;
                            }
                            e.enabled && !$.isEmptyObject(e.filters) && (n[s + "-" + i] = e.filters);
                        });
                    }
                } catch (u) {
                    L(u);
                }
            }
        }, e), s.fire("searchForm.update", [ new i ]), window.location.href.indexOf("results") < 0 && s.render();
        if (window.product != "B2B" && !window.isWL) {
            var n = {}, o = {};
            CT.subscribe("fetchFilterPreference", s._fetchFilterPreference), CT.fire("fetchFilterPreference"), CT.subscribe("getFilterPreference", function(e, t) {
                t(n[e], o);
            }), CT.fire("fetchFlightShortlistCount", [ function(e) {
                e && e > 0 ? $("#flightShortlistCountDisplay").show().find(".shortlistLink__count span").html(e) : $("#flightShortlistCountDisplay").hide();
            } ]);
        }
    };
    return $.isReady ? o() : $(o), s;
});;try{if(_cleartrip["air.form"]) _cleartrip["air.form"]()	} catch(e){_cleartrip.alert({ fileName : "air.form" + ".min.js", error : e })}preCT.destroy();"hotels"===window.location.href.split("/")[3]&&window.addEventListener("load",function(){for(var e=document.querySelectorAll("input"),t=0;t<e.length;t++)e[t].addEventListener("blur",function(e){var t=function(){var e=document.implementation.createDocument("","",null),t=e.createElement("temp");t.textContent="temp",t=t.firstChild;var i=new XMLSerializer;return function(e){return t.nodeValue=e,i.serializeToString(t)}}(),i=e.target.value;e.target.value=t(i)})}),window.CT=window.CT||{},CT.utils=CT.utils||{},CT.utils=$.extend(CT.utils,{fasterDOMInsert:function(e,t,i){var n,a=document.createDocumentFragment(),o=document.createElement("div");for(o.innerHTML=e;n=o.firstChild;)a.appendChild(n);t&&(i||((t.get?t.get(0):t).innerHTML=""),t.appendChild(a)),a=null},abTest:function(){var e=$("body");(e.hasClass("air")||e.hasClass("hotel"))&&(e.hasClass("home")||e.hasClass("srp"))&&$.ajax({url:"/source/abtest/getabtestconfig",type:"GET",success:function(){},error:function(){}})},abTestNames:{flshtl:"fsl",Hotels_Desktop_PriceFilter:"hdpf",errorEvent:"ferev",ptb:"fptb",ptb_AE_B2C_intl:"fptbabi",ptb_BH_B2C_intl:"fptbbbi",ptb_IN_B2C_intl:"fptbibi",ptb_KW_B2C_intl:"fptbkbi",ptb_OM_B2C_intl:"fptbobi",ptb_QA_B2C_intl:"fptbqbi",ptb_SA_B2C_intl:"fptbsbi",sortorder:"sto",sortordermobile:"stom",creativePricingAB:"hcp",hotels_srp_cta:"hrcta",hotels_stp_price:"hsp",modify_search:"hms",room_category_details_page:"hrcd"},convertToShortAbTestNames:function(e){try{var t,i="",n={},a=CT.utils.abTestNames;return"string"==typeof e&&(t=JSON.parse(e)),_.each(t,function(e,t){n[a[t]||t]=e}),i=JSON.stringify(n)}catch(o){return e}},getAbTestCookie:function(e){try{var t,i=CT.utils.abTestNames,n=CT.utils.cookies.read("ct-ab");n&&(n=JSON.parse(decodeURIComponent(n)),e&&(t=n[e]||(i[e]?n[i[e]]:null)))}catch(a){var n=null,t=null}return e?t:n},safeJsonParser:function(e){if("object"==typeof e)return e;if("string"==typeof e){try{JSON.parse(e)}catch(t){return{}}return JSON.parse(e)}},reset:function(e,t){var i=Object.prototype.toString;return t=t||[],"[object Array]"===i.call(e)?e.length=0:"[object Object]"===i.call(e)&&_.each(e,function(i,n){e.hasOwnProperty(n)&&-1===t.indexOf(n)&&delete e[n]}),e},getRetinaImage:function(){return CT.retinaSupported=window.devicePixelRatio>1,function(e){return CT.retinaSupported?e+"2x":e}}(),getRandomNumberArray:function(){for(var e=[];e.length<8;){for(var t=Math.ceil(8*Math.random()),i=!1,n=0;n<e.length;n++)if(e[n]==t){i=!0;break}i||(e[e.length]=t)}return e},createCollectionsUpSell:function(e,t,i){var n=$.extend({limit:4},i||{});if("static"!=e){var t=t||$("#collectionUpsellSection");if(!t[0])return!1;$.ajax({url:"/smallworld/random_collections"}).done(function(e){try{for(var i=JSON.parse(e),a=t.find(".collectionAssets"),o="",r=0;r<n.limit;r++){var s=i[r];o+=-1!=document.location.href.indexOf("collections")?'<li class="col '+(4==n.limit?"col6":"col8")+'"><a href="'+s.url+"\" onclick=\"CT.utils.helperFunctions.trackGAEvent('collections_referral', 'Collections', '"+s.url+'\');" ><h2 class="theSans">'+s.name+'</h2><img src="'+s.image+'"></a></li>':'<li class="col '+(4==n.limit?"col6":"col8")+'"><a href="'+s.url+"\" onclick=\"CT.utils.helperFunctions.trackGAEvent('collections_referral', 'account', '"+s.url+'\');" ><h2 class="theSans">'+s.name+'</h2><img src="'+s.image+'"></a></li>'}a.html(o),t.show()}catch(l){}})}else if("static"==e){var a='<div class="collectionUpsell" style="display:none;"><h3>Wondering where to go?<small> Get inspired by Collections </small></h3><a href="'+("CP"==window.productCode?"http://www.cleartrip.com/collections":"/collections")+"\" onclick= \"CT.utils.helperFunctions.trackGAEvent('collections_referral', 'account ', '"+window.location.protocol+"//"+window.location.host+'/collections\');" target="_blank"><span class="collectionUpsellPoweredby"></span> <ul id="collectionUpsellTileList" ></ul></a></div>',o=this.getRandomNumberArray(),r="";_.each(o,function(e){r+='<li><img src="//ui.cltpstatic/images/collections/assets/'+e+'.jpg"></li>'}),t.find(".collectionUpsell")[0]||t.append(a),t.find(".collectionUpsell").find("#collectionUpsellTileList").html(r).end().show(),$("#collectionUpsellTileList li").each(function(e,t){var i=Math.random()-.5,n=Math.random()-.5;$(t).css({top:30*i,left:30*n}).addClass("animateTile").bind("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",function(){$(this).css("margin-top","0")})})}},wallet:{getUserWalletBallance:function(e,t,i){try{var n=$.Deferred();return $.ajax({url:"/effectivePricingDetails",data:{intl:e.intl},type:"get",timeout:e.timeout||1e4,dataType:"json",success:function(e){CT.cache.userWalletBalance=0,CT.cache.showUserWalletBalanceBanner=!1,e.enabled&&(e.isLoggedIn&&e.wallet_balance>=1?(CT.cache.userWalletBalanceInDisableState=e.wallet_balance,CT.cache.userWalletBalance=e.wallet_balance,e.show===!1&&delete CT.cache.userWalletBalance):!e.isLoggedIn&&e.hasBalance&&e.wallet_balance>=1&&(CT.cache.showUserWalletBalanceBannerInDisableState=e.hasBalance,CT.cache.showUserWalletBalanceBanner=e.hasBalance,e.show===!1&&delete CT.cache.showUserWalletBalanceBanner)),t(e)},error:function(e){i?i(e):!1}}).always(function(){n.resolve()}),n}catch(a){return i(a),$.Deferred().resolve()}},applyWalletBalance:function(e,t){return t?0>e-t?e:t:0},setWalletObject:function(e,t){this.getUserWalletBallance({},function(i){e.progress=!1,e=$.extend(e,i),e.enabled=e.enabled&&(e.hasBalance||CT.cache.userWalletBalance>0),e.hasBalance=CT.cache.userWalletBalance>0,t?t(e):!1},function(){e.progress=!1,t?t(e):!1})},debitWalletBalance:function(e,t,i,n,a){var o=0,r=i&&i.hasBalance&&i.enabled,s=!0;if(r){var l=i.wallet_balance;n&&a&&(l/=a),e>l?(e-=l,i.wallet_balance<=450&&(s=!1),t+=l,o=0):l>=e&&(i.wallet_balance<=450&&(s=!1),t+=e,o=l-e,e=0)}return{total:e,discount:t,remainingWalletBalance:o,walletEnabled:r,hideSaving:s}},createWalletMarkup:function(e,t){if(e&&e.enabled&&e.isLoggedIn){if(!e.hidePopup){var i=CT.to_html("walletBannerTpl",e);$("body").prepend(i),setTimeout(function(){$(".js-walletSideBanner").toggleClass("is-showing")},1e3),$(".walletBanner__close").on("click",function(){e.hidePopup=!0,$(".js-walletSideBanner").remove()})}}else if(t){var i=CT.to_html("walletBannerTpl",e),n=$(".hotelsList ul li.listItem");1===n.length?$(n[0]).after(i):$(n[1]).after(i)}}},serviceWorker:{init:function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(){window.__serviceWorkerInitialized=!0,e(CT.utils.serviceWorker.sendMessageToServiceWorker(t))})},sendMessageToServiceWorker:function(e){function t(e){return new Promise(function(t,i){var n=new MessageChannel;n.port1.onmessage=function(e){e.data.error?i(e.data.error):t(e.data)},navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(e,[n.port2]):console.warn("Unable to pre-cache")})}return window.__serviceWorkerInitialized?t(e):window.Promise?new Promise(function(t){CT.utils.serviceWorker.init(t,e)}):void 0}},helperFunctions:{isB2CFlow:function(){var e=document.location.host.split("."),t=!1;return e.length>=3&&"cleartrip"===e[1]&&("www"==e[0]&&-1!=["ae","me","eu","sa","com","co","za","pl","qa"].indexOf(e[2])&&(t=!0),-1!=["om","bh","qa","kw","me","qa2","l"].indexOf(e[0])&&-1!=["ae","sa","me","eu","com","co","za","pl","qa"].indexOf(e[2])&&(t=!0)),t},isLocalStorageNameSupported:function(){var e="test",t=window.sessionStorage;try{return t.setItem(e,"1"),t.removeItem(e),!0}catch(i){return!1}},disableRightClickOnElement:function(e){void 0!==e&&(e instanceof jQuery||(e=$(e)),e.bind("contextmenu",function(){return!1}))},displayBanners:function(e){CT.getScript(e.url,function(){try{var t=window.b2c_banners;switch(e.page){case"home":var i=t.Footer,n=$(".rewardsUpsellBannerHome .content");n.empty();var a="<a href="+i.IMGLINK+' target="_blank"><img src='+i.IMGSOURCE+' class="homeFooterBanner" width="1140" height="115" /></a>';n.html(a),11===(new Date).getMonth()&&$("#homeUpsellBanner").show();break;case"srp":var o=t.Middle;if(11===(new Date).getMonth()){var r="<a href="+o.IMGLINK+' target="_blank"><img src='+o.IMGSOURCE+' class="srpMiddleBanner"/></a>',s=$("#srpUpsellBanner");n=$("#srpUpsellBanner .rewardsUpsellBanner .content"),n.empty(),n.html(r)}if(!s[0])return!1;var l,c,d=5,u=$("#ResultContainer_"+CT.settings.currentTab),h=u.find("#srpUpsellBanner");0==h.length&&(d=s.attr("banner-index")||d,l=u.find(".listItem"),c=$(l[d-1]),c.next().hasClass("auxiliary")&&(c=c.next()),s.clone(!0).insertAfter(c).show())}}catch(p){}})},exactAge:function(e){var t=moment(),i=t.year()-e.year;return i+=t.month()>e.month||t.month()==e.month&&t.date()>=e.day?1:0},trackScroll:function(){if(window.mixpanel&&0!=$scroll_count){var e="";-1!=window.location.pathname.indexOf("/results")||(-1!=window.location.pathname.indexOf("/details")?e="H_Details_Scrolled":-1!=window.location.pathname.indexOf("/itinerary")||(e=-1!=window.location.pathname.indexOf("/confirmation")?"H_Confirmation_Scrolled":"Hotel_HomePage_Scrolled")),CT.utils.helperFunctions.trackMixpanelEvent(e,{timesScrolled:$scroll_count}),$scroll_count=0}},queryToObj:function(e){var t,i=unescape(e),n=i.split("&"),a={};try{for(t in n)if(n[t]&&n[t].split("=")){var o=n[t].split("=");o[0]&&(a[o[0]]=o[1])}}catch(r){}return a},disableForm:function(e,t){if(t){var i=t.form;$(i.elements).each(function(t,i){1==e?(i.ctEnableState=i.disabled,i.disabled=!0):i.disabled=i.ctEnableState})}},urlContainsScriptTag:function(){return new RegExp(/<script>/).test(decodeURIComponent(window.location.href))},loadHeapTracking:function(){window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t;var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n);for(var a=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},o=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],r=0;r<o.length;r++)heap[o[r]]=a(o[r])}},animateTotalFare:function(e,t,i,n){function a(){if($(e).length>0){var a=$(e).find("span#counter");i?(a.each(function(){var e=$(this)[0];(isNaN(e.innerHTML)||" "==e.innerHTML||""==$.trim(e.innerHTML))&&(e.innerHTML=0),totalFx=new CashRegister(e,n),totalFx.start(t)}),a.addClass("highlightMe"),setTimeout(function(){a.hasClass("highlightMe")&&a.removeClass("highlightMe")},1e3)):a.html(CT.stringFormatting.formatForCurrency(t,"",!0))}CT.utils.helperFunctions.convertCurrency&&CT.utils.helperFunctions.convertCurrency(t)}a()},imageToDiv:function(e,t,i,n,a){var o=$("<div></div>"),t=$(t),e=$(e);a||(a={},a.width=t.width(),a.height=t.height());for(var r=0,s=i.length;s>r;r++)o.attr(i[r],t.attr(i[r]));var l=t.attr("src").replace("(","\\(").replace(")","\\)");o.css({"background-image":"url("+l+")"}),o.addClass("imgPlaceHolder"),e.append(o),t.remove(),o.css("opacity",0).animate({opacity:1,visibility:"visible"},.5)},isLoggedInUser:function(){var e=!1;return CT.utils.cookies.read("usermisc")&&"SIGNED_IN"==unescape(CT.utils.cookies.read("usermisc")).split("|")[0]&&(e=!0),e},setupBoldChatOnLoad:function(){window._bcvma=window._bcvma||[],_bcvma.push(["setAccountID","172076787582913969"]),_bcvma.push(["setParameter","WebsiteID","171271469539519529"]),_bcvma.push(["setParameter","InvitationID","171271469951842927"]),_bcvma.push(["pageViewed",document.location.href,document.referrer]);var e=function(){if(!window.bcLoaded){window.bcLoaded=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+"vmss.boldchat.com/aid/172076787582913969/bc.vms4/vms.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}};window.pageViewer&&pageViewer.load?pageViewer.load():"complete"==document.readyState?e():window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent("onload",e)},calTimeDiff:function(e,t){function i(e,t){var i=new Date;return i.setDate(e[0]||1),i.setMonth(parseInt(e[1])-1||1),i.setYear(e[2]||1910),i.setHours(t[0]||0),i.setMinutes(t[1]||0),i.setSeconds(t[2]||0),i}var n={},a=(new Date).getTime(),o=i(e,t),r=(o.getTime()-a)/1e3;if(r>0){var s=r/60,l=s/60,c="";if(l>=24){var d=l/24,u=24*(d-Math.floor(d));0!=Math.floor(60*u)?(c=Math.floor(l/24)+"d ",c+=1>u?Math.floor(60*u)+"min":Math.floor(u)+"h "):c=Math.floor(d)+"d "}else{var h=Math.floor(60*(l-Math.floor(l)));c=1>l?h+"min":0!=h?Math.floor(l)+"h "+h+"min":Math.floor(l)+"h "}window.shwFlashSaletag=!0,n.rstring=c}return n},showFlashSaleTag:function(){var e=$("#flashSaleEl"),t=(parseInt(window.random_number_one_to_six),'<i class="trustMarkers trust'+window.random_number_one_to_six+'"></i>');if(e.length>0&&""!=e.attr("data-date")){var i=e.attr("href"),n="<a href="+i+' target="_blank"><i class="trustMarkers thrillingThursdays"></i></a>',a=e.attr("data-date").split(","),o=a[0].split("/"),r=a[1].split(":"),s=(new Date).getDay(),l=CT.utils.helperFunctions.calTimeDiff(o,r);l&&l.rstring?(e.find("small").html(l.rstring),e.find("small").show(),e.show(),CT&&CT.app&&"hotel"==CT.app&&"in"==window.countryCode&&"4"==s?$("#Home .searchForm").prepend(n):CT&&CT.app&&"hotel"==CT.app&&"in"==window.countryCode&&$("#Home .searchForm").prepend(t)):(e.removeClass("tagWithTime"),e.hide(),CT&&CT.app&&"hotel"==CT.app&&"in"==window.countryCode&&$("#Home .searchForm").prepend(t))}else e.length>0?(e.removeClass("tagWithTime"),e.show()):CT&&CT.app&&"hotel"==CT.app&&"in"==window.countryCode&&$("#Home .searchForm").prepend(t)},showFlashSaleTag_v2:function(e){var t="Y"==e.FLASHSALEACTIVE,i=e.PRODUCT&&e.PRODUCT.toLowerCase(),n=$("#flashSaleEl-"+i),a=$("#flightsHomeFlashSaleBanner");if(e.OFFERTEXT&&CT.app==i&&t&&a.length)return a.html(e.OFFERTEXT).parent().show(),void(e.OFFERURL&&a.prop("href",e.OFFERURL));var o=(parseInt(window.random_number_one_to_six),'<i class="trustMarkers trust'+window.random_number_one_to_six+'"></i>');if(n.length>0&&t){var r="<a href="+e.OFFERURL+' target="_blank"><i class="trustMarkers thrillingThursdays"></i></a>',s=(new Date).getDay();n.attr("href",e.OFFERURL),n.show(),CT&&CT.app&&"hotel"==CT.app&&CT.app==i&&"in"==window.countryCode&&"4"==s&&(o=r)}else t||(n.removeClass("tagWithTime"),n.hide());CT&&CT.app&&"hotel"==CT.app&&($("#Home .searchForm .trustMarkers").remove(),$("#Home .searchForm").prepend(o))},setUrlParamsInView:function(e){e=e||CT.cache[CT.settings.currentTab].searchParams.all,L("updating classes - in seturlparamsinview function of helperfunctions"),e.view&&"map"==e.view?($("body").addClass("mapView disablePageScroll"),$("html").addClass("disablePageScroll")):($("body").removeClass("mapView disablePageScroll"),$("html").removeClass("disablePageScroll"))},addQueryParamsToURL:function(e,t,i){var n=e.indexOf("#"),a=-1===n?"":e.substr(n);e=-1===n?e:e.substr(0,n);var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=-1!==e.indexOf("?")?"&":"?";return e=e.match(o)?e.replace(o,"$1"+t+"="+i+"$2"):e+r+t+"="+i,e+a},isTouchDevice:function(){return"ontouchstart"in window||"onmsgesturechange"in window},trackMixpanelEvent:function(e,t){if(window.mixpanelswitch&&window.mixpanel){var t=$.extend({},CT.utils.trackers.mixpanelTrackingData,t);mixpanel.track(e,t)}},trackClaverTapEvtHotel:function(e,t){if(window.cleverTapEnabled&&window.cleverTapAccId){var i=$.extend({},CT.utils.trackers.clevertapGlobleData,t);CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:e,values:i})}},trackCleverTapEvtFlights:function(e,t){if(window.cleverTapEnabled&&window.cleverTapAccId){var i=$.extend({},CT.utils.trackers.clevertapGlobleData,t);CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:e,values:i})}},trackGAEvent:function(e,t,i,n,a){var o=Number(window.ctLogUiEventLength)||5;parseInt(n,10),timer=n||3e3;try{_gaq.push(["_trackEvent",e,t,i])}catch(r){}if("B2B"!=window.product&&("hotel"==CT.app||"air"==CT.app)){if(window.loadSegmentIOJS&&t&&window.analytics&&analytics.track(t,{category:e,label:i}),!CT.utils.postParams){var s=-1!=window.location.pathname.indexOf("hotels")?"hotel":"hotel"==CT.app?"hotel":"flight";CT.utils.postParams={emailID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|")[0]:"N/A",product:s,eventType:"normal",userID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|").slice(-1).pop():"N/A",apacheCookie:CT.utils.cookies.read("Apache")?CT.utils.cookies.read("Apache"):"N/A",searchInstance:CT.cache&&CT.settings&&CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].sid?CT.cache[CT.settings.currentTab].sid:window.ctsid?window.ctsid:"N/A",category:e,events:[]}}e&&CT.utils.postParams.category!=e&&CT.utils.postParams.events.length>=0&&(CT.utils.postParams.events.length>0&&CT.utils.helperFunctions.postAnalyticsDataViaAJAX(),CT.utils.postParams.category=e,CT.utils.postParams.emailID=CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|")[0]:"N/A"),CT.utils.postParams.searchInstance&&"N/A"!=CT.utils.postParams.searchInstance||(CT.utils.postParams.searchInstance=CT.cache&&CT.settings&&CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].sid?CT.cache[CT.settings.currentTab].sid:window.ctsid?window.ctsid:"N/A"),t&&i&&""!==t&&""!==i&&CT.utils.postParams.events.push({action:t,element:""+i,time:(new Date).getTime()}),"function"!=typeof window.navigator.sendBeacon?CT.utils.helperFunctions.postAnalyticsDataViaAJAX():(CT.utils.postParams.events.length>=o||"instant"==a)&&CT.utils.helperFunctions.postAnalyticsDataViaAJAX()}},trackGAUrl:function(e,t){timer=t||3e3,setTimeout(function(){try{_gaq.push(["_trackEvent",e])}catch(t){}},timer)},postAnalyticsDataViaAJAX:function(e){var t="",i=window.logUiEvtTimeOut?parseInt(window.logUiEvtTimeOut):1e3;!e&&CT.utils.postParams&&CT.utils.postParams.events.length>0?(t=JSON.stringify(CT.utils.postParams),CT.utils.postParams.events=[]):e&&"Bus"!=JSON.parse(e).category&&(t=e),_.extend(t,{domain:window.domainType||(window.countryCode||"N/A").toUpperCase(),deviceType:"Desktop",flightType:window.isInternational||window.isinternational||CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab].searchType&&CT.cache[CT.settings.currentTab].searchType.isIntl?"INTL":"DOM"});var n=window.analyticsHost?window.analyticsHost:"",a="true"==window.explorerAnalyticsSwitch?!0:!1,o={"Content-type":"application/json",dataType:"json"};if(n&&(o={"Content-Type":"application/x-www-form-urlencoded"}),t)if(a&&n&&$.browser.msie&&window.XDomainRequest&&("9.0"===$.browser.version||"8.0"===$.browser.version)){var r=new XDomainRequest;r.open("post",n+"/sink/loguievent"),r.onload=function(){},r.onprogress=function(){},r.ontimeout=function(){},r.onerror=function(){},r.timeout=i,setTimeout(function(){r.send(t)},0)}else $.ajax({url:n+"/sink/loguievent",type:"POST",headers:o,data:t,success:function(){},error:function(){},timeout:i})},postAnalyticsDataViaImage:function(){if(CT.utils.postParams&&CT.utils.postParams.events.length>0){var e=new Image;e.src="/sink/loguievent?events="+encodeURIComponent(JSON.stringify(CT.utils.postParams))}CT.utils.postParams.events=[]},postAnalyticsDataViaBeacon:function(){var e=window.analyticsHost?window.analyticsHost:"",t=e+"/sink/loguievent";CT.utils.postParams&&CT.utils.postParams.events.length>0&&window.navigator.sendBeacon&&window.navigator.sendBeacon(t,JSON.stringify(CT.utils.postParams)),CT.utils.postParams.events=[]},postAnalyticsErrorDataViaAJAX:function(e){var t=window.logUiEvtTimeOut?parseInt(window.logUiEvtTimeOut):1e3,i=window.analyticsHost?window.analyticsHost:"";_.extend(e,{domain:window.domainType||(window.countryCode||"N/A").toUpperCase(),deviceType:"Desktop",flightType:window.isInternational||window.isinternational||CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab].searchType&&CT.cache[CT.settings.currentTab].searchType.isIntl?"INTL":"DOM"});var i=window.analyticsHost?window.analyticsHost:"",n={"Content-type":"application/json",dataType:"json"};$.ajax({url:i+"/sinkext/errorevent",type:"POST",headers:n,data:e,success:function(){},error:function(){},timeout:t})},trackNanigan:function(e){var t="",i="",n="",a=window.location.protocol;for(var o in e)t+=o+"="+e[o]+"&";t=t.replace(/&$/,""),i=CT.utils.cookies.read("userid"),null!==i&&(i=i.split("||")[2]),n=i?a+"//api.nanigans.com/event.php?app_id=90781&user_id="+i+"&":a+"//api.nanigans.com/event.php?app_id=90781&";var r=new Image;r.src=n+t+"&_="+(new Date).getTime(),r.onload=function(){}},adjustHeight:function(){var e=$("#Home").find("aside").first().outerHeight(),t=$("#Home").find("aside").last().outerHeight(),i=$(window).outerHeight(),n=$("#homeUpsellBanner").outerHeight(),n=n?n:"0",a=Math.max(e,t,i-100-n);$(".viewController").css("min-height",a+"px")},paidAffiliateTracker:function(e){function t(){o&&"undefined"!=o&&(CT.utils.cookies.create("source_affiliatefirstsource",o,i),CT.utils.cookies.create("source_Meta",o,30)),r&&CT.utils.cookies.create("campaign_affiliatefirstsource",r,i),s&&CT.utils.cookies.create("medium_affiliatefirstsource",s,i),l&&CT.utils.cookies.create("term_affiliatefirstsource",l,i),c&&CT.utils.cookies.create("uid_affiliatefirstsource",c,i)}var i=1,n=!0;if(CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab]||e){var a=e?e:CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab]?CT.cache[CT.settings.currentTab].searchParams.all:{},o=a.tduid?a.tduid:a.utm_source,r=a.utm_campaign,s=a.utm_medium,l=a.utm_term,c=a.uid,d=CT.utils.cookies.read("affiliate_expdate");d?n&&t():(t(),CT.utils.cookies.create("affiliate_expdate",(new Date).toDateString(),i))}},paidChannelTracker:function(e){var t=document.createElement("a");if(t.href=parent.document.referrer,CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab]||e){var i=e||CT.cache[CT.settings.currentTab].searchParams.all,n=i.utm_source,a=i.utm_campaign,o=i.utm_medium,r=i.utm_content,s=i.utm_term,l=i.utm_uid,c=["source_firstpaidsource","medium_firstpaidsource","campaign_firstpaidsource","content_firstpaidsource","term_firstpaidsource","uid_firstpaidsource","lastchannel"];if(n&&CT.utils.cookies.create("source_firstsource",n,30),a&&CT.utils.cookies.create("campaign_firstsource",a,30),o&&CT.utils.cookies.create("medium_firstsource",o,30),r&&CT.utils.cookies.create("content_firstsource",r,30),s&&CT.utils.cookies.create("term_firstsource",s,30),l&&CT.utils.cookies.create("uid_firstsource",l,30),n||a||o||r||s||l)for(var d=0;d<c.length;d++)CT.utils.cookies.erase(c[d]);n&&CT.utils.cookies.create("source_firstpaidsource",n),o&&CT.utils.cookies.create("medium_firstpaidsource",o),a&&CT.utils.cookies.create("campaign_firstpaidsource",a),r&&CT.utils.cookies.create("content_firstpaidsource",r),s&&CT.utils.cookies.create("term_firstpaidsource",s),l&&CT.utils.cookies.create("uid_firstpaidsource",l),CT.utils.cookies.create("noncleartrip","true")}else CT.utils.cookies.read("noncleartrip")||CT.utils.cookies.create("noncleartrip","false")},newUserIdTracker:function(e,t){e=parseInt(e),isNaN(e)||$.get("/partial/account/tc/"+e,function(e){try{"string"==typeof e&&(e=JSON.parse(e));var i=!1,n=parseInt(e.D)+parseInt(e.I)+parseInt(e.H);0===n?(i=!0,CT.utils.cookies.create("nu",1,.5/24)):CT.utils.cookies.erase("nu"),t&&t(i)}catch(a){}})},store:function(){var e={setItem:function(e,t){this.db?this.db.setItem(e,t):CT.utils.cookies.create(e,t)},getItem:function(e){return this.db?this.db.getItem(e):CT.utils.cookies.read(e)},removeItem:function(e){this.db?this.db.removeItem(e):CT.utils.cookies.erase(e)},db:window.localStorage};return e},initLogger:function(){var e=function(){CT.utils.postParams&&CT.utils.postParams.events.length>0&&CT.utils.helperFunctions.postAnalyticsDataViaBeacon()};$(window).bind("unload",e)},setGAProperties:function(){},ipadCloseFilter:function(e,t){t.find(".filters").removeClass("filterPopOver"),$(".tempFiltersButton").closest("li").removeClass("current"),t.find(".viewController").css("display","block")},ipadChanges:function(e,t){var i=null!=navigator.userAgent.match(/iPad/i);$(e.target.parentNode).toggleClass("current"),t.find(".filters").toggleClass("filterPopOver"),1==t.find(".filters").hasClass("filterPopOver")&&0==i?t.find(".viewController").css("display","none"):t.find(".viewController").css("display","block"),e.stopPropagation();var n=function(e){$(e.target).is(".filterPopOver, .filterPopOver *")||($(document).off("click",n),t.find(".filters").removeClass("filterPopOver"),$(".tempFiltersButton").closest("li").removeClass("current"),t.find(".viewController").css("display","block"))};$(document).on("click",n)},includeGAjs:function(){},includeGATagManager:function(){var e="GTM-T9S432";!function(e,t,i,n,a){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o="dataLayer"!=n?"&l="+n:"",r="//www.googletagmanager.com/gtm.js?id="+a+o;$.getScript(r,function(){-1!=window.location.pathname.indexOf("/confirmation")&&$.ajax({type:"GET",url:"/googltmsuccess",success:function(){},error:function(){}})})}(window,document,"script","dataLayer",e)},gtmMethods:{setDataLayer:function(e,t){return this.pushDataToDataLayer({Domain:"NA",Country:"NA",Language:"NA","Device Type":"NA",Currency:"NA","Transaction ID":"NA","Booking date":"NA","Full Itinerary":"NA","First Departure Date":"NA","Final Departure Date":"NA","First Point of Origin":"NA","Final Destination":"NA","Journey Type":"NA",Category:"NA","Adult Count":"NA","Child Count":"NA","Infant Count":"NA","Total Passengers":"NA","Booking Class":"NA","Booking Price":"NA",Tax:"NA",Discount:"NA","Wallet Credit":"NA","Convenience Fee":"NA",Coupon:"NA","Insurance Product":"NA","Insurance Cost":"NA","Segment Count":"NA","Payment Type":"NA"}),this.pushDataToDataLayer(e,t),this},pushDataToDataLayer:function(e,t){var i="air"==t?"dataLayer":null;return $.isEmptyObject(window[i]||window.dataLayerCT)||(window.dataLayerCT||window[i]).push(e),this},triggerEvent:function(e,t){var i="air"==t?"dataLayer":null;$.isEmptyObject(window[i]||window.dataLayerCT)||(window.dataLayerCT||window[i]).push({event:e})}},triggerFunnelCall:function(){$.ajax({url:"/common/funnelTracking",success:function(){}})},includeComScoreTracking:function(){window._comscore=window._comscore||[],window._comscore.push({c1:"2",c2:"7561529"});var e=document.createElement("script"),t=document.getElementsByTagName("script")[0],i=window.staticBaseDomain||window.staticBaseLink||window.hotelBaseLink||window.airBaseLink||"//ui.cltpstatic.com";e.src=i+"/javascripts/trackers/comscore_beacon.js?v=1",t.parentNode.insertBefore(e,t)},inspectLetJsForBranchIo:function(){!function(e,t,i,n,a,o,r,s,l,c){if(!e[n]||!e[n]._q){for(;s<r.length;)a(o,r[s++]);l=t.createElement(i),l.async=1,l.src="https://cdn.branch.io/branch-latest.min.js",c=t.getElementsByTagName(i)[0],c.parentNode.insertBefore(l,c),e[n]=o}}(window,document,"script","branch",function(e,t){e[t]=function(){e._q.push([t,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode".split(" "),0),branch.init("key_live_cgeDODFZsneCcLhrQ9wxGomiEqkFtGo9")},inspectLetJsForRT:function(){window.__insp=window.__insp||[],__insp.push(["wid",2042725865]),function(){function e(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.id="inspsync",e.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}e()}()},inspectLetJsForHotels:function(){window.__insp=window.__insp||[],__insp.push(["wid",1283069909]),function(){function e(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.id="inspsync",e.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}"complete"!=document.readyState?window.attachEvent?window.attachEvent("onload",e):window.addEventListener("load",e,!1):e()}()},inspectForGoogleAnalatics:function(){!function(e,t,i,n,a,o){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:390809,hjsv:5},a=t.getElementsByTagName("head")[0],o=t.createElement("script"),o.async=1,o.src=i+e._hjSettings.hjid+n+e._hjSettings.hjsv,a.appendChild(o)}(window,document,"//static.hotjar.com/c/hotjar-",".js?sv=")},inspectLetJsForHotelsBookFlow:function(){window.__insp=window.__insp||[],__insp.push(["wid",680622208]),function(){function e(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.id="inspsync",e.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}"complete"!=document.readyState?window.attachEvent?window.attachEvent("onload",e):window.addEventListener("load",e,!1):e()}()},inspectLetJsForCancellation:function(){window.__insp=window.__insp||[],__insp.push(["wid",545080575]),function(){function e(){if("undefined"==typeof window.__inspld){window.__inspld=1;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.id="inspsync",e.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}setTimeout(e,500),"complete"!=document.readyState?window.attachEvent?window.attachEvent("onload",e):window.addEventListener("load",e,!1):e()}()},includeCheckmein:function(){function e(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,$("body")[0].appendChild(t)}try{"CP"!=window.productCode&&"AG"!=window.productCode&&"WL"!=window.productCode&&(e("https://s3-us-west-2.amazonaws.com/cmi-static/js/jquery.jplayer.min.js"),e("https://s3-us-west-2.amazonaws.com/cmi-static/js/6fc1383ab00f5445a0c22b961d6e71be.js"),$('<div id="cmi_signature_player"></div>').appendTo($("body")))}catch(t){}},getHotelModalUrl:function(e){var t=[],i="/hotels/info/"+e+"/modal",n=CT.masterJson.getHotel(e);return n.priceInfo&&_.forEach(n.priceInfo.rms,function(e){t.push(e.rmtc)}),i+=t.length>0?"?&rr="+t.join("&rr="):"?","hotel"==CT.app&&(i+="&tux=1"),i},getHotelAmenities:function(e,t){var i,n,a;t=t||!1,i=t?CT.settings.general.roomAmenitiesMap:window.amenitiesMap?window.amenitiesMap:CT.settings.general.amenitiesMap,n=(t?"0000000000000":"000000000000000000")+parseInt(e,16).toString(2),n=n.substring(n.length-(t?12:17)),t||(n=n.split("").reverse().join("")),a={},a.activeAmenities=[],a.shwName=shwName?!0:!1;for(var o=0;o<n.length;o++){var r;r=$.browser.msie?n.split("")[o]:n[o],"1"==r&&(a[i[o]["class"]]=!0,a.activeAmenities.push(i[o].title))}return a},calDiscountPercent:function(e,t){return(e/(t+e)*100).toFixed(3)},truncateText:function(e,t,i,n){var a=e.text().trim(),o="";t=t&&window.Int?Int(t):200,n=n||function(e){"more"==e.attr("data-type")?(e.siblings(".originalContent").show(),e.siblings(".displayText").hide(),e.attr("data-type","less").html("less")):(e.siblings(".originalContent").hide(),e.siblings(".displayText").show(),e.attr("data-type","more").html("more"))},i&&_.forEach(i,function(e,t){o+=t+"="+e+" "}),a.length>t&&(originalContent=e.html(),displayText=a.substring(0,t),e.html('<div class="originalContent" style="display:none">'+originalContent+"</div>"),e.append('<span class="displayText">'+displayText+" ... </span>"),e.append('<a href="#" class="truncateToggle weak" '+o+' data-type="more">more</a>'),e.find(".truncateToggle").click(function(e){n($(e.target))}))},logToServer:function(e,t,i){try{parameters=i||{},CT.ajax("trackcode"+Math.random(),"/urltrack/"+e+"_"+t,"get",{data:parameters,success:function(){}})}catch(n){}try{_gaq.push(["_trackEvent",e,t,Hash.toQueryParams(i||{})])
}catch(n){}},getDistanceFromLatLonInKm:function(e,t,i,n){if(e&&t&&i&&n){var a=function(e){return e*(Math.PI/180)},o=6371,r=a(i-e),s=a(n-t),l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(a(e))*Math.cos(a(i))*Math.sin(s/2)*Math.sin(s/2),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),d=o*c;return d}return-1},setUserLocationCookie:function(){try{var e,t="";CT.getScript("//maps.googleapis.com/maps/api/js?key=AIzaSyBICejdTstEMJamaR3_1yVvohjIhLikbCM&sensor=false",function(){i()});var i=function(){e=new google.maps.Geocoder,successFunction=function(e){var t=e.coords.latitude,i=e.coords.longitude;n(t,i)},errorFunction=function(){window.console&&console.log("Geocoder failed"),i("","","")},navigator.geolocation&&navigator.geolocation.getCurrentPosition(successFunction,errorFunction);var i=function(e,t,i){CT&&CT.utils&&CT.utils.cookies&&(e||(e=""),t||(t=""),i||(i=""),CT.utils.cookies.create("userLatitude",t,1/24),CT.utils.cookies.create("userLongitude",i,1/24),CT.utils.cookies.create("userLocation",encodeURI(e),1/24),CT.utils.cookies.create("userCity",encodeURI(e),1/24))},n=function(n,a){var o=new google.maps.LatLng(n,a);e.geocode({latLng:o},function(e,o){if(o==google.maps.GeocoderStatus.OK)if(window.console&&console.log(e),e[0]){for(var r=0;r<e[0].address_components.length;r++)for(var s=0;s<e[0].address_components[r].types.length;s++)if("sublocality_level_1"==e[0].address_components[r].types[s]){locality=e[0].address_components[r];break}t=locality.long_name,i(t,n,a)}else window.console&&console.log("No results found"),i(t,n,a);else window.console&&console.log("Geocoder failed due to: "+o),i(t,n,a)})}}}catch(n){}},setUserHomeCity:function(){try{var e=function(){successFunction=function(e){var i=e.coords.latitude,n=e.coords.longitude;t(i,n)},errorFunction=function(e){console.error("Geocoder failed",e.message)},navigator.geolocation&&navigator.geolocation.getCurrentPosition(successFunction,errorFunction,{timeout:1e4});var e=function(e){var t=e.lat+","+e.lng,i={};if(e.lat=e.lat.toString(),e.lng=e.lng.toString(),i.searchData=e,CT&&CT.utils&&CT.utils.cookies)if(CT.utils.cookies.read("userHomeLatLng")&&CT.utils.cookies.read("userHomeCity")){var n=CT.utils.cookies.read("userHomeLatLng"),a=n.split(",")[0],o=n.split(",")[1],r=CT.utils.helperFunctions.getDistanceFromLatLonInKm(a,o,e.lat,e.lng);r>=50&&(CT.utils.cookies.create("userHomeLatLng",t,365),CT.utils.cookies.create("userHomeCity",e.city,365),e.state&&CT.utils.cookies.create("userHomeState",e.state,365),CT.utils.trackers.ctanalyticsTrackingData("N/A","logLocation","location",i,"location"))}else CT.utils.cookies.create("userHomeLatLng",t,365),CT.utils.cookies.create("userHomeCity",e.city,365),e.state&&CT.utils.cookies.create("userHomeState",e.state,365),CT.utils.trackers.ctanalyticsTrackingData("N/A","logLocation","location",i,"location")},t=function(t,i){var n={},a="/local/api/v1/getCity?latitude="+t+"&longitude="+i;$.ajax({url:a,type:"GET",success:function(a){a.hasOwnProperty("city")?(n.city=a.city,n.state=a.state,n.lat=t,n.lng=i,n.locality="",e(n)):console.error("Empty Response from getCity")},error:function(e){console.error(e)}})}};e()}catch(t){}},tpTrack:function(e){function t(e){_.each(e,function(t,i){try{if(t)switch(i){case"departure_date":case"return_date":case"price_lock_exp_date":case"date of journey":case"date of return":var n=!1;_.isArray(t)||(t=[t]);var n=[],a=!1;_.each(t,function(e){"string"==typeof e&&(e=e.split("/"),a=3==e.length?new Date(e[1]+"/"+e[0]+"/"+e[2]).getTime():!1,a&&n.push(a))}),n.length>0?(n.length=1,e[i]=new Date(n[0])):delete e[i];break;case"airline":e[i]=e[i].split(":").map(function(e){return e.split("-")[0]}).join(",");break;case"last_event_type":-1==t&&(e[i]=window.clevertapLastEventType||window.localStorage&&window.localStorage.CLVR_LE||null),null==e[i]&&delete e[i];break;case"last_page_name":-1==t&&(e[i]=window.clevertapLastPage||window.localStorage&&window.localStorage.CLVR_LP||null),null==e[i]&&delete e[i]}}catch(o){window.console&&console.log(o)}})}function i(){window.Moengage=moe({app_id:window.moengageId,debug_logs:window.moengageDebugLogs?window.moengageDebugLogs:0})}function n(e){window._fbqInit||(!function(e,t,i,n,a,o,r){e.fbq||(a=e.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},e._fbq||(e._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],o=t.createElement(i),o.async=!0,o.src=n,r=t.getElementsByTagName(i)[0],r.parentNode.insertBefore(o,r))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js"),fbq("init","288042424732696"),window._fbqInit=!0),"function"==typeof e&&e()}try{if("clevertap"==e.tp){if(!window.cleverTapEnabled)return window.console&&console.warn("CleverTap Not Enabled");if(CT.utils.initCleverTap(),e.logout)return window.clevertap.clear(),void window.clevertap.logout();var a={};if(CT.utils.cookies.read("userid")){var o=decodeURIComponent(CT.utils.cookies.read("userid"));o=o.split("|"),window.__clevertapProfileEmailPassed&&clevertap.profile.getAttribute&&clevertap.profile.getAttribute("Email")===o[0]||(a={Email:o[0],Identity:o[4],Name:(window.userFullName?window.userFullName:"")+(o[1]?" ("+o[1]+")":"")},("M"==o[2]||"F"==o[2])&&(a.Gender=o[2]),o[3]&&""!=o[3]&&(a.Photo="https://"+window.location.host+"/profile/photos/"+o[3]),window.FB&&FB.api&&FB.api("/me",{fields:"id,name,email,birthday,gender,education,work"},function(e){clevertap.profile.push({Facebook:e})}),window.__clevertapProfileEmailPassed=!0)}var r=CT.utils.cookies.read("Apache");clevertap.profile.getAttribute&&clevertap.profile.getAttribute("apache_cookie")===r||(a.apache_cookie=r);var s=CT.utils.cookies.read("ct-ab");if(!window.__clevertapABTestPassed&&s){var l={};s&&(s=JSON.parse(unescape(s)),"object"==typeof s&&_.each(s,function(e,t){l["ab_"+t]=e})),a=_.extend(a||{},l),window.__clevertapABTestPassed=!0}_.keys(a)&&_.keys(a).length&&clevertap.profile.push({Site:a}),e.values&&"hotel"!=CT.app?(e.values.domain=window.location.host,e.values.language=window.CT.langUrlPrefix?window.CT.langUrlPrefix.substr(1):"en"):e.values&&"hotel"===CT.app&&(e.values.domainName=window.location.host),t(e.values),window.clevertapLastEventType=e.category,window.localStorage&&(window.localStorage.CLVR_LE=e.category,e.values&&e.values.page_name&&(window.localStorage.CLVR_LP=e.values.page_name,window.clevertapLastPage=e.values.page_name)),window.clevertap.event.push(e.category,e.values)}if("moengage"==e.tp){if(!window.moengageEnabled)return window.console&&console.warn("Moengage not Enabled");if(!window.moengageId)return window.console&&console.warn("Moengage id not available");if(window.moengageEnabled&&window.moengageId){if(window.Moengage||i(),e.logout)return void Moengage.destroy_session();if(window.CT&&window.CT.utils&&window.CT.utils.cookies&&window.CT.utils.cookies.read("usermisc")&&window.CT.utils.cookies.read("usermisc").match("SIGNED_IN")){var o=decodeURIComponent(CT.utils.cookies.read("userid"));o=o.split("|"),Moengage.add_unique_user_id(o[4]),Moengage.add_email(o[0]),Moengage.add_gender(o[2])}e.category&&e.values&&Moengage.track_event(e.category,e.values)}}"fb"==e.tp&&window.B2cProductEnabled&&n(function(){fbq("track",e.category,e.values||null)})}catch(c){window.console&&console.log(c)}},trackLinkClick:function(e){try{_gaq.push(["_trackEvent",e.attr("trackerCategory"),"click",e.attr("tracker")])}catch(t){}},trackViewsRender:function(e,t){try{_gaq.push(["_trackEvent",e,"render",t])}catch(i){}},forceHttpsLinks:function(e){try{e=e||$(document.body);var t=0==window.location.pathname.indexOf("/account");"https:"===document.location.protocol&&(e.find("a.forceHttp").each(function(e,i){t&&$(i).attr("appref")||(this.href=this.href.replace("https:","http:"))}),e.find("form.forceHttp").each(function(){this.action=this.action.replace("https:","http:")})),"http:"===document.location.protocol&&(e.find("a.forceHttps").each(function(e,i){t&&$(i).attr("appref")||(this.href=this.href.replace("http:","https:"))}),e.find("form.forceHttps").each(function(){this.action=this.action.replace("http:","https:")}))}catch(i){}},forceLanguagePrefix:function(e){function t(e,t){var i=e;return i.split("/")[0]!=t&&(i=t+e),i}function i(e){try{var t=new URL(e);return t.hostname!=window.location.hostname?!0:!1}catch(i){return!1}}function n(e){return-1!=e.indexOf(window.CT.langUrlPrefix+"/")}try{var a,o=[{tag:"a",attr:"pathname"},{tag:"form",attr:"action"}];if(a=window.CT.langUrlPrefix,e=e||$(document.body),a)for(var r=o.length,s=0;r>s;s++)for(var l=o[s],c=e.find(l.tag),d=c.length,u="a"==l.tag?"href":"action",h=0;d>h;h++){var p=c[h],f=$(p),m="";"javascript:void(0)"==p[l.attr]||"#"==p[l.attr]||""==p[l.attr]||i(p[u])||n(p[l.attr])||"true"==f.attr("langlink")||(m="pathname"==l.attr?p[l.attr]:new URL(p[l.attr]).pathname,p[l.attr]=t(m,a))}}catch(g){window.console&&console.log("Error in executing Fn:forcelanguagePrefix")}},createOfferBand:function(){try{if(window.search_offers){var e=$("<div id='Flash' style='display:none' ></div>"),t=$("<p></p>");if(search_offers.NODISPLAY)return!1;{var i=search_offers.HEADING,n=search_offers.DESC1,a=search_offers.LINK1,o=search_offers.CLASS1;search_offers.HASTRACKER,search_offers.TRACKER,search_offers.TRACKERCAT}t.html("<strong>"+i+"</strong>"+n);var r=$("<a title='"+i+"' href='"+a+"' target='_blank' >Know more &gt;&gt; </a>");t.append(r),$("#offerDisplay").append(e.addClass(o).append(t));var s=navigator.userAgent.indexOf("MSIE 6")>=0?!0:!1;s?e.attr("className",o+" clearfix"):e.attr("className",o)}}catch(l){}},storeUserReferer:function(){var e=[],t=function(){CT.utils.cookies.create("pagerf",document.referrer||"direct"),CT.utils.cookies.create("pageprm",window.location.search.substr(1)||"NA")};return function(){e[e.length-1]!=window.location.href&&(t(),e.push(window.location.href))}}(),storePaidChannelSource:function(){var e=!1;return function(){if(!e){var t,i;e=!0,i=window.location.search.substring(1),0==i.indexOf("&")&&(i=i.substring(1)),i?(t=JSON.parse('{"'+decodeURI(i).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'),t.gclid?CT.utils.cookies.create("paidchnl","googlesem",1):t.utm_source?CT.utils.cookies.create("paidchnl",t.utm_source,1):CT.utils.cookies.read("paidchnl")&&"NA"!==CT.utils.cookies.read("paidchnl")||CT.utils.cookies.create("paidchnl","NA",1)):CT.utils.cookies.read("paidchnl")||CT.utils.cookies.create("paidchnl","NA",1)}}}(),spotNonCleartripReferrer:function(e,t){try{var i=window.location.hostname;if(i=i.substr(i.indexOf(".")),t)var n=_.deserialize(window.location.search.substring(1));var a=document.createElement("a");a.href=e&&parent.document.referrer?parent.document.referrer:""!=document.referrer?document.referrer:n&&n.utm_source&&""!=n.utm_source?t:"";var o=30/1440;CT.utils.cookies.create("r_referer",encodeURIComponent(a.href),o,i),n&&n.gclid?(n.utm_source||(n.utm_source="googlesem"),CT.utils.cookies.create("r_params",encodeURIComponent(_.serialize(n)),o,i)):CT.utils.cookies.read("utm_source")&&"googlesem"!=CT.utils.cookies.read("utm_source").toLowerCase()&&(e&&parent.document.referrer?CT.utils.cookies.create("r_params",encodeURIComponent(parent.window.location.search.substr(1)),o,i):document.referrer?CT.utils.cookies.create("r_params",encodeURIComponent(window.location.search.substr(1)),o,i):n&&n.utm_source&&""!=n.utm_source&&CT.utils.cookies.create("r_params",encodeURIComponent(window.location.search.substr(1)),o,i))}catch(r){}},setTrivagoReferrer:function(){var e=window.localStorage;if(e){var t={trv_ref:encodeURIComponent(window.HD.paramsHashObj.trv_reference),expDate:(new Date).setDate((new Date).getDate()+7)};e.setItem("ct_trvref",JSON.stringify(t))}},setUtmParametersInSessionStorage:function(){var e=location.href,t={};null!=sessionStorage.getItem("UTM_PARAMETERS")&&(t=JSON.parse(sessionStorage.getItem("UTM_PARAMETERS")));var i=["utm_source","utm_medium","utm_term","utm_campaign","utm_content","user-agent"];e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,a,o){i.indexOf(n)>-1&&(t[n]=o)});var n=JSON.stringify(t);CT.utils.helperFunctions.isLocalStorageNameSupported()&&sessionStorage.setItem("UTM_PARAMETERS",n)}},checkUnConfirmedUser:function(){return void 0!=CT.utils.cookies.read("unconfirmed-email")},readCTAuthCookie:function(){return CT.settings=CT.settings||{},CT.settings.ctAuthCookieName=CT.settings.ctAuthCookieName||(/dp\.cleartirp\.com|vegas\.cleartrip\.com/.test(window.location.hostname)?"dev-usermisc":"usermisc"),CT.utils.cookies.read(CT.settings.ctAuthCookieName)&&"SIGNED_IN"==unescape(CT.utils.cookies.read(CT.settings.ctAuthCookieName)).split("|")[0]?!0:!1},localStore:{localStoreSupport:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},set:function(e,t,i){if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="; expires="+n.toGMTString()}else var a="";this.localStoreSupport()?localStorage.setItem(e,t):document.cookie=e+"="+t+a+"; path=/"},get:function(e){if(!this.localStoreSupport()){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t)){var o=a.substring(t.length,a.length);switch(o){case"true":return!0;case"false":return!1;default:return o}}}return null}var o=localStorage.getItem(e);switch(o){case"true":return!0;case"false":return!1;default:return o}},del:function(e){this.localStoreSupport()?localStorage.removeItem(e):this.set(e,"",-1)}},cookies:{createWithSeconds:function(e,t,i,n){var a,o;if(i){var r=new Date;r.setTime(r.getTime()+1e3*i),a="; expires="+r.toGMTString()}else a="";o=n?"; domain="+n:"",document.cookie=e+"="+t+a+o+"; path=/"},create:function(e,t,i,n){var a,o;if(i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),a="; expires="+r.toGMTString()}else a="";o=n?"; domain="+n:"",document.cookie=e+"="+t+a+o+"; path=/"},read:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},erase:function(e,t){CT.utils.cookies.create(e,"",-1,t)}},merchandisingBanner:{templates:{appUpsell:function(){var e='<div id="appDownloadBanner" class="row"><table width="100%"><tbody><tr><td><i class="AppDownloadIcon"></i></td><td><a id="floatingBanner" class="<%=class1%>" href="<%=link%>" target="_blank" onClick="<%=onclickEve%>" rel="nofollow"><strong class="<%=class1%>"><%=heading%></strong><%=text%></a></td><td><a href="<%=link%>" target="_blank" class="downloadBtn">Download</a></td></tr></tbody></table></div>';return e},offer:function(){var e='<div class="mobileOffer"><a href="<%=link%>" onClick="<%=onclickEve%>" target="_blank"><i class="i24 offerIcon"></i><span><strong><%=heading%></strong><%=text%></span></div>';return e}},createMarkup:function(e,t){try{var i=e[0]||{},n={heading:i.HEADING&&"."!=i.HEADING.trim()?i.HEADING:"",text:i.DESC1?i.DESC1:"",link:i.LINK1?i.LINK1:"",class1:i.CLASS1?i.CLASS1:"",onclickEve:""};if(i.TRACKERCAT&&null!=i.TRACKERCAT||i.TRACKER&&null!=i.TRACKER){var a=i.TRACKERCAT&&null!=i.TRACKERCAT?i.TRACKERCAT:"",o=i.TRACKER&&null!=i.TRACKER?i.TRACKER:"";n.onclickEve="_gaq.push(['_trackEvent', '"+a+"', '"+o+"']);"}var r=CT.utils.merchandisingBanner.templates[t](),s=_.template(r,n);return s}catch(l){return!1}},create:function(e,t,i){var i=i||"offer";try{$.ajax({url:e,type:"GET",success:function(e){var n=CT.utils.merchandisingBanner.createMarkup(e,i);n&&$.each(t,function(e,t){$(t)&&$(t).length&&$(t).html(n)})},error:function(){return!1}})}catch(n){return!1}}},remarketing:{triggerRmScript:function(e,t){window.google_conversion_id=+e,window.google_tag_params=window.google_tag_params||{},window.google_custom_params=_.extend(window.google_tag_params,t),window.google_remarketing_only=!0,$.getScript("https://www.googleadservices.com/pagead/conversion.js")}},trackers:{page_count:function(e){try{if(e=e||window.ct_ct_track){var t="/common/ctct",i="ct_ct",n=CT.utils.cookies.read(i)?CT.utils.cookies.read(i):"",a=(CT.utils.cookies.read("Apache")?CT.utils.cookies.read("Apache"):"",{n:e.n,p:e.p,bd:e.bd,sr:"y"});n&&1!=$.browser.msie&&CT.utils.cookies.erase(i,"."+window.location.hostname),$.ajax({url:t,type:"POST",headers:{Pragma:"no-cache","Cache-Control":"no-cache",Expires:"0"},data:a,success:function(t){if(t){"string"==typeof t&&(t=JSON.parse(t));var i="ad"===e.p||"ai"===e.p?"air":"hotel",n=t[e.p];CT.Yoptima_searchcount=0,CT.Yoptima_bookcount=0,n.ct&&(CT[i+"_dropoff"]=n.ct),n.sr&&(CT[i+"_searchcount"]=n.sr),n.c&&(CT[i+"_bookcount"]=n.c),n.sd&&(CT[i+"_lastsearchdate"]=n.sd),n.cd&&(CT[i+"_lastbookdate"]=n.cd),"air"==i&&(t.ad&&t.ad.sr&&(CT.Yoptima_searchcount=t.ad.sr),t.ai&&t.ai.sr&&(CT.Yoptima_searchcount=CT.Yoptima_searchcount+t.ai.sr),t.ad&&t.ad.c&&(CT.Yoptima_bookcount=t.ad.c),t.ai&&t.ai.c&&(CT.Yoptima_bookcount=CT.Yoptima_bookcount+t.ai.c))}},error:function(){}})}}catch(o){}},mixpanelTrackingData:{},clevertapGlobleData:{},ctanalyticsTrackingobj:{},analyticsTrackingError:function(e,t,i){var n=-1!=window.location.pathname.indexOf("hotels")?"hotel":"hotel"==CT.app?"hotel":"flight",a={emailID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|")[0]:"N/A",product:n,eventType:t,userID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|").slice(-1).pop():"N/A",apacheCookie:CT.utils.cookies.read("Apache")?CT.utils.cookies.read("Apache"):"N/A",searchInstance:CT.cache&&CT.settings&&CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].sid?CT.cache[CT.settings.currentTab].sid:window.ctsid?window.ctsid:"N/A",domain:window.domainType||(window.countryCode||"N/A").toUpperCase(),deviceType:"Desktop",flightType:window.isInternational||window.isinternational||CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab].searchType&&CT.cache[CT.settings.currentTab].searchType.isIntl?"INTL":"DOM"};if("search_missing_airline"===t&&i.length>0&&(a.expiredSupplier=i.toString()),e&&e.searchData){$.each(e.searchData,function(e,t){a[e]=t,"string"!=typeof t&&window.console&&console.error&&console.error("Value for "+e+": must be a string. Developer needs to fix it")});var o=JSON.stringify(a);"a"===CT.utils.getAbTestCookie("errorEvent")&&e&&e.searchData&&CT.utils.helperFunctions.postAnalyticsErrorDataViaAJAX(o)}},ctAnalyticsPageViewLogging:function(){var e=[];return function(t,i,n,a,o){var r;if(e[e.length-1]!=window.location.href&&"air"!=CT.app&&"hotel"!=CT.app){e.push(window.location.href),0==arguments.length?(t="generic",i="Page_Viewed",o="page_load",r="generic",n=window.location.path):r=-1!=window.location.pathname.indexOf("hotels")?"hotel":"hotel"==CT.app?"hotel":"flight";var s={emailID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|")[0]:"N/A",product:r,eventType:o,userID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|").slice(-1).pop():"N/A",apacheCookie:CT.utils.cookies.read("Apache")?CT.utils.cookies.read("Apache"):"N/A",searchInstance:CT.cache&&CT.settings&&CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].sid?CT.cache[CT.settings.currentTab].sid:window.ctsid?window.ctsid:"N/A",category:t,events:[{action:"Page_Viewed",element:window.location.path,time:(new Date).getTime()}],searchData:{}};$.each(["pageprm","pagerf","paidchnl"],function(e){CT.utils.cookies.read(e)&&(logingParams.searchData[e]=CT.utils.cookies.read(e))}),CT.utils.helperFunctions.postAnalyticsDataViaAJAX(s)}}}(),ctanalyticsTrackingData:function(e,t,i,n,a){function o(e){CT.utils.helperFunctions.storeUserReferer(),CT.utils.helperFunctions.storePaidChannelSource(),e.searchData=e.searchData||{},$.each(["pageprm","pagerf","paidchnl"],function(t,i){CT.utils.cookies.read(i)&&(e.searchData[i]=CT.utils.cookies.read(i))})}var r=-1!=window.location.pathname.indexOf("hotels")?"hotel":"hotel"==CT.app?"hotel":"flight",s={emailID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|")[0]:"N/A",product:r,eventType:a,userID:CT.utils.cookies.read("userid")?decodeURIComponent(CT.utils.cookies.read("userid")).split("|").slice(-1).pop():"N/A",apacheCookie:CT.utils.cookies.read("Apache")?CT.utils.cookies.read("Apache"):"N/A",searchInstance:CT.cache&&CT.settings&&CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].sid?CT.cache[CT.settings.currentTab].sid:window.ctsid?window.ctsid:"N/A",category:e,domain:window.domainType||(window.countryCode||"N/A").toUpperCase(),deviceType:"Desktop",flightType:window.isInternational||window.isinternational||CT.cache&&CT.settings&&CT.settings.currentTab&&CT.cache[CT.settings.currentTab].searchType&&CT.cache[CT.settings.currentTab].searchType.isIntl?"INTL":"DOM",events:[]};s.events.push({action:t,element:i,time:(new Date).getTime()});var l=$.extend(!0,{},s,n);"page_load"==a&&o(l),l=JSON.stringify(l),n&&n.searchData&&$.each(n.searchData,function(e,t){"string"!=typeof t&&window.console&&console.error&&console.error("Value for "+e+": must be a string. Developer needs to fix it")}),CT.utils.helperFunctions.postAnalyticsDataViaAJAX(l)},includeMixPanel:function(){function e(e,t){t=t.replace(/[[]/,"[").replace(/[]]/,"]");var i="[?&]"+t+"=([^&#]*)",n=new RegExp(i),a=n.exec(e);return null===a||a&&"string"!=typeof a[1]&&a[1].length?"":decodeURIComponent(a[1]).replace(/\W/gi," ")}function t(){var t,i="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),n="",a={},o={};for(t=0;t<i.length;++t)n=e(document.URL,i[t]),n.length&&(a[i[t]+" [last touch]"]=n);for(t=0;t<i.length;++t)n=e(document.URL,i[t]),n.length&&(o[i[t]+" [first touch]"]=n)}!function(e,t){if(!t.__SV){var i,n,a;window.mixpanel=t,t._i=[],t.init=function(e,i,o){function r(e,t){var i=t.split(".");2==i.length&&(e=e[i[0]],t=i[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=t;for("undefined"!=typeof o?s=t[o]=[]:o="mixpanel",s.people=s.people||[],s.toString=function(e){var t="mixpanel";return"mixpanel"!==o&&(t+="."+o),e||(t+=" (stub)"),t},s.people.toString=function(){return s.toString(1)+".people (stub)"},n="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),a=0;a<n.length;a++)r(s,n[a]);t._i.push([e,i,o])},t.__SV=1.2;var o=function(){var e=document,t=e.createElement("script");t.type="text/javascript",t.async=!0,t.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(t,i)};1==$.isLoaded?o():$(window).load(o)}}(document,window.mixpanel||[]),window.mixpanelid&&(("0a226de2b3e76e79238ac2bd0905b2ee"===window.mixpanelid||"2c9ab7852e081744050665054208dc1d"===window.mixpanelid)&&(null!=CT.utils.cookies.read("mp_2c9ab7852e081744050665054208dc1d_mixpanel")&&CT.utils.cookies.erase("mp_2c9ab7852e081744050665054208dc1d_mixpanel",".cleartrip.com"),null!=CT.utils.cookies.read("mp_1179ebc820df9415ed9b68de9d9fcffc_mixpanel")&&CT.utils.cookies.erase("mp_1179ebc820df9415ed9b68de9d9fcffc_mixpanel",".cleartrip.com"),null!=CT.utils.cookies.read("mp_0a226de2b3e76e79238ac2bd0905b2ee_mixpanel")&&CT.utils.cookies.erase("mp_0a226de2b3e76e79238ac2bd0905b2ee_mixpanel",".cleartrip.com")),mixpanel.init(mixpanelid,{upgrade:!0,persistence:"localStorage",cross_subdomain_cookie:!1}),t())}},imgAdjust:function(e){var t=$(this),i=t.parent();if(""==t.attr("src")||"visible"==t.css("visibility"))return!1;if(i.hasClass("loader")&&i.removeClass("loader"),t.css("position","relative"),void 0===e||e===!1)if(t.width()<=t.height()){if(t.css("width","100%"),t.height()>i.height()){var n="-"+(t.height()-i.height())/4+"px";t.css("top",n)}}else{if(t.css("height","100%"),t.width()>i.width()){var a=(i.width()-t.width())/2+"px";t.css("left",a)}if(t.width()<i.width()){t.css("width","100%"),t.css("height","auto");var n="-"+(t.height()-i.height())/4+"px";t.css("top",n)}}return t.css("opacity",0).animate({opacity:1,visibility:"visible"},.5),this},add:function(e,t){return e+t},subtract:function(e,t){return e-t},getType:function(e){return Object.prototype.toString.call(e)},openPopup:function(e){this.showModalDialog(e.url,e.width,e.height,!0,!0)},showModalDialog:function(e,t,n,a,o,r,s,l,c,d,u,h,p){function f(e,t){htm=window.top.document.getElementsByTagName("html")[0],body=window.top.document.getElementsByTagName("body")[0],htm.style.height=e,1!=$(body).hasClass("mapView")&&(htm.style.overflow=t),body.style.height=e,1!=$(body).hasClass("mapView")&&(body.style.overflow=t)}function m(e){for(selects=window.top.document.getElementsByTagName("select"),i=0;i<selects.length;i++)selects[i].style.visibility=e}function g(){if(!window.isMobileUA)try{$("#TranslucentLayer").css($.browser.msie?{height:P+"px"}:{height:document.body.offsetHeight>P?document.body.offsetHeight+"px":P+"px"})}catch(e){}k.css({left:(document.body.offsetWidth-k.offsetWidth)/2+"px"}),k.css({top:100*(P-F)/(2*P)+"%"})}function C(e){var t=void 0==u?!0:u();if(t===!0){window.top.scrollTo(0,y),window.isMobileUA||f("auto","auto"),m("visible"),$(document,window.frames.modal_window).unbind("keyup.meals_modal_window click.meals_modal_window"),window.isMobileUA||($(document,window.frames.modal_window).unbind("DOMMouseScroll.meals_modal_window mousewheel.meals_modal_window keydown.meals_modal_window"),window.top.$("#TranslucentLayer").remove()),window.isMobileUA&&window.top.window.$("body").removeClass("noScroll"),$(window).unbind("resize.meals_modal_window",g),window.top.$("#"+s).remove();{window.top.document.getElementsByTagName("html")[0]}$("#FBmodal")&&$("#FBmodal").remove(),"dp"==CT.app?r&&r():r&&r(y),e&&$(e.target).attr("data-callback")&&"true"===$(e.target).attr("data-callback")&&h&&h.callBackFunc&&h.callBackFunc(),"hotel"==CT.app&&CT.settings.currentTab&&null!=CT.cache[CT.settings.currentTab].guidedNav&&1==CT.cache[CT.settings.currentTab].guidedNav&&h&&h.callBackFunc&&h.callBackFunc(),$(".updatingModal").length>0&&window.parent.$(".updatingModal").hide()}}if(-1!=e.search("refund-policy")&&CT.utils.helperFunctions.trackGAEvent("Flights_TR","click","RefundPolicy","100"),o){var w=screen.availWidth/2-parseInt(t)/2,v=screen.availHeight/2-parseInt(n)/2,_=a?0:1,T="height="+n+",width="+t+",left="+w+",top="+v+"screenX="+w+",screenY="+v+",status=yes,toolbar=no,scrollbars="+_+",menubar=no,location=no,resizable=yes";return window.open(e,"window",T),!1}var y,b=(window.pageYOffset||document.documentElement.scrollTop||0,$("<div/>",{id:"TranslucentLayer"}));void 0==s&&(s="ModalFrame"),closeAttrCallback=void 0===h||void 0==h.callBackAttr?!1:h.callBackAttr;var k=$("<div/>",{id:s}),S=$("<div/>");if(void 0!==d&&d===!0){var A=$("<span/>",{"class":"stickyPin"});S.append(A)}var D=$("<a/>",{id:"close","data-callback":closeAttrCallback,title:"Close window"}),I="true",x=void 0==c?"true":c;-1!=e.search("guided-nav-modal")?y=0:self.pageYOffset?y=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?y=document.documentElement.scrollTop:document.body&&(y=document.body.scrollTop),m("hidden"),$(window).bind("resize.meals_modal_window",g),CT.utils.hideModalDialog=C,window.isMobileUA||$(document.body).append(b),b.bind("click",function(){if(x){if(/^(\/hotels\/info)/.test(k.find("iframe").attr("src"))){var e=k.find("iframe").attr("src").match(/^\/hotels\/info\/(\d+)\//),t="";e&&(t=e[1]),CT.utils.helperFunctions.trackGAEvent("Hotels_TR","H_Modal_Close",t)}window.top.CT.utils.hideModalDialog()}}),S.append(D),k.append(S),$("<iframe/>",{src:e,frameborder:0,framespacing:0,width:"100%",height:"100%",scrolling:a?"no":"auto",id:"modal_window",name:"modal_window","class":"spinnerMedium"}).appendTo(k);var L=/^\/hotels\/api\/info\/\d+\/modal/;window.CT&&"hotel"===window.CT.app&&$("body").hasClass("srp")&&e.match(L)||e.indexOf("abnb")>-1?k.addClass("hotelDetailsModalFrame"):k.css({width:t||"700px",height:n||"70%"}),$(document.body).append(k);var M=$("#"+s).find("iframe")[0];if($(M).bind("load",function(){$("#FBmodal")&&$("#FBmodal").remove()}),D.bind("click.meals_modal_window",function(e){window.top.CT.utils.hideModalDialog(e)}),D.bind("mouseover.meals_modal_window",function(){D.addClass("over")}),D.bind("mouseout.meals_modal_window",function(){D.removeClass("over")}),!(window.CT&&"hotel"===window.CT.app&&$("body").hasClass("srp")&&p)){var N=($(document.body).width()-k.width())/2+"px";k.css({left:N});var F=k.height(),P=$(window).height();k.css({top:100*(P-F)/(2*P)+"%"})}window.isMobileUA||b.css($.browser.msie?{height:P+"px"}:{height:document.body.offsetHeight>P?document.body.offsetHeight+"px":P+"px"}),this.bindModalEvents(I),window.isMobileUA||this.preventParentScroll(),CT&&CT.settings&&CT.settings.currentTab&&$("#ResultContainer_"+CT.settings.currentTab).length>0&&$("#ResultContainer_"+CT.settings.currentTab).find(".filters").css({"z-index":"1"})},showModalDiv:function(e,t,n,a,o,r,s,l,c,d){function u(e,t){htm=window.document.getElementsByTagName("html")[0],htm.style.height=e,htm.style.overflow=t,body=window.document.getElementsByTagName("body")[0],body.style.height=e,body.style.overflow=t}function h(e){for(selects=window.document.getElementsByTagName("select"),i=0;i<selects.length;i++)selects[i].style.visibility=e}function p(){try{$("#TranslucentLayer").css($.browser.msie?{height:L+"px"}:{height:document.body.offsetHeight>L?document.body.offsetHeight+"px":L+"px"})}catch(e){}k.css({left:(document.body.offsetWidth-k.offsetWidth)/2+"px"}),k.css({top:100*(L-x)/(2*L)+"%"})}function f(){window.scrollTo(0,v),u("auto","auto"),h("visible"),$(window).unbind("resize",p),window.$("#TranslucentLayer").remove();var t=window.document.getElementsByTagName("html")[0];$(t).css("overflow-y","scroll"),$.browser.msie&&window.scrollTo(0,_),$("."+e).hide().appendTo($("body")),$("#"+r).remove(),d&&d()}if(o){var m=screen.availWidth/2-parseInt(t)/2,g=screen.availHeight/2-parseInt(n)/2,C=a?0:1,w="height="+n+",width="+t+",left="+m+",top="+g+"screenX="+m+",screenY="+g+",status=yes,toolbar=no,scrollbars="+C+",menubar=no,location=no,resizable=yes";return CT.helperFunctions.hideChildWindow=window.open(e,"window",w),!1}var v,_=window.pageYOffset||document.documentElement.scrollTop||0;self.pageYOffset?v=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?v=document.documentElement.scrollTop:document.body&&(v=document.body.scrollTop),u("100%","hidden"),window.scrollTo(0,0),h("hidden"),$(window).bind("resize",p),void 0==r&&(r="ModalFrame",$("."+e).show());var T=void 0==s?"true":s,y=void 0==l?"true":l;document.onkeyup=function(e){var e=window.event||e;27==e.keyCode&&CT.utils.hideModalDialog()},CT.utils.hideModalDialog=f;var b=$("<div/>",{id:"TranslucentLayer"});$(document.body).append(b),b.bind("click",function(){y&&CT.utils.hideModalDialog()}),$(document).keyup(function(e){27==e.keyCode&&T&&CT.utils.hideModalDialog()});var k,S,A;if(0==$("div#"+r).length?(k=$("<div/>",{id:r}),S=$("<div/>"),A=$("<a/>",{id:"close",title:"Close window",style:"z-index: 11"}),S.append(A),k.append(S)):(k=$("div#"+r),A=$("a#close"),S=A.parent(),k.show()),$("."+e)){var D=$("."+e);D.show(),D[0].id="modal_window",D[0].name="modal_window",D.appendTo(k)}k.css({width:t||"700px",height:n||"70%"}),c&&c.length&&c.length>0&&k.addClass(c.join(" ")),$(document.body).append(k),A.bind("click",function(){return f(),!1}),A.bind("mouseover",function(){A.addClass("over")}),A.bind("mouseout",function(){A.removeClass("over")});var I=($(document.body).width()-k.width())/2+"px";k.css({left:I});var x=n,L=$(window).height();k.css({top:100*(L-x)/(2*L)+"%"}),b.css($.browser.msie?{height:L+"px"}:{height:document.body.offsetHeight>L?document.body.offsetHeight+"px":L+"px"})},preventParentScroll:function(){var e=[32,33,34,35,36,37,38,39,40];$(document).bind("DOMMouseScroll.meals_modal_window mousewheel.meals_modal_window",function(e){return e.preventDefault(),!1
}),$(document).bind("keydown.meals_modal_window",function(t){return-1!=e.indexOf(t.keyCode)?(t.preventDefault(),!1):void 0})},bindModalEvents:function(e,t){e=e||!0,e&&(keyUpHandler=function(t){27==t.keyCode&&e&&window.top.CT.utils.hideModalDialog()},$(document).bind("keyup.meals_modal_window",keyUpHandler),(t?t:$($("#modal_window").get(0).contentWindow)).bind("keyup.meals_modal_window",keyUpHandler))},shortenID:function(e){return $.trim(e.toString()).substring(0,4)},postHotelForm:function(e,t,i,n,a,o){var r=$("#FormFields").get(0),s={HChkIn:"chk_in",HChkOut:"chk_out",HDestCode:"dest_code",HState:"state",HCountry:"country",HAreaName:"areaName",HCity:"city",HNumRooms:"num_rooms"},l=_.deserialize((""!=window.location.search?window.location.search:window.location.hash).substr(1).replace(/\+/g," "),["ca1","ca2","ca3","ca4"]),c=0,d=0;if(_.each(_.keys(l),function(e){melem=_.pascalCase("h_"+e),"undefined"!=typeof s[melem]?$("#"+melem).val(("string"==typeof l[s[melem]]?l[s[melem]]:l[s[melem]][0]).replace(/\+/g," ")):"from"!=e&&"hotelId"!=e&&"loc"!=e&&(_.isArray(l[e])?_.each(l[e],function(t){$("<input/>").attr({type:"hidden",id:_.capitalize(e),name:e,value:t}).appendTo(r)}):$("<input/>").attr({type:"hidden",id:_.capitalize(e),name:e,value:l[e]}).appendTo(r),-1!=e.indexOf("children")&&(c+=Int(l[e])),-1!=e.indexOf("adult")&&(d+=Int(l[e])))}),r.num_children.value=c,r.num_adults.value=d,r.star_rating.value=t,r.hotelid.value=e,r.bookingCode.value=i,r.roomtypecode.value=n,r.topLevelRateRules.value=window.topLevelRateRules,"hotel"==CT.app&&"B2B"!=window.product&&(r.sct.value=window.countryCode.toUpperCase(),r.scr.value=window.sell_currency.code.toUpperCase()),o.emi&&(r.emiJson.value=o.emi),!$(r).hasClass("no-action-change"))if(a){var u=window.pHttps;(void 0==u||null==u)&&(u="https"),r.action=window.productCode?u+"://"+location.host+"/hotelBook":u+"://"+location.host+"/hotels/multistep"}else r.action="/hotels/info/"+e;return CT.utils.helperFunctions.trackGAEvent("Hotels_TR","H_Details_Book",CT.cache[CT.settings.currentTab].paramsForGA,"100"),r.submit(),!1},updateTrustHotelRoomRates:function(e,t){var i,n=CT.cache[CT.settings.currentTab].searchParams;return t=t||CT.masterJson.getHotel(e),t.priceInfo&&1==t.priceInfo.tc&&t.priceInfo.rms&&1==t.priceInfo.rms.length&&(i=$.extend(!0,n.all,n.defaults),url=CT.Mustache.to_html(CT.settings[CT.app].urls.trust,{pm:_.serialize(i),hotelId:e}),url+="&tux=1",$.ajax({url:url,type:"GET",success:function(e){e.img&&(t.img=e.img),_.each(e.rms,function(e){t.priceInfo.rms.push(e)})},error:function(){L("trust ajax call failed")},async:!1})),t},unCheckInsuranceBox:function(){return $("#insurance_box").attr("checked",!1).trigger("click").attr("checked",!1),$(".ageError").parents("dl.travellers").find("select").removeClass("ugly").end().end().html(""),!0},showActiveCurrMenu:function(){var e=$(".ctGlobalNav .countryMenu").find("i."+countryCode).closest("li");e.addClass("current").find("a").prepend("<i class='tickMark black'></i>");var t=$(".ctGlobalNav .currencyMenu").find("span."+CT.settings.countryCurrCode[countryCode].code).closest("li");t.addClass("current").find("a").prepend("<i class='tickMark black'></i>"),CT.utils.utmCurrency.utmCheck()&&CT.utils.utmCurrency.utmCurrencyHeaderTabTickMark();var i=$(".ctGlobalNav").find(".languageMenu").find("li a"),n=$(".ctGlobalNav").find(".languageLink").attr("data-lang"),a=_.filter(i,function(e){return $(e).attr("data-lang")===n});i.each(function(e){$(e).removeClass("current").find(".tickMark").remove()}),i.removeClass("current").find(".tickMark").remove(),$(a).addClass("current").prepend("<i class='tickMark black'></i>"),CT.settings.countryCurrCode.current=CT.settings.countryCurrCode[countryCode].code},diffDates:function(e,t){{var i=864e5,n=e.split("/"),a=t.split("/"),o=new Date(n[2],n[1]-1,n[0]),r=new Date(a[2],a[1]-1,a[0]);n[1]-1,a[1]-1}return _Diff=Math.ceil((r.getTime()-o.getTime())/i),_Diff},timeTo12HrFormat:function(e){var t="a";return e>=12&&(t="p"),e>12&&(e-=12),e+t},getTodayDate:function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},setCurrency:function(e){if(window.countryCode){window.utmCurrencyApplied=!1;var t=!1;e&&1==e.isUtmCurrencyEnabled?(t=CT.utils.utmCurrency.utmCheck1(e),CT.utils.utmCurrency.utmFareConversion(e)):t=CT.utils.utmCurrency.utmCheck(),1==t&&CT.utils.utmCurrency.utmCurrencyCookie(e);var i=CT.settings.countryCurrCode[countryCode].code;window.sell_currency=window.sell_currency||{code:i,symbol:""};var n=e&&e.symbol?e.symbol:CT.settings.dispCurrency[i];window.disp_currency={code:CT.settings.countryCurrCode.current?CT.settings.countryCurrCode.current:CT.settings.countryCurrCode[countryCode].code,symbol:n},1==t&&CT.utils.utmCurrency.setUtmCurrency(),this.resetCurrency()}},resetCurrency:function(){window.rupeeSymbol=$.parseHTML("&#8377;")[0].wholeText,window.disp_currency&&(CT.currentCurrency=function(){var e=null;return window.currencies&&window.currencies.all&&window.sell_currency?_.forEach(window.currencies.all,function(t){t.code===window.disp_currency.code&&(e=t)}):(e={},e.name=window.disp_currency.code,e.code=window.disp_currency.code,e.rate=1,e.symbol=window.disp_currency.symbol,window.disp_currency.ts&&window.disp_currency.ds&&window.disp_currency.gp&&(e.ts=window.disp_currency.ts,e.ds=window.disp_currency.ds,e.gp=window.disp_currency.gp)),"INR"===window.disp_currency.code&&(e.symbol=window.rupeeSymbol),e}()),(null==CT.currentCurrency||void 0==CT.currentCurrency)&&(CT.currentCurrency={name:"Indian Rupees",code:"INR",rate:1,symbol:window.rupeeSymbol,ts:",",ds:".",gp:"3,2"})},loadTrackers:function(e,t){function i(e){_.each(e,function(e){e()})}function n(){var t=window.staticBaseDomain||window.staticBaseLink||window.hotelBaseLink||window.airBaseLink||"//ui.cltpstatic.com",n="";n="air"===CT.app?"airTrackers":"dp"===CT.app?"dpTrackers":"hotelTrackers",pageName="air"===CT.app?pageName:"home",CT.getScript({src:t+"/javascripts/trackers/"+window.countryCode+"/"+n+(window.airTrackers_js_ver&&window.airTrackers_js_ver[window.countryCode]||window.hotelTrackers_js_ver&&window.hotelTrackers_js_ver[window.countryCode]||window.dpTrackers_js_ver||"")+".js"},function(){i("results"===e?CT.trackers.results:CT.trackers[pageName])})}try{var a=window.staticBaseLink||window.hotelBaseLink||window.airBaseLink||"//ui.cltpstatic.com";if(CT.commonTrackers)t||n();else{var o="";o="air"===CT.app?"commonAirTrackers":"dp"===CT.app?"commonDpTrackers":"commonHotelTrackers",CT.getScript({src:a+"/javascripts/trackers/common/"+o+(window.commonAirTrackers_js_ver||window.commonHotelTrackers_js_ver||"")+".js"},function(){t||n()})}CT.utils.helperFunctions.loadHeapTracking()}catch(r){}},formatForCurrency:function(e,t,i,n,a){function o(){window.utmCurrencyApplied&&(u=CT.utils.utmCurrency.setCurrencyItn(u)),CT.currentCurrency.symbol&&(c=CT.currentCurrency.symbol),CT.currentCurrency.ds&&(p.ds=CT.currentCurrency.ds),CT.currentCurrency.ts&&(p.ts=CT.currentCurrency.ts),CT.currentCurrency.gp&&(p.gp=$(CT.currentCurrency.gp.split(",")).each(function(e,t){t=parseInt(t,10)})),CT.currentCurrency.rate&&(d=CT.currentCurrency.rate),window.sell_currency&&window.currencies&&window.currencies.all&&_.forEach(window.currencies.all,function(e){e.code===window.sell_currency.code&&(u=e.rate)})}a=a||{};var r,s,l="",c=window.rupeeSymbol,d=1,u=1,h=e,p={ds:".",ts:",",gp:[3,2]},f="";if(o(),u&&(CT.currentCurrency.selling_rate=u),u!=d&&(e=e*u/d),a.adjustDisplayPrice&&(e+=a.adjustDisplayPrice),t){for(r=parseFloat(e),r=parseInt(100*e,10)/100+"",s=r.split(".").length>1?r.split(".")[1]:"",r=r.split(".")[0];s.length<2;)s+="0";h=parseFloat(h)}else if(window.numberOfDecimalsFlights>0){var m=(""+e).split(".");for(s=m[1]&&m[1].substr(0,window.numberOfDecimalsFlights)||"",r=m[0];s.length<window.numberOfDecimalsFlights;)s+="0";h=parseFloat(h)}else r=parseInt(Math.round(e),10)+"",h=parseInt(Math.round(h),10)+"";if(r.length>p.gp[0]){for(l=r.substring(r.length-p.gp[0],r.length),r=r.substring(0,r.length-p.gp[0]);r.length>p.gp[p.gp.length-1];)l=r.substring(r.length-p.gp[p.gp.length-1],r.length)+p.ts+l,r=r.substring(0,r.length-p.gp[p.gp.length-1]);r+=p.ts+l}if((t||window.numberOfDecimalsFlights>0)&&(r+=p.ds+s),c=unescape(c.replace("\\","%")),n)return{symbol:c,fmtPrice:r,intPrice:h,symCode:window.disp_currency.code,display:c+r};_.contains(CT.settings.singleCurrencySymbol,window.disp_currency.code)||(f=" currencyCode");var g="<span class='"+(window.disp_currency.code||"INR")+f+"'  data-pr='"+h+"'>"+c+"</span>";return"hotel"===CT.app||"shortlist"===CT.app?(i?"":c+" ")+(a&&a.prWrap?'<span class="'+a.prWrapClass.join(" ")+'" '+_.map(a.attr,function(e){return e.name+'="'+e.value+'"'}).join(" ")+">"+r+"</span>":r):(i?"":g+"")+(a&&a.prWrap?'<span class="'+a.prWrapClass.join(" ")+'" '+_.map(a.attr,function(e){return e.name+'="'+e.value+'"'}).join(" ")+">"+r+"</span>":r)},hashModifiers:{ca:function(e,t){var i;return t=decodeURIComponent(t.replace(/\+/g," ")),i="undefined"==typeof this[e]?[]:this[e],i.push(t),[e,i]}},duplicateKeyToArray:function(e,t){var i;return t&&(t=decodeURIComponent(t.replace(/\+/g," "))),i="undefined"==typeof this[e]?[]:this[e],i.push(t),[e,i]},durToMins:function(e){if(e.indexOf("h")>=0&&e.indexOf("m")>=0){var t=e.split(" "),i=parseInt(t[0],10),n=parseInt(t[1],10);return 60*i+n}return e.indexOf("h")>=0?60*parseInt(e,10):e.indexOf("m")>=0?parseInt(e,10):void 0},createCurrencyConverterSelectBox:function(e){return _.forEach(currencies.top,function(t){e.DISPCURRENCY.push({optVal:t.code,title:t.name,value:t.code+" "+t.symbol+" - "+t.name})}),e.DISPCURRENCY.push({optVal:"",title:"",value:"----------"}),_.forEach(currencies.all,function(t){e.DISPCURRENCY.push({optVal:t.code,title:t.name,value:t.code+"-"+t.name})}),e},showLoader:function(e,t,i){if(t||CT.utils.hideModalDialog&&CT.utils.hideModalDialog(),"undefined"==typeof e)return!1;var n,a,o,r,s=$("#OverlayTpl").html();a=t?$(".updatingModal").first().clone():$("#Overlay"),a.html(s),a.css("position","absolute"),n=a.find(t?".spinner":"#spinner"),n.append("<strong>Just a moment</strong><small>"+(t?CT.messages[CT.app][e]:CT.settings[CT.app].updatingMsgs[e].msg)+"</small>"),o=$(i||window).height(),r=$(i||document).width(),a[i?"appendTo":"show"](i).show(),n.css(t?{position:"absolute",left:r/2-n.width()/2,top:o/2-n.height()/2}:{left:r/2-n.width()/2,top:o/2-n.height()/2}),t||setTimeout(function(){a.hide()},2e3)}}),!function(e){"undefined"!=typeof window.define?define("ct_utils",["vendor/mustache"],e):e(window.Mustache?Mustache:null)}(function(e){CT.Mustache=e,CT.utils.genericBlocks={createUserAccountNav:function(e){function t(){function e(e){try{if("string"==typeof e&&(e=JSON.parse(e)),n[0].frequentFlyerProfile=e,e.isFF){var t=moment(e.enrolledDate,"DD/MM/YYYY"),i=t.format("MMM YYYY");n.find(".patron-widget--icons").show(),n.find(".patronImage").css("display","block"),n.find(".patronProfileInfo .patronName h2").css("width","140px"),n.find(".ffEnrolledDate").html("One member since "+i).show(),e.totalPoints>0?$(n.find(".patronPoints").show().find("p")[1]).html(e.totalPoints):n.find(".patronPoints").hide(),n.show()}}catch(a){}}function t(e,t,a){function o(){$CTOneLogo=n.find(".patronImage"),$CTOneLogo.addClass("hide"),n.find(".patronName").append('<span class="WPLogo pt5"><img src="/images/work_plus/bizliteWorkPlus.svg" height="12"></span>')}try{if(a&&204==a.status)return void i();if(e&&(window.WPValidStatus||["TRIAL","TRIAL_NCB","VERIFIED","UNVERIFIED"]).indexOf(e)>-1){var r=unescape(CT.utils.cookies.read("userid")),s=r.split("|")[0],l=n.find(".WPLogo");l.length?l.removeClass("hide"):o(),n[0].frequentFlyerProfile=s}}catch(c){L(c)}}function i(){n[0]&&!n[0].frequentFlyerProfile&&(n.hide(),$.ajax({url:"/freqFlyerService/v1/profile",method:"GET",success:e,error:function(){}}))}var n=a.find(".patronProfile").first();if(a.toggle(),o[("none"!=a.get(0).style.display?"add":"remove")+"Class"]("current"),n[0]){n.find(".patronImage").css("display","none");var r=unescape(CT.utils.cookies.read("userid"));$.ajax({url:(window.getWPStatus||"/workplus/user/state?userId=")+r.split("|").reverse()[0],method:"GET",success:t,error:function(){i()}})}}var i,n,a,o;e=e||$("#userAccountNav");try{e[0]&&(i=window.isHandlebars?App.templateAdapter.getTemplate("common/userAccountNav"):$("#userAccountNavTmpl"),n={},CT.settings=CT.settings||{},CT.settings.ctAuthCookieName=CT.settings.ctAuthCookieName||(/dp\.cleartirp\.com|vegas\.cleartrip\.com/.test(window.location.hostname)?"dev-usermisc":"usermisc"),CT.utils.cookies.read(CT.settings.ctAuthCookieName)&&"SIGNED_IN"==unescape(CT.utils.cookies.read(CT.settings.ctAuthCookieName)).split("|")[0]?(n.isSignedIn=!0,n.info=unescape(CT.utils.cookies.read("userid")).split("|"),n.screen_name=unescape(CT.utils.cookies.read("userid")||"Your account").split("|"),n.screen_name=n.screen_name[1]||n.screen_name[0],n.info[2]&&("M"==n.info[2]?(n.gender="man_24",n.genderOnly="man"):(n.gender="woman_24",n.genderOnly="woman")),n.info[3]&&(n.profileLink=n.info[3]),"E"==CT.utils.cookies.read("ct_rt")&&(n.elite=!0)):CT.utils.cookies.read("unconfirmed-email")?(n.isUnConfirmed=!0,n.user_id=unescape(CT.utils.cookies.read("unconfirmed-email")),n.isSignedIn=!0,n.screen_name=" ("+unescape(CT.utils.cookies.read("unconfirmed-email"))+")"):n.isUnSignedIn=!0,"in"==window.countryCode&&(n.india=!0),n.show_currency_converter=window.load_currency_converter||!1,n.showLang=window.enableTranslation?"ae"==window.countryCode||"sa"==window.countryCode||"kw"==window.countryCode:!1,n.isShortlistEnabled=!0,i.length>0&&e.html(window.isHandlebars?i(n):CT.Mustache.to_html(i.html(),n)),$.userNavReady=!0,CT.utils.helperFunctions.forceHttpsLinks(e),CT.app=CT.app||"global",null!=CT.app&&(a=e.find("#userAccountMenu"),o=e.find("#userAccountLink"),o[0]&&o.on("click",t),$("#global_signout").on("click",function(e){e.preventDefault();var t=decodeURIComponent(CT.utils.cookies.read("userid")).split("|")[4];window._gaq&&_gaq.push(["_trackEvent","account_users","signout",t]),window.Moengage&&Moengage.destroy_session&&Moengage.destroy_session(),window.cleverTapEnabled&&CT.utils.helperFunctions.tpTrack&&CT.utils.helperFunctions.tpTrack({tp:"clevertap",logout:!0}),CT.utils.cookies.read("fb")?FB.getLoginStatus(function(e){"connected"==e.status?FB.logout(function(){window.location.href="/signout"}):window.location.href="/signout"}):window.location.href="/signout"})),CT.userAccountNavOnReady&&_.each(CT.userAccountNavOnReady,function(e){e()},{}))}catch(r){}},displayLanguagePrefBanner:function(){$(document.body).prepend('<div id="languagePrefBanner" class="floatingMessageContainer animated bounceInDown" ><div class="floatingMessage" style="width:510px"><div class="info relative clearFix"><a class="fRight icon close" style="display:none;"></a><h3 class="" style="text-align:center;font-size:2.0em">Choose your language &nbsp;&nbsp;<span style="font-size: 1.4em;vertical-align: text-top;">&#1575;&#1582;&#1578;&#1585; &#1604;&#1594;&#1578;&#1603;&lrm;</span></h3><p style="font-size:17px;padding-left:3.75em"></p></div><div class="actionBar"><p style="text-align:center;padding:0px;"><input type="button" class="default button" value="English" id="english_site_pref">&nbsp;&nbsp;<input type="button" class="default button" value="&#1575;&#1604;&#1593;&#1585;&#1576;&#1610;&#1577;" id="arabic_site_pref"></p></div></div></div>'),$("#languagePrefBanner").center().addClass("animated bounceInDown");var e=$(window).height(),t=$("<div/>",{id:"TranslucentLayer",style:"background-color:transparent"});t.css($.browser.msie?{height:e+"px"}:{height:document.body.offsetHeight>e?document.body.offsetHeight+"px":e+"px"}),$(document.body).append(t),$("#arabic_site_pref").click(function(){CT.utils.cookies.create("lp","ar",365),window.location.href="/ar/"}),$("#english_site_pref").click(function(){CT.utils.cookies.create("lp","en",365),$("#languagePrefBanner").hide(),$("#TranslucentLayer").remove()})},displayNonArabicBanner:function(){window.CT.langUrlPrefix&&-1!=window.CT.langUrlPrefix.indexOf("ar")&&$("a").on("click",function(e){if(e.currentTarget.href&&"javascript:void(0)"!=e.currentTarget.href&&"javascript:void(0);"!=e.currentTarget.href&&"#"!=e.currentTarget.href){var t=e.currentTarget.href;if(t.indexOf("/ar/")!=t.length-4&&-1==t.indexOf("/flights")&&-1==t.indexOf("/account")&&-1==t.indexOf("/ticket")&&-1==t.indexOf("/faq")&&-1==t.indexOf("/support")&&-1==t.indexOf("/flight-schedule/")&&-1==t.indexOf("/flight-tickets/")&&-1==t.indexOf("/flight-booking/")){var i=t;e.preventDefault(),e.stopPropagation(),$(document.body).prepend('<div id="nonArabicPageBanner" class="floatingMessageContainer animated bounceInDown" ><div class="floatingMessage" style="width:510px"><div class="info relative clearFix"><a class="fRight icon close" style="display:none;"></a><h3 class="icon32 info">Going to the English site</h3><p style="font-size:17px;padding-left:3.75em">Arabic is coming soon ...</p></div><div class="actionBar"><p><input type="button" class="default primary" value="Proceed to English site" id="nonArabicPageBannerProceed"></p></div></div></div>'),$("#nonArabicPageBanner").center().addClass("animated bounceInDown"),$("#nonArabicPageBannerProceed").click(function(){$("#nonArabicPageBanner").hide(),window.location.href=i}),setTimeout(function(){$("#nonArabicPageBanner").hide(),window.location.href=i},3e3)}}})},displayLanguagePrefToolTip:function(){if(window.isHomePage&&"sa"==window.CT.countryCode){var e=function(){setTimeout(function(){$(".currencyMenuContainer, .countryMenuContainer, .userAccountMenuContainer").css("opacity",".3");var e=window.CT.langUrlPrefix?window.CT.langUrlPrefix.substring(1):"en";$("#langDropDownToolTip .tipsyInner."+e).show(),$("#langDropDownToolTip").fadeToggle(),$(".languageMenuContainer").addClass("highlight"),$(".languageMenuContainer .languageLink").css("font-weight","bold"),setTimeout(function(){$(".currencyMenuContainer, .countryMenuContainer, .userAccountMenuContainer").css("opacity","1")},4e3)},2e3)},t=parseInt(CT.utils.cookies.read("lp_ttc"));t?5>=t&&(CT.utils.cookies.create("lp_ttc",t+1),e()):(CT.utils.cookies.create("lp_ttc",1),e())}},hideLanguagePrefToolTip:function(){$("#langDropDownToolTip")[0]&&($("#langDropDownToolTip").hide(),$(".languageMenuContainer").removeClass("highlight"),$(".languageMenuContainer .languageLink").css("font-weight","normal"))}},$.extend(CT.utils.helperFunctions||(CT.utils.helperFunctions={}),{createSlideView:function(e,t,i,n,a){function o(){_.each([{linkCls:"scrollLeft",divCls:"left",name:"prev"},{linkCls:"scrollRight",divCls:"right",name:"next"}],function(e){a.append(c[e.name]=$(CT.Mustache.to_html(l,e)))})}function r(i,n){var a=parseInt(e.css("left").replace("px",""),10);n="left"==i?-(t*n)+u:t*n-u,n=a+n,e.css("left",n+"px")}function s(){o(),c.next.show(),e.css("left","0px"),c.next.on("click",function(){r("left",d),c.next.hide(),c.prev.show()}),c.prev.on("click",function(){r("right",d),c.next.show(),c.prev.hide()})}var l='<div class="disclosureFade {{divCls}}" style="display:none;"><a class="{{linkCls}}" href="javascript:void(0);"></a></div>',c={prev:{},next:{}},d=n-i,u=4==n?50:285;a=a||e,s()}}),$(document).ready(function(){try{$(document).ajaxSend(function(){function e(){var e=document.createElement("a");e.href=t[2].url;var i=e;t[2].dontConvertUrl||(0!=i.pathname.indexOf("/ar/")&&(i.pathname="/ar"+i.pathname),t[2].url=i.pathname+i.search,window.console&&console.log("Altered URL >>",t[2].url))}var t=arguments;window.CT.langUrlPrefix&&-1!=window.CT.langUrlPrefix.indexOf("ar")&&e()});try{(window.isMobileUA||window.isMobileRequest)&&window.location.pathname.indexOf("hotels")>0&&CT.utils.merchandisingBanner&&"function"==typeof CT.utils.merchandisingBanner.create&&window.enableAppBannerAutomationMob&&window.appDownloadBannerJson&&$("#merchandisingAppBanner")&&CT.utils.merchandisingBanner.create(window.appDownloadBannerJson,$("#merchandisingAppBanner"),"appUpsell")}catch(e){}try{"/"==window.location.pathname&&("CP"===window.productCode||"AG"===window.productCode||CT.utils.cookies.read("ct-auth")&&!CT.utils.cookies.read("usermisc")&&(CT.utils.cookies.erase("ct-auth","."+window.location.host.split(".").splice(1,2).join(".")),CT.utils.cookies.erase("userid","."+window.location.host.split(".").splice(1,2).join(".")),CT.utils.cookies.erase("ct-auth",window.location.host),CT.utils.cookies.erase("userid",window.location.host)))}catch(e){}if(CT.app&&("hotel"===CT.app||"air"===CT.app||"dp"===CT.app||"bus"===CT.app)){var t=null!=navigator.userAgent.match(/iPad/i);1==t&&"hidden"==$(".tempFilter").css("visibility")&&$(".tempFilter").css("visibility","visible")}if(CT.utils.genericBlocks.createUserAccountNav(),CT.app&&("hotel"===CT.app||"air"===CT.app||"dp"===CT.app||"shortlist"===CT.app)&&$(".ctGlobalNav")[0]){var i=CT.settings.countryCurrCode[countryCode].symbol,n=CT.settings.countryCurrCode[countryCode].code,a="";n!==i&&(a="<span class='"+n+"'>&nbsp;"+i+"</span>"),$(".ctGlobalNav .currencyLink").html("<strong>Currency</strong>&nbsp;&nbsp;"+n+a),CT.utils.utmCurrency.utmCheck()&&CT.utils.utmCurrency.utmCurrencyHeaderTab(a),$(".ctGlobalNav .countryLink .flagIcon").text(CT.settings.countryCurrCode[countryCode].name).addClass(countryCode)}"sa"!=window.CT.countryCode&&"kw"!=window.CT.countryCode||CT.utils.cookies.read("lp")||"/"!=window.location.pathname||""!=window.location.search||CT.utils.genericBlocks.displayLanguagePrefBanner(),CT.utils.helperFunctions.forceLanguagePrefix(),CT.utils.genericBlocks.displayNonArabicBanner(),CT.utils.helperFunctions.storeUserReferer(),CT.utils.helperFunctions.storePaidChannelSource()}catch(e){window.ct_debug&&L(e)}CT.utils.helperFunctions.setUtmParametersInSessionStorage();try{if(window.top==window&&CT.utils.helperFunctions.isB2CFlow()&&window.location.search.length>0){var o=_.deserialize(window.location.search.substring(1));CT.utils.helperFunctions.paidChannelTracker(o),CT.utils.helperFunctions.paidAffiliateTracker(o)}}catch(e){}})}),jQuery.fn.extend(jQuery.fn,{identity:function(){return this},setLoad:function(e){function t(){$(this).closest(".loader").removeClass("loader").end().parent().css("visibility","visible").end().fadeIn("slow")}return e=e||t,this.each(function(){this.complete||4===this.readyState?e.call(this):$(this).load(e)})},showLoader:function(e,t){return this.each(function(){CT.utils.showLoader(e,t,this)})},hideLoader:function(){var e=this.find(".updatingModal");return 1===e.length?e.css("display","none"):e.last().remove(),$("#Overlay").hide(),this},center:function(){return this.css("position","absolute"),this.css("top",($(window).height()-this.outerHeight())/2+$(window).scrollTop()+"px"),this.css("left",($(window).width()-this.outerWidth())/2+$(window).scrollLeft()+"px"),this}}),CT.utils.tweakDate=CT.utils.swapDayMonth,$(window).load(function(){try{$.isLoaded=!0;var e=window.staticBaseDomain||window.staticBaseLink||window.hotelBaseLink||window.airBaseLink||"//ui.cltpstatic.com";-1!=$.inArray(CT.app,["hotel","air","dp","bus","collections","local"])&&("collections"!==CT.app&&("air"!=CT.app||"air"==CT.app&&"sa"==window.countryCode)&&$.getScript(e+"/javascripts/libs/oldga.js",function(){CTGA.includeGAjs()}),CT.utils.helperFunctions.includeComScoreTracking()),window.isMobileRequest&&CT.utils.helperFunctions.inspectLetJsForBranchIo(),!CT.app||"in"!=window.countryCode&&"ae"!=window.countryCode||"air"!=CT.app&&"hotel"!=CT.app||(!function(){var e=window._fbq||(window._fbq=[]);if(!e.loaded){var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i),e.loaded=!0}e.push(["addPixelId","551295824981249"])}(),window._fbq=window._fbq||[],window._fbq.push(["track","PixelInitialized",{}])),CT.utils.genericBlocks.displayLanguagePrefToolTip()}catch(t){window.ct_debug&&L(t)}}),$(document).ready(function(){$scroll_count=0;try{$(window).bind("scroll",function(){$scroll_count+=1})}catch(e){}}),$(window).load(function(){try{window.eventList=window.eventList||[],$("body").append('<div id="fb-root"></div>'),$.ajaxSetup({cache:!0}),$.getScript("//connect.facebook.net/en_UK/all.js",function(){"undefined"!=typeof FB&&(FB.init({appId:"293814704002168"}),FB.getLoginStatus(function(e){if(e.authResponse&&"undefined"!=typeof e.authResponse&&!CT.utils.cookies.read("userid")){var t=e.authResponse.userID;$.ajax({url:"/fb/auto_login",data:{caller:"fblogin",id:t,access_token:e.authResponse.accessToken,service:window.location.pathname},success:function(e){e.url&&(window.location.href=e.url)}})}else window.fbLog=!1}))}),function(){try{window.isWL&&top.location.hostname!==window.location.hostname&&(top.location.hostname=window.location.hostname)}catch(e){"SecurityError"===e.name&&window.document.write("Oops!!")}}(),-1==window.navigator.userAgent.indexOf("iPad")&&"hotel"===CT.app&&(window._gaq=window._gaq||[]),CT.utils.trackers.page_count(),CT.utils.helperFunctions.forceHttpsLinks(),1!=window.isMobileUA&&CT.utils.helperFunctions.createOfferBand(),window._errs&&(window._errs.meta={email:unescape(CT.utils.cookies.read("userid")||"un-signed-user")}),window.enableOldFlashSaleFlow&&CT.utils.helperFunctions.showFlashSaleTag();var e=CT.utils.helperFunctions.store;if(e)try{var t=e().getItem("events");t&&-1===t.indexOf("Bus")&&e().removeItem("events")}catch(i){}CT.utils.helperFunctions.initLogger(),$(document).bind("click",function(e){if("none"!==$(e.target).css("display")){if("smallWorldApp"==e.target.id||$(".smallWorldApp").find(e.target).length||$(".moreProducts").hide(),$(e.target).hasClass("languageLink")||$(".languageLink").find(e.target).length||($(".languageLink").removeClass("current"),$(".languageMenu").hide()),$(e.target).hasClass("currencyLink")||$(".currencyLink").find(e.target).length||($(".currencyLink").removeClass("current"),$(".currencyMenu").hide()),$(e.target).hasClass("countryLink")||$(".countryLink").find(e.target).length||($(".countryLink").removeClass("current"),$(".countryMenu").hide()),$(e.target).hasClass("otherCharges")||$(".farePopover").find(e.target).length||$(e.target).hasClass("fareBreakUpLink")||$(".fareBreakUpLink").find(e.target).length||$(".farePopover").hide(),$(e.target).hasClass("openRateDetails")||$(".hotelFarePopover").find(e.target).length||$(e.target).hasClass("agToolTip")||$(".agToolTip").find(e.target).length||$(".hotelFarePopover").hide(),$(".baggagePopover").find(e.target).length||$(e.target).hasClass("baggageLink")||$(".baggageLink").find(e.target).length||$(".baggagePopover").hide(),$(".refundPopOver").find(e.target).length||$(e.target).hasClass("farePolicyLink")||$(".farePolicyLink").find(e.target).length||$(".refundPopOver").hide(),CT.settings&&CT.settings.currentTab){var t=$("#ResultContainer_"+CT.settings.currentTab);t&&(t.removeClass("comboTabsFirstRun"),CT.utils.cookies.create("comboTabsFirstRun",!0,1))}$AccountMenu=$("#userAccountNav").find("#userAccountMenu"),$AccountLink=$("#userAccountNav").find("#userAccountLink"),"userAccountLink"===e.target.id||$AccountLink.find(e.target).length||($AccountMenu.hide(),$AccountLink.removeClass("current")),$(e.target).hasClass("bookingDropDown")||$(".bookingDropDown").find(e.target).length||$(".bookingDropDownMenu").hide()}}),$(document).bind("keypress",function(e){27==e.keyCode&&($(".languageLink").removeClass("current"),$(".languageMenu").hide(),$(".currencyLink").removeClass("current"),$(".currencyMenu").hide(),$AccountMenu=$("#userAccountNav").find("#userAccountMenu"),$AccountLink=$("#userAccountNav").find("#userAccountLink"),$AccountMenu.hide(),$AccountLink.removeClass("current"))})}catch(i){window.ct_debug&&L(i)}}),function(){window.CT||(window.CT={}),void 0==window.CT.countryCode&&(window.CT.countryCode=function(){var e="",t=window.location.hostname;return e=t.match(/(.).ae$/)?"ae":t.match(/^om((.)*).cleartrip.com$/)?"om":t.match(/^me((.)*).cleartrip.com$/)?"me":t.match(/^bh((.)*).cleartrip.com$/)?"bh":"qa2.cleartrip.com"==t?"in":t.match(/^qa((.)*).cleartrip.com$/)?"qa":t.match(/^kw((.)*).cleartrip.com$/)?"kw":t.match(/^sa((.)*).cleartrip.com$/)?"sa":t.match(/(.).sa$/)?"sa":"in"}())}(),function(){var e=["ae","sa","kw"];window.CT||(window.CT={}),void 0==window.CT.langUrlPrefix&&(window.CT.langUrlPrefix=function(){for(var e=["ar"],t="",i=e.length,n=0;i>n;n++){var a=e[n];window.location.pathname.split("/")[1]==a&&(t="/"+a)}return t}()),-1!=window.CT.langUrlPrefix.indexOf("ar")?-1!=e.indexOf(window.CT.countryCode)&&CT.utils.cookies.create("lp","ar",365):"sa"!=window.CT.countryCode||-1==window.location.search.indexOf("utm_source=")&&-1==window.location.search.indexOf("gclid=")||CT.utils.cookies.create("lp","en")}(),function(){window.mixpanelswitch&&(CT&&"hotel"==CT.app||-1!=window.location.pathname.indexOf("/hotels"))&&(CT.utils.trackers.includeMixPanel(),$(window).bind("beforeunload",CT.utils.helperFunctions.trackScroll)),1==window.isMobileUA&&"wg"==CT.subProd&&(dataLayer=CT.settings.GATagManager,dataLayer[0]["Date-Search"]=moment().format("DD/MM/YYYY"),dataLayer[0]["Day-Search"]=moment().format("dddd"),CT.utils.helperFunctions.includeGATagManager()),window.moengageEnabled&&window.moengageId&&CT.utils.helperFunctions.tpTrack({tp:"moengage"})}(),function(){-1!=$.inArray(CT.app,["hotel","air","dp","bus","collections","local"])&&"collections"!==CT.app&&(window._gaq=window._gaq||[])}(),CT.utils.initCleverTap=function(){window.clevertap?!window.clevertapChromePushNotification:(window.clevertap={event:[],profile:[],account:[],onUserLogin:[],notifications:[{skipDialog:!0}]},window.clevertap.account.push({id:window.cleverTapAccId||"W8R-KK8-W74Z"}),window.clevertap.enablePersonalization=!0,function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://d2r1yp2w7bby2u.cloudfront.net":"http://static.clevertap.com")+"/js/a.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}())},CT.utils.initCleverTap(),CT.utils.checkMobileDevice=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:!1},CT.utils.zendeskChat={},CT.utils.zendeskChat.setName=function(e,t){zE(function(){zE.identify({name:e,email:t})})},CT.utils.zendeskChat.initializeWidget=function(e,t,i){CT.utils.zendeskChat.CTChat.storeConnection(e,t,i),$(".visitormsg").off(),$(".visitormsg").keypress(function(e){var t,i=e.which;13==i?(CT.utils.zendeskChat.CTChat.visitorToServer(),t=0):t=8==i&&""===$(".visitormsg").val()?0:1,CT.utils.zendeskChat.CTChat.setVisitorTyping(t)}),$(".send_button").off(),$(".send_button").click(function(){CT.utils.zendeskChat.CTChat.visitorToServer()}),$(".minimize_chat").click(function(){$(".floating_support__icon").removeClass("hide"),console.log("Minimized"),$(".trips").removeClass("pushOverlay"),$(".pushLeft").removeClass("pushLeft"),callClevertapEvent("chat_minimise_button_clicked"),window.notification=0}),$(".floating_support__icon").click(function(){$(".trips").addClass("pushOverlay"),$(".floating_support__icon").addClass("hide"),$(".tripsSupport__widget").addClass("pushLeft"),console.log("Maximized"),$(".notification-count").addClass("hide"),window.notification=0})},CT.utils.zendeskChat.checkWidgetAlreadyInitialized=function(){return window.zE?!0:!1},CT.utils.zendeskChat.showWidget=function(){window.zE&&window.zE.show()},CT.utils.zendeskChat.isChatting=function(){$(document).ready(function(){zE(function(){$zopim(function(){return $zopim.livechat.isChatting()?!0:!1})})})},CT.utils.zendeskChat.showWindow=function(){window.zE&&window.zE.activate()},CT.utils.zendeskChat.addTag=function(e){$(document).ready(function(){zE(function(){$zopim(function(){$zopim.livechat.addTags(e)})})})},CT.utils.zendeskChat.setNote=function(e){$(document).ready(function(){zE(function(){$zopim(function(){$zopim.livechat.setNotes(""),$zopim.livechat.setNotes("_________________________\n"+e+"\n_________________________\n")})})})},CT.utils.zendeskChat.resetNotes=function(){window.zE&&window.zE(function(){$zopim(function(){$zopim.livechat.setNotes("")})})},CT.utils.zendeskChat.formatJSON=function(e){return e="string"==typeof e?e:JSON.stringify(e),e.replace(/["{}]/g,"").replace(/,/g,"\n").replace(/:/g,"->")
},CT.utils.zendeskChat.showCall=function(){var e=document.createElement("div");e.id="zendeskCall",e.classList="mt10 mb10 mr20 ml20 icon phone",e.setAttribute("style","position:fixed;bottom:0;left:0;width: 48px;height: 48px;background:rgb(100,255,100);z-index:999998;border-radius:100%;cursor:pointer;");var t=document.createElement("div");t.setAttribute("style","position:absolute;background:rgb(255,255,0);top: -70px;left: 50px;font-size: 1.2em;border:1px solid black;");var i=document.createElement("div");i.innerHTML="Name";var n=document.createElement("input"),a=document.createElement("div");a.innerHTML="Phone-Number";var o=document.createElement("input"),r=document.createElement("button");r.classList="mt10 mb10 mr10 ml10",r.setAttribute("style","border:1px solid black;"),r.innerText="Push To Zendesk",t.appendChild(i),t.appendChild(n),t.appendChild(a),t.appendChild(o),t.appendChild(r),t.hidden=!0,e.appendChild(t),document.body.appendChild(e),e.addEventListener("click",function(){t.hidden=!t.hidden}),t.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("click",function(){$.ajax({url:"https://cleartripcare.zendesk.com/api/v2/tickets.json",contentType:"application/json",type:"POST",data:JSON.stringify({ticket:{subject:"Please call me back on"+o.innerText,comment:{body:"hi"}}})}).done(function(e){window.console&&console.log(e.ticket)})})},CT.utils.zendeskChat.hideChat=function(){$(document).ready(function(){$(".zopim").is(":visible")&&zE(function(){$zopim(function(){$zopim.livechat.hideAll()})})})},CT.utils.zendeskChat.removeTag=function(e){$(document).ready(function(){window.zE&&window.zE(function(){$zopim(function(){$zopim.livechat.removeTags(e)})})})},CT.utils.zendeskChat.clevertapOnWidgetShown=function(e){$(document).ready(function(){zE(function(){$zopim(function(){$zopim.livechat.setOnConnected(function(){setTimeout(function(){$(".zopim").is(":visible")&&CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"Chat widget shown",values:e})},2e3)})})})})},CT.utils.zendeskChat.clevertapOnClick=function(e){$(document).ready(function(){zE(function(){$zopim(function(){$zopim.livechat.window.onShow(function(){CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"Chat icon clicked",values:e})})})})})},CT.utils.zendeskChat.clevertapOnMinimize=function(e){$(document).ready(function(){zE(function(){$zopim(function(){$zopim.livechat.window.onHide(function(){CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"Chat window minimized",values:e})})})})})},CT.utils.zendeskChat.hideOnAllAgentsOffline=function(e){$(document).ready(function(){zE(function(){$zopim(function(){$zopim.livechat.setOnConnected(function(){$zopim.livechat.departments.setVisitorDepartment(e);var t=$zopim.livechat.departments.getDepartment(e);t&&"offline"!==t.status?$zopim.livechat.isChatting()?window.zE.activate():$zopim.livechat.button.show():$zopim.livechat.hideAll()})})})})},CT.utils.zendeskChat.tripDetailsChat=function(e){if(window.zendeskTripChatEnabled&&"in"==CT.countryCode){var t=unescape(CT.utils.cookies.read("userid")),i=t.split("|")[1]||"",n=t.split("|")[0]||"";CT.utils.zendeskChat.initializeWidget(i,n,e)}},CT.utils.zendeskChat.CTChat={showChatWindow:function(){if($(".chat_content__block").removeClass("hide"),window.isAndroidApp||window.isIosApp||$(".minimize_chat").removeClass("hide"),$(".callback").addClass("hide"),$(".support__title").text("Chat"),$(".selected_booking__block").hasClass("hide")?"android"===getDeviceType()?window.isAndroidApp&&isAndroidApp()?$(".chat_content__block").css("height","calc(100vh - 185px)"):$(".chat_content__block").css("height","calc(100vh - 125px)"):"chrome"===getBrowserType()?$(".chat_content__block").css("height","calc(100vh - 130px)"):window.isIosApp&&isIosApp()?$(".chat_content__block").css("height","calc(100vh - 130px)"):$(".chat_content__block").css("height","calc(100vh - 192px)"):$(".selected_subissue__block").hasClass("hide")?"android"===getDeviceType()?window.isAndroidApp&&isAndroidApp()?$(".chat_content__block").css("height","calc(100vh - 290px)"):$(".chat_content__block").css("height","calc(100vh - 225px)"):"chrome"===getBrowserType()?$(".chat_content__block").css("height","calc(100vh - 235px)"):window.isIosApp&&isIosApp()?$(".chat_content__block").css("height","calc(100vh - 235px)"):$(".chat_content__block").css("height","calc(100vh - 297px)"):"android"===getDeviceType()?window.isAndroidApp&&isAndroidApp()?$(".chat_content__block").css("height","calc(100vh - 334px)"):$(".chat_content__block").css("height","calc(100vh - 265px)"):"chrome"===getBrowserType()?$(".chat_content__block").css("height","calc(100vh - 280px)"):window.isIosApp&&isIosApp()?$(".chat_content__block").css("height","calc(100vh - 280px)"):$(".chat_content__block").css("height","calc(100vh - 341px)"),sessionStorage.getItem("chatHistory"))for(var e=JSON.parse(sessionStorage.getItem("chatHistory")),t=0;t<e.length;t++)CT.utils.zendeskChat.CTChat.log(e[t])},connectWS:function(){window.WebSocketURL&&(ws=new WebSocket(new URL(window.WebSocketURL)),ws.onopen=function(){console.log("--Websocket is connected"),sessionStorage.setItem("timeStamp",Date.now()),CT.utils.zendeskChat.CTChat.showChatWindow()},ws.onmessage=function(e){var t=JSON.parse(e.data);switch(t.method){case"connect":ws.send('{"method":"connect","params":[{"LastMessageID":"0"}],"id":null}'),window.wsExists?ws.send('{"method":"updateBusy", "params":[{"ChatKey":"'+ChatKey+'"}]}'):$(".chat_wait").removeClass("hide");break;case"heartbeat":ws.send('{"result":{"Response":"ack"},"error": null,"id":null}'),console.log("--Heartbeat responded");break;default:CT.utils.zendeskChat.CTChat.setChat(e.data),console.log("--Message From Server: \n"+e.data)}},ws.onerror=function(e){console.log("--Error detected: "+e.data),console.log(e),console.log(e.data)},ws.onclose=function(){sessionStorage.removeItem("chatConfigs"),sessionStorage.removeItem("chatHistory"),window.wsExists=!1,console.log("--Websocket is closed")})},storeConnection:function(e,t,i){if(sessionStorage.getItem("chatConfigs")){var n=JSON.parse(sessionStorage.getItem("chatConfigs"));if(Date.now()-parseInt(JSON.parse(sessionStorage.getItem("timeStamp")))>18e5){CT.utils.zendeskChat.CTChat.showChatWindow(),$(".chat-typebox").addClass("hide");var a='<div class="end_chat_message flex flex-left"><p class="chat-support-message mt30 fSemibold">'+(CTSupport.currentAgent||"Agent")+" has ended the chat</p></div>";$(".chat_content__child").append(a),CT.utils.zendeskChat.CTChat.scrollToBottom(".chat_content__child")}else window.ChatKey=n.ChatKey,window.WebSocketURL=n.WebSocketURL,window.ClientID=n.ClientID,window.ChatID=n.ChatID,window.wsExists=!0,CT.utils.zendeskChat.CTChat.connectWS()}else{window.firstMsg=!0;var o={skipPreChat:!1,data:{name:e,email:t,information:"",custom_trip_id:i,custom_platform:CT.utils.checkMobileDevice?"Desktop":"mweb"}};window.isAndroidApp&&window.isAndroidApp()&&(o.data.custom_platform="Android"),window.isIosApp&&window.isIosApp()&&(o.data.custom_platform="iOS"),CTSupport.reason&&CTSupport.reason.value?(o.data.custom_cause="Cancellation",o.data.custom_sub_cause=CTSupport.reason.value,CTSupport.reason={}):(o.data.custom_cause=CTSupport.cause,CTSupport.cause=""),o.data.custom_information=CTSupport.message?CTSupport.message.chatInfo:"",CTSupport.message&&(CTSupport.message.chatInfo="");var r={"Content-type":"application/json",dataType:"json"};o=JSON.stringify(o),document.getElementsByClassName("loader_block")[0].style.background="url('https://ui.cltpstatic.com/images/animations/spinner_medium.gif') center 20% no-repeat rgba(248,248,248,0.5);",$("#loader_block").removeClass("hide"),$.ajax({url:"/communication/selfcare/api/createChat",type:"POST",data:o,headers:r,success:function(e){if($("#loader_block").addClass("hide"),checkKeyExists(e,"UnavailableReason")){var t=e.Message;return $(".error_alert")[0].style="",e&&"outside_hours"===e.UnavailableReason&&(t="For assistance with your booking please reach us on the following numbers :- <br><br>India Support (+91 9595 333 333) <br>UAE (04875 4545) - Toll Free from UAE <br>KSA (+966 1122 46 311) - Toll Free from Saudi Arabia",$(".error_alert").css("height","auto"),$(".error_alert").css("top","26%")),void CT.utils.zendeskChat.CTChat.displayErrorOverlay(t)}if(checkKeyExists(e,"Status")&&"error"==e.Status)return void CT.utils.zendeskChat.CTChat.displayErrorOverlay("Sorry, we are facing some technical issue at our end. For assistance with your booking please reach us on the following numbers :- <br><br> India Support (+91 9595 333 333) <br> UAE (04875 4545) - Toll Free from UAE <br> KSA (+966 1122 46 311) - Toll Free from Saudi Arabia ");window.ChatKey=e.ChatKey,window.WebSocketURL=e.WebSocketURL,window.ClientID=e.ClientID,window.ChatID=e.ChatID;var i={ChatKey:window.ChatKey,WebSocketURL:window.WebSocketURL,ClientID:window.ClientID,ChatID:window.chatID};sessionStorage.setItem("chatConfigs",JSON.stringify(i)),CT.utils.zendeskChat.CTChat.connectWS(),$(".chat-typebox").addClass("hide"),$(".end_chat_message").remove()},error:function(){$("#loader_block").addClass("hide"),$(".issue_list__block").removeClass("hide"),CT.utils.zendeskChat.CTChat.displayErrorOverlay("Sorry, we are facing some technical issue at our end. For assistance with your booking please reach us on the following numbers :- <br><br> India Support (+91 9595 333 333) <br> UAE (04875 4545) - Toll Free from UAE <br> KSA (+966 1122 46 311) - Toll Free from Saudi Arabia ")}})}},visitorToServer:function(){var e,t=unescape(CT.utils.cookies.read("userid")),i=t.split("|")[1]||"You";"block"==$("#trip_detail").css("display")&&$(".visitormsg")[1]?(e=JSON.stringify($(".visitormsg")[1].value),$(".visitormsg")[1].value=""):(e=JSON.stringify($(".visitormsg")[0].value),$(".visitormsg")[0].value=""),CT.utils.zendeskChat.CTChat.sendmsg('{"method":"sendMessage", "params":[{"ChatKey": '+ChatKey+', "ChatMessageID":"'+CT.utils.zendeskChat.CTChat.getRand(89999999999,1e10)+'", "Name":"'+i+'", "Message":'+e+'}],"id":null}')},sendmsg:function(e){return window.ws?3==window.ws.readyState?void CT.utils.zendeskChat.CTChat.displayErrorOverlay("Sorry, we are facing some technical issue at our end. For assistance with your booking please reach us on the following numbers :- <br><br> India Support (+91 9595 333 333) <br> UAE (04875 4545) - Toll Free from UAE <br> KSA (+966 1122 46 311) - Toll Free from Saudi Arabia"):void(""!=e&&(ws.send(e),console.log("--Message Sent To Agent: "+e))):void CT.utils.zendeskChat.CTChat.displayErrorOverlay("Sorry, we are facing some technical issue at our end. For assistance with your booking please reach us on the following numbers :- <br><br> India Support (+91 9595 333 333) <br> UAE (04875 4545) - Toll Free from UAE <br> KSA (+966 1122 46 311) - Toll Free from Saudi Arabia")},setVisitorTyping:function(e){CT.utils.zendeskChat.CTChat.sendmsg('{"id":'+CT.utils.zendeskChat.CTChat.getRand(9e18,1e18)+', "method":"visitorTyping", "params":[{"ChatKey": '+ChatKey+', "IsTyping": '+e+"}")},displayErrorOverlay:function(e){$(".error_alert").removeClass("hide"),$(".tripsSupport__widget").addClass("alertOverlay"),$(".tripsSupport__widget").addClass(window.isIosApp&&window.isIosApp()||window.isAndroidApp&&window.isAndroidApp()?"fullscreenAlertOverlay":"alertOverlay"),$(".error_alert .alert_subHeading").html(e),$(".error_alert").css("height","auto"),$(".error_alert").css("top","26%"),"trips_401"===CTSupport.currentAPICall&&$(".alert_actions > li").text("Sign In")},hideErrorOverlay:function(){if($(".error_alert").addClass("hide"),$(".tripsSupport__widget").hasClass("fullscreenAlertOverlay")?($(".tripsSupport__widget").removeClass("fullscreenAlertOverlay"),$(".tripsSupport__widget").removeClass("alertOverlay")):$(".tripsSupport__widget").removeClass("alertOverlay"),window.wsExists||closeOverlay(),"trips_401"===CTSupport.currentAPICall&&!window.noredirect){window.noredirect=!1;var e=window.location.origin+"/signin?service="+window.location.pathname;window.location.href=e}},endChat:function(){CT.utils.zendeskChat.CTChat.sendmsg('{"method":"finishChat", "params":[{"ChatKey":'+ChatKey+', "ClientID":'+ClientID+"}]}"),$(".message").remove(),$(".end_chat_message").remove(),$(".start_chat_message").addClass("hide"),ws.close()},setChat:function(e){var t,i=JSON.parse(e);if(i.params&&i.params.length&&(t=i.params[0].Values),$(".dots-container").remove(),window.firstMsg&&t&&"operator"===t.PersonType?(window.firstMsg=!1,$(".queue_message").remove(),$(".agent_name").text(t.Name),CTSupport.currentAgent=t.Name,$(".chat_wait").addClass("hide"),$(".start_chat_message").removeClass("hide"),$(".chat-typebox").removeClass("hide"),$(".visitormsg")[1]?$(".visitormsg")[1].focus():$(".visitormsg")[0].focus()):window.firstMsg&&t&&"visitor"===t.PersonType&&(window.PersonID=i.params[0].PersonID),"addMessage"==i.method)window.validChat=!0,CT.utils.zendeskChat.CTChat.log(i.params[0]);else if("closed"==i.method){window.wsExists=!1,$(".chat-typebox").addClass("hide");var n='<div class="end_chat_message flex flex-left"><p class="chat-support-message mt30 fSemibold">'+(CTSupport.currentAgent||"Agent")+" has ended the chat</p></div>";$(".chat_content__child").append(n),CT.utils.zendeskChat.CTChat.scrollToBottom(".chat_content__child")}else if("updateTyper"==i.method)window.validChat=!0,CT.utils.zendeskChat.CTChat.showLoadingDots();else if("updateChat"==i.method)window.validChat=!0;else if("updateBusy"==i.method&&($(".queue_message").remove(),i&&i.Params&&i.Params.length)){var n='<div class="queue_message flex flex-left"><p class="chat-support-message mt30 fSemibold"> Queue position: '+i.Params[0].Position+"</p></div>";$(".chat_content__child").append(n)}if(i.result&&(checkKeyExists(i.result,"UnavailableReason")||!window.validChat)){$(".chat_wait").addClass("hide"),$(".end_chat_message").remove(),window.wsExists=!1,$(".error_alert")[0].style="";var i="For assistance with your booking please reach us on the following numbers :- <br><br>India Support (+91 9595 333 333) <br>UAE (04875 4545) - Toll Free from UAE <br>KSA (+966 1122 46 311) - Toll Free from Saudi Arabia";i&&i.result&&"outside_hours"===i.result.UnavailableReason&&($(".error_alert").css("height","auto"),$(".error_alert").css("top","26%"),i="For assistance with your booking please reach us on the following numbers :- <br><br>India Support (+91 9595 333 333) <br>UAE (04875 4545) - Toll Free from UAE <br>KSA (+966 1122 46 311) - Toll Free from Saudi Arabia"),CT.utils.zendeskChat.CTChat.displayErrorOverlay(i)}},log:function(e){if(e&&e.Values&&e.Values.Text&&"null"!=e.Values.Text){var t=[];if(sessionStorage.getItem("chatHistory")&&(t=JSON.parse(sessionStorage.getItem("chatHistory"))),checkKeyExists(e,"MessageID")){window.messageStored=!1;for(var i=0;i<t.length;i++)t[i].MessageID==e.MessageID&&(window.messageStored=!0)}window.messageStored||t.push(e),sessionStorage.setItem("chatHistory",JSON.stringify(t));var n,a=e.Values,o="--",r="";a&&a.Created&&(o=new Date(a.Created).toString().substr(16,5),o=CT.utils.zendeskChat.CTChat.formatTime(o)),"visitor"==a.PersonType?(n="chat-message-right fRegular tLeft mt10 mb10 pt10 pb10 pl10 pr10 mr20 fRight",r="sent_msg"):(n="chat-message-left fRegular tLeft mt10 mb10 pt10 pb10 pl10 pr10 ml20 fLeft",$(".floating_support__icon").hasClass("hide")||(window.notification++,$(".notification-count").removeClass("hide"),$(".notification-count").text(window.notification)),sessionStorage.removeItem("timeStamp"),sessionStorage.setItem("timeStamp",Date.now()));var s="<div class = 'message "+n+"'><div class = ''>"+o+" "+a.Name+"</div><div class = '"+r+"'>"+a.Text+"</div></div>";$(".chat_content__child").append(s),CT.utils.zendeskChat.CTChat.scrollToBottom(".chat_content__child")}},scrollToBottom:function(e){var t=document.querySelectorAll(e);if(t.length>0)for(var i=0;i<t.length;i++)t[i].scrollTop=t[i].scrollHeight-t[i].clientHeight;else t.scrollTop=t.scrollHeight-t.clientHeight},getRand:function(e,t){return Math.floor(Math.random()*e+t)},formatTime:function(e){var t,i=parseInt(e.substr(0,2));return i>12?(i-=12,t=i+e.substr(2,3)+" PM"):t=12==i?"12"+e.substr(2,3)+" PM":0==i?"12"+e.substr(2,3)+" AM":e+" AM",t.length<8?t="0"+t:"",t},showLoadingDots:function(){var e='<div class = "dots-container"><div class="chat-message-left fRegular tLeft pt10 pb10 pl10 pr10 ml20 fLeft loading-dots "><div class="loading-dots--dot"></div><div class="loading-dots--dot"></div><div class="loading-dots--dot"></div></div></div>';$(".chat_content__child").append(e),CT.utils.zendeskChat.CTChat.scrollToBottom(".chat_content__child")},triggerUpload:function(e){var t,i=e.files[0];i&&(t={chatId:ChatID,clientId:ClientID,fileName:i.name,fileSize:i.size,fileType:1,personId:PersonID,personType:"VISITOR"}),CT.utils.zendeskChat.CTChat.getUploadUrl(t,i)},getUploadUrl:function(e,t){$.ajax({url:"https://upload.boldchat.com/aid/794130127792834009/account-id/794130127792834009/v1/files",method:"POST",data:e,success:function(e){if(e.uploadUrl&&e.token){var i=new FormData;i.append("user_file",t),CT.utils.zendeskChat.CTChat.uploadFile(i,e.uploadUrl,e.token)}},error:function(){CT.utils.zendeskChat.CTChat.displayErrorOverlay("Sorry, file upload is failing currently. Please try in sometime")}})},uploadFile:function(e,t,i){$.ajax({url:t,data:e,type:"POST",contentType:!1,processData:!1,success:function(){CT.utils.zendeskChat.CTChat.uploadFileFollowup(i)},error:function(){CT.utils.zendeskChat.CTChat.displayErrorOverlay("Sorry, file upload is failing currently. Please try in sometime")}})},uploadFileFollowup:function(e){$.ajax({url:"https://upload.boldchat.com/aid/794130127792834009/account-id/794130127792834009/v1/files/"+e,type:"PUT",success:function(){},error:function(){}})}},CT.utils.utmCurrency={utmCurrencyCookie:function(e){var t,i,n=CT.utils.cookies.read("utm_currency"),a=window.location.href,o=a.search("utm_currency");null==n||void 0==n?null!=e.code&&void 0!=e.code?(i=CT.utils.utmCurrency.encodingValue(e.symbol),t=e.code+"|"+i,CT.utils.cookies.create("utm_currency",t,18250)):-1!==o?CT.utils.utmCurrency.utmCurrencyParams():(i=CT.utils.utmCurrency.encodingValue(e.displayCurrencyText),t=e.disp_currency+"|"+i,CT.utils.cookies.create("utm_currency",t,18250)):null!=e.code&&void 0!=e.code?(i=CT.utils.utmCurrency.encodingValue(e.symbol),t=e.code+"|"+i,CT.utils.cookies.create("utm_currency",t,36500)):-1!==o&&CT.utils.utmCurrency.utmCurrencyParams()},utmCheck1:function(e){return"air"!=CT.app&&"FLIGHT"!=window.productType||-1!=window.location.href.indexOf("/m/")||1!=e.isUtmCurrencyEnabled?!1:!0},utmCheck:function(){var e=!0;return"air"!=CT.app&&"FLIGHT"!=window.productType||-1!=window.location.href.indexOf("/m/")||!e?!1:!0},setUtmCurrency:function(){var e=CT.utils.cookies.read("utm_currency");if(e=CT.utils.utmCurrency.decodingValue(e),null!=e&&void 0!=e){var t=e.split("|");window.disp_currency.code=t[0],window.disp_currency.symbol=t[1]}},encodingValue:function(e){{var t,i=e.split(""),n="";i.length}for(t=0;t<i.length;t++)t<i.length-1?n=n+i[t].charCodeAt()+"-":n+=i[t].charCodeAt();return n},decodingValue:function(e){var t,i=e.split("|"),n=i[1].split("-"),a="";for(t=0;t<n.length;t++)a+=String.fromCharCode(n[t]);return a=i[0]+"|"+a},setCurrencyItn:function(e){return window.utmSelectedCurrency?(currSymbol=CT.utils.utmCurrency.encodingValue(utmSelectedCurrency.symbol),value=utmSelectedCurrency.code+"|"+currSymbol,CT.utils.cookies.create("utm_currency",value,36500),CT.currentCurrency.symbol=utmSelectedCurrency.symbol,CT.currentCurrency.rate=utmSelectedCurrency.rate,window.disp_currency.code=utmSelectedCurrency.code,window.disp_currency.symbol=utmSelectedCurrency.symbol,e=utmSelectedCurrency.selling_rate):(window.disp_currency&&(currSymbol=CT.utils.utmCurrency.encodingValue(window.disp_currency.symbol),value=window.sell_currency.code+"|"+currSymbol,CT.utils.cookies.create("utm_currency",value,36500)),1)},utmCurrencyParams:function(){var e=window.location.href,t=e.search("utm_currency");if(-1!=t){var i=e.substr(t+13,3);window.currencies&&_.forEach(window.currencies.all,function(e){i===e.code&&(currSymbol=CT.utils.utmCurrency.encodingValue(e.symbol),value=i+"|"+currSymbol,CT.utils.cookies.create("utm_currency",value,36500))})}CT.utils.utmCurrency.utmUpdateCurrencyTab()},utmShowCurrencySymbol:function(){$("#totFareCV #counter").html(CT.stringFormatting.formatForCurrency(window.totalfare,"",!0)),$("#totalFare #counter").html(CT.stringFormatting.formatForCurrency(window.totalfare,"",!0)),disp_currency.code!=sell_currency.code&&($("#insurance_box").removeAttr("checked"),$("#insuranceBG").hide(),$("#insurance_fare_block").hide(),window.insuranceHandler(void 0))},utmCurrencyHeaderTab:function(e){var t=CT.utils.cookies.read("utm_currency");if(e="",t&&(t=CT.utils.utmCurrency.decodingValue(t)),null!=t&&void 0!=t){var i=t.split("|");i[0]!=i[1]&&(e="<span class='"+i[0]+"'>&nbsp;"+unescape(i[1].replace("\\","%"))+"</span>"),$(".ctGlobalNav .currencyLink").html("<strong>Currency</strong>&nbsp;&nbsp;"+i[0]+e)}},utmCurrencyHeaderTabTickMark:function(){var e=CT.utils.cookies.read("utm_currency");if(e&&(e=CT.utils.utmCurrency.decodingValue(e)),null!=e&&void 0!=e){var t=e.split("|");$(".currencyMenu").find("li").removeClass("current"),$(".currencyMenu").find("li").find("i.tickMark").remove();var i=$(".ctGlobalNav .currencyMenu").find("span."+t[0]).closest("li");i.addClass("current").find("a").prepend("<i class='tickMark black'></i>")}},utmCurrencyConvertedAmount:function(e){var t="<span>'"+sell_currency.code+" "+e+"'</span>";$("#utmConvertedPrice").html(t)},utmUpdateCurrencyTab:function(){var e=CT.settings.countryCurrCode[countryCode].symbol,t=CT.settings.countryCurrCode[countryCode].code,i="";t!==e&&(i="<span class='"+t+"'>&nbsp;"+e+"</span>"),CT.utils.utmCurrency.utmCheck()&&(CT.utils.utmCurrency.utmCurrencyHeaderTab(i),CT.utils.utmCurrency.utmCurrencyHeaderTabTickMark()),CT.utils.utmCurrency.hotjarEvent()},utmFareBreakup:function(){if(CT.utils.utmCurrency.utmCheck()){var e=$(".utm_curr_value"),t=$(".utm_curr"),i=$(".utm_curr_coupons"),n=0;_.forEach(e,function(i){var a=i.innerText.split(","),a=i.getAttribute("data-pr").replace(/,/g,""),o=CT.stringFormatting.formatForCurrency(parseFloat(a),"",!0);t[n].className="utm_curr "+disp_currency.code,t[n].innerText=disp_currency.symbol,e[n].innerText=o,n++}),_.forEach(i,function(e){e.className="utm_curr_coupons "+disp_currency.code,e.innerText=disp_currency.symbol})}},utmFareConversion:function(e){window.utmCurrencyApplied=e.isUtmCurrencyEnabled,window.utmSelectedCurrency=JSON.parse(e.utmCurrencyObject),!window.currencies&&e.utmCurrencyObject&&(window.currencies={all:[JSON.parse(e.utmCurrencyObject)]})},utmClevertapEvent:function(){var e=CT.utils.cookies.read("utm_currency");if(e&&(e=CT.utils.utmCurrency.decodingValue(e)),e){var t=e.split("|");return t[0]}},hotjarEvent:function(){"function"==typeof window.hj&&window.hj("trigger","UTM-Currency")}},!function(e){e()}(function(){var e={};return CT.masterJson={get:function(){return e[CT.settings.currentTab]},set:function(t){var i=CT.settings.currentTab;return e[i]=t,t},update:function(t){for(var i in t.ht)e[CT.settings.currentTab].ht.push(t.ht[i]);return t},setFlightRank:function(){try{var t=this;setTimeout(function(){var i=_.clone(e[CT.settings.currentTab].mapping);_.each(i,function(e,i){var n=1;t.flightRanks[i]=[],e=_.sortBy(e,function(e){return Number(e.content[0].dp.replace(":",""))}),e=_.sortBy(e,function(e){return e.fare[e.fare.dfd]?e.fare[e.fare.dfd].pr:e.fare.SPLRT?e.fare.SPLRT[0][e.fare.SPLRT[0].dfd].pr:void 0});var a;_.each(e,function(e){a&&a.fare[a.fare.dfd]&&e.fare[e.fare.dfd]&&a.fare[a.fare.dfd].pr==e.fare[e.fare.dfd].pr?(n--,n+=.01):n=Math.floor(n),e.priceRank=n.toFixed(2),a=e,n++,t.flightRanks[i].push(e.priceRank)})})},1e3)}catch(i){window.ct_debug&&window.console.log(i)}},flightRanks:{}}}),!function(e,t,i){i[e]=t(CT.View,Mustache)}("searchTab",function(e){var t=e({$el:$(".recentTabs"),tabId:0,template:null,events:{"click li":"onClick"},initialize:function(){CT.cache.tabsMap={}},pickDepartDate:function(e){return e.depart_date?e.depart_date:e.depart_date_1},pickCities:function(e){return"MultiCity"===e.trip_type?e.origin1.split(",")[0]+" - "+e["destination"+e.num_legs].split(",")[0]:e.origin.split(",")[0]+" - "+e.destination.split(",")[0]},getTabHTMLData:function(e){var t=/air|bus|train/.test(CT.app),i=t?!e.return_date:!1;n={};var n={chk_in:e.chk_in?moment(CT.utils.swapDayMonth(t?this.pickDepartDate(e):e.chk_in)).format("D MMM"):"",has_ret_date:t&&i?!1:!0};if(n.chk_in.indexOf("NaN")>-1&&(n.chk_in=""),t){var a=["",""];n.from=a[0].trim(),n.to=a[1].trim()}else n.city=e.city;return n.has_ret_date&&(n.chk_out=e.chk_out?moment(CT.utils.swapDayMonth(t?this.pickDepartDate(e):e.chk_out)).format("D MMM"):"",n.chk_out.indexOf("NaN")>-1&&(n.chk_out="")),t&&(n.dir=i?"â†’":"â‡„"),n},createTab:function(e,t){var i=this.$(".current").removeClass("current").end().find("ul").append(CT.to_html("RecentTabsTpl",t)).end().find("li.current").attr("id","RecentTab_"+e);return 1>=e&&this.$el.hide(),i},updateTabHTML:function(e,t){return e.html(CT.to_html("RecentTabsTpl",t)),this},toggleTab:function(e){e.siblings().removeClass("current").end().addClass("current")},createSubTabId:function(e){var t=e.split("_"),i=Int(t[1])+1;return t[0]+"_"+i},onClick:function(e){e.preventDefault();var t,i,n=$(e.target);return n.is("li")||(n=n.closest("li")),n.hasClass("current")?this:(i=n.attr("data-currid"),this.toggleTab(n),t=this.getData(i),CT.settings.currentTab=i,void CT.fire("results.old",[_.pick(t,CT.settings[CT.app].searchParamKeys),i]))},getData:function(e){return CT.cache.tabsMap[e]},setData:function(e,t){return CT.cache.tabsMap=CT.cache.tabsMap||{},CT.cache.tabsMap[e]=t},replaceExistingTab:function(e,t,i){var n=(this.getTabHTMLData(t),$(e.node)),a=this.getData(n.attr("data-currid"));return this.toggleTab(n),"undefined"==typeof i&&(CT.settings.currentTab=a.hasOwnProperty("chk_in")&&""===a.chk_in?e.tabId:this.createSubTabId($(e.node).attr("data-currid"))),this.setData(CT.settings.currentTab,t),n.attr("data-currid",CT.settings.currentTab),this},openNewTabWith:function(e){var t,i=++this.tabId,n=this.getTabHTMLData(e);t=this.createTab(i,n),CT.settings.currentTab=i+"_1",this.setData(CT.settings.currentTab,e),t.attr("data-currid",CT.settings.currentTab)},getCurrentTab:function(e,t){t=t||CT.settings[CT.app].searchParamKeys;var i={},n=this,a=_.pick(e,t),o=CT.cache.tabsMap;return _.each(o,function(e,o){var r=_.pick(e,t);return!e.hasOwnProperty("chk_in")||e.chk||e.chk_out||(r.chk_in=a.chk_in,r.chk_out=a.chk_out),_.isEqual(a,r)?(i.tabId=o,i.node=n.$("#RecentTab_"+o.split("_")[0])[0],!1):void 0}),i},openTab:function(e,t,i){var n=this.getCurrentTab(e,t);return $.isEmptyObject(n)?this.openNewTabWith(e):this.replaceExistingTab(n,e,i),this}});return CT.subscribe("tab.init",function(e,i,n){t.openTab(e,i,n)}),t},CT.cache.views),!function(e){e(CT.Pers)}(function(e,t){var i={recent:function(e){var t={tt:e.trip_type,ftg:e.origin,fr:e.from,ttg:e.destination,to:e.to,dt:e.depart_date,rt:e.return_date,ad:e.adults,cd:e.childs,inf:e.infants,intl:e.intl,sd:moment().format("MM/DD/YYYY"),fl:{al:e.airline,carr:e.carrier,cot:e["class"]},lng:CT.langUrlPrefix};return t},shortlisted:function(e){var t={},i={},n=e.cid?e.cid+"-"+e.cod:"-";return i[n]=e.hids,t[e.name]=i,t},last_booked:function(e){return e},filter_applied:function(e){return e},guided_nav:function(){},bookflow_dropoff:function(){},upcoming_trips:function(){},default_pref:function(){},last_refund_up:function(e){return e},last_completed:function(e){return e},filters:function(){},threshold:function(){}},n={recent:function(e,t){return e.unshift(t),e.length>10&&(e.length=10),_(e).uniq(function(e){return _.serialize(e)}).value()},shortlisted:function(e,t){var i=e[0],n="undefined"!=typeof i[t.name]?i[t.name]:i;return $.extend(n,t),e[0]=i,e},last_booked:function(e){return e},filter_applied:function(e,t){return e.unshift(t),e.length>10&&(e.length=10),_(e).uniq(function(e){return _.serialize(e)}).value()}},a={},o={recent:function(e){var i;return e.dt&&(i=+new Date>+new Date(CT.utils.swapDayMonth(e.dt))+86399e3),i?t:e},filter_applied:function(e){return e}};return _.each(i,function(t,i){e.add(i,t)}),_.each(n,function(t,i){e.add(i,t,"array")}),_.each(a,function(t,i){e.add(i,t,"expires")}),_.each(o,function(t,i){e.add(i,t,"expiryCheck")}),e}),!function(e,t,i){i[e]=t(CT.View,Mustache,CT.Store,CT.Pers)}("searchRecent",function(e,t,i,n){var a=e({$el:$(".recentSearches"),initialize:function(){$(".recentSearches").find(".cancelRecent").bind("click",this.cancelRecentFn)},update:function(){},hideRecent:function(){this.$el.hide()},cancelRecentFn:function(){{var e=new n;$(".recentSearches").find(".cancelRecent")}e.clear("recent"),$(".tipsy").remove(),this.$el.fadeOut()},shcPrMinVal:function(e,t,i,n,a){for(var o=new Array,r=0;r<e.length;r++)ct.dates.diffDates(n,"15/04/2012")>=0?o.push(e[r].pr*(parseInt(t)+parseInt(i))):"Y"==a?o.push(e[r].pr*(parseInt(t)+parseInt(i))):("IT"!=e[r].al||"IT-RED"!=e[r].al)&&o.push(e[r].pr*(parseInt(t)+parseInt(i)));var s=o.sort();return s=s.uniq(),s.min()},minPriceCal:function(e,t,i){return _.each(e,function(){e.pr=Number(e.pr)*(Number(t)+Number(i))}),_.pick(_.min(e,function(e){return Number(e.pr)}),"pr")},getCheapPrice:function(e,t){var i,n,a={},o=t.dt,r=t.rt,s=t.ad,l=t.inf,c=Number(t.spr),d=t.sd,u=0,h=-1,p=0;return outJsonArr=e.onward?e.onward:e,i=outJsonArr[moment(o,"DD/MM/YYYY").format("YYYYMMDD")],owPriceObj=i&&i.length>0&&this.minPriceCal(i,s,l),owPriceObj&&(p=Number(owPriceObj.pr)),e.rturn&&(n=e.rturn[moment(r,"DD/MM/YYYY").format("YYYYMMDD")],retPriceObj=n&&n.length>0&&this.minPriceCal(n,s,l),retPriceObj?p+=Number(retPriceObj.pr):p=0),c&&p>c?_.datesDuration(new Date,new Date(d))>0&&(u=Math.abs(c-Number(p)),h=1):c&&c>p&&_.datesDuration(new Date,new Date(d))>0&&(u=Math.abs(Number(p)-c),h=0),a.pr=p,a.diffPr=parseInt(u),a.searchDate=e.ctms,a.status=h,a},render:function(e){var t=this,i=_.filter(e,function(e){return CT.langUrlPrefix?e.lng==CT.langUrlPrefix:!e.lng});if(i&&i.length<1)return this.$el.hide();CT.utils.helperFunctions.trackGAUrl("/recentSearches_flight",100),i=_.filter(i,function(e){return"MultiCity"!==e.tt}),filterRecentData=[];var n=function(e,t){var i=e.fr==t.fr&&e.to==t.to&&e.dt==t.dt;return e.rt||t.rt?i&&e.rt==t.rt:i};return _.each(i,function(e,t){0==t?filterRecentData.push(e):0===_.filter(filterRecentData,function(t){return n(t,e)}).length&&filterRecentData.push(e)}),filterRecentData=1===filterRecentData.length?filterRecentData:_(filterRecentData).first(CT.settings[CT.app].rcntSearchTrigger).value(),t=this,this.filterRecentTab(filterRecentData,function(e){$liList=t.$el.find("li"),_.each(e,function(e){-1!==e.status&&e.diffPr>0?(e.priceStatus=e.status?"Up ":"Down ",e.cls=e.status?"bad":"good ",e.title=e.status?"Up by ":"Dropped by ",e.diffPr=CT.utils.formatForCurrency(Number(e.diffPr),!1,null,!1)):e.priceStatus=0,e.pr>0&&(e.pr=CT.utils.formatForCurrency(Number(e.pr),!1,null,!1),$($liList[e.idx]).find(".price").html(CT.to_html("PriceTmpl",e)))})}),CT.utils.helperFunctions.forceLanguagePrefix&&CT.utils.helperFunctions.forceLanguagePrefix(t.$el),this},events:{"click #RecentSearch li":"recentSearchClick"},recentSearchClick:function(e){var t=$.inArray(e.currentTarget,$(e.currentTarget).parent().children())+1;t+=":"+$(e.currentTarget).find("a strong").text(),t+=":"+$(e.currentTarget).find("a").attr("href"),CT.utils.helperFunctions.trackGAEvent("Flights_TS","Recent_Searches",t,"100")},getCalendarJson:function(e,t,i,n,a,o,r,s){var l=e[0],c=this,d=a.rt?"RoundTrip":"oneWay",u="";if("RoundTrip"===d&&"y"===a.intl){var h=new Date(CT.utils.swapDayMonth(a.dt)).getTime(),p=new Date(CT.utils.swapDayMonth(a.rt)).getTime(),f=_.datesDuration(h,p);u=f.length>0?"&return_after="+f:""}$.ajax({type:"GET",url:CT.settings[CT.app].urls.calendarFare,data:l+u,contentType:"application/json; charset=utf-8",dataType:"json",success:function(l){if("string"==typeof l)try{l=JSON.parse(l)}catch(u){l=l}if(e.length>1)e.shift(),r.onward=l.calendar_json,c.getCalendarJson(e,t,i,n,a,o,r,s);
else{var h=CT.settings.countryCurrCode[countryCode].code;i===!1&&"RoundTrip"==d?(r.rturn=l.calendar_json,l.sell_currency_json.code=CT.settings.countryCurrCode[l.sell_currency_json.code.toLowerCase()].code,window.disp_currency=l.sell_currency_json,window.sell_currency=window.sell_currency||{code:h,symbol:""}):(r=l.calendar_json,l.sell_currency_json.code=CT.settings.countryCurrCode[l.sell_currency_json.code.toLowerCase()].code,window.disp_currency=l.sell_currency_json,window.sell_currency=window.sell_currency||{code:h,symbol:""}),CT.utils.resetCurrency(),function(e,i,n){priceObj=c.getCheapPrice(e,i),priceObj.idx=n,s.push(priceObj),s.length==t&&o(s)}(r,a,n)}}})},filterRecentTab:function(e,t){var i,n,a,o,r,s=e.length,l=[],c=this,d=[],u=[];_.each(e,function(e,h){var p,f,m=0,g=[];if(!e.dt)return!1;i=e.ftg?e.ftg.split(",")[0]:e.fr,n=e.ttg?e.ttg.split(",")[0]:e.to,e.dpd=moment(e.dt,"DD/MM/YYYY").format("DD MMM"),e.rt&&(e.rd=moment(e.rt,"DD/MM/YYYY").format("DD MMM")),a=e.ad+" Adult"+(e.ad>1?"s":""),o=e.cd>0?e.cd+" Child"+(e.cd>1?"s":""):"",r=e.inf>0?e.inf+" Infant"+(e.inf>1?"s":""):"",e.paxInfo=a+(o?", "+o:"")+(r?", "+r:""),e.arclass=e.fl.cot,f=" â‡„ ",$.browser.msie&&parseInt($.browser.version,10)<9&&(f=" &ndash; "),e.sector=i+(e.rt?f:" â†’ ")+n,p=[],p.push("/flights/"+("y"==e.intl?"international/":"")+"results?"),p.push("from="+e.fr),p.push("&to="+e.to),p.push("&depart_date="+e.dt),e.rt&&p.push("&return_date="+e.rt),p.push("&adults="+e.ad),p.push("&childs="+e.cd),p.push("&infants="+e.inf),p.push("&class="+(e.fl.cot?e.fl.cot:"")),p.push("&airline="+(e.fl.al?e.fl.al:"")),p.push("&carrier="+(e.fl.carr?e.fl.carr:"")),p.push("&intl="+(e.intl||"")),e.searchUrl=p.join("");var C={recent:e};u.push(CT.to_html("RecentSearchTmpl",C)),isIntl="y"===e.intl?!0:!1,owReqData=[],owReqData.push("from="+e.fr),owReqData.push("&to="+e.to),owReqData.push("&start_date="+moment(e.dt,"DD/MM/YYYY").format("YYYYMMDD")),owReqData.push("&end_date="+moment(e.dt,"DD/MM/YYYY").format("YYYYMMDD")),e.rt&&isIntl&&(m=_.datesDuration(new Date(CT.utils.swapDayMonth(e.dt)),new Date(CT.utils.swapDayMonth(e.rt))),owReqData.push("&return_after="+Number(m))),owReqData=owReqData.join(""),g.push(owReqData),isIntl===!1&&e.rt&&(retReqData=[],retReqData.push("from="+e.to),retReqData.push("&to="+e.fr),retReqData.push("&start_date="+moment(e.dt,"DD/MM/YYYY").format("YYYYMMDD")),retReqData.push("&end_date="+moment(e.rt,"DD/MM/YYYY").format("YYYYMMDD")),retReqData=retReqData.join(""),g.push(retReqData)),$(window).load(function(){CT.settings[CT.app].showFareCalendar&&c.getCalendarJson(g,s,isIntl,h,e,t,d,l)})}),u.length>0&&this.$el.css("display","block"),$("#RecentSearch").html("").append(u.join("").trim())}});CT.subscribe("recent.update",function(e){try{if(e){var t=new n;t.set("recent",e),e.sd=(new Date).getTime(),i("Recents").set("lastFormSearch"+(CT.langUrlPrefix||""),e)}}catch(a){}});var o={forDate:function(e,t,i){var n=CT.cache[CT.settings.currentTab].searchParams.clean;e.indexOf(t)<0&&t!=n.depart_date+(n.depart_date?"_"+n.depart_date:"")&&e.splice(0,0,t),e.length>i&&(e.length=i)},forSector:function(e,t,i){var n=_.find(e,function(e){return e.name==t.name})||t;this.forDate(n.value,t.value[0],3),_.find(e,function(e){return e.name==t.name})||e.splice(0,0,n),e.length>i&&(e.length=i)}},r=function(e){return e.replace(/\//g,"-")};return CT.subscribe("recent.update",function(e){try{if("y"!=e.intl){var t=[];i("recentWidget").get("lastFormSearch"+e.trip_type)&&(t=i("recentWidget").get("lastFormSearch"+e.trip_type)),e&&(o.forSector(t,{name:e.from+"-"+e.to,value:[r(e.depart_date)+(e.return_date?"_"+r(e.return_date):"")]},10),i("recentWidget").set("lastFormSearch"+e.trip_type,t))}}catch(n){}}),a},CT.cache.views),!function(e,t,i){window.define?define("common/smartHomePage",["vendor/mustache","vendor/moment.min"],t):i[e]=t(Mustache)}("smartHomePage",function(){var e={$el:$("#smartHomePageTrip"),render:function(){function e(e){var e=e;return e.isFlight=e.trip_type==v.flight?!0:!1,e.isHotel=e.trip_type==v.hotel?!0:!1,e.isTrain=e.trip_type==v.train?!0:!1,e.bookin_type="",e.isFlight?e.bookin_type="plane":e.isHotel?e.bookin_type="hotel":e.isTrain&&(e.bookin_type="train"),e.tripTitle=l(e),e.trip_date=t(e.trip_date),e.travellerMsg=r(e.travellers),e}function t(e){var e=moment(e).startOf("day"),t=moment(window.serverCurrentDate).startOf("day"),i=e.diff(t,"days");switch(i){case 0:return"Today";case 1:return"Tomorrow";default:return moment(e).format("MMM DD")}}function i(e){var t=moment(e).startOf("day"),i=moment(window.serverCurrentDate).startOf("day"),n=t.diff(i,"days");switch(n){case 0:return"today, "+moment(e).format("hA");case 1:return"tomorrow, "+moment(e).format("hA");default:return moment(e).format("ddd, DD MMM")}}function n(e){var e=e,t={};switch(e.trip_type){case v.flight:t=a(e);break;case v.hotel:t=e.hotels[0].refund_details[0];break;case v.train:t=e.trains[0].refund_details[0]}return t}function a(e){var t={},i=e.journey_type.toUpperCase();switch(i){case"OW":t=e.flights[0].refund_details[0],t.tripCancellationMsg=u(t,e.partial_cancellation);break;case"RT":t=o(e);break;case"MC":t=o(e)}return t}function o(e){var t={},i=function(e,t){return 0==e.refund_details.length&&0==t.refund_details.length?-1:0==e.refund_details.length?1:0==t.refund_details.length?-1:(e=moment(e.refund_details[0].cancelled_time).valueOf(),t=moment(t.refund_details[0].cancelled_time).valueOf(),t-e)};e.flights=e.flights.sort(i);var n=moment(e.flights[0].refund_details[0].cancelled_time).valueOf(),a=e.flights.length,o=_.filter(e.flights,function(e){return 0!=e.refund_details.length&&n==moment(e.refund_details[0].cancelled_time).valueOf()}),r=o[0].refund_details[0].cancelled_travellers_names.toString(),s=o.length,l=_.filter(o,function(e){return r==e.refund_details[0].cancelled_travellers_names.toString()}),c=0;c=e.travellers.ADT?c+e.travellers.ADT:c,c=e.travellers.CHD?c+e.travellers.CHD:c,c=e.travellers.INF?c+e.travellers.INF:c;var d=l.length,u="";if(e.partial_cancellation)if(d==s)if(1==d)if(l[0].refund_details[0].cancelled_travellers_names.length==c)u=l[0].from+"â†’"+l[0].to+" cancelled on "+moment(l[0].refund_details[0].cancelled_time).format("ddd DD MMM");else{var h=l[0].refund_details[0].cancelled_travellers_names;u+=l[0].from+"â†’"+l[0].to+" cancelled for ",u+=_.reduce(h,function(e,t,i,n){return e+((i>0?i==n.length-1?" and ":", ":"")+t)},""),u+=" on "+moment(l[0].refund_details[0].cancelled_time).format("ddd DD MMM")}else if(s==a){var p=l[0].refund_details[0].cancelled_travellers_names.toString(),f=_.filter(l,function(e){return p==e.refund_details[0].cancelled_travellers_names.toString()}).length;if(f==d){var h=l[0].refund_details[0].cancelled_travellers_names;u+="Trip cancelled for ",u+=_.reduce(h,function(e,t,i,n){return e+((i>0?i==n.length-1?" and ":", ":"")+t)},""),u+=" on "+moment(l[0].refund_details[0].cancelled_time).format("ddd DD MMM")}else u+="Part of this trip cancelled on "+moment(o[0].refund_details[0].cancelled_time).format("ddd DD MMM")}else u+="Part of this trip cancelled on "+moment(o[0].refund_details[0].cancelled_time).format("ddd DD MMM");else u+="Part of this trip cancelled on "+moment(o[0].refund_details[0].cancelled_time).format("ddd DD MMM");else u="Trip cancelled on "+moment(o[0].refund_details[0].cancelled_time).format("ddd DD MMM");var m;return m=e.sp_rt_fare?o[0].refund_details[0].refund_amount:_.reduce(o,function(e,t){return e+Number(t.refund_details[0].refund_amount)},0),t={step:o[0].refund_details[0].step,refund_status:o[0].refund_details[0].refund_status,cancelled_time:o[0].refund_details[0].cancelled_time,refund_not_recieved_url:o[0].refund_details[0].refund_not_recieved_url,refund_amount:m,refund_currency:e.currency,sla:o[0].refund_details[0].sla,tripCancellationMsg:u}}function r(e){var t="",i=void 0==e.ADT?0:e.ADT,n=void 0==e.CHD?0:e.CHD,a=void 0==e.INF?0:e.INF;return t+=i>0?i+(i>1?" Adults":" Adult"):"",t+=n>0?(i>0?", ":"")+n+(n>1?" Childs":" Child"):"",t+=a>0?(i>0||n>0?", ":"")+a+(a>1?" Infants":" Infant"):""}function s(e,t){var i="";switch(t.toUpperCase()){case"OW":i=e[0].from+" â†’ "+e[e.length-1].to;break;case"RT":i=e[0].from+" â‡„ "+e[0].to;break;case"MC":i=e[0].from,i+=_.reduce(e,function(e,t){return e+" â†’ "+t.to},"")}return i}function l(e){var t="";switch(e.trip_type){case v.flight:t=s(e.flights,e.journey_type);break;case v.hotel:t=e.hotels[0].name;break;case v.train:t=e.trains[0].from_station+"  â†’ "+e.trains[0].to_station}return t}function c(e){switch(e.toUpperCase()){case"INR":return"Rs.";default:return e}}function d(e){var t=moment(window.serverCurrentDate),i=_.filter(e,function(e){return moment(e.departure_date_time).diff(t,"milliseconds")>=0});return i[0]}function u(e,t){var i="";if(t){var n=e.cancelled_travellers_names;i+="Trip cancelled for ",i+=_.reduce(n,function(e,t,i,n){return e+((i>0?i==n.length-1?" and ":", ":"")+t)},""),i+=" on "+moment(e.cancelled_time).format("ddd DD MMM")}else i+="Trip cancelled on "+moment(e.cancelled_time).format("ddd DD MMM");return i}function h(e){var t="",n=moment(window.serverCurrentDate),a=moment(e.sla).diff(n,"milliseconds")<0,o=parseFloat(e.refund_amount),r="There is no refund applicable for this trip";switch(e.step){case"1":t+=a?"We are sorry as we couldn't update you with refund amount in time. We'll keep you updated.":"We will update you with the refund amount by "+i(e.sla);break;case"2":t+=0>=o?r:a?"We are sorry as we couldn't start the transfer of "+c(e.refund_currency)+" "+e.refund_amount+" to your payment method by "+i(e.sla)+". We'll keep you updated about the progress.":"We will start the transfer of "+c(e.refund_currency)+" "+e.refund_amount+" to your payment method by "+i(e.sla);break;case"3":t+=0>=o?r:c(e.refund_currency)+" "+e.refund_amount+" should be credited in your original payment method by "+i(e.sla)}return t}function p(t){var t=t;if(t=e(t),t.isTripDateShow=!0,t.isFlight&&(t.flights=d(t.flights),"OW"!=t.journey_type&&(t.isTripDateShow=!1,t.flights.mostUpcomingTripMSg="Flight from "+t.flights.from+" on "+moment(t.flights.departure_date_time).format("ddd, DD MMM")),t.flights.departure_date_time=moment(t.flights.departure_date_time).format("HH:mm")+"hrs"),t.isHotel){t.hotels=t.hotels[0];var i=t.hotels.full_city_name.split(",");t.hotels.cityName=i[0],t.hotels.country=i[2],t.hotels.check_in_time=moment(t.hotels.check_in_date).format("HH:mm")+"hrs",t.hotels.hotel_location_url="/hotels/details/"+t.hotels.hotel_id+"?c=&r=&mapOnly=#location",t.hotels.isRoom=t.hotels.room_count>1?!1:!0}return t.isTrain&&(t.trains=t.trains[0]),t.isAmendAvailable="in"==window.countryCode.toLowerCase()?!0:!1,t}function f(t){var t=t;return t=e(t),t.pending_payment_details.payment_due_date=moment(t.pending_payment_details.payment_due_date).format("Do MMM, YYYY"),t.pending_payment_details.disp_currency=c(t.pending_payment_details.currency),t.pending_payment_details.payment_url="https://"+window.location.host+t.pending_payment_details.payment_url,t}function m(t){var t=t;t=e(t),t.refund_details=n(t),t.refund_details.is_step_one="1"==t.refund_details.step?!0:!1,t.refund_details.is_step_two="2"==t.refund_details.step?!0:!1,t.refund_details.is_step_three="3"==t.refund_details.step?!0:!1,t.isFlight||(t.refund_details.tripCancellationMsg=u(t.refund_details,t.partial_cancellation)),t.refund_details.refund_currency=t.currency,t.refund_details.message=h(t.refund_details);var i=parseFloat(t.refund_details.refund_amount);return t.refund_details.is_refund_not_recieved_link_show=0>=i?!1:!0,t}function g(){$("#smartHomePageTrip a[appref='true']").bind("click",function(e){"_blank"!=$(e.target).attr("target")&&(e.preventDefault(),setTimeout(function(){window.location.href=e.target.href},200))})}function C(){(CT.utils.cookies.read("booking")||CT.utils.cookies.read("bookedFlight"))&&($(".toolsFlight").css("display","block"),window._gaq=window._gaq||[],_gaq.push(["_trackEvent","account","trip_tools_load","flights"]),CT.utils.helperFunctions.adjustHeight()),(CT.utils.cookies.read("booking")||CT.utils.cookies.read("bookedHotel"))&&($(".toolsHotel").css("display","block"),window._gaq=window._gaq||[],_gaq.push(["_trackEvent","account","trip_tools_load","hotels"]),CT.utils.helperFunctions.adjustHeight())}function w(e){var t="",i="";switch(e){case v.flight:t="AIR";break;case v.hotel:t="HOTEL";break;case v.train:t="TRAIN"}i="SHP_"+t+"_LOADED",window._gaq&&_gaq.push(["_trackEvent","account",i,window.location.pathname])}var v={flight:"1",hotel:"2",train:"4"};if("B2B"!=window.product){var T=CT.utils.readCTAuthCookie();if(T&&window.smartHomePage){var y=this,b=15e3,k="/partial/account/trips/priority?source=shp&t="+(new Date).getTime();$.ajax({url:k,type:"GET",timeout:b,success:function(e){var e="string"==typeof e?JSON.parse(e):e;if(e&&Object.keys(e).length>0){switch(e.type.toLowerCase()){case"upcoming trips":var t=p(e),i=CT.to_html("smartHomePageUpcomingTrip",t);y.$el.html(i).show();break;case"refunds":var n=m(e),i=CT.to_html("smartHomePageCancelTrip",n);y.$el.html(i).show();break;case"part payment":var a=f(e),i=CT.to_html("smartHomePagePartPayTrip",a);y.$el.html(i).show()}CT.utils.helperFunctions.forceHttpsLinks($("#smartHomePageTrip")),$("#smartHomePageTrip").addClass("smartWidget"),CT.utils.helperFunctions.adjustHeight(),g(),w(e.trip_type)}else C()},error:function(){C()}})}else C()}else C()}};return e},CT),function(){!function(e,t,i){var n,a,o;return o="slidesjs",a={width:940,height:528,start:1,enableCSS3:!0,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},n=function(){function t(t,i){this.element=t,this.options=e.extend(!0,{},a,i),this._defaults=a,this._name=o,this.init()}return t}(),n.prototype.init=function(){var i,n,a,o,r,s,l=this;return i=e(this.element),this.data=e.data(this),e.data(this,"animating",!1),e.data(this,"total",i.children().not(".sliderNavigation",i).length),e.data(this,"current",this.options.start-1),e.data(this,"vendorPrefix",this.options.enableCSS3?this._getVendorPrefix():null),"undefined"!=typeof TouchEvent&&(e.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),i.css({overflow:"hidden"}),i.slidesContainer=i.children().not(".sliderNavigation",i).wrapAll("<div class='slidesjs-container'>",i).parent().css({overflow:"hidden",position:"relative"}),e(".slidesjs-container",i).wrapInner("<div class='offerSpan'>",i).children(),e(".offerSpan",i).css({position:"relative",left:0}),e(".offerSpan",i).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),e.each(e(".offerSpan",i).children(),function(t){var i;return i=e(this),i.attr("slidesjs-index",t)}),this.data.touch&&(e(".offerSpan",i).on("touchstart",function(e){return l._touchstart(e)}),e(".offerSpan",i).on("touchmove",function(e){return l._touchmove(e)}),e(".offerSpan",i).on("touchend",function(e){return l._touchend(e)})),i.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),e(".offerSpan",i).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return e(this).css({zIndex:10})}),this.options.navigation.active&&(r=e("<a>",{"class":"previous sliderNavigation searchSprite",href:"#",title:"Previous",text:"Previous"}).appendTo(i),n=e("<a>",{"class":"next sliderNavigation searchSprite",href:"#",title:"Next",text:"Next"}).appendTo(i)),e(".next",i).click(function(e){return e.preventDefault(),l.stop(!0),"function"==typeof l.options.callback.next&&l.options.callback.next(l.data.current+2,l.data.current+1),l.next(l.options.navigation.effect)}),e(".previous",i).click(function(e){return e.preventDefault(),l.stop(!0),"function"==typeof l.options.callback.next&&l.options.callback.previous(l.data.current+2,l.data.current+1),l.previous(l.options.navigation.effect)}),this.options.play.active&&(o=e("<a>",{"class":"slidesjs-play sliderNavigation",href:"#",title:"Play",text:"Play"}).appendTo(i),s=e("<a>",{"class":"slidesjs-stop sliderNavigation",href:"#",title:"Stop",text:"Stop"}).appendTo(i),o.click(function(e){return e.preventDefault(),l.play(!0)}),s.click(function(e){return e.preventDefault(),l.stop(!0)}),this.options.play.swap&&s.css({display:"none"})),this.options.pagination.active&&(a=e("<ul>",{"class":"sliderPagination"}).appendTo(i),e.each(new Array(this.data.total),function(i){var n,o;n=e("<li>",{"class":"sliderPagination-item"}).appendTo(a);var r="CP"==t.productCode||"AG"==t.productCode||"in"!==t.countryCode&&"ae"!==t.countryCode&&"sa"!==t.countryCode?"":i+1;return o=e("<a>",{href:"#","data-slidesjs-item":i,html:r}).appendTo(n),o.click(function(t){t.preventDefault(),l.stop(!0);var i=1*e(t.currentTarget).attr("data-slidesjs-item")+1;return"function"==typeof l.options.callback.next&&l.options.callback.numberclick(i,l.data.current+1),l["goto"](i)})})),e(t).bind("resize",function(){return l.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},n.prototype._setActive=function(t){var i,n;return i=e(this.element),this.data=e.data(this),n=t>-1?t:this.data.current,e(".active",i).removeClass("active"),e("li:eq("+n+") a",i).addClass("active")},n.prototype.update=function(){var t,i,n;return t=e(this.element),this.data=e.data(this),e(".offerSpan",t).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),n=t.width(),i=this.options.height/this.options.width*n,this.options.width=n,this.options.height=i,e(".offerSpan, .slidesjs-container",t)},n.prototype.next=function(t){var i;return i=e(this.element),this.data=e.data(this),e.data(this,"direction","next"),void 0===t&&(t=this.options.navigation.effect),"hotelHomeOfferBlock"===i.attr("id")&&CT.utils.helperFunctions.trackGAEvent("Hotels_TS","H_Offers_View","Offer"+(this.data.current+1),"100"),"fade"===t?this._fade():this._slide()},n.prototype.previous=function(t){var i;return i=e(this.element),this.data=e.data(this),e.data(this,"direction","previous"),void 0===t&&(t=this.options.navigation.effect),"hotelHomeOfferBlock"===i.attr("id")&&CT.utils.helperFunctions.trackGAEvent("Hotels_TS","H_Offers_View","Offer"+(this.data.current-1),"100"),"fade"===t?this._fade():this._slide()},n.prototype["goto"]=function(t){var i,n;if(i=e(this.element),this.data=e.data(this),void 0===n&&(n=this.options.pagination.effect),t>this.data.total?t=this.data.total:1>t&&(t=1),"number"==typeof t)return"fade"===n?this._fade(t):this._slide(t);if("string"==typeof t){if("first"===t)return"fade"===n?this._fade(0):this._slide(0);if("last"===t)return"fade"===n?this._fade(this.data.total):this._slide(this.data.total)}},n.prototype._setuptouch=function(){var t,i,n,a;return t=e(this.element),this.data=e.data(this),a=e(".offerSpan",t),i=this.data.current+1,n=this.data.current-1,0>n&&(n=this.data.total-1),i>this.data.total-1&&(i=0),a.children(":eq("+i+")").css({display:"block",left:this.options.width}),a.children(":eq("+n+")").css({display:"block",left:-this.options.width})},n.prototype._touchstart=function(t){var i,n;return i=e(this.element),this.data=e.data(this),n=t.originalEvent.touches[0],this._setuptouch(),e.data(this,"touchtimer",Number(new Date)),e.data(this,"touchstartx",n.pageX),e.data(this,"touchstarty",n.pageY),t.stopPropagation()},n.prototype._touchend=function(t){var i,n,a,o,r,s,l,c=this;return i=e(this.element),this.data=e.data(this),s=t.originalEvent.touches[0],o=e(".offerSpan",i),o.position().left>.5*this.options.width||o.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","previous"),this._slide()):o.position().left<-(.5*this.options.width)||o.position().left<-(.1*this.options.width)&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","next"),this._slide()):(a=this.data.vendorPrefix,l=a+"Transform",n=a+"TransitionDuration",r=a+"TransitionTimingFunction",o[0].style[l]="translateX(0px)",o[0].style[n]=.85*this.options.effect.slide.speed+"ms"),o.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return a=c.data.vendorPrefix,l=a+"Transform",n=a+"TransitionDuration",r=a+"TransitionTimingFunction",o[0].style[l]="",o[0].style[n]="",o[0].style[r]=""}),t.stopPropagation()},n.prototype._touchmove=function(t){var i,n,a,o,r;return i=e(this.element),this.data=e.data(this),o=t.originalEvent.touches[0],n=this.data.vendorPrefix,a=e(".offerSpan",i),r=n+"Transform",e.data(this,"scrolling",Math.abs(o.pageX-this.data.touchstartx)<Math.abs(o.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(t.preventDefault(),this._setuptouch(),a[0].style[r]="translateX("+(o.pageX-this.data.touchstartx)+"px)"),t.stopPropagation()},n.prototype.play=function(t){var i,n,a,o=this;return i=e(this.element),this.data=e.data(this),!this.data.playInterval&&(t&&(n=this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),e.data(this,"playInterval",setInterval(function(){return n=o.data.current,o.data.direction="next","fade"===o.options.play.effect?o._fade():o._slide()},this.options.play.interval)),a=e(".slidesjs-container",i),this.options.play.pauseOnHover&&(a.unbind(),a.bind("mouseenter",function(){return o.stop()}),a.bind("mouseleave",function(){return o.options.play.restartDelay?e.data(o,"restartDelay",setTimeout(function(){return o.play(!0)},o.options.play.restartDelay)):o.play()})),e.data(this,"playing",!0),e(".slidesjs-play",i).addClass("slidesjs-playing"),this.options.play.swap)?(e(".slidesjs-play",i).hide(),e(".slidesjs-stop",i).show()):void 0},n.prototype.stop=function(t){var i;return i=e(this.element),this.data=e.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&t&&e(".slidesjs-container",i).unbind(),e.data(this,"playInterval",null),e.data(this,"playing",!1),e(".slidesjs-play",i).removeClass("slidesjs-playing"),this.options.play.swap?(e(".slidesjs-stop",i).hide(),e(".slidesjs-play",i).show()):void 0},n.prototype._slide=function(t){var i,n,a,o,r,s,l,c,d,u,h=this;return i=e(this.element),this.data=e.data(this),this.data.animating||t===this.data.current+1?void 0:(e.data(this,"animating",!0),n=this.data.current,t>-1?(t-=1,u=t>n?1:-1,a=t>n?-this.options.width:this.options.width,r=t):(u="next"===this.data.direction?1:-1,a="next"===this.data.direction?-this.options.width:this.options.width,r=n+u),-1===r&&(r=this.data.total-1),r===this.data.total&&(r=0),this._setActive(r),l=e(".offerSpan",i),t>-1&&l.children(":not(:eq("+n+"))").css({display:"none",left:0,zIndex:0}),l.children(":eq("+r+")").css({display:"block",left:u*this.options.width,zIndex:4}),this.options.callback.start(n+1),this.data.vendorPrefix?(s=this.data.vendorPrefix,d=s+"Transform",o=s+"TransitionDuration",c=s+"TransitionTimingFunction",l[0].style[d]="translateX("+a+"px)",l[0].style[o]=this.options.effect.slide.speed+"ms",l.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return l[0].style[d]="",l[0].style[o]="",l.children(":eq("+r+")").css({left:0}),l.children(":eq("+n+")").css({display:"none",left:0,zIndex:0}),e.data(h,"current",r),e.data(h,"animating",!1),l.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),l.children(":not(:eq("+r+"))").css({display:"none",left:0,zIndex:0}),h.data.touch&&h._setuptouch(),h.options.callback.complete(r+1)})):l.stop().animate({left:a},this.options.effect.slide.speed,function(){return l.css({left:0}),l.children(":eq("+r+")").css({left:0}),l.children(":eq("+n+")").css({display:"none",left:0,zIndex:0},e.data(h,"current",r),e.data(h,"animating",!1),h.options.callback.complete(r+1))}))},n.prototype._fade=function(t){var i,n,a,o,r,s=this;return i=e(this.element),this.data=e.data(this),this.data.animating||t===this.data.current+1?void 0:(e.data(this,"animating",!0),n=this.data.current,t?(t-=1,r=t>n?1:-1,a=t):(r="next"===this.data.direction?1:-1,a=n+r),-1===a&&(a=this.data.total-1),a===this.data.total&&(a=0),this._setActive(a),o=e(".offerSpan",i),o.children(":eq("+a+")").css({display:"none",left:0,zIndex:4}),this.options.callback.start(n+1),this.options.effect.fade.crossfade?(o.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),o.children(":eq("+a+")").stop().fadeIn(this.options.effect.fade.speed,function(){return o.children(":eq("+a+")").css({zIndex:0}),e.data(s,"animating",!1),e.data(s,"current",a),s.options.callback.complete(a+1)})):o.children(":eq("+n+")").stop().fadeOut(this.options.effect.fade.speed,function(){return o.children(":eq("+a+")").stop().fadeIn(s.options.effect.fade.speed,function(){return o.children(":eq("+a+")").css({zIndex:4})}),e.data(s,"animating",!1),e.data(s,"current",a),s.options.callback.complete(a+1)}))},n.prototype._getVendorPrefix=function(){var e,t,n,a,o;for(e=i.body||i.documentElement,n=e.style,a="transition",o=["Moz","Webkit","Khtml","O","ms"],a=a.charAt(0).toUpperCase()+a.substr(1),t=0;t<o.length;){if("string"==typeof n[o[t]+a])return o[t];t++}return!1},e.fn[o]=function(t){return this.each(function(){return e.data(this,"plugin_"+o)?void 0:e.data(this,"plugin_"+o,new n(this,t))})}}(jQuery,window,document)}.call(this),!function(e,t,i){i[e]=t(Mustache)}("Offers",function(Mustache){var sliderOptions={width:620,enableCSS3:!1,generatePagination:!0,play:{effect:"slide",interval:8e3,auto:!1,pauseOnHover:!0}},offers={init:function(e){if(!offers._init){var t=$.extend({product:"air",page:"home",url:"",onsuccess:offers.onsuccess},e||{});"/ar"==window.CT.langUrlPrefix&&(t.url=window.CT.langUrlPrefix+t.url),t.sliderOptions&&(sliderOptions=t.sliderOptions);var i=this;CT.getScript(t.url,function(){try{i.render(t.product,t.page,t.onsuccess),CT.utils.helperFunctions.adjustHeight()}catch(e){}})}},onsuccess:function(e,t){var i;if(t&&1==t.length&&(sliderOptions.callback=sliderOptions.callback||{},i=sliderOptions.callback.loaded||function(){},sliderOptions.callback.loaded=function(t){e.find(".next.sliderNavigation, .previous.sliderNavigation, .sliderPagination-item").hide().end().find(".next.sliderNavigation").click().end().find(".slidesjs-slide").hide(),i(t),setTimeout(function(){e.find(".slidesjs-slide").show()},1e3)}),window.home_offers&&"Y"===window.home_offers.autoplay)if(window.home_offers.autoplaypausetime&&"N"!=window.home_offers.autoplaypausetime[0]&&window.home_offers.autoplaypausetime.length>0){var n=window.home_offers.autoplaypausetime[0].split("-")[0],a=window.home_offers.autoplaypausetime[0].split("-")[1],o=window.serverCurrentDate?window.serverCurrentDate.getTime():(new Date).getTime();n=moment(n,"DD/MM/YYYY HH:mm").valueOf(),a=moment(a,"DD/MM/YYYY HH:mm").valueOf(),sliderOptions.play.auto=o-n>0&&a-o>0?!1:!0}else sliderOptions.play.auto=!0;sliderOptions.callback=sliderOptions.callback||{},sliderOptions.callback.next=function(e,t){CT.utils.helperFunctions.trackClaverTapEvtHotel("Hotel_Home_switchDeal",{source:"next",newPos:e,oldPos:t})},sliderOptions.callback.previous=function(e,t){CT.utils.helperFunctions.trackClaverTapEvtHotel("Hotel_Home_switchDeal",{source:"previous",newPos:e,oldPos:t})},sliderOptions.callback.numberclick=function(e,t){CT.utils.helperFunctions.trackClaverTapEvtHotel("Hotel_Home_switchDeal",{source:"number",newPos:e,oldPos:t})},e.slidesjs(sliderOptions),offers._init=!0},render:function(product,page,callback){page=_.capitalize(page);var str=product+page,$elem=$("#"+str+"OfferBlock"),offerJson=eval(window.home_offers.offers||window.home_offers);"ar"==window.CT.langUrlPrefix.substr(1)&&_.each(offerJson,function(e){e.DESC1=e.DESC1_AR||e.DESC1,e.HEADING=e.HEADING_AR||e.HEADING,e.TITLE=e.TITLE_AR||e.TITLE}),html=CT.to_html(str+"OfferTpl",{offerjson:offerJson});var $replaceLink=$elem.prev(),tmp_html=$replaceLink.html();if($replaceLink.replaceWith('<div class="dealHeader"></div>').end().append(html).prev().html(tmp_html),callback&&callback($elem,offerJson),"hotelHome"===str?$elem.find(".offerTitle,.offerLink").click(function(){var e=$(this).parent().find(".offerTitle").text(),t=$(this).siblings(".offerDescription").text(),i=Number($(this).parent().attr("slidesjs-index"))+1,n=$(this).attr("href");CT.utils.helperFunctions.trackGAEvent("Hotels_TS","H_Offers_Click",i+":"+e+":"+n,"0"),CT.utils.helperFunctions.trackMixpanelEvent("H_Hotel_Deals",{dealName:e,dealURL:n,dealRank:i});var a=t.match(/\b([A-Z]{1,})\b/g)||t.match(/\b([0-9]{1,})\b%/g)||[];a=a.join("+");var o=(e+" + "+a).trim();CT.utils.helperFunctions.trackClaverTapEvtHotel("Hotel_Home_Offers_Clicked",{offerDetails:o,cariousalRank:i,originCity:CT.utils.cookies.read("userHomeCity")?CT.utils.cookies.read("userHomeCity"):"N/A"})}):($elem.find(".offerTitle").click(function(){var e=Number($(this).parent().attr("slidesjs-index"))+1+":"+$(this).text().trim()+":"+$(this).attr("href");CT.utils.helperFunctions.trackGAEvent("Flights_TS","Deals_Clicked",e,"100")}),$elem.find(".offerLink").click(function(e){var t=Number($(this).parent().attr("slidesjs-index"))+1+":"+$(this).text().trim()+":"+$(e.target).attr("href");CT.utils.helperFunctions.trackGAEvent("Flights_TS","Deals_Clicked",t,"100")})),"CP"!=window.productCode&&"AG"!=window.productCode&&["in","ae","sa","kw"].indexOf(window.countryCode)>-1){$elem.find(".sliderPagination").addClass("number");var viewOfferhtml={"in":"india",ae:"uae",sa:"saudi-arabia",kw:"kuwait"};htmlToAdd="<li class='fRight'><a href='https://"+location.hostname+"/offers/"+("sa"==window.countryCode&&"ar"==CT.utils.cookies.read("lp")?"ar/":"")+viewOfferhtml[window.countryCode]+"' class='viewAll' target='_blank'>View all <i class='searchSprite icoViewAll'></i></a></li>",$elem.find(".sliderPagination").append(htmlToAdd)}try{var flashSaleOffers=window.home_offers.flashsale,isArabicFlow=window.CT.langUrlPrefix&&"ar"==window.CT.langUrlPrefix.substr(1);if(flashSaleOffers&&0!=flashSaleOffers.length)for(var i=0;i<flashSaleOffers.length;i++)isArabicFlow&&flashSaleOffers[i].OFFERTEXT&&(flashSaleOffers[i].OFFERTEXT=flashSaleOffers[i].OFFERTEXT_AR||flashSaleOffers[i].OFFERTEXT),CT.utils.helperFunctions.showFlashSaleTag_v2(flashSaleOffers[i]);else CT.utils.helperFunctions.showFlashSaleTag_v2({})}catch(e){}}};return offers},CT),CT.widgets=function(e){var t="input[type='text'],input[type='checkbox'],select,textarea",i="dd",n="",a=function(e){var t=$(e);return"select"==e.tagName.toLowerCase()?p(e):t.attr("placeholder")&&null!==t.attr("placeholder")?e.value!==t.attr("placeholder")&&0!==e.value.length:"checkbox"==t.attr("type")?t.is(":checked"):0!==e.value.length},o=function(e){var i=!0,n=!0;return $(e).find(t).each(function(e,t){a(t)||(i=!1)}),$(e).find(t).each(function(e,t){a(t)&&(n=!1)}),1==i||1==n?!0:!1},r=function(e){var t=$(e),i=$("#"+(t.attr("data-idfield")||t.attr("idfield"))),n=i.get(0);return a(e)&&n?a(n):!0},s=function(e){var t=/^\s/,i=t.test(e.value);return i?!1:!0},l=function(e){var t=$(e);if(""!==e.value&&e.value!=t.attr("placeholder")){if(t.attr("valid.max")||t.attr("valid.min")){var i=!0;return t.attr("valid.max")&&(i=parseFloat(e.value,10)<=parseFloat(t.attr("valid.max"),10)),i===!0&&e.attr("valid.min")&&(i=e.value>=parseFloat(e.attr("valid.min"),10)),i}return"no+"==t.attr("valid.sign")?e.value<=0:"no-"==t.attr("valid.sign")?e.value>=0:e.value.replace(/[^0-9.]+/g,"").length==e.value.length}return!0},c=function(e){var t=/(<([^>]+)>)/gi;return t.test(e.value)?(e.value=e.value.replace(t,""),!0):!1},d=function(e){var t=$(e),i=c(e);if(1==i)return!1;if(""!==e.value&&e.value!=t.attr("placeholder")){if(""===e.value)return!1;var n=e.value,a=n.indexOf("@"),o=n.lastIndexOf("."),r=n.indexOf(" ");if(0>a||0>o||-1!=r)return!1;var s=/^[A-Za-z0-9._%+-]+@(?:[A-Za-z0-9-]+\.)+[A-Za-z]{2,4}$/,l=s.test(n);return l?!0:!1}return!0},u=function(e){var t=$(e);if(""!==e.value&&e.value!=t.attr("placeholder")){if(CT.stringFormatting.stripAlphaChars(e.value).length<10||CT.stringFormatting.stripAlphaChars(e.value).length>17)return!1;var i=/[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9]/,n=i.test(e.value);
return n?!0:!1}return!0},h=function(e){var t=$(e),i=c(e);if(1==i)return!1;if(""!==e.value&&e.value!=t.attr("placeholder")){if(CT.stringFormatting.stripAlphaChars(e.value).length>17)return!1;var n=/[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9](.)*[0-9]/,a=n.test(e.value);return a?!0:!1}return!0},p=function(e){return 0!==e.selectedIndex&&-1!==e.selectedIndex},f=function(e){return""==e.value||e.value.length>=6},m=function(e){var t,i=$(e);return""!==e.value&&e.value!=i.attr("placeholder")?(t=e.value.replace(/[A-Z,a-z]/g,""),!(t.length>0)):!0},g=function(e){$(e);return html_embedded_field_flag=c(e),1==html_embedded_field_flag?!1:!0},C=function(e){var t=/^[a-zA-Z]\'?([a-zA-Z]+)*(\s(([a-zA-Z]\')?)[a-zA-Z]+)*[a-zA-Z]*$/,i=$(e);return""!==e.value&&e.value!=i.attr("placeholder")?t.test(e.value):!0},w=function(e){var t=!1;window.gstNumberPattern&&(t=window.gstNumberPattern);var i=$(e);return""!==e.value&&e.value!=i.attr("placeholder")&&t?t.test(e.value):!0},v=function(){return!1},_=function(){return!1},T=function(){return!1},y=function(e){var t=!1;window.vatNumberPattern&&(t=window.vatNumberPattern);var i=$(e);return""!==e.value&&e.value!=i.attr("placeholder")&&t?t.test(e.value):!0},b=function(e){var t=$(e),i=/^[a-zA-Z](\'[a-zA-Z])?[a-zA-Z]*$/;return""!==e.value&&e.value!=t.attr("placeholder")?i.test(e.value):!1},k=function(e){var t=$(e),i=/[^a-zA-Z0-9 ]+/;return""!==e.value&&e.value!=t.attr("placeholder")?!i.test(e.value):!0},S={".required":a,".space":s,".number":l,".cvvnumber":l,".email":d,".password":f,".passwordOnly":f,".phone":h,".mobile":u,".alpha":m,".grouprequired":o,".forceKey":r,".fieldValidation":g,".fullnameValidation":C,".singlenameValidation":b,".restictSplChars":k,".enforceCardType":v,".gstNumber":w,".vatNumber":y,".enforceCCCard":T,".enforceDCCard":_},A=[".grouprequired",".required",".space",".password",".passwordOnly",".number",".email",".phone",".mobile",".alpha",".forceKey",".fieldValidation",".fullnameValidation",".singlenameValidation",".restictSplChars",".gstNumber",".enforceCardType",".enforceCCCard",".enforceDCCard"],D={".required":"You missed this",".space":"${field} should not have space",".cvvnumber":"Please enter a valid CVV",".number":"${field} ${are} invalid number${s}",".email":"${field} is not a valid email address${es}",".phone":"Phone number${s} ${field} entered ${are} not valid",".mobile":"Mobile number${s} ${field} entered ${are} not valid",".password":"${field} should be at least 6 characters long",".passwordOnly":"${field} should be at least 6 characters long",".forceKey":"We do not have the ${field} you entered on record. Please pick from one of the options that appear as you type.",".alpha":"${field} should contain only alphabets",".fieldValidation":"${field} should contain valid entry",".fullnameValidation":"${field} should contain valid name",".singlenameValidation":"${field} should contain valid name",".restictSplChars":"${field} should not contain special characters",".arabicChars":"'${field}' should contain only english characters",".gstNumber":"${field} is not valid",".enforceCardType":"We do not support debit card for EMI transactions. Kindly proceed with using a credit card",".enforceDCCard":"You have entered Credit card details in Debit card option. Please select the Credit card option",".enforceCCCard":"You have entered Debit card details in Credit Card option. Please select the Debit card option",custom:"${field}"},I={".required":"${field}",".space":"${field}",".number":"${values}",".email":"${values}",".phone":"${values}",".mobile":"${values}",".password":"${field}",".passwordOnly":"${field}",".alpha":"${field}",".forceKey":"${field}",custom:"${field}",".fieldValidation":"${field}",".fullnameValidation":"${field}",".singlenameValidation":"${field}",".restictSplChars":"${field}",".arabicChars":"${field}",".enforceCardType":"${field}",".gstNumber":"${field}",".enforceDCCard":"${field}",".enforceCCCard":"${field}"},x=[],L=null,M=function(e,t){idRef=isNaN(t)?$("string"!=typeof t?t:"#"+t):$(n).find("dd")[t],$("<small class='hint ugly errorLabel'>"+e.substr(2)+"</small>").appendTo(window.hotelsExpressWay&&!window.hotelPaymentEdit?$(idRef).parent().addClass("ugly"):$(idRef).addClass("ugly"))},N=function(e){e&&$(e).attr("errorblkid")&&$("#"+$(e).attr("errorblkid")).html("").hide(),$(e).find(".errorLabel").each(function(){var e=this;$(e).remove()}),$(e).find(".invalid").each(function(){$(this).removeClass("invalid ugly")}),$(e).find("dd.ugly").each(function(){$(this).removeClass("ugly")}),$(e).find("dt.ugly").each(function(){$(this).removeClass("ugly")}),"undefined"!=typeof e.foreignValidation&&$(e.foreignValidation).length>0&&$.each(e.foreignValidation,function(e,t){var i=$(t);i.length&&(i.hasClass("foreign")?($closestElem=i.closest("dd.ugly"),$closestElem.length>0&&($closestElem.find(".errorLabel").remove(),$closestElem.removeClass("invalid ugly"))):(i.find(".errorLabel").each(function(e,t){$el=$(t),$el.remove()}),i.find("dd.ugly").each(function(){$(this).removeClass("ugly")}),i.find(".invalid").each(function(){$(this).removeClass("invalid ugly")})))}),L&&L(e),e.onclearerrors&&e.onclearerrors(e)},F=null,P=function(e,t){var a=[];if(e&&$(e).attr("errorblkid")&&$("#"+$(e).attr("errorblkid")).html("Sorry, but we can't continue until you fix everything that's marked in <strong>RED</strong>").show(),$(t).each(function(){var e,t=this,n=$(t.elem),o=n.attr("errortip");e=o?$("#"+o)[0]:t.elem.errorTip?t.elem.errorTip:$(t.elem).parents(i)[0]||t.elem.parentNode,n.addClass("invalid ugly"),t.dependentFields&&$(t.dependentFields).each(function(e,t){$(t).addClass("invalid ugly")}),t.name=t.name||"custom",e.errorMessages&&e.errorMessages[t.name]&&t.mess?t.mess&&"undefined"!=t.mess&&e.errorMessages[t.name].push(t.mess):t.mess&&(e.errorMessages||(e.errorMessages={}),e.errorMessages[t.name]=t.mess&&"undefined"!=t.mess?[t.mess]:[]),a.push(e)}),$($.unique(a)).each(function(e,t){var i="";for(var a in t.errorMessages){var o=t.errorMessages[a],r=a,s=o.length,l="";$(o).each(function(e,t){l=l+t+(e==s-2?" and ":e==s-1?"":", ")}),l&&(s>=1?l=D[r].replace("${field}",l).replace("${are}",s>1?"are":"is").replace("${s}",s>1?"s":"").replace("${es}",s>1?"es":""):".required"==r&&(l+=" is required"),i+=", "+l)}if(""!==t.id)M(i,t),"undefined"!=typeof clickTale&&clickTale.initiateErrorMessage(i,t.id);else if(M(i,t),"undefined"!=typeof clickTale){var c="";$(n).find("dd").each(function(e,i){return i==t?(c=e,!1):void 0}),clickTale.initiateErrorMessage(i,c)}$(t).prev().addClass("ugly"),t.errorMessages=null}),e&&$(e).attr("errorblkid"))window.scrollTo(0,0);else{var o=parseInt($(e).offset().top);window.scrollTo(0,o)}F&&F(e,t),e&&e.onshowerrors&&e.onshowerrors(e,t)},E=function(e,i){var n=[],a=[],o=/(<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>)|(<\/([-A-Za-z0-9_]+)[^>]*>)/;N(e),e.beforevalidate&&e.beforevalidate(i),$(e).find("[type=text]").each(function(){var e=this,t=$(this);-1===$.inArray(e,a)&&t.val()!==t.attr("selflabel")&&o.test(t.val())&&(a.push(e),n.push({elem:e,errorTip:"please enter valid characters.",name:"custom",mess:"please enter valid characters.",dependentFields:null}))}),$(A).each(function(){var i=""+this;$(e).find(i).each(function(){var e=this,o=$(e);if(!o.attr("disabled")&&-1==$.inArray(e,a)&&1!=S[i](e))if(a.push(e),-1==i.indexOf("group"))n.push({elem:e,mess:I[i].replace("${field}",o.attr("etitle")).replace("${values}",e.value),name:i}),a.push(e);else{var r=i.replace("group","");$(e).find(t).each(function(e,t){var i=$(t);i.attr("disabled")||-1==$.inArray(t,a)&&1!=S[r](t)&&(n.push({elem:t,mess:I[r].replace("${field}",i.attr("etitle")).replace("${numbers}",t.value),name:r}),a.push(t))})}})}),$(e).find("[validate='true']").each(function(){var e=this,t=$(e),i=this.validatorObjects,o=!1;t.attr("disabled")||$(i).each(function(i,r){-1!=$.inArray(e,a)?o=!0:r.dependentFields&&$(r.dependentFields).each(function(e,t){-1!=$.inArray(t,a)&&(o=!0)}),o||1==r.condition(e)||(n.push({elem:e,errorTip:r.errorTip,name:r.name||"custom",mess:r.mess.replace("${field}",t.attr("etitle")).replace("${values}",e.value),dependentFields:r.dependentFields}),a.push(e),r.dependentFields&&$(r.dependentFields).each(function(e,t){$(t).attr("disabled")||a.push(t)}))})}),$(e).find(".grouprequired").each(function(){});var r=[];"undefined"!=typeof e.foreignValidation&&($.each(e.foreignValidation,function(e,t){var i=$(t);i.length&&(i.hasClass("foreign")?i.attr("disabled")||r.push(t):i.find(".foreign").each(function(e,t){$el=$(t),$el.attr("disabled")||r.push(t)}))}),$(A).each(function(){var e=""+this;$.each(r,function(){var i=this,o=$(i);if(!o.attr("disabled")&&-1!=o.attr("class").indexOf(e.replace(".",""))&&-1==$.inArray(i,a)&&1!=S[e](i))if(a.push(i),-1==e.indexOf("group"))n.push({elem:i,mess:I[e].replace("${field}",o.attr("etitle")).replace("${values}",i.value),name:e}),a.push(i);else{var r=e.replace("group","");$(i).find(t).each(function(e,t){var i=$(t);i.attr("disabled")||-1==$.inArray(t,a)&&1!=S[r](t)&&(n.push({elem:t,mess:I[r].replace("${field}",i.attr("etitle")).replace("${numbers}",t.value),name:r}),a.push(t))})}})}),$.each(r,function(){var e=this,t=$(e),i=this.validatorObjects,o=!1;t.attr("disabled")||$(i).each(function(i,r){-1!=$.inArray(e,a)?o=!0:r.dependentFields&&$(r.dependentFields).each(function(e,t){-1!=$.inArray(t,a)&&(o=!0)}),o||1==r.condition(e)||(n.push({elem:e,name:r.name||"custom",mess:r.mess.replace("${field}",t.attr("etitle")).replace("${values}",e.value),dependentFields:r.dependentFields}),a.push(e),r.dependentFields&&$(r.dependentFields).each(function(e,t){t instanceof jQuery||(t=$(t)),t.attr("disabled")||a.push(t)}))})})),n.length>0?(i&&i.preventDefault(),e.hasError=!0,CT.unsubscribe(i.currentTarget.id),P(e,n),e.validateerror&&e.validateerror(n)):S.blockingEvent&&S.blockingEvent().condition()?(i&&i.preventDefault(),S.blockingEvent().triggerEvent()):(e.validatesuccess&&e.validatesuccess(i),CT.subscribe(i.currentTarget.id)),x=n},O=function(e){var a=document,o="form",r="submit";e&&(i=e.errContainer||i,t=e.formFieldSelector||t,a=e.document||a,r=e.action||r,o=e.target||o),$(a).delegate(o,r,function(e){n=this;var t=this;"click"==r&&(t=n=e.delegateTarget),E(t,e)})};return e.validator={delegate:O,getConditions:function(e){return e?S[e]:S},setConditions:function(e){for(var t in e)S[t]=e[t]},onShowErrors:function(e){F=e},displayErr:M,onClearErrors:function(e){L=e},clearErrors:N,showErrors:P},e}(CT.widgets||{}),!function(e,t,i){window.define?define("widgets/ct_offerbanner",["vendor/mustache"],t):i[e]=t(Mustache)}("Banner",function(e){var t={url:"https://ui.cltpstatic.com/landing-page-resources/flightoffer/settings",divId:"dynamicBanner",currDate:+new Date},i={init:function(e){var i=this;this.callJson(e.country,e.language).then(function(n){+moment(t.currDate)<+moment(n.time.from)||+moment(t.currDate)>+moment(n.time.to)||i.render(i.jsonModifier(n,e))})},jsonModifier:function(e,t){return e.images&&t.language&&e.images[t.language]&&(e.images.lang=e.images[t.language]),e.url&&t.language&&e.url[t.language]&&(e.url.lang=e.url[t.language]),e},callJson:function(e){return $.ajax({url:[t.url,e,"json.js"].join("/")+"?v="+Math.floor(t.currDate/3e3),dataType:"json",dontConvertUrl:!0})},view:function(){return $("#"+t.divId)},template:function(){return'<a href="{{url.lang}}" target="_blank" title="{{title}}"><img src="{{images.lang.1x}}" srcset="{{images.lang.1x}} 1x, {{images.lang.2x}} 2x">'},render:function(i){var n=$("#"+t.divId);n.show(),n.html(e.render(this.template(),i))}};return i},CT),!function(e,t,i){i[e]=t(Mustache,CT.View,CT.Store)}("currencyConverter",function(e,t,i){var n={events:{"click .currencyMenu li a":"changeCurrency","click .currencyLink":"showCurrencyList","click .countryLink":"showCountryList","click .countryMenu li a":"redirectCountryUrl","click .languageLink":"showLanguageList","click .languageMenu li a":"changeLang"},redirectCountryUrl:function(e){var t="a"===e.target.nodeName.toLowerCase()?$(e.target):$(e.target).parents("a"),i=t.attr("ctValue"),n=t.attr("ctUrl");window.location.href=n+"/?c="+i.toLowerCase()},showCurrencyList:function(){$currencyLink=this.$el.find(".currencyLink"),$currencyMenu=this.$el.find(".currencyMenu"),$currencyMenu.toggle(),$currencyLink[("none"!=$currencyMenu.get(0).style.display?"add":"remove")+"Class"]("current")},showCountryList:function(){$countryLink=this.$el.find(".countryLink"),$countryMenu=this.$el.find(".countryMenu"),$countryMenu.toggle(),$countryLink[("none"!=$countryMenu.get(0).style.display?"add":"remove")+"Class"]("current")},showLanguageList:function(){$langLink=this.$el.find(".languageLink"),$langMenu=this.$el.find(".languageMenu"),$langMenu.toggle(),$langLink[("none"!=$langMenu.get(0).style.display?"add":"remove")+"Class"]("current"),CT.utils.genericBlocks&&CT.utils.genericBlocks.hideLanguagePrefToolTip&&CT.utils.genericBlocks.hideLanguagePrefToolTip()},changeLang:function(e){var t=$(e.target),i=t.attr("data-lang");"Arabic"===i?(CT.utils.cookies.create("lp","ar",365),window.location.href="/ar/"):(CT.utils.cookies.create("lp","en",365),window.location.href="/"),"air"===CT.app&&CT.utils.helperFunctions.trackGAEvent("Home_TS","click","language_selection","100")},changeCurrency:function(e){var t="span"===e.target.tagName.toLowerCase()?$(e.target).parents("a"):$(e.target),n={code:t.attr("data-currency"),symbol:t.attr("data-currency-symbol")},a=$("#ResultContainer_"+CT.settings.currentTab),o=CT.masterJson?CT.masterJson.get():void 0,r="",s=this.$el.find(".currencyMenu"),l=s.find("li");l.removeClass("current"),l.find("i.tickMark").remove(),t.parent().addClass("current"),n.code!==n.symbol&&(r="<span class='"+n.code+"'>&nbsp;"+n.symbol+"</span>"),this.$el.find("a.currencyLink").html("<strong>Currency</strong>&nbsp;&nbsp;"+n.code+r);var c=s.find("span."+n.code).closest("li");c.addClass("current").find("a").prepend("<i class='tickMark black'></i>"),CT.settings.countryCurrCode.current=n.code,"hotel"==CT.app?(CT.utils.setCurrency(n),o?a.trigger("changeCurrency.trigger"):window.triggerChangeCurrency&&triggerChangeCurrency()):"shortlist"==CT.app?(CT.utils.setCurrency(n),CT.fire("updateHotelObject")):"dp"==CT.app?(CT.utils.setCurrency(n),CT.utils.cookies.create("dpCurr",n.code,1),CT.fire("filters_apply")):(CT.utils.setCurrency(n),o&&($(CT.settings.selectors.filters).trigger("filters_update",[o,null,{preset:!0}]).trigger("filters_apply",[{onload:!0}]),o.jsons.searchType.roundTrip&&(!o.jsons.searchType.isIntl||o.jsons.searchType.isIntl&&o.jsons.searchType.intlSpecialRT)&&!o.jsons.searchType.multiCity&&a.trigger("changeCurrency.trigger",[o]),a.find(".miniCalendar").hide(),o.jsons.searchType.isMeta||o.jsons.searchType.multiCity||CT.fire("calendar.init"))),i("Curr").update(n)},render:function(){var e=[],t=_.extend({},window.currencies),i="",a=function(e,t){return e.name<t.name?-1:e.name>name?1:0},o=this.$el.find(".currencyMenu");if(void 0!==t&&o&&o.length>0){t.all=_.filter(t.all,function(e){return _.contains(CT.settings.currencyArr,e.name)}).sort(a),_.forEach(t.all,function(t){var i=unescape(t.symbol.replace("\\","%"));e.push({code:t.code,text:t.name,symbol:i,currencyCls:""})});var r=Math.ceil(e.length/2),s=[];s.push(e.slice(0,r)),s.push(e.slice(r,e.length)),_.each(s,function(e){i+="<ul class='currencyCol'>",i+=CT.to_html("CurrencyConverterTpl",{currencyMenu:e,cls:"listMenu"}),i+="</ul>"}),o.html(i)}else setTimeout(function(){n.render()},1e3);CT.utils.showActiveCurrMenu()}};return CT.subscribe("init.ccr",function(e,i){window.disp_currency||(window.disp_currency={code:"",symbol:""}),n.$el=$(".ctGlobalNav");var a=t(n),o=window.hotelBaseLink||window.airBaseLink||window.staticBaseLink||"",r=new Date,s=r.getFullYear()+""+r.getMonth()+r.getDate()+r.getHours();CT.getScript({src:o+"/json/currency.js?ts="+s},function(){a.render(),i&&"function"==typeof i&&i()});var l={Arabic:"English",English:"&#1593;&#1585;&#1576;&#1610;"},c="/ar"===window.CT.langUrlPrefix?"Arabic":"English",d=l[c],u=n.$el.find(".languageLink");u.html(d).attr("data-lang",c).show()}),n},CT.settings),function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function i(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function n(t,i){this.$element=e(t),this.options=i,this.enabled=!0,this.fixTitle()}n.prototype={show:function(){if(i(this.$element[0])&&this.$element.is(":visible")){var n=this.getTitle();if(n&&this.enabled){var a=this.tip();a.find(".tipsyInner")[this.options.html?"html":"text"](n),a[0].className="tipsy",a.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body),this.options.className&&a.addClass(t(this.options.className,this.$element[0]));var o,r=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=a[0].offsetWidth,l=a[0].offsetHeight,c=t(this.options.gravity,this.$element[0]);switch(c.charAt(0)){case"N":o={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-s/2};break;case"S":o={top:r.top-l-this.options.offset,left:r.left+r.width/2-s/2};break;case"E":o={top:r.top+r.height/2-l/2,left:r.left-s-this.options.offset};break;case"W":o={top:r.top+r.height/2-l/2,left:r.left+r.width+this.options.offset}}2==c.length&&(o.left="W"==c.charAt(1)?r.left+r.width/2-15:r.left+r.width/2-s+15),a.css(o),"W"==c.charAt(0)&&(l=a[0].offsetHeight,o.top=r.top+r.height/2-l/2,a.css(o)),a.addClass("tipsy"+c),a.find(".tipsyArrow")[0].className="tipsyArrow tipsyArrow"+c.charAt(0),this.options.fade?a.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):a.css({visibility:"visible",opacity:this.options.opacity}),this.options.zIndex&&a.css({"z-index":this.options.zIndex})}}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},destroy:function(){e(this.$element[0]).data("tipsy")&&0!=e(this.$element[0]).data("tipsy")&&e(this.$element[0]).data("tipsy",!1)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,i=this.options;this.fixTitle();var e,i=this.options;return"string"==typeof i.title?e=t.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||i.fallback},tip:function(){var t="",i="";return this.$tip||(("click"==this.options.trigger||this.options.addCloseButton)&&(t='<a class="icon close fRight" title="Close" href="#"></a>'),this.options.className&&this.options.className.indexOf("popOver")>=0&&(i='<b class="tipsyNotch tipsyArrow"></b><b class="tipsyArrow tipsyNotch"></b>'),this.$tip=e('<div class="tipsy"></div>').html(t+i+'<div class="tipsyArrow"></div><div class="tipsyInner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function i(i){var a=e.data(i,"tipsy");return a||(a=new n(i,e.fn.tipsy.elementOptions(i,t)),e.data(i,"tipsy",a)),a}function a(){var e=i(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&r(e.$element)&&e.show()},t.delayIn))}function o(){var e=i(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}function r(e){return e.closest("body").length>0}if(t===!0)return this.data("tipsy");if("string"==typeof t){var s=this.data("tipsy");return s&&s[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){i(this)}),"manual"!=t.trigger){var l=t.live?"live":"bind",c="hover"==t.trigger?"mouseenter":"focus",d="hover"==t.trigger?"mouseleave":"blur";"click"==t.trigger?this[l](c,a):this[l](c,a)[l](d,o),this.hasClass("flightSprite")&&this.unbind().die()}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"N",html:!0,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",addCloseButton:!1},e.fn.tipsy.elementOptions=function(t,i){return e.metadata?e.extend({},i,e(t).metadata()):i},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"S":"N"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"E":"W"},e.fn.tipsy.remove=function(){e("body").find(".tipsy").remove()},e.fn.tipsy.autoBounds=function(t,i){return function(){var n={NS:i[0],EW:i.length>1?i[1]:!1},a=e(document).scrollTop()+t,o=e(document).scrollLeft()+t,r=e(this);return r.offset().top<a&&(n.ns="N"),r.offset().left<o&&(n.ew="W"),e(window).width()+e(document).scrollLeft()-r.offset().left<t&&(n.ew="E"),e(window).height()+e(document).scrollTop()-r.offset().top<t&&(n.ns="S"),n.ns+(n.EW?n.EW:"")}}}(jQuery),$(function(){$(".tipsy .close").live("click",function(e){var t=$(e.target),i=t.parent();e.preventDefault(),t.attr("data-quickeyTag")&&CT.utils.cookies.create("quickeyTipsy",!0,CT.settings.hotel.quickeysExpire),i.remove()})}),$(function(){$("[rel=rTooltip]").tipsy({gravity:"W",live:!0})}),$(function(){$("[rel=lTooltip]").tipsy({gravity:"E",live:!0})}),$(function(){$("[rel=bTooltip]").tipsy({gravity:"N",live:!0})}),$(function(){$("[rel=tTooltip]").tipsy({gravity:"S",live:!0,zIndex:12})}),$(function(){$("input[rel=rHint]").tipsy({trigger:"focus",delayIn:100,animate:"true",delayOut:100,live:!0,placement:"E"})}),$(function(){$("input[rel=lHint]").tipsy({trigger:"focus",delayIn:100,animate:"true",delayOut:100,live:!0,placement:"W"})}),!function(e){e(CT.Store)}(function(){$.extend(!0,CT.utils,{CTLogger:function(e){function t(e,t){this.url=e,this.startTime=t}function i(e,i){var n=new t(e.url,(new Date).getTime());return i?M.push(n)-1:x.push(n)-1}function n(e){for(var t="hotel"===CT.app?S:$,i=0,n=t.length;n>i;i++)if(e.search(t[i])>-1)return!0;return!1}function a(e){for(var t="hotel"===CT.app?D:A,i=0,n=t.length;n>i;i++)if(e.search(t[i])>-1)return!1;return!0}function o(){e.ajaxSetup({beforeSend:function(t){try{if(n(this.url)&&a(this.url)&&(t.CTLoggerID=i(this),x.length>1&&(x[t.CTLoggerID].delay=x[t.CTLoggerID-1].endTime?(new Date).getTime()-x[t.CTLoggerID-1].endTime:(new Date).getTime()-x[t.CTLoggerID-1].startTime)),"hotel"===CT.app&&(this.url.match("sid-results")||this.url.match("hotel-content")||this.url.match("scData"))){t.logThisCall=i(this,"hotelTrack");var o=_.deserialize(this.url).index,r=_.deserialize(this.url).count;e("#SearchHotelsButton")&&e("#SearchHotelsButton").removeAttr("disabled"),console.log(o+" "+r+" "+JSON.stringify(_.deserialize(this.url)));var s={s:(new Date).getTime(),index:o,count:r};CT.cache[CT.settings.currentTab].eventsTimes.sid[t.logThisCall]=s}if("air"===CT.app&&(this.url.match("airjson")||this.url.match("dd-"))){var l=_.deserialize(this.url);if("y"!=l.dls){var o=l.cc;t.logThisCall=i(this,"airTrack");var s={s:(new Date).getTime(),index:o};CT.cache[CT.settings.currentTab].eventsTimes.sid[t.logThisCall]=s}if(window.flightPageId)try{var c=window.flightPageId,d=c.split("");return d.splice(-3),c=d.splice(3),c=c.reverse().join(""),c=window[c].split("").reverse().join("").split(".").map(function(e){return e}).reverse().join("."),t.setRequestHeader("Authorization","Bearer "+c),c}catch(u){return L(u),"0"}}}catch(u){}},error:function(e,t){try{e.hasOwnProperty("CTLoggerID")&&(x[e.CTLoggerID].endTime=(new Date).getTime(),x[e.CTLoggerID].status=t)}catch(i){}},success:function(t,i,n){try{if(n.hasOwnProperty("CTLoggerID")&&(x[n.CTLoggerID].endTime=(new Date).getTime(),x[n.CTLoggerID].status=i),"hotel"===CT.app&&n.hasOwnProperty("logThisCall")){CT.cache[CT.settings.currentTab].eventsTimes.sid[n.logThisCall].e=(new Date).getTime();var a=jQuery.parseJSON(n.responseText).results.ht,o=e.map(a,function(e,t){return t}).length;CT.cache[CT.settings.currentTab].eventsTimes.sid[n.logThisCall].r=_.filter(a,function(e){return e.rms&&e.rms.length>0}).length}if("air"===CT.app&&n.hasOwnProperty("logThisCall")){var r=_.deserialize(this.url);if("y"!=r.dls){CT.cache[CT.settings.currentTab].eventsTimes.sid[n.logThisCall].e=(new Date).getTime();var s=jQuery.parseJSON(n.responseText),a=s.content,o=e.map(a,function(e,t){return t}).length;CT.cache[CT.settings.currentTab].eventsTimes.sid[n.logThisCall].r=o,CT.cache[CT.settings.currentTab].eventsTimes.sid[n.logThisCall].sid=s.sid}}}catch(l){}},complete:function(e,t){try{e.hasOwnProperty("CTLoggerID")&&(x[e.CTLoggerID].completeTime=(new Date).getTime(),x[e.CTLoggerID].status=t)}catch(i){}}})}function r(e){if(s()){for(var t=0,i=x.length;i>t;t++)x[t].runTime=x[t].completeTime?x[t].completeTime-x[t].startTime:x[t].endTime-x[t].startTime;if(y&&clearInterval(y),e.t="hsr"===e.ty?p():f(),e.tot=function(){for(var t=0,i=0,n=e.t.length;n>i;i++){var a=_.values(e.t[i]);t+=Int(a[2])}return String(t)}(),"hotel"===CT.app&&s()){var n=(CT.cache[CT.settings.currentTab].searchParams.all,CT.utils.trackers.mixpanelTrackingData),a={searchData:n,es:CT.cache[CT.settings.currentTab].eventsTimes};CT.utils.trackers.ctanalyticsTrackingData("Hotels_TR","srp_render_time","srp_results_complete",a,"time")}if("air"===CT.app)try{if(s()){var o=CT.utils.trackers.ctanalyticsTrackingobj;CT.cache[CT.settings.currentTab].eventsTimes.sid=_.filter(CT.cache[CT.settings.currentTab].eventsTimes.sid,function(e){return e}),o._airjsonCount=String(CT.cache[CT.settings.currentTab].eventsTimes.sid.length);var l={searchData:o,es:CT.cache[CT.settings.currentTab].eventsTimes};CT.fire("logSrpRenderTime",[{renderTimeData:l}])}}catch(c){}}else y||(y=setInterval(function(){r(e)},10))}function s(){for(var e=0,t=0,i=x.length;i>t;t++)x[t].completeTime||(e+=1);return 0===e?(window.console&&console.log(CT.cache[CT.settings.currentTab].eventsTimes.totalRenderTime),!0):!1}function l(){return x}function c(){var e=document.createElement("div");e.zIndex=9999,e.id="CTLoggerDiv";var t=[];t.push("<a href='javascript:CT.utils.CTLogger.closeResults()'>Close</a>"),t.push("<br/><br/>");for(var i=0,n=x.length;n>i;i++)t.push(i+".) URL-> "+x[i].url+"  runTime -> "+x[i].runTime+"<br/>");e.innerHTML=t.join(""),document.body.appendChild(e),e.style.backgroundColor="#000000",e.style.padding="50px",e.style.color="#FFFFFF",e.style.height="500px",e.style.width="700px",e.style.position="absolute",e.style.top="80px",e.style.left="150px"}function d(){document.getElementById("CTLoggerDiv").style.display="none"}function u(){var e={},t=CT.masterJson.get();if(e.ty="hotel"===CT.app?"hsr":"asr",CT.settings.hotel&&CT.settings.hotel.sid&&(e.sid=String(CT.settings.hotel.sid)),CT.settings.air&&CT.settings.air.sid&&(e.sid=String(CT.settings.air.sid)),e.b=h(),e.dr=v?String(v):"0",e.tr=T?String(T):"0","asr"===e.ty&&t){if(e.intl=t.jsons.searchType.isIntl?1:0,t.jsons.expiredSuppliers)if(e.exsup=_.keys(t.jsons.expiredSuppliers),JSON.intl)for(var i=0,n=e.exsup.length;n>i;i++){var a=e.exsup[i].split("_");e.exsup[i]=a[0],a[1]&&(e.exsup[i]=a[0]+"_"+a[1])}else for(var i=0,n=e.exsup.length;n>i;i++)e.exsup[i]=e.exsup[i].split("_")[0];e.intl=String(e.intl)}return e.url=window.location.href,"asr"===e.ty&&v!=T&&void 0!=typeof t&&t&&(e.fd=JSON.stringify(t.jsons.filterRanges)),e}function h(){var t;return e.browser.webkit&&(t="webkit"),e.browser.opera&&(t="opera"),e.browser.msie&&(t="msie"),e.browser.mozilla&&(t="mozilla"),t||(t="other"),t+" "+e.browser.version}function p(){for(var e=[],t=0,i=x.length;i>t;t++){var n={},a={};n.c=x[t].url.search("scData")>=1?"SO":x[t].url.search("hotel-content")>=1?"SC":"DL",a.c=n.c,n.tt="t",a.tt="d",n.t=String(parseInt(x[t].runTime?x[t].runTime:0)),n.i=String(t+1),a.i=n.i,x[t].delay&&(a.t=String(x[t].delay)),x[t].status&&("success"!=x[t].status&&"notmodified"!=x[t].status&&(n.f="1"),"timeout"==x[t].status&&(n.f="2")),e.push(n),a.t&&e.push(a)}return e}function f(){for(var e=[],t=0,i=x.length;i>t;t++){var n={},a={};n.c=0==t?"SR":"DL",a.c=n.c,n.tt="t",a.tt="d",n.t=String(parseInt(x[t].runTime?x[t].runTime:0)),x[t].delay&&(a.t=String(x[t].delay)),n.i=String(t+1),a.i=n.i,x[t].status&&("success"!=x[t].status&&"notmodified"!=x[t].status&&(n.f="1"),"timeout"==x[t].status&&(n.f="2")),e.push(n),a.t&&e.push(a)}return e}function m(){if(b){var e=u();r(e)}}function g(){return I}function C(e,t){k||(v=e,T=t,k=!0)}function w(e){v=e}var v,T,y,b=!0,k=!1,S=["hotel-content","scData","sid-result"],$=["airjson"],A=["dls=y"],D=[],I=[],x=[],M=[];return b&&o(),{calculateRunTimeResults:r,getAllRequests:l,showResults:c,closeResults:d,makeJSON:u,getServerLogs:g,logToServer:m,storeDRTR:C,storeDR:w}}(jQuery),cloneUpsellBanner:function(e){if(e)var t=$("#srpUpsellBanner[data-flight-type='"+e+"'].baseContent").first();else var t=$("#srpUpsellBanner.baseContent:first").first();if(!t[0])return!1;var i,n,a=5,o=$("#ResultContainer_"+CT.settings.currentTab),r=o.find("#srpUpsellBanner");0==r.length&&(a=t.attr("banner-index")||a,i=o.find(".listItem"),n=$(i[a-1]),n.next().hasClass("auxiliary")&&(n=n.next()),t.clone(!0).removeClass("baseContent").insertAfter(n).show())},clonePackagesUpsellBanner:function(e,t,i){var n=$("#srpUpsellBanner[data-flight-type='dom'].baseContent").first();if(!n[0])return!1;var a,o,r,s=5,l=$("#ResultContainer_"+CT.settings.currentTab),c=l.find("#srpUpsellBanner");0==c.length&&(s=n.attr("banner-index")||s,a=l.find(".listItem"),o=$(a[s-1]),o.next().hasClass("auxiliary")&&(o=o.next()),r=n.clone(!0),r.find("img").attr({style:"width:732px;height:108px",src:"/html-templates/banner/images/packages/"+e+".jpg",srcset:"/html-templates/banner/images/packages/"+e+".jpg"}),r.find("a").attr("href",i+"/"+t[e]),r.removeClass("baseContent").insertAfter(o).show())}}),$(function(){}),$(window).load(function(){if(window.isHomePage){var e=window.logUiEvtTimeOut?parseInt(window.logUiEvtTimeOut):1e3,t=window.analyticsHost?window.analyticsHost:"",i="true"==window.explorerAnalyticsSwitch?!0:!1,n=CT.utils.cookies.read("userid")?CT.utils.cookies.read("userid"):"",a=CT.utils.cookies.read("Apache")?CT.utils.cookies.read("Apache"):"",o=CT.utils.cookies.read("__utmz")?CT.utils.cookies.read("__utmz"):"",r={userid:n,apache_cookie:a,utmz:o},s={};if(t&&(r={},s={userid:n,apache_cookie:a,utmz:o}),i&&t&&$.browser.msie&&window.XDomainRequest&&("9.0"===$.browser.version||"8.0"===$.browser.version)){var l=new XDomainRequest;l.open("get",t+"/source/personalization/loaduserdata?apache_cookie="+a),l.onload=function(){},l.onprogress=function(){},l.ontimeout=function(){},l.onerror=function(){},l.timeout=e,setTimeout(function(){l.send()},0)}else $.ajax({url:t+"/source/personalization/loaduserdata",type:"GET",headers:r,data:s,timeout:e})}})}),!function(e){e()}(function(){$.extend(!0,CT.utils,{helperFunctions:{getAirJsonUrl:function(e){var t=CT.settings[CT.app].urls.domesticSearch;return e.multicity?t=CT.settings[CT.app].urls.multiCitySearch:"y"==e.intl&&(t=CT.settings[CT.app].urls.intlSearch),t},isFlNumCombinable:function(e,t,i){if(!this.isAirlineCombinable([e,i]))return!1;t?"string"==typeof t&&(t=_.uniq(t.split(","))):t=[];var n=this.getflightCodes(e);return _.contains(t,n)?!0:!1},getflightCodes:function(e){return"string"==typeof e&&(e=e.split(",")),e=_.uniq(e),_.map(e,function(e){return e=e.split("-"),e[e.length-1]}).join("$")},isAirlineCombinable:function(e){var t=[];return _.map(e,function(e){"string"==typeof e&&(e=e.split(",")),_.extend(t,_.map(e,function(e){return e.split("-")[0]}))}),1==_.uniq(t).length},getFlightFare:function(e,t,i){var n=CT.cache[CT.settings.currentTab],a=_.extend({},n.flags,i),o=n.searchType,r=CT.masterJson&&CT.masterJson.get()&&CT.masterJson.get().jsons.jsonVer?CT.masterJson.get().jsons.jsonVer:CT.settings[CT.app].responseVer,s=null;if("undefined"==typeof e)return s;if(a.isCorpFare&&(e.CORP?e=e.CORP:s=null),a.isSPLRT||e.SPLRT&&!e.dfd&&!a.forceNormalFare)if(e.SPLRT)if("V3"==r){var l=1!=a.isRefundable||a.isTabClicked||a.singleAirlineFilter?!1:"R";if(i.otherCarrierNames){var c=_.find(e.SPLRT,function(e){var t=e[e.dfd].cc&&e[e.dfd].cc.split(",");return CT.utils.helperFunctions.isFlNumCombinable(i.otherCarrierNames,t,i.carrierNames)?a.isRefundable&&!a.isTabClicked?"R"==e.dfd?e:null:e:void 0
});s=c&&c[l||c.dfd]}else c=e.SelectedSPLRT||i.getSelected?e.SelectedSPLRT:e.SPLRT[0],a.isRefundable&&!a.isTabClicked&&(c=e.SelectedSPLRT||i.getSelected?e.SelectedSPLRT&&e.SelectedSPLRT.R?e.SelectedSPLRT:null:_.find(e.SPLRT,function(e){return"R"==e.dfd})),s=c&&c[l||c.dfd]}else s=e.SPLRT[e.SPLRT.dfd],a.isRefundable&&!a.isTabClicked&&(s=e.SPLRT.R);else s=e.dfd?e[e.dfd]:null,a.isRefundable&&!a.isTabClicked&&(s=e.R);else s=e.dfd?e[e.dfd]:e.CORP&&e.CORP.dfd?e.CORP[e.CORP.dfd]:null,o.multiCity&&!o.isIntl&&a.sectors[t]&&a.sectors[t].isRefundable?s=e.R:a.isRefundable&&!a.isTabClicked&&(s=e.R?e.R:e.CORP?e.CORP.R:null);return s},getDisplayPrice:function(e){try{var t=CT.masterJson.get().jsons;if(t.walletAmt){var i=e-t.walletAmt;return i>0?i:0}}catch(n){L(n)}return e},getBundledFareInfo:function(e){var t={price:{},categories:[],enabled:!1,inclusions:[],priceEnabled:!1};return e.al&&e.mJson&&e.mJson.jsons.bundledfares&&(t.enabled=!0,t.categories=e.mJson.jsons.bundledfares),e.priceObj&&(t.price={total:e.priceObj.pr,extra:0},e.selectedBundleCategory&&e.priceObj.bfc&&void 0!=e.priceObj.bfc[e.selectedBundleCategory.toLowerCase()+"pr"]&&(t.price.extra=parseInt(e.priceObj.bfc[e.selectedBundleCategory.toLowerCase()+"pr"]),t.priceEnabled=!0,t.enabled=!0),t.price.total+=t.price.extra,t.price.totalFormatted=CT.utils.formatForCurrency(Number(t.price.total),!1,null,!1),t.price.extraFormatted=CT.utils.formatForCurrency(Number(t.price.extra),!1,null,!1)),t},getSEMParams:function(e,t){return t=t||{},e="string"==typeof e?_.deserialize(e):e,t},ifNull:function(e,t){return e?e:t},createSlideView:function(e,t,i,n,a){function o(){_.each([{linkCls:"scrollLeft",divCls:"left",name:"prev"},{linkCls:"scrollRight",divCls:"right",name:"next"}],function(e){a.append(c[e.name]=$(CT.to_html(l,e)))})}function r(i,n){var a=parseInt(e.css("left").replace("px",""),10);n="left"==i?-(t*n)+u:t*n-u,n=a+n,e.css("left",n+"px")}function s(){o(),c.next.show(),e.css("left","0px"),c.next.on("click",function(){r("left",d),c.next.hide(),c.prev.show()}),c.prev.on("click",function(){r("right",d),c.next.show(),c.prev.hide()})}var l='<div class="disclosureFade {{divCls}}" style="display:none;"><a class="{{linkCls}}" href="javascript:void(0);"></a></div>',c={prev:{},next:{}},d=n-i,u=4==n?50:285;a=a||e,s()},trackFlightGAEvent:function(e,t,i,n){return function(){var a=CT.cache[CT.settings.currentTab].searchType,o=i+"_"+(a.isIntl?"Intl":"Dom")+"_"+(a.multiCity||a.roundTrip?a.roundTrip?"RT":"MC":"OW");CT.utils.helperFunctions.trackGAEvent(e,t,o,n)}},getMr:function(e,t,i){var n={},a=e.mr;return n.MR="Y",n.ADT={AD:{},ADNS:{},BD:{A:a.A,C:a.C},BDNS:{}},n.Refund=i.isRefundable||"R"===e.ft?"Y":"N",n.oca=a.oca,n.occ=a.occ,n.cta=a.cta,n.ctc=a.ctc,n.note=t.jsons.mr.note,[n]},getBg:function(e,t){var i={os:[],rs:[],BI:"Y"};return _.each(e,function(e,n){_.each(e,function(e){if(e.bg){var a=e.bg;i[n?"rs":"os"].push({sec:e.fr+"_"+e.to,bg:{ADT:{cib:t?"0 KG":a.cib,cab:a.cab}}})}})}),[i]},getCheapestSolution:function(e){try{var t=CT.cache[CT.settings.currentTab],i=e?lagdata:CT.masterJson.get().mapping;if(t.cheapestFlightSolutions)return t.cheapestFlightSolutions;var n={};return _.each(i,function(e,t){n[t]=_.first(_.sortBy(e,function(e){return e.fare[e.fare.dfd]?e.fare[e.fare.dfd].pr:void 0}))}),t.cheapestFlightSolutions=n}catch(a){return window.ct_debug&&console.log(a),null}},trackFlightMoengageOnSearch:function(e,t){if(t&&window.moengageEnabled){t=_.deserialize(t);var i={OneWay:"ow",RoundTrip:"rt",MultiCity:"mc"},n=parseInt(t.adults)+parseInt(t.childs)+parseInt(t.infants),a="";window.serverCurrentDate&&(a=window.serverCurrentDate.getDate()+"/"+parseInt(window.serverCurrentDate.getMonth()+1)+"/"+window.serverCurrentDate.getFullYear());var o={o:t.from?t.from:"",d:t.to?t.to:"",c:"",p:"n"==t.intl?"d":"i",st:t.trip_type&&i[t.trip_type]?i[t.trip_type]:"",dd:t.depart_date?t.depart_date:"",rd:t.return_date?t.return_date:"",dx:""!=a&&t.depart_date?CT.utils.diffDates(a,t.depart_date):"",los:"",pc:n,ac:t.adults?t.adults:"",cc:t.childs?t.childs:"",ic:t.infants?t.adults:"",dl:""};if("MultiCity"==t.trip_type){var r="";t.from1&&(o.o1=t.from1),t.from2&&(o.o2=t.from2),t.from3&&(o.o3=t.from3),t.from4&&(o.o4=t.from4),t.from5&&(o.o5=t.from5),t.from6&&(o.o6=t.from6),t.to1&&(o.d1=t.to1),t.to2&&(o.d2=t.to2),t.to3&&(o.d3=t.to3),t.to4&&(o.d4=t.to4),t.to5&&(o.d5=t.to5),t.to6&&(o.d6=t.to6),t.depart_date_1&&(o.dd1=t.depart_date_1),t.depart_date_2&&(o.dd2=t.depart_date_2,r=t.depart_date_2),t.depart_date_3&&(o.dd3=t.depart_date_3,r=t.depart_date_3),t.depart_date_4&&(o.dd4=t.depart_date_4,r=t.depart_date_4),t.depart_date_5&&(o.dd5=t.depart_date_5,r=t.depart_date_5),t.depart_date_6&&(o.dd6=t.depart_date_6,r=t.depart_date_6),o.dx=""!=a&&t.depart_date_1&&CT.utils.diffDates?CT.utils.diffDates(a,t.depart_date_1):"",""!=r&&CT.utils.diffDates&&(o.los=CT.utils.diffDates(t.depart_date_1,r))}else t.return_date&&t.depart_date&&CT.utils.diffDates&&(o.los=CT.utils.diffDates(t.depart_date,t.return_date));CT.utils.helperFunctions.tpTrack({tp:"moengage",category:e,values:o})}},baggage:{getIndex:function(e){return e.fr+"_"+e.to+"_"+moment(e.dpd+" "+e.dp,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD_HH:mm")},getInfo:function(e,t){try{var i=[],n=CT.cache[CT.settings.currentTab];e.isSRP&&_.map(e.solutionIds,function(t,n){i.push(e.mJson.mapping[n][t])}),e.flightDetailsArr&&_.each(e.flightDetailsArr,function(e){_.each(e.flArr,function(e){e.index=CT.utils.helperFunctions.baggage.getIndex(e)})}),e.solutions=i;var a=CT.masterJson.get(),o=!1;if(e.isSplitScreen||_.each(e.solutions,function(e){o||(o=e.summary.isLITEFare)}),e.isSplitScreen){var r=[];_.each(e.solutions,function(e){var t=e.summary.fullHeader,i=[],n=e.content.length>1?1:0,a=e.summary.isLITEFare;_.each(e.content,function(e){CT.Mustache.clearCache();var t={};n&&(t.sec=e.fr+" â†’ "+e.to),t.index=CT.utils.helperFunctions.baggage.getIndex(e),i.push(t)}),CT.Mustache.clearCache(),r.push(CT.to_html("RTBaggageHeaderTpl",{fromTo:t,newFlow:!0,bgSegments:i,isLiteFare:a}))});var s=e.$parentLi.offset(),l=s.left,c=s.top;$(".baggagePopover")&&$(".baggagePopover").length>0&&$(".baggagePopover").remove(),$(document.body).append(CT.to_html("FarePopoverTpl",{cls:"baggagePopover"})),$(".baggagePopover").find(".tipsyInner").html("").append("<div class='row'>"+r.join("")+"</div>").end().css({display:"block",position:"absolute","z-index":"200000",top:c+13,left:l}).delegate(".close","click",function(){$(".baggagePopover").hide()});var d=$(".baggagePopover")}else if(e.$parentLi){var u=CT.to_html("baggageTmpl",{flightDetailsArr:e.flightDetailsArr,isMeta:this.isMeta,hasLiteFare:o}),d=e.$parentLi.find("[eleidentifier='baggage']");d.html(u)}n.baggageCache||(n.baggageCache={}),n.baggageCache[e.solutionIds.join(",")]?(resJson=n.baggageCache[e.solutionIds.join(",")],CT.utils.helperFunctions.baggage.render(resJson,d,e,function(){t(null,resJson)})):CT.utils.helperFunctions.baggage.createRequestJson.apply(this,[e,{solutions:i},function(i){CT.utils.helperFunctions.baggage.sendRequestJson(i,function(i){a&&a.jsons.searchType.isIntl&&a.jsons.bbEnabled?n.baggageCache={}:n.baggageCache[e.solutionIds.join(",")]=i,e.noRender?t(null,i):CT.utils.helperFunctions.baggage.render(i,d,e,function(){t(null,i)})},function(){CT.utils.helperFunctions.baggage.noBaggage(d,null,e)})}])}catch(h){t(h)}},createRequestJson:function(e,t,i){function n(e,t){return{seg:a(e,t)}}function a(e){var t=d.selectedFare(e),i=[];t.bc&&i.push(t.bc.split(",")),i=_.flatten(i);var n={};return _.map(e.content,function(e){var t=e.al+"-"+e.alNum;return n[t]||(n[t]=i[f++]),{dep:e.fr,arr:e.to,dd:moment(e.dpd+" "+e.dp,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD HH:mm"),ad:moment(e.ad+" "+e.a,"DD/MM/YYYY HH:mm").format("YYYY-MM-DD HH:mm"),fn:e.alNum,al:e.al,oa:e.oa||"",bc:n[t]||""}})}function o(e){var t=d.selectedFare(e);return{mi:t.mi?!0:!1,fk:t.fk,ncib:t.ncib,ctype:e.content[0].ct}}function r(){var e={AG:"AGENCY",CP:"CORP",undefined:"B2B"};return{intl:h.isIntl,mcity:h.isMultiCity,adt:u.adults,chd:u.childs,inf:u.infants,scr:h.sellCurr,sid:window.sid,sct:h.sellingCountry,stype:"B2B"==window.product?e[window.productCode]:"B2C"}}var s=CT.masterJson.get(),l=e.$parentLi.find("#withCabinBaggage input"),c=$(l).is(":checked")?!0:!1,d={selectedFare:function(t){var i={isSPLRT:t.fare.spl,isCorpFare:!1};return"CP"==window.productCode&&(i.isCorpFare=e.$parentLi.hasClass("corpFareChosen")),s&&s.jsons.searchType.isIntl&&t.fare&&t.fare.HBAG&&!c?CT.utils.helperFunctions.getFlightFare(t.fare.HBAG,null,i):CT.utils.helperFunctions.getFlightFare(t.fare,null,i)}},u=this.tabCache.searchParams.clean,h=this.tabCache.searchType,p=(this.tabCache.sid,{sol:[],sc:r()});isSplitScreen=!this.isIntl&&(this.isRT||this.isMultiCity)||this.intlSpecialRT;var f=0;_.each(t.solutions,function(e,t){isSplitScreen?(f=0,p.sol.push({fl:[n(e,t)],fre:o(e)})):(p.sol[0]||(p.sol[0]={fl:[],fre:o(e)}),p.sol[0].fl.push(n(e,t)))}),i(p)},sendRequestJson:function(e,t,i){clearTimeout(this.baggageTimer),this.baggageTimer=setTimeout(function(){$.ajax({url:(CT.settings.localhost?"http://l.cleartrip.com:8080":"")+"/flights/freeBaggageInfo",data:JSON.stringify(e),type:"post",contentType:"application/json; charset=utf-8",dataType:"json"}).then(t).fail(i)},200)},render:function(e,t,i){var n=this,a="baggageDetails";i.isSplitScreen&&(a="RTBaggageTpl"),e&&e.BI&&!$.isEmptyObject(e.BI)?(i.isSplitScreen&&t.find(".rtBaggageLoader").addClass("hide"),t.find(".baggageSummary").each(function(){var o=$(this).removeClass("hide"),r=o.data("index"),s=e.BI[r];if(s&&!$.isEmptyObject(e.BI[r])&&e.BI[r].bg&&e.BI[r].bg.ADT){s.newFlow=!0;var l=CT.to_html(a,s);i.isSplitScreen?o.find("dd").html(l):(l.match(/([A-Z]{2,} )+[A-Z]{2,}/)&&l.match(/([A-Z]{2,} )+[A-Z]{2,}/g).map(function(e,t){l=l.replace(e,(t?"<br>":"")+"<b>"+e+"</b>")}),o.find(".baggageDetails li").html(l))}else n.noBaggage(t,o,i)}),e.bgNote&&t.find(".baggageValue[errorinfo=piecesInfo]").html(e.bgNote)):this.noBaggage(t,null,i)},noBaggage:function(e,t,i){i.isSplitScreen&&e.find(".rtBaggageLoader").addClass("hide"),t?i.isSplitScreen?t.addClass("fadedSummary").removeClass("hide").find("dd").html("<small>"+CT.messages.air.NoBaggageMsg+"</small>"):t.addClass("fadedSummary").find(".baggageDetails li").html(CT.messages.air.NoBaggageMsg):i.isSplitScreen?e.find(".baggageSummary").addClass("fadedSummary").removeClass("hide").find("dd").html("<small>"+CT.messages.air.NoBaggageMsg+"</small>"):(e.find(".baggageDetails li").html(CT.messages.air.NoBaggageMsg),e.find("ul").addClass("fadedSummary"))}}},getNumLegs:function(e){var t=0;return _.times(5,function(i){e["from"+(i+1)]&&t++}),t},modifySearch:{open:function(e,t){if($(".searchCheckBox").hide(),CT.cache.els){CT.cache.els["$resultContainer"+CT.settings.currentTab]||(CT.cache.els["$resultContainer"+CT.settings.currentTab]=$("#ResultContainer_"+CT.settings.currentTab));var i=CT.cache.els.$homeCenter,n=CT.cache.els["$resultContainer"+CT.settings.currentTab],a=CT.cache.els.$homeSection,o=CT.cache.els.$resultSection;e||(e=n.find("#modifySearchLink").find("i")),t||(t=e.parent()),t.parent().addClass("current"),e.removeClass("rArrow").addClass("dArrow white"),a.show(),a.addClass("modifySearch"),o.addClass("modifySearch"),i.css("min-height")&&i.attr("backup-min-height",i.css("min-height")).css("min-height",""),i.css("height",i.height()),setTimeout(function(){i.css("-webkit-transition","none"),setTimeout(function(){i.css("height",""),setTimeout(function(){i.css("-webkit-transition","")},100)},100)},500),$(".flexiCalander").addClass("hide");var r=CT.masterJson.get(),s=CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].searchType,l=r&&r.jsons.fse_cal;n.find("div.miniCalendar").addClass("mediumCalendar").removeClass("hide miniCalendar"),CT.fire("showMediumCalendar"),s&&s.roundTrip&&window.location.pathname.indexOf("results")>=0&&l&&(n.find("div.mediumCalendar").addClass("hide"),$(".flexiCalander").removeClass("hide")),n.find(".primaryBar .center").fadeOut("fast",function(){n.find(".primaryBar .center").css("visibility","hidden").show()}),$(".tipsyW").remove(),CT.fire("hideRecentNearbyWidget")}},close:function(e,t){if(CT.cache.els){CT.cache.els["$resultContainer"+CT.settings.currentTab]||(CT.cache.els["$resultContainer"+CT.settings.currentTab]=$("#ResultContainer_"+CT.settings.currentTab));var i=CT.cache.els.$homeCenter,n=CT.cache.els["$resultContainer"+CT.settings.currentTab],a=CT.cache.els.$homeSection,o=CT.cache.els.$resultSection;e||(e=n.find("#modifySearchLink").find("i")),t||(t=e.parent()),t.parent().removeClass("current"),e.removeClass("dArrow white").addClass("rArrow"),a.hide(),a.removeClass("modifySearch"),o.removeClass("modifySearch"),i.attr("backup-min-height")&&i.css("min-height",i.attr("backup-min-height")).removeAttr("backup-min-height"),n.find("div.mediumCalendar").addClass("miniCalendar").removeClass("mediumCalendar"),n.find(".primaryBar .center").css("visibility","visible").hide().fadeIn("fast");var r=CT.cache[CT.settings.currentTab]&&CT.cache[CT.settings.currentTab].searchType,s=CT.masterJson.get(),l=s&&s.jsons.fse_cal;r&&r.roundTrip&&window.location.pathname.indexOf("results")>=0&&l&&(n.find("div.miniCalendar").removeClass("hide"),$(".flexiCalander").addClass("hide")),CT.fire("hideMiniCalendar"),CT.fire("showMiniCalendar",[!0]),CT.fire("showRecentNearbyWidget")}},openLabel:function(e){var t={},i=$("#GlobalNav .ctCenter");if(t.cityInfo=[],CT.settings.currentTab!=i.find(".searchSummary").data("sc")){if(e.from1){var n=[],a=Number(e.num_legs);_.times(a,function(t){t+=1,e["origin"+t]&&e["destination"+t]&&n.push([e["origin"+t]&&e["origin"+t].split(",")[0]||e["from"+t],e["destination"+t]&&e["destination"+t].split(",")[0]||e["to"+t]])});for(var o=0;o<n.length;o++){var r,s,l,c,d;if(n[o]){r=n[o],s=r[r.length-1];for(var u=o+1;u<n.length;u++)n[u]&&(l=n[u],c=l[0],d=l[l.length-1],s==c&&(r.push(d),n[u]=null,s=r[r.length-1]))}}n=_.filter(n,function(e){return e?!0:!1}),_.each(n,function(e,i){t.cityInfo.push({isMC:!0,hasNextCity:i==n.length-1?!1:!0,city:e.join(" â†’ ")})}),t.formatedCities="",_.each(t.cityInfo,function(e){t.formatedCities+=e.city+(e.hasNextCity?", ":"")}),t.depart_date=moment(e.depart_date_1,"DD/MM/YYYY").format("ddd, DD MMM"),t.last_depart_date=moment(e["depart_date_"+e.num_legs],"DD/MM/YYYY").format("ddd, DD MMM")}else{if(e.from&&t.cityInfo.push({city:e.origin&&e.origin.split(",")[0]||e.from}),e.to){var h=" â‡„ ";$.browser.msie&&parseInt($.browser.version,10)<9&&(h=" - "),t.cityInfo.push({city:e.destination&&e.destination.split(",")[0]||e.to,rtSymbol:e.return_date?h:!1,owSymbol:e.return_date?!1:" â†’ "})}t.formatedCities="",_.each(t.cityInfo,function(e){t.formatedCities+=(e.rtSymbol?e.rtSymbol:"")+(e.owSymbol?e.owSymbol:"")+e.city}),t.depart_date=moment(e.depart_date,"DD/MM/YYYY").format("ddd, DD MMM"),e.return_date&&(t.return_date=moment(e.return_date,"DD/MM/YYYY").format("ddd, DD MMM"))}t.adults=e.adults,t.mA=parseInt(e.adults,10)>1?!0:!1,e.childs&&parseInt(e.childs,10)&&(t.childs=e.childs,parseInt(e.childs,10)>1?t.mC=!0:t.mc=!1),e.infants&&parseInt(e.infants,10)&&(t.infants=e.infants,t.mI=parseInt(e.infants,10)>1?!0:!1),i.find(".feedbackLink").hide(),0==i.find(".searchSummary").length&&i.append("<div class='searchSummary'></div>"),i.find(".searchSummary").show().html(CT.to_html("SearchHeaderTemplate",t)),i.find(".searchSummary").data("sc",CT.settings.currentTab),$("body").scrollTop(0)}},closeLabel:function(){var e=$("#GlobalNav .ctCenter");e.find(".feedbackLink").show(),e.find(".searchSummary").hide()}},UILogger:function(){function e(){this.from=$("#FromTag").val()?["1",$("#FromTag").val(),"-1"]:c,this.to=$("#ToTag").val()?["1",$("#ToTag").val(),"-1"]:d,this.d1=$("#DepartDate").val()?"1":"0",this.d2=$("#ToDate").val()?"1":"0",this.trip_type=$(".tripType input:checked").val()}function t(e){s=e}function i(e){fv="1",u=n(e),r()}function n(e){return arr=[],_.each(e,function(e){arr.push(e.mess+" "+e.name)}),arr}function a(e){l=e}function o(){uiform=new e;var t={};return t.from=p.length?p:uiform.from,t.to=f.length?f:uiform.to,t.d1=uiform.d1?uiform.d1:"0",t.d2=uiform.d2?uiform.d2:"0",t.src=h,t.url=s=window.location.href,t.fe=u,t.fv="0",u.length&&(t.fv="1"),t}function r(){}var s,l,c=["0","","-1"],d=["0","","-1"],u=[],h="h",p=[],f=[];s=window.location.href,ac=CT.utils.cookies.read("Apache");return $("#FromTag").keypress(function(){p=[],p.push("1"),p.push($("#FromTag").val()),p.push(l?String(l):"-1")}),$("#ToTag").keypress(function(){f=[],f.push("1"),f.push($("#ToTag").val()),f.push(l?String(l):"-1")}),$("#From").change(function(){r()}),$("#To").change(function(){r()}),$("#FromDate").change(function(){uiform.d1="1",r()}),$("#ToDate").change(function(){uiform.d2="1",r()}),$("#SearchBtn").click(function(){h="h"}),$("#ModSearchBtn").click(function(){h="m"}),$(document).ready(function(){r()}),"air"===CT.app,{setFormErrors:i,setTime:a,makeJSON:o,setURL:t,logToServer:r}}()})}),function(){var e=function(e){var t={homepage:{name:"Featured",url:"/local/"+e+"/featured-activities-in-"+e,description:"Experience & Book the best activities, restaurants & events on Cleartrip"},ttd:{name:"Activities",url:"/local/"+e+"/things-to-do-in-"+e,iconName:"localActivitiesIcon",description:"Explore 1000s of things to do in and around your city"},fnb:{name:"Eat Out",url:"/local/"+e+"/food-and-drinks-in-"+e,iconName:"localEatOutIcon",description:"Enjoy curated dining experiences at the best restaurants"},events:{name:"Events",url:"/local/"+e+"/events-in-"+e,iconName:"localEventsIcon",description:"There&lsquo;s a lot happening in your city. Never be bored again"},fit:{name:"Fitness",url:"/local/"+e+"/fitness-in-"+e,iconName:"localFitnessIcon",description:"Get fit at over 1200 gyms in your city and elsewhere with one pass"}};return t};localsHome={getProductHash:e,helpers:{replace:function(e,t,i){return e&&"string"==typeof e?t&&"string"==typeof t?(i&&"string"==typeof i||(i=""),e.split(t).join(i)):e:void 0}},showLocalSpace:function(){$(".spacesReel").addClass("isShowingLocal"),$("#space_local").prop("checked",!0),$("#space_travel").prop("checked",!1),$(".localFrame").off("click.toggleSpaces"),$(".travelFrame").on("click.toggleSpaces",localsHome.showTravelSpace),CT.utils.cookies.create("spacePreference","local",365),$localOverlay=$(".localFrame").find(".transparentOverlay"),$travelOverlay=$(".travelFrame").find(".transparentOverlay"),$localOverlay&&$localOverlay.css("display","none"),$travelOverlay&&$travelOverlay.css("display","block");try{if(CT&&CT.utils&&CT.utils.helperFunctions&&CT.utils.helperFunctions.tpTrack&&window.cleverTapEnabled){var e={"event type":"local home page","last event type":CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",city:_.capitalize(window.currentCityName),"user location":CT.utils.cookies.read("userLocation")?_.capitalize(CT.utils.cookies.read("userLocation")):"NA","collection name":"NA","collection type":"NA","activity name":"NA",price:-1,"activity location":"NA",distance:-1,dx:-1,"srp position":-1,platform:window.isMobileUA?"mweb":"desktop"};CT.utils.cookies.create("lastEventType","local home page"),CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"local page viewed",values:e})}}catch(t){window.console&&console.log(t)}setTimeout(function(){"function"==typeof window.google_trackConversion&&window.google_trackConversion({google_conversion_id:995874483,google_custom_params:{local_id:"0",local_pagetype:"home"},google_remarketing_only:!0}),window.fbq&&fbq("track","ViewContent",{content_type:"local",content_ids:["0"]})},1e3)},showTravelSpace:function(){$(".spacesReel").removeClass("isShowingLocal"),$("#space_travel").prop("checked",!0),$("#space_local").prop("checked",!1),CT.utils.cookies.create("spacePreference","travel",365),$localOverlay=$(".localFrame").find(".transparentOverlay"),$travelOverlay=$(".travelFrame").find(".transparentOverlay"),$localOverlay&&$localOverlay.css("display","block"),$travelOverlay&&$travelOverlay.css("display","none")},cTapTrackOnSwitch:function(e){try{var t="";if(e&&"local"==e?t="travel to local switch":e&&"travel"==e&&(t="local to travel switch"),CT&&CT.utils&&CT.utils.helperFunctions&&CT.utils.helperFunctions.tpTrack&&window.cleverTapEnabled&&""!=t){var i={"event type":t,destination:e,"last event type":CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",city:_.capitalize(window.currentCityName),"time elapsed in the session":window.clevertap&&clevertap.session&&clevertap.session.getTimeElapsed()?clevertap.session.getTimeElapsed():-1,platform:window.isMobileUA?"mweb":"desktop","user location":CT.utils.cookies.read("userLocation")?_.capitalize(CT.utils.cookies.read("userLocation")):"NA"};CT.utils.cookies.create("lastEventType",t),CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"screen switch",values:i})}}catch(n){}},cTapTrackOnLoad:function(){try{if(CT&&CT.utils&&CT.utils.helperFunctions&&CT.utils.helperFunctions.tpTrack&&window.cleverTapEnabled){var e={"event type":"cleartrip home viewed","last event type":CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",city:_.capitalize(window.currentCityName),platform:window.isMobileUA?"mweb":"desktop","user location":CT.utils.cookies.read("userLocation")?_.capitalize(CT.utils.cookies.read("userLocation")):"NA"};CT.utils.cookies.create("lastEventType","cleartrip home viewed"),CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"cleartrip home viewed",values:e})}}catch(t){}},cleverTapCityClickTrack:function(e){try{if(window.cleverTapEnabled){var t={"event type":"city picker clicked","last event type":CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",city:e,"user location":CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("userLocation")?CT.utils.cookies.read("userLocation"):"NA","collection name":"NA","collection type":"NA","activity name":"NA","activity location":-1,price:-1,distance:-1,dx:-1,action:"NA","srp position":-1,platform:window.isMobileUA?"mweb":"desktop"};CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"local action",values:t}),CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create&&CT.utils.cookies.create("lastEventType","city picker clicked")}}catch(i){}},setHeightForLocalWeb:function(){$("#Home").find("aside").first().outerHeight(),$("#Home").find("aside").last().outerHeight(),$(window).outerHeight(),$("#homeUpsellBanner").outerHeight(),$(".travelFrame").outerHeight()},carouselSliderClick:function(e){{var t=$(e.currentTarget).find(".carouselSlide").attr("data-url");window.location}t&&(window.location.href=t)},setEventsForLocalWeb:function(){localsHome.setHeightForLocalWeb()},filterCarouselById:function(e,t){var i=[];return e&&e.length&&t&&t.length&&_.each(e,function(e){_.indexOf(t,e.id)>-1&&i.length<3&&"collection"==e.type&&i.push(e)}),i},fetchEditorialForLocation:function(e){if(e)try{$.ajax({method:"GET",url:"/local/api/v1/ttd/search?city="+e+"&editorial=true",contentType:"application/json",dataType:"json",success:function(e){e=_.isString(e)?JSON.parse(e):e,window.localData=e,e.editorial||e.collections?localsHome.generateEditorialData(e):localsHome.showCityUnavailable()},error:function(e){console.log(e),localsHome.showCityUnavailable()}})}catch(t){console.log(t),localsHome.showCityUnavailable()}},generateEditorialData:function(e){var t=e.editorial,i=[],n=["ttd","fnb","events"],a={ttd:1,fnb:2,events:3},o=4,r=window.airBaseLink?window.airBaseLink:"//www.cleartrip.com",s=function(){var e=0,a=[];return _.each(n,function(n){t[n].cp&&t[n].cp.length&&i.length<o&&a.length<o&&(a.push(t[n].cp.shift()),e+=t[n].cp.length)}),filteredCarousels=localsHome.filterCarouselById(t.carousel,a),_.each(filteredCarousels,function(e){i=_.uniq(i,function(e){return e.id}),i.length<o&&(e.dataType="cp",i.push(e))}),e&&i.length<o?void s():!1},l=function(){_.each(n,function(e){if(i=_.uniq(i,function(e){return e.id}),t[e].p&&t[e].p.collection&&t[e].p.collection.length&&i.length<o){var n=t[e].p.collection.shift();n.dataType="pe",n.productId=a[e],i.push(n)}})},c=function(){_.each(e.collections,function(e){if(i=_.uniq(i,function(e){return e.id}),i.length<o){var t=e;t.dataType="collection",t.productId=1,i.push(t)}})};t&&s(),t&&i.length<o&&l(),i.length<o&&c();var d=[];_.each(i,function(e){var t={};"cp"==e.dataType?(t.image=e.images&&e.images.length&&e.images[0].img?e.images[0].img:"",t.title=e.title,t.id=e.id,t.url="/local/"+window.currentCityName+"/editorial?callback="+e.callback+"&type="+e.type+"&product="+e.product.toLowerCase()):(t.image=e.image||"",t.title=e.collection_name,t.id=e.id,t.url="/local/"+window.currentCityName+"/"+localsHome.helpers.replace(e.collection_name.toLowerCase()," ","_")+"-in-"+window.currentCityName+"-collection-"+e.id+"-"+e.productId),t.image=r+"/"+t.image.replace("{type}","w"),d.push(t)});var u=_.capitalize(window.currentCityName),h=CT.to_html("LocalCarouselTemplate",{cityName:u}),p=CT.to_html("LocalCollectionsTemplate",{isCollectionAvailable:d.length?!0:!1,collectionData:d,cityName:u});$("#localCarousel").html(h),$("#localCollections").html(p),localsHome.showCityAvailable()},getLocalHomePage:function(e){var t=window.localDefaultCity.toLowerCase();1==e.homepage&&(t=window.currentCityName.toLowerCase(),console.log(window.currentCityName));var i=function(e){window.sessionStorage&&window.sessionStorage.setItem("clevertap",JSON.stringify(e))},n=function(){var e;return window.sessionStorage&&(window.sessionStorage.getItem("clevertap")||window.sessionStorage.setItem("clevertap",JSON.stringify({})),e=window.sessionStorage.getItem("clevertap"),e=JSON.parse(e)),e},a=function(e){var i=$(e.currentTarget),n=CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("userLocation")?CT.utils.cookies.read("userLocation"):"NA",a=CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",o=$(e.currentTarget).closest(".localModule__block").find(".localModule__block__title").text(),r=$(e.currentTarget).data("srp"),s=i.closest("#localLongForm").find(".localModule"),l=i.closest(".localModule"),c=parseInt(s.index(l));if(window.cleverTapEnabled)var d={"event type":"cleartrip home local search","last event type":a,city:t,"user location":n,"collection name":"NA","collection type":"NA","organiser name":"NA","activity name":"NA","section name":o?o:"NA","activity location":"NA",price:"NA",distance:-1,dx:-1,action:"NA","srp position":c,"srp horizontal":r,platform:window.isMobileUA?"mweb":"desktop",rating:0,reviews:0,"reviews summary":"no","locality selected":"NA","activity date":"NA"};return d},o=function(e){var a=$(e.currentTarget),o=CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("userLocation")?CT.utils.cookies.read("userLocation"):"NA",r=CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",s=$(e.currentTarget).closest(".localModule__block").find(".localModule__block__title").text(),l=$(e.currentTarget).data("srp"),c=a.closest("#localLongForm").find(".localModule"),d=a.closest(".localModule"),u=parseInt(c.index(d));if(window.cleverTapEnabled){var h={"event type":"cleartrip home local search","last event type":r,city:t,"user location":o,"search type":-1,"section name":s?s:"NA","activity name":"NA","collection name":"NA","organiser name":"NA",platform:window.isMobileUA?"mweb":"desktop","activity date":"NA","srp position":u,"srp horizontal":l,"product name":"NA","story category":"NA"};if(window.sessionStorage){var p=n();p["srp position"]=u,p["srp horizontal"]=u,p["section name"]=s,i(p)}}return h},r=function(e){var t=a(e),r=o(e),s=$(e.currentTarget);if(window.actTypeCleverTap=r["search type"]=t.action=t["collection type"]="ct home product editorial",r["collection name"]=t["collection name"]=s.data("collectionName"),r["product name"]=s.data("product"),"fnb"==s.data("product")&&(r["organiser name"]=s.data("collectionName"),t["organiser name"]=s.data("collectionName")),window.sessionStorage){var l=n();l.source=r["search type"],i(l)}CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"local search",values:r}),CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create&&CT.utils.cookies.create("lastEventType","cleartrip home local search")},s=function(e){var t=$(e.currentTarget),i=o(e);i["product name"]="stories",i["story category"]=t.data("tag"),i["search type"]="ct home story web view",CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"local search",values:i}),CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create&&CT.utils.cookies.create("lastEventType","cleartrip home local search")},l=function(e){{var t=$(e.currentTarget),a=o(e),r=moment(t.data("startDate")).format("DD/MM/YYYY");moment(new Date).format("DD/MM/YYYY")}if(window.actTypeCleverTap=a["search type"]="home event editorial",a["activity name"]=t.data("activity"),a["organiser name"]=t.data("source"),a["activity date"]=r?r:"NA",a["product name"]=t.data("product"),window.sessionStorage){var s=n();s.source=a["search type"],i(s)}CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"local search",values:a}),CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create&&CT.utils.cookies.create("lastEventType","cleartrip home local search")},c="/local/"+t+"/localHomePage?CThome=true";$.ajax({method:"GET",url:c,success:function(e){function i(e){$("#localLongForm").html(e).show(),$("#localLongForm").on("click",".localStoriesItem",s),$("#localLongForm").on("click",".localCollectionItem",r),$("#localLongForm").on("click",".localEventItem",l);var i=!1,n=!1;$(window).scroll(function(){i=!0}),setInterval(function(){if(i&&!n){var e=$(window).scrollTop();if(e>630){n=!0;var a=CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("userLocation")?CT.utils.cookies.read("userLocation"):"NA",o=CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",r={"event type":"cleartrip home local viewed","last event type":o,city:t,"user location":a,platform:window.isMobileUA?"mweb":"desktop","carousel editorial":"no","carousel first editorial":"no","product editorial":$("#localLongForm").find(".localCollectionItem").length?"yes":"no","activity rows":"no","event carousel":$("#localLongForm").find(".localEventItem")?"yes":"no",wishlists:"no","recently viewed":"no","explore grid":"no","hero content":"no","special promotion":"no","upcoming booking":"no","story web view":$("#localLongForm").find(".localStoriesItem")?"yes":"no","deal card":"no","deal card image":"no"};CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"cleartrip home local viewed",values:r})}i=!1}},50)}1==window.resultsCSSAssetsLoaded?i(e):CT.subscribe("results_css_assets_loaded",function(){i(e)})}})},fetchProductsForLocationv2:function(e,t){window.affiliateutmExpiryDays=window.affiliateutmExpiryDays?window.affiliateutmExpiryDays:"1";var i=window.location.search?CT.utils.helperFunctions.queryToObj(window.location.search.substr(1)):{};CT.utils.helperFunctions.paidAffiliateTracker(i);try{$.ajax({method:"GET",url:"/local/api/v1/ctLocalAutoComp?city="+e,contentType:"application/json",dataType:"json",success:function(i){i=_.isString(i)?JSON.parse(i):i,i[e]?t(e,i[e]):localsHome.showCityUnavailable()},error:function(e){console.log(e),localsHome.showCityUnavailable()}})}catch(n){console.log(n),localsHome.showCityUnavailable()}},fetchProductsForLocation:function(e){try{$.ajax({method:"GET",url:"/local/api/v1/ctLocalAutoComp?city="+e,contentType:"application/json",dataType:"json",success:function(t){t=_.isString(t)?JSON.parse(t):t,t[e]?localsHome.generateProductForCity(t[e],e):localsHome.showCityUnavailable()},error:function(e){console.log(e),localsHome.showCityUnavailable()}})}catch(t){console.log(t),localsHome.showCityUnavailable()}},generateProductForCity:function(t,i){i=i.toLowerCase();var n=e(i),a=[];
_.each(n,function(e,i){t[i]&&a.push(e)});var o=CT.to_html("LocalProductsTemplate",{enabledProducts:a});$("#localProducts").html(o)},fetchLocationFromLatLongv2:function(e,t,i){try{$.ajax({method:"GET",url:"/local/api/v1/ctLocalAutoComp?latitude="+e+"&longitude="+t,contentType:"application/json",dataType:"json",success:function(e){e=_.isString(e)?JSON.parse(e):e,_.each(e,function(e,t){window.currentCityName=t,window.currentCityCode=window.currentCityName.replace(/\s/g,"_")}),e[window.currentCityName]?(CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create("localCurrentCity",window.currentCityName,365),i&&i(window.currentCityName,e[window.currentCityName])):(window.currentCityName=window.localDefaultCity,localsHome.fetchProductsForLocationv2(window.currentCityName.toLowerCase(),i))},error:function(e){console.log(e),window.currentCityName=window.localDefaultCity,localsHome.fetchProductsForLocationv2(window.currentCityName.toLowerCase(),i)}})}catch(n){console.log(n),window.currentCityName=window.localDefaultCity,localsHome.fetchProductsForLocationv2(window.currentCityName.toLowerCase(),i)}},fetchLocationFromLatLong:function(e,t){try{$.ajax({method:"GET",url:"/local/api/v1/ctLocalAutoComp?latitude="+e+"&longitude="+t,contentType:"application/json",dataType:"json",success:function(e){e=_.isString(e)?JSON.parse(e):e,_.each(e,function(e,t){window.currentCityName=t,window.currentCityCode=window.currentCityName.replace(/\s/g,"_")}),e[window.currentCityName]?(CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create("localCurrentCity",window.currentCityName,365),localsHome.generateProductForCity(e[window.currentCityName],window.currentCityName)):localsHome.showCityUnavailable()},error:function(e){console.log(e),localsHome.showCityUnavailable()}})}catch(i){console.log(i),localsHome.showCityUnavailable()}},showLoadingState:function(){$("#localCityAvailable").hide(),$("#localEmptySpace").hide(),$("#localLoadingState").show()},showUndetectedCity:function(){$("#localCityAvailable").hide(),$("#localLoadingState").hide();var e=$("#localEmptySpace"),t=e.find(".localLocation");t.hide();var i=e.find("#undetectedCityBlock");i.show();var n=e.find("#unavailableCityBlock");n.hide(),e.show()},showCityUnavailable:function(){if(window.localDefaultCity.toLowerCase()==window.currentCityName.toLowerCase()){$("#localCityAvailable").hide(),$("#localLoadingState").hide();var e=$("#localEmptySpace"),t=e.find(".localLocation"),i=t.find("#locationName");i.html(window.currentCityName),t.show();var n=e.find("#undetectedCityBlock");n.hide();var a=e.find("#unavailableCityBlock");a.show(),e.show()}else localsHome.loadDefaultCity()},showCityAvailable:function(){$("#localEmptySpace").hide(),$("#localLoadingState").hide(),$("#localCityAvailable").show()},loadDefaultCityv2:function(e){window.localDefaultCity?(window.currentCityName=window.localDefaultCity.toLowerCase(),window.currentCityCode=window.currentCityName.replace(/\s/g,"_"),localsHome.fetchProductsForLocationv2(window.currentCityName,e)):localsHome.showUndetectedCity()},loadDefaultCity:function(){window.localDefaultCity?(window.currentCityName=window.localDefaultCity.toLowerCase(),window.currentCityCode=window.currentCityName.replace(/\s/g,"_"),localsHome.fetchProductsForLocation(window.currentCityName)):localsHome.showUndetectedCity()},setSpacePreference:function(){CT.utils.cookies.read("spacePreference")&&"local"==CT.utils.cookies.read("spacePreference")?localsHome.showLocalSpace():localsHome.showTravelSpace()},getGeoLocationv2:function(e){var t=function(t){t.coords&&t.coords.latitude&&t.coords.longitude?localsHome.fetchLocationFromLatLongv2(t.coords.latitude,t.coords.longitude,e):localsHome.loadDefaultCityv2(e)},i=function(){localsHome.loadDefaultCityv2(e)};navigator.geolocation?navigator.geolocation.getCurrentPosition(t,i):localsHome.loadDefaultCityv2(e),setTimeout(function(){(void 0==window.currentCityName||""==window.currentCityName)&&localsHome.loadDefaultCityv2(e)},3e3)},getGeoLocation:function(){var e=function(e){e.coords&&e.coords.latitude&&e.coords.longitude?localsHome.fetchLocationFromLatLong(e.coords.latitude,e.coords.longitude):localsHome.loadDefaultCity()},t=function(){localsHome.loadDefaultCity()};navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):localsHome.loadDefaultCity(),setTimeout(function(){(void 0==window.currentCityName||""==window.currentCityName)&&localsHome.loadDefaultCity()},3e3)},localTrendingClick:function(e){try{if(window.cleverTapEnabled){var t=$(e).find("h5")?$(e).find("h5").text():"NA",i=-1,n=$(e).closest(".localTrendingTiles").find(".col6");if(n){var a=$(e).closest(".col6");i=parseInt(n.index(a)-1)}var o={"event type":"trending clicked","last event type":CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("lastEventType")?CT.utils.cookies.read("lastEventType"):"new session",city:window.window.currentCityName?_.capitalize(window.currentCityName):"NA","user location":CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&CT.utils.cookies.read("userLocation")?_.capitalize(CT.utils.cookies.read("userLocation")):"NA","collection name":t,"collection type":"NA","activity name":"NA","activity location":"NA",price:-1,distance:-1,dx:-1,action:"NA","srp position":i,platform:window.isMobileUA?"mweb":"desktop"};CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"local action",values:o})}}catch(e){}CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create&&CT.utils.cookies.create("lastEventType","trending clicked")},initv2:function(t){var i=function(i,n){var a=e(i);window.localProductHash=n;var o="";if(_.each(_.keys(a),function(e){return 1==n[e]?(o=e,!1):void 0}),1==t.redirect){var r=window.location.search?CT.utils.helperFunctions.queryToObj(window.location.search.substr(1)):{};r.activity?(window.sessionStorage&&!window.sessionStorage.getItem("isRedirect")&&window.sessionStorage.setItem("isRedirect","true"),window.location.href=a[o].url+window.location.search):window.location.href=a[o].url}else 1==t.attachLink?$("#"+t.localsLinkId).attr("href",a[o].url):1==t.showLocalCard&&localsHome.getLocalHomePage(localProductHash)};window.currentCityName?localsHome.fetchProductsForLocationv2(window.currentCityName.toLowerCase(),i):(window.currentCityName="",null!=CT.utils.cookies.read("localCurrentCity")&&(window.currentCityName=CT.utils.cookies.read("localCurrentCity"),localsHome.fetchProductsForLocationv2(CT.utils.cookies.read("localCurrentCity").toLowerCase(),i)))},init:function(e){if(localsHome.showLoadingState(),e&&window.currentCityName)localsHome.setEventsForLocalWeb(),localsHome.fetchProductsForLocation(window.currentCityName.toLowerCase());else{window.currentCityName="",localsHome.setEventsForLocalWeb(),null!=CT.utils.cookies.read("localCurrentCity")?(window.currentCityName=CT.utils.cookies.read("localCurrentCity"),localsHome.fetchProductsForLocation(CT.utils.cookies.read("localCurrentCity").toLowerCase())):localsHome.getGeoLocation(),CT&&CT.utils&&CT.utils.helperFunctions&&CT.utils.helperFunctions.tpTrack&&CT.utils.helperFunctions.tpTrack({tp:"clevertap"});try{window.cleverTapEnabled&&CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.read&&!CT.utils.cookies.read("userLocation")&&CT.utils.helperFunctions.setUserLocationCookie()}catch(t){}}}}}(),function(e){var t={init:function(){window.citiesList||e.ajax({method:"GET",url:"/mobile/resource/v2/local_cities.json",contentType:"application/json",dataType:"json",success:function(e){if(e=_.isString(e)?JSON.parse(e):e,window.citiesList=e,window.currentCityName=window.CT&&"local"==window.CT.app?window.currentCityName||window.App&&window.App.router&&window.App.router.currentView&&window.App.router.currentView.model?window.App.router.currentView.model.get("jsons").cityname:"":window.currentCityName||"",window.currentCityCode=window.currentCityName.replace(/\s/g,"_"),window.wlCitiesList&&0==window.wl_enable_all_cities){for(country in window.citiesList.country)window.citiesList.country[country].topcities=_.map(window.wlCitiesList,function(e){return e.city_name})}},error:function(e){console.log(e)}})},getCityProductConfig:function(t,i){var n=t.toLowerCase();e.ajax({method:"GET",url:"/local/api/v1/ctLocalAutoComp?city="+n,contentType:"application/json",dataType:"json",success:function(e){e=_.isString(e)?JSON.parse(e):e,console.log(e),e[n]&&i(n,e[n])},error:function(e){console.log(e)}})},switchCity:function(e){if(parent.window.isHomePage)t.getCityProductConfig(e,function(e,t){e=e.toLowerCase(),t.homepage?i="/local/"+e+"/featured-activities-in-"+e:t.ttd?i="/local/"+e+"/things-to-do-in-"+e:t.fnb?i="/local/"+e+"/food-and-drinks-in-"+e:t.events&&(i="/local/"+e+"/events-in-"+e),CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create("localCurrentCity",e,365),window.location=i});else if(CT&&CT.app&&"local"==CT.app){if(App&&App.router&&App.router.currentView&&App.router.currentView.model){var i=App.router.currentView.model.get("jsons").productConfig.pathName;CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create("localCurrentCity",e,365);var n=e?"local/"+e.toLowerCase()+"/"+i+"-"+e.toLowerCase():window.location.href;window.currentCityName!=e&&App.router.redirectTo(n,{pushState:!1})}}else window.currentCityName=e.toLowerCase(),window.currentCityCode=window.currentCityName.replace(/\s/g,"_"),CT&&CT.utils&&CT.utils.cookies&&CT.utils.cookies.create("localCurrentCity",window.currentCityName,365),window.localsHome&&localsHome.init(!0)}};window.fetchCitiesList=t,window.fetchCitiesList.init()}(jQuery),function(e){function t(t,i){var n=navigator.userAgent.toLowerCase(),a=e.browser,o=this,r=a.webkit;n.indexOf("android"),o.isIPAD=n.match(/(ipad)/);for(var s,l=document.createElement("div").style,c=["webkit","Moz","ms","O"],d="",u=0,n=0;n<c.length;n++)s=c[n],!d&&s+"Transform"in l&&(d=s),s=s.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-u)),n=window.setTimeout(function(){e(t+i)},i);return u=t+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),o.slider=e(t),o.ev=e({}),o._a=e(document),o.st=e.extend({},e.fn.royalSlider.defaults,i),o._b=o.st.transitionSpeed,!o.st.allowCSS3||r&&!o.st.allowCSS3OnWebkit||(n=d+(d?"T":"t"),o._c=n+"ransform"in l&&n+"ransition"in l,o._c&&(o._d=d+(d?"P":"p")+"erspective"in l)),d=d.toLowerCase(),o._e="-"+d+"-",o._f="vertical"===o.st.slidesOrientation?!1:!0,o._g=o._f?"left":"top",o._h=o._f?"width":"height",o._i=-1,o._j="fade"===o.st.transitionType?!1:!0,o._j||(o.st.sliderDrag=!1,o._k=10),o._l=0,o._m=0,e.each(e.rsModules,function(e,t){t.call(o)}),o.slides=[],o._n=0,(o.st.slides?e(o.st.slides):o.slider.children().detach()).each(function(){o._o(this,!0)}),o.st.randomizeSlides&&o.slides.sort(function(){return.5-Math.random()}),o.numSlides=o.slides.length,o._p(),o.st.startSlideId>o.numSlides-1&&(o.st.startSlideId=o.numSlides-1),o.staticSlideId=o.currSlideId=o._q=o.st.startSlideId,o.currSlide=o.slides[o.currSlideId],o._r=0,o.slider.addClass((o._f?"rsHor":"rsVer")+(o._j?"":" rsFade")),l='<div class="rsOverflow"><div class="rsContainer">',o.slidesSpacing=o.st.slidesSpacing,o._s=(o._f?o.slider.width():o.slider.height())+o.st.slidesSpacing,o._t=Boolean(0<o._u),1>=o.numSlides&&(o._v=!1),o._w=o._v&&o._j?2===o.numSlides?1:2:0,o._x=6>o.numSlides?o.numSlides:6,o._y=0,o._z=0,o.slidesJQ=[];for(n=0;n<o.numSlides;n++)o.slidesJQ.push(e('<div style="'+(o._j?"":n!==o.currSlideId?"z-index: 0; display:none; opacity: 0; position: absolute;  left: 0; top: 0;":"z-index: 0;  position: absolute; left: 0; top: 0;")+'" class="rsSlide "></div>'));o.slider.html(l+"</div></div>"),o._a1=o.slider.children(".rsOverflow"),o._b1=o._a1.children(".rsContainer"),o._c1=e('<div class="rsPreloader"></div>'),n=o._b1.children(".rsSlide"),o._d1=o.slidesJQ[o.currSlideId],o._e1=0,"ontouchstart"in window||"createTouch"in document?(o.hasTouch=!0,o._f1="touchstart.rs",o._g1="touchmove.rs",o._h1="touchend.rs",o._i1="touchcancel.rs",o._j1=.5):(o.hasTouch=!1,o._j1=.2,o.st.sliderDrag&&(a.msie||a.opera?o._k1=o._l1="move":a.mozilla?(o._k1="-moz-grab",o._l1="-moz-grabbing"):r&&-1!=navigator.platform.indexOf("Mac")&&(o._k1="-webkit-grab",o._l1="-webkit-grabbing"),o._m1()),o._f1="mousedown.rs",o._g1="mousemove.rs",o._h1="mouseup.rs",o._i1="mouseup.rs"),o._c?(o._n1="transition-property",o._o1="transition-duration",o._p1="transition-timing-function",o._q1=o._r1=o._e+"transform",o._d?(r&&o.slider.addClass("rsWebkit3d"),o._s1="translate3d(",o._t1="px, ",o._u1="px, 0px)"):(o._s1="translate(",o._t1="px, ",o._u1="px)"),o._j?o._b1[o._e+o._n1]=o._e+"transform":(a={},a[o._e+o._n1]="opacity",a[o._e+o._o1]=o.st.transitionSpeed+"ms",a[o._e+o._p1]=o.st.css3easeInOut,n.css(a))):(o._r1="left",o._q1="top");var h;e(window).on("resize.rs",function(){h&&clearTimeout(h),h=setTimeout(function(){o.updateSliderSize()},50)}),o.ev.trigger("rsAfterPropsSetup"),o.updateSliderSize(),o.st.keyboardNavEnabled&&o._v1(),o.st.arrowsNavHideOnTouch&&o.hasTouch&&(o.st.arrowsNav=!1),o.st.arrowsNav&&(a=o.st.controlsInside?o._a1:o.slider,e('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(a),o._w1=a.children(".rsArrowLeft").click(function(e){e.preventDefault(),o.prev()}),o._x1=a.children(".rsArrowRight").click(function(e){e.preventDefault(),o.next()}),o.st.arrowsNavAutoHide&&!o.hasTouch&&(o._w1.addClass("rsHidden"),o._x1.addClass("rsHidden"),a.one("mousemove.arrowshover",function(){o._w1.removeClass("rsHidden"),o._x1.removeClass("rsHidden")}),a.hover(function(){o._y1||(o._w1.removeClass("rsHidden"),o._x1.removeClass("rsHidden"))},function(){o._y1||(o._w1.addClass("rsHidden"),o._x1.addClass("rsHidden"))})),o.ev.on("rsOnUpdateNav",function(){o._z1()}),o._z1()),o._a2=!o.hasTouch&&o.st.sliderDrag||o.hasTouch&&o.st.sliderTouch,o._a2?o._b1.on(o._f1,function(e){o._b2(e)}):o.dragSuccess=!1;var p=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];o._b1.click(function(t){if(!o.dragSuccess){var i=e(t.target).attr("class");if(-1!==e.inArray(i,p)&&o.toggleVideo())return!1;if(o.st.navigateByClick&&!o._c2){if(e(t.target).closest(".rsNoDrag",o._d1).length)return!0;o._d2(t)}}}),o.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={}),t.prototype={_d2:function(e){e[this._f?"pageX":"pageY"]-this._e2>0?this.next():this.prev()},_p:function(){var e;e=this.st.numImagesToPreload,(this._v=this.st.loop)&&(2===this.numSlides?(this._v=!1,this.st.loopRewind=!0):this.numSlides<2&&(this.st.loopRewind=this._v=!1)),this._v&&e>0&&(this.numSlides<=4?e=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(e=Math.floor((this.numSlides-1)/2))),this._u=e},_o:function(t,i){function n(e,t){o.image=e.attr(t?t:"src"),o.caption=t?e.contents():e.attr("alt"),o.videoURL=e.attr("data-rsVideo")}var a,o={};return this._f2=t=e(t),this.ev.trigger("rsBeforeParseNode",[t,o]),o.stopParsing?void 0:(t=this._f2,o.id=this._n,o.contentAdded=!1,this._n++,o.hasCover||(t.hasClass("rsImg")?(tempEl=t,a=!0):(tempEl=t.find(".rsImg"),tempEl.length&&(a=!0)),a?(o.bigImage=tempEl.attr("data-rsBigImg"),tempEl.is("a")?n(tempEl,"href"):tempEl.is("img")&&n(tempEl)):t.is("img")&&(t.addClass("rsImg"),n(t))),tempEl=t.find(".rsCaption"),tempEl.length&&(o.caption=tempEl.remove()),o.image||(o.isLoaded=!0,o.isRendered=!1,o.isLoading=!1),o.content=t,this.ev.trigger("rsAfterParseNode",[t,o]),i&&this.slides.push(o),o)},_v1:function(){var e=this;e._a.on("keydown.rskb",function(t){e._g2||e._h2||(37===t.keyCode?(t.preventDefault(),e.prev()):39===t.keyCode&&(t.preventDefault(),e.next()))})},goTo:function(e,t){e!==this.currSlideId&&this._i2(e,this.st.transitionSpeed,!0,!t)},destroy:function(e){var t=this;t.ev.trigger("rsBeforeDestroy"),t._a.off("keydown.rskb "+t._g1+" "+t._h1),t._b1.on(t._f1,function(e){t._b2(e)}),t.slider.data("royalSlider",""),e&&t.slider.remove()},_j2:function(t,i){function n(i,n,r){i.isAdded?(a(n,i),o(n,i)):(r||(r=c.slidesJQ[n]),i.holder?r=i.holder:(r=c.slidesJQ[n]=e(r),i.holder=r),i.appendOnLoaded=!1,o(n,i,r),a(n,i),c._l2(i,r,t),appended=i.isAdded=!0)}function a(e,i){i.contentAdded||(c.setItemHtml(i,t),t||(i.contentAdded=!0))}function o(e,t,i){c._j&&(i||(i=c.slidesJQ[e]),i.css(c._g,(e+c._z+h)*c._s))}function r(e){if(d){if(e>u-1)return r(e-u);if(0>e)return r(u+e)}return e}var s,l,c=this,d=c._v,u=c.numSlides;if(!isNaN(i))return r(i);var h,p,f=c.currSlideId,m=t?Math.abs(c._k2-c.currSlideId)>=c.numSlides-1?0:1:c._u,g=Math.min(2,m),C=!1,w=!1;for(l=f;f+1+g>l;l++)if(p=r(l),(s=c.slides[p])&&(!s.isAdded||!s.positionSet)){C=!0;break}for(l=f-1;l>f-1-g;l--)if(p=r(l),(s=c.slides[p])&&(!s.isAdded||!s.positionSet)){w=!0;break}if(C)for(l=f;f+m+1>l;l++)p=r(l),h=Math.floor((c._q-(f-l))/c.numSlides)*c.numSlides,(s=c.slides[p])&&n(s,p);if(w)for(l=f-1;l>f-1-m;l--)p=r(l),h=Math.floor((c._q-(f-l))/u)*u,(s=c.slides[p])&&n(s,p);if(!t)for(g=r(f-m),f=r(f+m),m=g>f?0:g,l=0;u>l;l++)g>f&&l>g-1||!(m>l||l>f)||(s=c.slides[l])&&s.holder&&(s.holder.detach(),s.isAdded=!1)},setItemHtml:function(t,i){function n(){o.isWaiting=!0,t.holder.html(a._c1.clone()),o.slideId=-99}var a=this,o=t.holder,r=function(t){var o=t.sizeType;return function(r){var s=t.content,l=t.holder;if(r){var c=r.currentTarget;if(e(c).off("load error"),"error"===r.type)return t.isLoaded=!0,t.image="",t.isLoading=!1,s.addClass("rsSlideError"),l.html(s),t.holder.trigger("rsAfterContentSet"),void a.ev.trigger("rsAfterContentSet",t)}if(t.image){if(t.bigImage&&t.sizeType!==o)return void("med"===o?t.isMedLoading=!1:"big"===o?t.isBigLoading=!1:t.isMedLoading=t.isLoading=!1);if(t.isLoaded){if(!t.isRendered&&i)return void n();a._m2(t)}else{var d;s.hasClass("rsImg")?(d=!0,r=s):(d=!1,r=s.find(".rsImg")),r.length&&r.is("a")&&(d?s=e('<img class="rsImg" src="'+t.image+'" />'):s.find(".rsImg").replaceWith('<img class="rsImg" src="'+t.image+'" />'),t.content=s),t.iW=c.width,t.iW>0&&(t.iH=c.height,t.isLoaded=!0,t.isLoading=!1,a._m2(t))}}else{if(!a._t&&i&&!t.isRendered)return t.isRendered=!0,void n();t.isLoaded=!0,t.isLoading=!1}c=t.id-a._l,i||t.appendOnLoaded||!a.st.fadeinLoadedSlide||0!==c&&(!a._h2&&!a._g2||-1!==c&&1!==c)?l.html(s):(s.css(a._e+"transition","opacity 400ms ease-in-out").css({visibility:"visible",opacity:0}),l.html(s),setTimeout(function(){s.css("opacity",1)},6)),t.isRendered=!0,l.find("a").off("click.rs").on("click.rs",function(){return a.dragSuccess?!1:(a._c2=!0,a.ev.trigger("rsSlideClick"),void setTimeout(function(){a._c2=!1},3))}),t.holder.trigger("rsAfterContentSet"),a.ev.trigger("rsAfterContentSet",t),t.appendOnLoaded&&a._l2(t,s,i)}};if(t.isLoaded)r(t)();else if(i)n();else if(t.image)if(t.isLoading){var s=1,l=function(){if(t.isLoading)if(t.isLoaded)r(t)();else{if(s%50===0){var e=t.imageLoader;if(e.complete&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&0!==e.naturalHeight)return void r(t)()}s>300||(setTimeout(l,400),s++)}};l(t.sizeType)}else{var c=e("<img/>"),d=t.image;i?n():t.isLoading||(d||(d=c.attr("src"),c=e("<img/>")),t.holder.html(a._c1.clone()),t.isLoading=!0,t.imageLoader=c,c.one("load error",r(t)).attr("src",d))}else r(t)()},_l2:function(e,t,i){var n=e.holder,a=e.id-this._l;!this._j||i||!this.st.fadeinLoadedSlide||0!==a&&(!this._h2&&!this._g2||-1!==a&&1!==a)?this._b1.append(n):(t=e.content,t.css(this._e+"transition","opacity 400ms ease-in-out").css({visibility:"visible",opacity:0}),this._b1.append(n),setTimeout(function(){t.css("opacity",1)},6)),e.appendOnLoaded=!1},_b2:function(t,i){var n,a=this;if(a.dragSuccess=!1,e(t.target).closest(".rsNoDrag",a._d1).length)return!0;if(i||a._h2&&a._n2(),a._g2)a.hasTouch&&(a._o2=!0);else{if(a.hasTouch&&(a._o2=!1),a._p2(),a.hasTouch){var o=t.originalEvent.touches;if(!(o&&o.length>0))return;n=o[0],o.length>1&&(a._o2=!0)}else n=t,t.preventDefault();a._g2=!0,a._a.on(a._g1,function(e){a._q2(e,i)}).on(a._h1,function(e){a._r2(e,i)}),a._s2="",a._t2=!1,a._u2=n.pageX,a._v2=n.pageY,a._w2=a._r=(i?a._x2:a._f)?n.pageX:n.pageY,a._y2=0,a._z2=0,a._a3=i?a._b3:a._m,a._c3=(new Date).getTime(),a.hasTouch&&a._a1.on(a._i1,function(e){a._r2(e,i)})}},_d3:function(e,t){if(this._e3){var i=this._f3,n=e.pageX-this._u2,a=e.pageY-this._v2,o=this._a3+n,r=this._a3+a,s=t?this._x2:this._f,o=s?o:r,l=this._s2;this._t2=!0,this._u2=e.pageX,this._v2=e.pageY,r=s?this._u2:this._v2,"x"===l&&0!==n?this._y2=n>0?1:-1:"y"===l&&0!==a&&(this._z2=a>0?1:-1),n=s?n:a,t?o>this._g3?o=this._a3+n*this._j1:o<this._h3&&(o=this._a3+n*this._j1):this._v||(this.currSlideId<=0&&r-this._w2>0&&(o=this._a3+n*this._j1),this.currSlideId>=this.numSlides-1&&r-this._w2<0&&(o=this._a3+n*this._j1)),this._a3=o,i-this._c3>200&&(this._c3=i,this._r=r),t?this._j3(this._a3):this._j&&this._i3(this._a3)}},_q2:function(e,t){var i=this;if(i.hasTouch){if(i._k3)return;var n=e.originalEvent.touches;if(!n)return;if(n.length>1)return;point=n[0]}else point=e;if(i._t2||(i._c&&(t?i._l3:i._b1).css(i._e+i._o1,"0s"),function o(){i._g2&&(i._m3=requestAnimationFrame(o),i._n3&&i._d3(i._n3,t))}()),i._e3)e.preventDefault(),i._f3=(new Date).getTime(),i._n3=point;else{var n=t?i._x2:i._f,a=Math.abs(point.pageX-i._u2)-Math.abs(point.pageY-i._v2)-(n?-7:7);if(a>7){if(n)e.preventDefault(),i._s2="x";else if(i.hasTouch)return void i._o3();i._e3=!0}else if(-7>a){if(n){if(i.hasTouch)return void i._o3()}else e.preventDefault(),i._s2="y";i._e3=!0}}},_o3:function(){this._k3=!0,this._t2=this._g2=!1,this._r2()},_r2:function(t,i){function n(e){return 100>e?100:e>500?500:e}function a(e,t){(c._j||i)&&(s=(-c._q-c._z)*c._s,l=Math.abs(c._m-s),c._b=l/t,e&&(c._b=c._b+250),c._b=n(c._b),c._q3(s,!1))}var o,r,s,l,c=this;if(c.ev.trigger("rsDragRelease"),c._n3=null,c._g2=!1,c._k3=!1,c._e3=!1,c._f3=0,cancelAnimationFrame(c._m3),c._t2&&(i?c._j3(c._a3):c._j&&c._i3(c._a3)),c._a.off(c._g1).off(c._h1),c.hasTouch&&c._a1.off(c._i1),c._m1(),!c._t2&&!c._o2&&i&&c._p3){var d=e(t.target).closest(".rsNavItem");d.length&&c.goTo(d.index())}else if(r=i?c._x2:c._f,c._t2&&!("y"===c._s2&&r||"x"===c._s2&&!r)){c.dragSuccess=!0,c._s2="";var u=c.st.minSlideOffset;o=c.hasTouch?t.originalEvent.changedTouches[0]:t;var h=r?o.pageX:o.pageY,p=c._w2;o=c._r;var f=c.currSlideId,m=c.numSlides,g=r?c._y2:c._z2,C=c._v;if(Math.abs(h-p),o=h-o,r=(new Date).getTime()-c._c3,r=Math.abs(o)/r,0===g||1>=m)a(!0,r);else{if(!C&&!i)if(0>=f){if(g>0)return void a(!0,r)}else if(f>=m-1&&0>g)return void a(!0,r);if(i){if(s=c._b3,s>c._g3)s=c._g3;else if(s<c._h3)s=c._h3;else{if(u=r*r/.006,d=-c._b3,h=c._r3-c._s3+c._b3,o>0&&u>d?(d+=c._s3/(15/(u/r*.003)),r=r*d/u,u=d):0>o&&u>h&&(h+=c._s3/(15/(u/r*.003)),r=r*h/u,u=h),d=Math.max(Math.round(r/.003),50),s+=u*(0>o?-1:1),s>c._g3)return void c._t3(s,d,!0,c._g3,200);if(s<c._h3)return void c._t3(s,d,!0,c._h3,200)}c._t3(s,d,!0)}else h>p+u?0>g?a(!1,r):c._i2("prev",n(Math.abs(c._m-(-c._q-c._z+1)*c._s)/r),!1,!0,!0):p-u>h?g>0?a(!1,r):c._i2("next",n(Math.abs(c._m-(-c._q-c._z-1)*c._s)/r),!1,!0,!0):a(!1,r)}}},_i3:function(e){e=this._m=e,this._c?this._b1.css(this._r1,this._s1+(this._f?e+this._t1+0:0+this._t1+e)+this._u1):this._b1.css(this._f?this._r1:this._q1,e)},updateSliderSize:function(e){var t,i;if(this.st.beforeResize&&this.st.beforeResize.call(this),this.st.autoScaleSlider){var n=this.st.autoScaleSliderWidth,a=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(t=this.slider.width(),t!=this.width&&(this.slider.css("height",t*(a/n)),t=this.slider.width()),i=this.slider.height()):(i=this.slider.height(),i!=this.height&&(this.slider.css("width",i*(n/a)),i=this.slider.height()),t=this.slider.width())}else t=this.slider.width(),i=this.slider.height();if(this._e2=this.slider.offset(),this._e2=this._e2[this._g],e||t!=this.width||i!=this.height){for(this.width=t,this.height=i,this._u3=t,this._v3=i,this.ev.trigger("rsBeforeSizeSet"),this._a1.css({width:this._u3,height:this._v3}),this._s=(this._f?this._u3:this._v3)+this.st.slidesSpacing,this._w3=this.st.imageScalePadding,t=0;t<this.slides.length;t++)e=this.slides[t],e.positionSet=!1,e&&e.image&&e.isLoaded&&(e.isRendered=!1,this._m2(e));if(this._x3)for(t=0;t<this._x3.length;t++)e=this._x3[t],e.holder.css(this._g,(e.id+this._z)*this._s);this._j2(),this._j&&(this._c&&this._b1.css(this._e+"transition-duration","0s"),this._i3((-this._q-this._z)*this._s)),this.ev.trigger("rsOnUpdateNav"),this.st.afterResize&&this.st.afterResize.call(this)}},setSlidesOrientation:function(){},appendSlide:function(e,t){var i=this._o(e);(isNaN(t)||t>this.numSlides)&&(t=this.numSlides),this.slides.splice(t,0,i),this.slidesJQ.splice(t,0,'<div style="'+(this._j?"position: absolute;":"z-index: 0; display:none; opacity: 0; position: absolute;  left: 0; top: 0;")+'" class="rsSlide"></div>'),t<this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[i,t]),this._z3(t),t===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this.slides[e];t&&(t.holder&&t.holder.remove(),e<this.currSlideId&&this.currSlideId++,this.slides.splice(e,1),this.slidesJQ.splice(e,1),this.ev.trigger("rsOnRemoveSlide",[e]),this._z3(e),e===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_z3:function(){var e=this,t=e.numSlides,t=e._q<=0?0:Math.floor(e._q/t);for(e.numSlides=e.slides.length,0===e.numSlides?(e.currSlideId=e._z=e._q=0,e.currSlide=e._a4=null):e._q=t*e.numSlides+e.currSlideId,t=0;t<e.numSlides;t++)e.slides[t].id=t;e.currSlide=e.slides[e.currSlideId],e._d1=e.slidesJQ[e.currSlideId],e.currSlideId>=e.numSlides?e.goTo(e.numSlides-1):e.currSlideId<0&&e.goTo(0),e._p(),e._j&&e._v&&e._b1.css(e._e+e._o1,"0ms"),e._b4&&clearTimeout(e._b4),e._b4=setTimeout(function(){e._i3((-e._q-e._z)*e._s),e._j2()},14),e.ev.trigger("rsOnUpdateNav")},_m1:function(){!this.hasTouch&&this._j&&(this._k1?this._a1.css("cursor",this._k1):(this._a1.removeClass("grabbing-cursor"),this._a1.addClass("grab-cursor")))},_p2:function(){!this.hasTouch&&this._j&&(this._l1?this._a1.css("cursor",this._l1):(this._a1.removeClass("grab-cursor"),this._a1.addClass("grabbing-cursor")))},next:function(e){this._i2("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._i2("prev",this.st.transitionSpeed,!0,!e)},_i2:function(e,t,i,n,a){var o,r,s,l=this;if(l._d4&&l.stopVideo(),l.ev.trigger("rsBeforeMove",[e,n]),newItemId="next"===e?l.currSlideId+1:"prev"===e?l.currSlideId-1:e=parseInt(e,10),!l._v){if(newItemId<0)return void l._e4("left",!n);if(newItemId>=l.numSlides)return void l._e4("right",!n)}l._h2&&(l._n2(),i=!1),r=newItemId-l.currSlideId,s=l._k2=l.currSlideId;var c,d=l.currSlideId+r,n=l._q;l._v?(d=l._j2(!1,d),n+=r):n=d,l._l=d,l._a4=l.slidesJQ[l.currSlideId],l._q=n,l.currSlideId=l._l,l.currSlide=l.slides[l.currSlideId],l._d1=l.slidesJQ[l.currSlideId],d=Boolean(r>0),r=Math.abs(r);var u=Math.floor(s/l._u),h=Math.floor((s+(d?2:-2))/l._u),u=(d?Math.max(u,h):Math.min(u,h))*l._u+(d?l._u-1:0);if(u>l.numSlides-1?u=l.numSlides-1:0>u&&(u=0),s=d?u-s:s-u,s>l._u&&(s=l._u),r>s+2)for(l._z=l._z+(r-(s+2))*(d?-1:1),t=1.4*t,s=0;s<l.numSlides;s++)l.slides[s].positionSet=!1;l._b=t,l._j2(!0),a||(c=!0),o=(-n-l._z)*l._s,c?setTimeout(function(){l._c4=!1,l._q3(o,e,!1,i),l.ev.trigger("rsOnUpdateNav")},0):(l._q3(o,e,!1,i),l.ev.trigger("rsOnUpdateNav"))},_z1:function(){this.st.arrowsNav&&(this.numSlides<=1?(this._w1.css("display","none"),this._x1.css("display","none")):(this._w1.css("display","block"),this._x1.css("display","block"),this._v||this.st.loopRewind||(0===this.currSlideId?this._w1.addClass("rsArrowDisabled"):this._w1.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._x1.addClass("rsArrowDisabled"):this._x1.removeClass("rsArrowDisabled"))))},_q3:function(t,i,n,a,o){function r(){var e=s.data("rsTimeout");e&&(s!==l&&s.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),s.data("rsTimeout","")),(e=l.data("rsTimeout"))&&(clearTimeout(e),l.data("rsTimeout",""))}var s,l,c=this,d={};isNaN(c._b)&&(c._b=400),c._m=c._a3=t,c.ev.trigger("rsBeforeAnimStart"),c.st.beforeSlideChange&&c.st.beforeSlideChange.call(c),c._c?c._j?(d[c._e+c._o1]=c._b+"ms",d[c._e+c._p1]=a?e.rsCSS3Easing[c.st.easeInOut]:e.rsCSS3Easing[c.st.easeOut],c._b1.css(d),setTimeout(function(){c._i3(t)},c.hasTouch?5:0)):(c._b=c.st.transitionSpeed,s=c._a4,l=c._d1,l.data("rsTimeout")&&l.css("opacity",0),r(),s&&s.data("rsTimeout",setTimeout(function(){d[c._e+c._o1]="0ms",d.zIndex=0,d.display="none",s.data("rsTimeout",""),s.css(d),setTimeout(function(){s.css("opacity",0)},16)},c._b+60)),d.display="block",d.zIndex=c._k,d.opacity=0,d[c._e+c._o1]="0ms",d[c._e+c._p1]=e.rsCSS3Easing[c.st.easeInOut],l.css(d),l.data("rsTimeout",setTimeout(function(){l.css(c._e+c._o1,c._b+"ms"),l.data("rsTimeout",setTimeout(function(){l.css("opacity",1),l.data("rsTimeout","")},20))},20))):c._j?(d[c._f?c._r1:c._q1]=t+"px",c._b1.animate(d,c._b,a?c.st.easeInOut:c.st.easeOut)):(s=c._a4,l=c._d1,l.stop(!0,!0).css({opacity:0,display:"block",zIndex:c._k}),c._b=c.st.transitionSpeed,l.animate({opacity:1},c._b,c.st.easeInOut),r(),s&&s.data("rsTimeout",setTimeout(function(){s.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},c._b+60))),c._h2=!0,c.loadingTimeout&&clearTimeout(c.loadingTimeout),c.loadingTimeout=o?setTimeout(function(){c.loadingTimeout=null,o.call()},c._b+60):setTimeout(function(){c.loadingTimeout=null,c._f4(i)},c._b+60)},_n2:function(){if(this._h2=!1,clearTimeout(this.loadingTimeout),this._j)if(this._c){var e=this._m,t=this._a3=this._g4();this._b1.css(this._e+this._o1,"0ms"),e!==t&&this._i3(t)}else this._b1.stop(!0),this._m=parseInt(this._b1.css(this._r1),10);else this._k>20?this._k=10:this._k++},_g4:function(){var e=window.getComputedStyle(this._b1.get(0),null).getPropertyValue(this._e+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g);return parseInt(e[this._f?4:5],10)},_h4:function(e,t){return this._c?this._s1+(t?e+this._t1+0:0+this._t1+e)+this._u1:e},_f4:function(){this._j||(this._d1.css("z-index",0),this._k=10),this._h2=!1,this.staticSlideId=this.currSlideId,this._j2(),this._i4=!1,this.ev.trigger("rsAfterSlideChange"),this.st.afterSlideChange&&this.st.afterSlideChange.call(this)},_e4:function(e,t){var i=this,n=(-i._q-i._z)*i._s;if(moveDist=30,0!==i.numSlides)if(i.st.loopRewind)"left"===e?i.goTo(i.numSlides-1,t):i.goTo(0,t);else if(!i._h2&&i._j&&0!==moveDist){i._b=200;var a=function(){i._h2=!1};i._q3(n+("left"===e?moveDist:-moveDist),"",!1,!0,function(){i._h2=!1,i._q3(n,"",!1,!0,a)})}},_m2:function(e){if(!e.isRendered){var t,i,n=e.content,a="rsImg",o=this.st.imageAlignCenter,r=this.st.imageScaleMode;e.videoURL&&(a="rsVideoContainer","fill"!==r?t=!0:(i=n,i.hasClass(a)||(i=i.find("."+a)),i.css({width:"100%",height:"100%"}),a="rsImg")),n.hasClass(a)||(n=n.find("."+a));var s=e.iW,a=e.iH;if(e.isRendered=!0,"none"!==r||o){bMargin="fill"!==r?this._w3:0,e=this._u3-2*bMargin,i=this._v3-2*bMargin;var l,c,d={};"fit-if-smaller"===r&&(s>e||a>i)&&(r="fit"),("fill"===r||"fit"===r)&&(l=e/s,c=i/a,l="fill"==r?l>c?l:c:"fit"==r?c>l?l:c:1,s=Math.ceil(s*l,10),a=Math.ceil(a*l,10)),"none"!==r&&(d.width=s,d.height=a,t&&n.find(".rsImg").css({width:"100%",height:"100%"})),o&&(d.marginLeft=Math.floor((e-s)/2)+bMargin,d.marginTop=Math.floor((i-a)/2)+bMargin),n.css(d)}}}},e.rsProto=t.prototype,e.fn.royalSlider=function(i){var n=arguments;return this.each(function(){var a=e(this);if("object"!=typeof i&&i){if((a=a.data("royalSlider"))&&a[i])return a[i].apply(a,Array.prototype.slice.call(n,1))}else a.data("royalSlider")||a.data("royalSlider",new t(a,i))})},e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,beforeSlideChange:null,afterSlideChange:null,beforeResize:null,afterResize:null},e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},e.extend(jQuery.easing,{easeInOutSine:function(e,t,i,n,a){return-n/2*(Math.cos(Math.PI*t/a)-1)+i
},easeOutSine:function(e,t,i,n,a){return n*Math.sin(t/a*(Math.PI/2))+i},easeOutCubic:function(e,t,i,n,a){return n*((t=t/a-1)*t*t+1)+i}})}(jQuery),function(e){e.rsProto._j4=function(){var e,t=this;if(t.st.addActiveClass){t.ev.on("rsBeforeMove",function(){i()}),t.ev.on("rsAfterInit",function(){i()});var i=function(){e&&clearTimeout(e),e=setTimeout(function(){t._a4&&t._a4.removeClass("rsActiveSlide"),t._d1&&t._d1.addClass("rsActiveSlide"),e=null},50)}}},e.rsModules.activeClass=e.rsProto._j4}(jQuery),function(e){e.extend(e.rsProto,{_k4:function(){function t(){var e=n.currSlide;if(n.currSlide&&n.currSlide.isLoaded&&n._o4!==e){if(0<n._n4.length){for(i=0;i<n._n4.length;i++)clearTimeout(n._n4[i]);n._n4=[]}if(0<n._m4.length){var t;for(i=0;i<n._m4.length;i++)(t=n._m4[i])&&(n._c?(t.block.css(n._e+n._o1,"0s"),t.block.css(t.css)):t.running?t.block.stop(!0,!0):t.block.css(t.css),n._o4=null,e.animBlocksDisplayed=!1);n._m4=[]}e.animBlocks&&(e.animBlocksDisplayed=!0,n._o4=e,n._p4(e.animBlocks))}}var i,n=this;n._l4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},n.st.block=e.extend({},n._l4,n.st.block),n._m4=[],n._n4=[],n.ev.on("rsAfterInit",function(){t()}),n.ev.on("rsBeforeParseNode",function(t,i,n){i=e(i),n.animBlocks=i.find(".rsABlock").css("display","none"),n.animBlocks.length||(n.animBlocks=i.hasClass("rsABlock")?i.css("display","none"):!1)}),n.ev.on("rsAfterContentSet",function(e,i){i.id===n.currSlideId&&setTimeout(function(){t()},n.st.fadeinLoadedSlide?300:0)}),n.ev.on("rsAfterSlideChange",function(){t()})},_q4:function(e,t){setTimeout(function(){e.css(t)},6)},_p4:function(t){var i,n,a,o,r=this;r._n4=[],t.each(function(t){i=e(this),n={},a={},o=null;var s=i.data("move-offset");if(isNaN(s)&&(s=r.st.block.moveOffset),s>0){var l=i.data("move-effect");if(l?(l=l.toLowerCase(),"none"===l?l=!1:"left"!==l&&"top"!==l&&"bottom"!==l&&"right"!==l&&(l=r.st.block.moveEffect,"none"===l&&(l=!1))):l=r.st.block.moveEffect,l){var c;c="right"===l||"left"===l?!0:!1;var d,u;isOppositeProp=!1,r._c?(d=0,u=r._r1):(c?isNaN(parseInt(i.css("right"),10))?u="left":(u="right",isOppositeProp=!0):isNaN(parseInt(i.css("bottom"),10))?u="top":(u="bottom",isOppositeProp=!0),u="margin-"+u,isOppositeProp&&(s=-s),d=parseInt(i.css(u),10)),a[u]=r._h4("top"===l||"left"===l?d-s:d+s,c),n[u]=r._h4(d,c)}}(s=i.attr("data-fade-effect"))?("none"===s.toLowerCase()||"false"===s.toLowerCase())&&(s=!1):s=r.st.block.fadeEffect,s&&(a.opacity=0,n.opacity=1),(s||l)&&(o={},o.hasFade=Boolean(s),Boolean(l)&&(o.moveProp=u,o.hasMove=!0),o.speed=i.data("speed"),isNaN(o.speed)&&(o.speed=r.st.block.speed),o.easing=i.data("easing"),o.easing||(o.easing=r.st.block.easing),o.css3Easing=e.rsCSS3Easing[o.easing],o.delay=i.data("delay"),isNaN(o.delay)&&(o.delay=r.st.block.delay*t)),l={},r._c&&(l[r._e+r._o1]="0ms"),l.moveProp=n.moveProp,l.opacity=n.opacity,l.display="none",r._m4.push({block:i,css:l}),r._q4(i,a),r._n4.push(setTimeout(function(e,t,i,n){return function(){if(e.css("display","block"),i){var a={};if(r._c){var o="";i.hasMove&&(o+=i.moveProp),i.hasFade&&(i.hasMove&&(o+=", "),o+="opacity"),a[r._e+r._n1]=o,a[r._e+r._o1]=i.speed+"ms",a[r._e+r._p1]=i.css3Easing,e.css(a),setTimeout(function(){e.css(t)},24)}else setTimeout(function(){e.animate(t,i.speed,i.easing)},16)}delete r._n4[n]}}(i,n,o,t),6>=o.delay?12:o.delay))})}}),e.rsModules.animatedBlocks=e.rsProto._k4}(jQuery),function(e){e.extend(e.rsProto,{_r4:function(){var e=this;if(e.st.autoHeight){var t,i;e.slider.addClass("rsAutoHeight"),e.ev.on("rsAfterInit",function(){setTimeout(function(){n(!1),setTimeout(function(){e.slider.append('<div id="clear" style="clear:both;"></div>'),e._c&&e._a1.css(e._e+"transition","height "+e.st.transitionSpeed+"ms ease-in-out")},16)},16)}),e.ev.on("rsBeforeAnimStart",function(){n(!0)}),e.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){n(!1)},16)});var n=function(a){var o=e.slides[e.currSlideId];t=o.holder,o.isLoaded?t&&(i=t.height(),0!==i&&void 0!==i&&(e._v3=i,e._c||!a?e._a1.css("height",i):e._a1.stop(!0,!0).animate({height:i},e.st.transitionSpeed))):e.ev.off("rsAfterContentSet.rsAutoHeight").on("rsAfterContentSet.rsAutoHeight",function(e,t){o===t&&n()})}}}}),e.rsModules.autoHeight=e.rsProto._r4}(jQuery),function(e){e.extend(e.rsProto,{_u4:function(){var t,i=this;i._v4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},i.st.autoPlay=e.extend({},i._v4,i.st.autoPlay),i.st.autoPlay.enabled&&(i.ev.on("rsBeforeParseNode",function(i,n,a){n=e(n),(t=n.attr("data-rsDelay"))&&(a.customDelay=parseInt(t,10))}),i.ev.one("rsAfterInit",function(){i._w4()}),i.ev.on("rsBeforeDestroy",function(){i.stopAutoPlay()}))},_w4:function(){var e=this;e.startAutoPlay(),e.ev.on("rsAfterContentSet",function(t,i){!e._g2&&!e._h2&&e._x4&&i===e.currSlide&&e._y4()}),e.ev.on("rsDragRelease",function(){e._x4&&e._z4&&(e._z4=!1,e._y4())}),e.ev.on("rsAfterSlideChange",function(){e._x4&&e._z4&&(e._z4=!1,e.currSlide.isLoaded&&e._y4())}),e.ev.on("rsDragStart",function(){e._x4&&(e.st.autoPlay.stopAtAction?e.stopAutoPlay():(e._z4=!0,e._a5()))}),e.ev.on("rsBeforeMove",function(t,i,n){e._x4&&(n&&e.st.autoPlay.stopAtAction?e.stopAutoPlay():(e._z4=!0,e._a5()))}),e._b5=!1,e.ev.on("rsVideoStop",function(){e._x4&&(e._b5=!1,e._y4())}),e.ev.on("rsVideoPlay",function(){e._x4&&(e._z4=!1,e._a5(),e._b5=!0)}),e.st.autoPlay.pauseOnHover&&(e._c5=!1,e.slider.hover(function(){e._x4&&(e._z4=!1,e._a5(),e._c5=!0)},function(){e._x4&&(e._c5=!1,e._y4())}))},toggleAutoplay:function(){this._x4?this.startAutoPlay():this.stopAutoPlay()},startAutoPlay:function(){this._x4=!0,this.currSlide.isLoaded&&this._y4()},stopAutoPlay:function(){this._b5=this._c5=this._z4=this._x4=!1,this._a5()},_y4:function(){var e=this;!e._c5&&!e._b5&&(e._d5=!0,e._e5&&clearTimeout(e._e5),e._e5=setTimeout(function(){var t;!e._v&&!e.st.loopRewind&&(t=!0,e.st.loopRewind=!0),e.next(!0),t&&(e.st.loopRewind=!1)},e.currSlide.customDelay?e.currSlide.customDelay:e.st.autoPlay.delay))},_a5:function(){!this._c5&&!this._b5&&(this._d5=!1,this._e5&&(clearTimeout(this._e5),this._e5=null))}}),e.rsModules.autoplay=e.rsProto._u4}(jQuery),function(e){e.extend(e.rsProto,{_f5:function(){var t=this;"bullets"===t.st.controlNavigation&&(t.ev.one("rsAfterPropsSetup",function(){t._g5=!0,t.slider.addClass("rsWithBullets");for(var i='<div class="rsNav rsBullets">',n=0;n<t.numSlides;n++)i+='<div class="rsNavItem rsBullet"><span class=""></span></div>';i=e(i+"</div>"),t._t4=i,t._h5=i.children(),t.slider.append(i),t._t4.click(function(i){i=e(i.target).closest(".rsNavItem"),i.length&&t.goTo(i.index())})}),t.ev.on("rsOnAppendSlide",function(e,i,n){n>=t.numSlides?t._t4.append('<div class="rsNavItem rsBullet"><span class=""></span></div>'):t._h5.eq(n).before('<div class="rsNavItem rsBullet"><span class=""></span></div>'),t._h5=t._t4.children()}),t.ev.on("rsOnRemoveSlide",function(e,i){var n=t._h5.eq(i);n&&(n.remove(),t._h5=t._t4.children())}),t.ev.on("rsOnUpdateNav",function(){var i=t.currSlideId;t._i5&&t._i5.removeClass("rsNavSelected"),i=e(t._h5[i]),i.addClass("rsNavSelected"),t._i5=i}))}}),e.rsModules.bullets=e.rsProto._f5}(jQuery),function(e){e.extend(e.rsProto,{_j5:function(){var t,i,n=this;if(n._k5={enabled:!1,change:!1,prefix:""},n.st.deeplinking=e.extend({},n._k5,n.st.deeplinking),n.st.deeplinking.enabled){var a=n.st.deeplinking.change,o="#"+n.st.deeplinking.prefix,r=function(){var e=window.location.hash;return e&&(e=parseInt(e.substring(o.length),10),e>=0)?e-1:-1},s=r();-1!==s&&(n.st.startSlideId=s),a&&e(window).on("hashchange.rs",function(){if(!t){var e=r();0>e?e=0:e>n.numSlides-1&&(e=n.numSlides-1),n.goTo(e)}}),n.ev.on("rsAfterSlideChange",function(){i&&clearTimeout(i),t=!0,window.location.hash=o+(n.currSlideId+1),i=setTimeout(function(){t=!1,i=0},60)})}}}),e.rsModules.deeplinking=e.rsProto._j5}(jQuery),function(e,t,i){function n(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var a,o=document,r=e.event.special,s=o.documentMode,l="onhashchange"in t&&(s===i||s>7);e.fn.hashchange=function(e){return e?this.bind("hashchange",e):this.trigger("hashchange")},e.fn.hashchange.delay=50,r.hashchange=e.extend(r.hashchange,{setup:function(){return l?!1:void e(a.start)},teardown:function(){return l?!1:void e(a.stop)}});var c,d=function(){var i=n(),a=p(u);i!==u?(h(u=i,a),e(t).trigger("hashchange")):a!==u&&(location.href=location.href.replace(/#.*/,"")+a),c=setTimeout(d,e.fn.hashchange.delay)},r={},u=n(),h=s=function(e){return e},p=s;if(r.start=function(){c||d()},r.stop=function(){c&&clearTimeout(c),c=i},e.browser.msie&&!l){var f,m;r.start=function(){f||(m=(m=e.fn.hashchange.src)&&m+n(),f=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){m||h(n()),d()}).attr("src",m||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(f.document.title=o.title)}catch(e){}})},r.stop=s,p=function(){return n(f.location.href)},h=function(t,i){var n=f.document,a=e.fn.hashchange.domain;t!==i&&(n.title=o.title,n.open(),a&&n.write('<script>document.domain="'+a+'"</script>'),n.close(),f.location.hash=t)}}a=r}(jQuery,this),function(e){e.extend(e.rsProto,{_l5:function(){var t=this;t._m5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},t.st.fullscreen=e.extend({},t._m5,t.st.fullscreen),t.st.fullscreen.enabled&&t.ev.one("rsBeforeSizeSet",function(){t._n5()})},_n5:function(){var t=this;if(t._o5=!t.st.keyboardNavEnabled&&t.st.fullscreen.keyboardNav,t.st.fullscreen.nativeFS){t._p5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var i=["webkit","moz","o","ms","khtml"];if("undefined"!=typeof document.cancelFullScreen)t._p5.supportsFullScreen=!0;else for(var n=0;n<i.length;n++)if(t._p5.prefix=i[n],"undefined"!=typeof document[t._p5.prefix+"CancelFullScreen"]){t._p5.supportsFullScreen=!0;break}t._p5.supportsFullScreen?(t._p5.fullScreenEventName=t._p5.prefix+"fullscreenchange.rs",t._p5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t._p5.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},t._p5.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):t._p5=!1}t.st.fullscreen.buttonFS&&(t._q5=e('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(t.st.controlsInside?t._a1:t.slider).on("click.rs",function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()}))},enterFullscreen:function(t){var i=this;if(i._p5){if(!t)return i._a.on(i._p5.fullScreenEventName,function(){i._p5.isFullScreen()?i.enterFullscreen(!0):i.exitFullscreen(!0)}),void i._p5.requestFullScreen(e("html")[0]);i._p5.requestFullScreen(e("html")[0])}if(!i._r5){i._r5=!0,i._a.on("keyup.rsfullscreen",function(e){27===e.keyCode&&i.exitFullscreen()}),i._o5&&i._v1(),i._s5=e("html").attr("style"),i._t5=e("body").attr("style"),i._u5=i.slider.attr("style"),e("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),i.slider.addClass("rsFullscreen");var n;for(n=0;n<i.numSlides;n++)if(t=i.slides[n],t.isRendered=!1,t.bigImage){t.isMedLoaded=t.isLoaded,t.isMedLoading=t.isLoading,t.medImage=t.image,t.medIW=t.iW,t.medIH=t.iH,t.slideId=-99,t.bigImage!==t.medImage&&(t.sizeType="big"),t.isLoaded=t.isBigLoaded,t.isLoading=t.isBigLoading,t.image=t.bigImage,t.iW=t.bigIW,t.iH=t.bigIH,t.contentAdded=!1;var a=t.isLoaded?'<img class="rsImg" src="'+t.image+'"/>':'<a class="rsImg" href="'+t.image+'"></a>';t.content.hasClass("rsImg")?t.content=e(a):t.content.find(".rsImg").replaceWith(a)}i.isFullscreen=!0,setTimeout(function(){i._r5=!1,i.updateSliderSize()},100)}},exitFullscreen:function(t){var i=this;if(i._p5){if(!t)return void i._p5.cancelFullScreen(e("html")[0]);i._a.off(i._p5.fullScreenEventName)}if(!i._r5){i._r5=!0,i._a.off("keyup.rsfullscreen"),i._o5&&i._a.off("keydown.rskb"),e("html").attr("style",i._s5||""),e("body").attr("style",i._t5||""),i.slider.removeClass("rsFullscreen");var n;for(n=0;n<i.numSlides;n++)if(t=i.slides[n],t.isRendered=!1,t.bigImage){t.slideId=-99,t.isBigLoaded=t.isLoaded,t.isBigLoading=t.isLoading,t.bigImage=t.image,t.bigIW=t.iW,t.bigIH=t.iH,t.isLoaded=t.isMedLoaded,t.isLoading=t.isMedLoading,t.image=t.medImage,t.iW=t.medIW,t.iH=t.medIH,t.contentAdded=!1;var a=t.isLoaded?'<img class="rsImg" src="'+t.image+'"/>':'<a class="rsImg" href="'+t.image+'"></a>';t.content.hasClass("rsImg")?t.content=e(a):t.content.find(".rsImg").replaceWith(a),t.holder&&t.holder.html(t.content),t.bigImage!==t.medImage&&(t.sizeType="med")}i.isFullscreen=!1,setTimeout(function(){i._r5=!1,i.updateSliderSize()},100)}}}),e.rsModules.fullscreen=e.rsProto._l5}(jQuery),function(e){e.extend(e.rsProto,{_v5:function(){var t=this;t.st.globalCaption&&(t.ev.on("rsAfterInit",function(){t.globalCaption=e('<div class="rsGCaption"></div>').appendTo(t.slider),t.globalCaption.html(t.currSlide.caption)}),t.ev.on("rsBeforeAnimStart",function(){t.globalCaption.html(t.currSlide.caption)}))}}),e.rsModules.globalCaption=e.rsProto._v5}(jQuery),function(e){e.extend(e.rsProto,{_s4:function(){var e=this;e.st.navAutoHide&&!e.hasTouch&&e.ev.one("rsAfterInit",function(){if(e._t4){e._t4.addClass("rsHidden");var t=e.slider;t.one("mousemove.controlnav",function(){e._t4.removeClass("rsHidden")}),t.hover(function(){e._t4.removeClass("rsHidden")},function(){e._t4.addClass("rsHidden")})}})}}),e.rsModules.autoHideNav=e.rsProto._s4}(jQuery),function(e){e.extend(e.rsProto,{_w5:function(){var t=this;"tabs"===t.st.controlNavigation&&(t.ev.on("rsBeforeParseNode",function(t,i,n){i=e(i),n.thumbnail=i.find(".rsTmb").remove(),n.thumbnail.length?n.thumbnail=e(document.createElement("div")).append(n.thumbnail).html():(n.thumbnail=i.attr("data-rsTmb"),n.thumbnail||(n.thumbnail=i.find(".rsImg").attr("data-rsTmb")),n.thumbnail=n.thumbnail?'<img src="'+n.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._x5()}),t.ev.on("rsOnAppendSlide",function(e,i,n){n>=t.numSlides?t._t4.append('<div class="rsNavItem rsTab">'+i.thumbnail+"</div>"):t._h5.eq(n).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>"),t._h5=t._t4.children()}),t.ev.on("rsOnRemoveSlide",function(e,i){var n=t._h5.eq(i);n&&(n.remove(),t._h5=t._t4.children())}),t.ev.on("rsOnUpdateNav",function(){var i=t.currSlideId;t._i5&&t._i5.removeClass("rsNavSelected"),i=e(t._h5[i]),i.addClass("rsNavSelected"),t._i5=i}))},_x5:function(){var t,i,n=this;n._g5=!0,t='<div class="rsNav rsTabs">';for(var a=0;a<n.numSlides;a++)a===n.numSlides-1&&(style=""),i=n.slides[a],t+='<div class="rsNavItem rsTab">'+i.thumbnail+"</div>";t=e(t+"</div>"),n._t4=t,n._h5=t.find(".rsNavItem"),n.slider.append(t),n._t4.click(function(t){t=e(t.target).closest(".rsNavItem"),t.length&&n.goTo(t.index())})}}),e.rsModules.tabs=e.rsProto._w5}(jQuery),function(e){e.extend(e.rsProto,{_y5:function(){var t=this;"thumbnails"===t.st.controlNavigation&&(t._z5={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0},t.st.thumbs=e.extend({},t._z5,t.st.thumbs),t.ev.on("rsBeforeParseNode",function(t,i,n){i=e(i),n.thumbnail=i.find(".rsTmb").remove(),n.thumbnail.length?n.thumbnail=e(document.createElement("div")).append(n.thumbnail).html():(n.thumbnail=i.attr("data-rsTmb"),n.thumbnail||(n.thumbnail=i.find(".rsImg").attr("data-rsTmb")),n.thumbnail=n.thumbnail?'<img src="'+n.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._a6()}),t.ev.on("rsOnUpdateNav",function(){var i,n=t.currSlideId;t._i5&&t._i5.removeClass("rsNavSelected"),i=e(t._h5[n]),i.addClass("rsNavSelected"),t._b6&&t._c6(n),t._i5=i}),t.ev.on("rsOnAppendSlide",function(e,i,n){e="<div"+t._d6+' class="rsNavItem rsThumb">'+t._e6+i.thumbnail+"</div>",n>=t.numSlides?t._l3.append(e):t._h5.eq(n).before(e),t._h5=t._l3.children(),t.updateThumbsSize()}),t.ev.on("rsOnRemoveSlide",function(e,i){var n=t._h5.eq(i);n&&(n.remove(),t._h5=t._l3.children(),t.updateThumbsSize())}))},_a6:function(){var t,i,n=this,a="rsThumbs",o="",r=n.st.thumbs.spacing;n._g5=!0,r>0?(t=r+"px ",t=' style="margin: 0 '+t+t+'0;"'):t="",n._d6=t,n._x2="vertical"===n.st.thumbs.orientation?!1:!0,n._b3=0,n._f6=!1,n._g6=!1,n._b6=!1,n._h6=n.st.thumbs.arrows&&n.st.thumbs.navigation,i=n._x2?"Hor":"Ver",n.slider.addClass("rsWithThumbs rsWithThumbs"+i),o+='<div class="rsNav rsThumbs rsThumbs'+i+'"><div class="'+a+'Container">',n._e6=n.st.thumbs.appendSpan?'<span class="thumbIco"></span>':"";for(var s=0;s<n.numSlides;s++)i=n.slides[s],o+="<div"+t+' class="rsNavItem rsThumb">'+n._e6+i.thumbnail+"</div>";o=e(o+"</div></div>"),n._l3=e(o).find("."+a+"Container"),n._h6&&(a+="Arrow",n.st.thumbs.arrowLeft?n._i6=n.st.thumbs.arrowLeft:(n._i6=e('<div class="'+a+" "+a+'Left"><div class="'+a+'Icn"></div></div>'),o.append(n._i6)),n.st.thumbs.arrowRight?n._j6=n.st.thumbs.arrowRight:(n._j6=e('<div class="'+a+" "+a+'Right"><div class="'+a+'Icn"></div></div>'),o.append(n._j6)),n._i6.click(function(){var e=(Math.floor(n._b3/n._k6)+n._l6)*n._k6;n._t3(e>n._g3?n._g3:e)}),n._j6.click(function(){var e=(Math.floor(n._b3/n._k6)-n._l6)*n._k6;n._t3(e<n._h3?n._h3:e)}),n.st.thumbs.arrowsAutoHide&&!n.hasTouch)&&(n._i6.css("opacity",0),n._j6.css("opacity",0),o.one("mousemove.rsarrowshover",function(){n._b6&&(n._i6.css("opacity",1),n._j6.css("opacity",1))}),o.hover(function(){n._b6&&(n._i6.css("opacity",1),n._j6.css("opacity",1))},function(){n._b6&&(n._i6.css("opacity",0),n._j6.css("opacity",0))})),n._t4=o,n._h5=n._l3.children(),n.slider.append(o),n._p3=!0,n._m6=r,n.st.thumbs.navigation&&n._c&&n._l3.css(n._e+"transition-property",n._e+"transform"),n._t4.click(function(t){n._g6||(t=e(t.target).closest(".rsNavItem"),t.length&&n.goTo(t.index()))}),n.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){n._n6=n._x2?n._v3:n._u3,n.updateThumbsSize()})},updateThumbsSize:function(){var e=this,t=e._h5.first(),i={},n=e._h5.length;e._k6=(e._x2?t.outerWidth():t.outerHeight())+e._m6,e._r3=n*e._k6-e._m6,i[e._x2?"width":"height"]=e._r3+e._m6,e._s3=e._x2?e._t4.width():e._t4.height(),e._h3=-(e._r3-e._s3)-(e.st.thumbs.firstMargin?e._m6:0),e._g3=e.st.thumbs.firstMargin?e._m6:0,e._l6=Math.floor(e._s3/e._k6),e._r3<e._s3?(e.st.thumbs.autoCenter&&e._j3((e._s3-e._r3)/2),e.st.thumbs.arrows&&e._i6&&(e._i6.addClass("rsThumbsArrowDisabled"),e._j6.addClass("rsThumbsArrowDisabled")),e._b6=!1,e._g6=!1,e._t4.off(e._f1)):e.st.thumbs.navigation&&!e._b6&&(e._b6=!0,!e.hasTouch&&e.st.thumbs.drag||e.hasTouch&&e.st.thumbs.touch)&&(e._g6=!0,e._t4.on(e._f1,function(t){e._b2(t,!0)})),e._l3.css(i),e._p3&&(e.isFullscreen||e.st.thumbs.fitInViewport)&&(e._x2?e._v3=e._n6-e._t4.outerHeight():e._u3=e._n6-e._t4.outerWidth())},setThumbsOrientation:function(e,t){this._p3&&(this.st.thumbs.orientation=e,this._t4.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._a6(),this._t4.off(this._f1),t||this.updateSliderSize(!0))},_j3:function(e){this._b3=e,this._c?this._l3.css(this._r1,this._s1+(this._x2?e+this._t1+0:0+this._t1+e)+this._u1):this._l3.css(this._x2?this._r1:this._q1,e)},_t3:function(t,i,n,a,o){var r=this;if(r._b6){i||(i=r.st.thumbs.transitionSpeed),r._b3=t,r._o6&&clearTimeout(r._o6),r._f6&&(r._c||r._l3.stop(),n=!0);var s={};r._f6=!0,r._c?(s[r._e+"transition-duration"]=i+"ms",s[r._e+"transition-timing-function"]=n?e.rsCSS3Easing[r.st.easeOut]:e.rsCSS3Easing[r.st.easeInOut],r._l3.css(s),r._j3(t)):(s[r._x2?r._r1:r._q1]=t+"px",r._l3.animate(s,i,n?"easeOutCubic":r.st.easeInOut)),a&&(r._b3=a),r._p6(),r._o6=setTimeout(function(){r._f6=!1,o&&(r._t3(a,o,!0),o=null)},i)}},_p6:function(){this._h6&&(this._b3===this._g3?this._i6.addClass("rsThumbsArrowDisabled"):this._i6.removeClass("rsThumbsArrowDisabled"),this._b3===this._h3?this._j6.addClass("rsThumbsArrowDisabled"):this._j6.removeClass("rsThumbsArrowDisabled"))},_c6:function(e,t){var i,n=0,a=e*this._k6+2*this._k6-this._m6+this._g3,o=Math.floor(this._b3/this._k6);this._b6&&(a+this._b3>this._s3?(e===this.numSlides-1&&(n=1),o=-e+this._l6-2+n,i=o*this._k6+this._s3%this._k6+this._m6-this._g3):0!==e?(e-1)*this._k6<=-this._b3+this._g3&&e-1<=this.numSlides-this._l6&&(i=(-e+1)*this._k6+this._g3):i=this._g3,i!==this._b3&&(n=void 0===i?this._b3:i,n>this._g3?this._j3(this._g3):n<this._h3?this._j3(this._h3):void 0!==i&&(t?this._j3(i):this._t3(i))),this._p6())}}),e.rsModules.thumbnails=e.rsProto._y5}(jQuery),function(e){e.extend(e.rsProto,{_q6:function(){var t=this;t._r6={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},t.st.video=e.extend({},t._r6,t.st.video),t.ev.on("rsBeforeSizeSet",function(){t._d4&&setTimeout(function(){var e=t._d1,e=e.hasClass("rsVideoContainer")?e:e.find(".rsVideoContainer");t._s6.css({width:e.width(),height:e.height()})},32)});var i=e.browser.mozilla;t.ev.on("rsAfterParseNode",function(n,a,o){if(n=e(a),o.videoURL){i&&(t._c=t._d=!1);var a=e('<div class="rsVideoContainer"></div>'),r=e('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');n.hasClass("rsImg")?o.content=a.append(n).append(r):o.content.find(".rsImg").wrap(a).after(r)}})},toggleVideo:function(){return this._d4?this.stopVideo():this.playVideo()},playVideo:function(){var t=this;if(!t._d4){var i=t.currSlide;if(!i.videoURL)return!1;var n,a,o=t._t6=i.content,i=i.videoURL;return i.match(/youtu\.be/i)||i.match(/youtube\.com\/watch/i)?(a=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(a=i.match(a))&&11==a[7].length&&(n=a[7]),void 0!==n&&(t._s6=t.st.video.youTubeCode.replace("%id%",n))):i.match(/vimeo\.com/i)&&(a=/\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,(a=i.match(a))&&(n=a[2]),void 0!==n&&(t._s6=t.st.video.vimeoCode.replace("%id%",n))),t.videoObj=e(t._s6),t.ev.trigger("rsOnCreateVideoElement",[i]),t.videoObj.length&&(t._s6=e('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),t._s6.find(".rsPreloader").after(t.videoObj),o=o.hasClass("rsVideoContainer")?o:o.find(".rsVideoContainer"),t._s6.css({width:o.width(),height:o.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(e){return t.stopVideo(),e.preventDefault(),e.stopPropagation(),!1}),o.append(t._s6),t.isIPAD&&o.addClass("rsIOSVideo"),t._w1&&t.st.video.autoHideArrows&&(t._w1.addClass("rsHidden"),t._x1.addClass("rsHidden"),t._y1=!0),t._t4&&t.st.video.autoHideControlNav&&t._t4.addClass("rsHidden"),t.st.video.autoHideBlocks&&t.currSlide.animBlocks&&t.currSlide.animBlocks.addClass("rsHidden"),setTimeout(function(){t._s6.addClass("rsVideoActive")},10),t.ev.trigger("rsVideoPlay"),t._d4=!0),!0}return!1},stopVideo:function(){var e=this;return e._d4?(e.isIPAD&&e.slider.find(".rsCloseVideoBtn").remove(),e._w1&&e.st.video.autoHideArrows&&(e._w1.removeClass("rsHidden"),e._x1.removeClass("rsHidden"),e._y1=!1),e._t4&&e.st.video.autoHideControlNav&&e._t4.removeClass("rsHidden"),e.st.video.autoHideBlocks&&e.currSlide.animBlocks&&e.currSlide.animBlocks.removeClass("rsHidden"),setTimeout(function(){e._s6.remove()},16),e.ev.trigger("rsVideoStop"),e._d4=!1,!0):!1}}),e.rsModules.video=e.rsProto._q6}(jQuery),function(){function e(e,t){var i={},n="";i.sc={from:e.from,to:e.to,origin:e.origin,destination:e.destination,sourceType:"B2C",sellingCountry:window.CT.countryCode?window.CT.countryCode.toUpperCase():null,sellingCurrency:window.sell_currency?window.sell_currency.code:null,departDateString:e.depart_date,cabinType:e["class"].toUpperCase(),international:"y"==e.intl,adults:e.adults,infants:e.infants,children:e.childs},e.return_date&&(i.sc.returnDateString=e.return_date),p()?i.deviceId=CT.utils.cookies.read("Apache"):i.userId=CT.utils.cookies.read("userid")?unescape(CT.utils.cookies.read("userid")).split("|")[4]:"",n=CT.settings&&CT.settings.localhost?"/testpage/shortlist/fetch_entity.json":"/flight/shortlist/fetch/entity",$.ajax({url:n,headers:{"Content-Type":"application/json"},type:"POST",data:JSON.stringify(i),success:function(e){try{"string"==typeof e&&(e=JSON.parse(e)),t(e)}catch(i){console.log("Error",i)}}})}function t(e,t){var i={},n=CT.cache[t].searchParams.all.return_date?!0:!1;return _.each(e,function(e){var t=e.flightKey.onward.split("|").join("$$");n&&(t+="||"+e.flightKey["return"].split("|").join("$$")),i[t]=e.shortlistId}),i}function i(e){var i=this.tabId,a=t(e,i);CT.cache[i].shortListedItems=T[i]=a,CT.fire("shortlist.shortListedItemsReady["+i+"]",[a,i]),n(i)}function n(e){$("#ResultContainer_"+e).trigger("shortlist.shortlistCountUpdated")}function a(e,i,a){var o=t([{shortlistId:e.shortlistId,flightKey:a}],i);T[i]=CT.cache[i].shortListedItems=_.extend(CT.cache[i].shortListedItems||[],o),n(i)}function o(e,t){var i="";_.each(CT.cache[t].shortListedItems,function(t,n){t==e&&(i=n)}),i&&(CT.cache[t].shortListedItems=_.omit(CT.cache[t].shortListedItems,i),n(t))}function r(e,t,i){var n=i.find("tbody[data-fk='"+e+"']")[0];if(n){var a=$(n).find("a[linkidentifier=shortlist]")[0];a&&$(a).attr("shortlist_id",t).addClass("unShortlistFlight shortlist-result-cta--active").removeClass("shortlistFlight").find("span").html("Shortlisted").end().parents("li.listItem").addClass("showTabs shortlistedListItem")}}function s(e){var t=CT.cache[e].shortListedItems,i=$("#ResultContainer_"+e);t&&_.each(t,function(e,t){r(t,e,i)})}function l(e,t){if(!t&&"string"==typeof e)return"";if(isNaN(e))var i=new Date(e).getTime(),n=new Date(t).getTime(),a=Math.abs(i-n);else a=1e3*e;var o=Math.floor(a/6e4/60),r=a/6e4%60;return(o>0?o+"h ":"")+Math.abs(r)+"m"}function c(e){var t,i=e.replace(/[hm]/g,"").split(" ");return t=60*i[0]*60+60*i[1]}function d(e,t){function i(e){var t=[];return _.each(e,function(e){var i={};i.fr=e.departAirportIata,i.to=e.arrivalAirportIata,i.al=e.airlineCode,i.arname=e.airline,i.alNum=e.flightNumber,i.ad=moment(new Date(e.arrivalDateTime)).format("DD/MM/YYYY"),i.a=moment(new Date(e.arrivalDateTime)).format("HH:MM"),i.dpd=moment(new Date(e.departDateTime)).format("DD/MM/YYYY"),i.dp=moment(new Date(e.departDateTime)).format("HH:MM"),i.dr=e.duration,t.push(i)}),t}var n=[],a={summary:{},content:[]},o={summary:{},content:[]};return a.summary.pr=t.pr,a.summary.dur=t.onwardDuration,a.summary.fk=t.onwardFk,a.content=i(e[1]),n.push(a),e[2]&&(o.summary.pr=t.pr,o.summary.dur=t.returnDuration,o.summary.fk=t.returnFk,o.content=i(e[2]),n.push(o)),n}function u(e,t){var i=e?CT.cache[e].searchParams.all:t,n=e?i.origin.split(", ")[0]:i.origin.split(", ")[1],a=e?i.destination.split(", ")[0]:i.destination.split(", ")[1],o={from:i.from,to:i.to,origin:n,destination:a,sourceType:"B2C",sellingCountry:window.CT.countryCode?window.CT.countryCode.toUpperCase():null,sellingCurrency:window.sell_currency?window.sell_currency.code:null,departDateString:i.depart_date,cabinType:i["class"].toUpperCase(),international:"y"==i.intl,adults:i.adults,infants:i.infants,children:i.childs};return o}function h(e,t,i){function n(e){var t={};return _.each(e,function(e,i){var n={departAirport:e.fr,arrivalAirport:e.to,airline:e.al,airlineName:e.arname,flightNumber:e.alNum,arrivalDate:e.ad,arrivalTime:e.a,departDate:e.dpd,departTime:e.dp,duration:e.dr};t[i]=n}),t}function a(e,t){var i={};return i.onwardDuration=c(e.summary.dur),i.onwardSegments=n(e.content),t?(i.returnDuration=c(t.summary.dur),i.returnSegments=n(t.content)):(i.returnDuration=null,i.returnSegments={}),i}function o(e){return CT.utils.helperFunctions.getFlightFare&&e.fare?CT.utils.helperFunctions.getFlightFare(e.fare).pr:e.summary.pr}var r={},s=e?CT.cache[e].searchParams.all:i,l=t[0],d=t[1]||null;return r.sc=u(e,i),s.return_date&&(r.sc.returnDateString=s.return_date),r.metaData={domain:window.location.host,price:o(l),emailId:CT.utils.cookies.read("userid")?unescape(CT.utils.cookies.read("userid")).split("|")[0]:"",userId:CT.utils.cookies.read("userid")?unescape(CT.utils.cookies.read("userid")).split("|")[4]:""},p()&&(r.metaData.deviceId=CT.utils.cookies.read("Apache")),r.fd=[],r.fd.push(a(l,d)),r.flightKey={},l.summary.fk&&(d?-1!=l.summary.fk.indexOf("||")?(r.flightKey.onward=l.summary.fk.split("||")[0].split("$$").join("|"),r.flightKey["return"]=l.summary.fk.split("||")[1].split("$$").join("|")):(r.flightKey.onward=l.summary.fk.split("$$").join("|"),r.flightKey["return"]=d.summary.fk.split("$$").join("|")):r.flightKey.onward=l.summary.fk.split("$$").join("|")),r}function p(){var e=CT.utils.helperFunctions.isLoggedInUser();return!e}function f(e,t,i,n){function o(e,t,i){t&&a(e[0],t,r.flightKey),i(e)}var r=h(e,t,n),s="";p()&&window.localStorage.setItem("flightShortlistSyncRequired","true"),s=CT.settings&&CT.settings.localhost?"/testpage/shortlist/save.json":"/flight/shortlist/add",$.ajax({url:s,type:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(r),success:function(t){try{"string"==typeof t&&(t=JSON.parse(t)),t[0]&&"success"==t[0].status&&o(t,e,i)}catch(n){console.log("Error",n)}}})}function m(e,t,i,n){function a(e,t,i,n){t&&o(i,t),n(e)}var r={shortlistIdList:[t]},s="";s=CT.settings&&CT.settings.localhost?"/testpage/shortlist/delete.json":"/flight/shortlist/delete",$.ajax({url:s,type:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(r),success:function(i){try{"string"==typeof i&&(i=JSON.parse(i)),i&&"success"==i.status&&a(i,e,t,n),n(i)}catch(o){console.log("Error",o)}}})}function g(){var e=CT.utils.helperFunctions.isLoggedInUser(),t=window.localStorage.getItem("flightShortlistSyncRequired"),i={},n="";n=CT.settings&&CT.settings.localhost?"/testpage/shortlist/sync.json":"/flight/shortlist/update",e&&"true"==t&&1!=window.waitForFlightShortlistSync&&(window.waitForFlightShortlistSync=!0,i.userId=CT.utils.cookies.read("userid")?unescape(CT.utils.cookies.read("userid")).split("|")[4]:"",i.deviceId=CT.utils.cookies.read("Apache"),$.ajax({url:n,type:"GET",data:i,success:function(e){"string"==typeof e&&(e=JSON.parse(e))},complete:function(){window.waitForFlightShortlistSync=!1,window.localStorage.removeItem("flightShortlistSyncRequired"),CT.fire("syncFlightShortlistToAccountsComplete"),CT.unsubscribe("syncFlightShortlistToAccountsComplete")}}))}function C(e){CT.fire("syncFlightShortlistToAccounts"),1!=window.waitForFlightShortlistSync?e():CT.subscribe("syncFlightShortlistToAccountsComplete",function(){e()})}function w(e){var t,i={};t=CT.settings&&CT.settings.localhost?"/testpage/shortlist/count.json":"/flight/shortlist/count",p()?i.deviceId=CT.utils.cookies.read("Apache"):i.userId=i.userId=CT.utils.cookies.read("userid")?unescape(CT.utils.cookies.read("userid")).split("|")[4]:"",$.ajax({url:t,type:"GET",data:i,success:function(t){"string"==typeof t&&(t=JSON.parse(t)),t.count&&e(t.count)}})}function v(){var e=!1;return e=window.isFlightShortlistEnabled?window.isFlightShortlistABEnabled?"a"==CT.utils.getAbTestCookie("flshtl")?!0:!1:!0:!1}var T={};window.isFlightShortlistEnabled&&(CT.subscribe("tabCacheReady",function(t){return v()?void C(function(){"y"==CT.cache[t].searchParams.all.intl&&e(CT.cache[t].searchParams.all,i.bind({tabId:t}))}):!1}),CT.subscribe("postUpdateResultsOnceFnTriggered",function(e){return v()?void CT.subscribe("shortlist.shortListedItemsReady["+e+"]",function(){return e!=CT.settings.currentTab?!1:void s(e)}):!1}),CT.subscribe("shortlistFlightSolution",function(e,t,i){f(e,t,i)}),CT.subscribe("unShortlistFlightSolution",function(e,t,i){var n;e||(n=window.searchParams),C(function(){m(e,t,n,i)})}),CT.subscribe("shortlistFlightSolutionBookPage",function(e,t,i){window.srpOnwardDuration||(window.srpOnwardDurationInSec&&(window.srpOnwardDuration=l(Number(window.srpOnwardDurationInSec))),window.srpReturnDurationInSec&&(window.srpReturnDuration=l(Number(window.srpReturnDurationInSec))));
var n={onwardDuration:window.srpOnwardDuration,returnDuration:window.srpReturnDuration,pr:orgTotalAmt,onwardFk:window.onwardFlightKey,returnFk:window.returnFlightKey},a=window.searchParams,o=d(t,n);C(function(){f(null,o,i,a)})}),CT.subscribe("syncFlightShortlistToAccounts",function(){return v()?void g():!1}),CT.subscribe("fetchFlightShortlistCount",function(e){return v()?void C(function(){w(e)}):!1}))}(),!function(e){e(CT.Routes,CT.Pers,CT.Store,CT.cache.views.searchForm,CT.cache.views.searchTab,CT.cache.views.searchRecent,CT.smartHomePage,CT.Offers,CT.widgets.validator,CT.settings.validators,CT.Banner)}(function(e,t,i,n,a,o,r,s,l,c,d){function u(){var e=this;if(window.enableRecentSearch)if($.browser.msie&&parseInt($.browser.version,10)<=8);else{var t=e.get("recent");t&&window.enableRecentSearchFlightsPageOnly&&window.location.href.indexOf("/flights")>-1||!window.enableRecentSearchFlightsPageOnly?o.render(t):o.hideRecent()}}function h(){r.render()}function p(){var e=new t;u.call(e)}function f(e){var t=!("pushState"in window.history)&&-1===window.location.href.indexOf("/flights");return(t?"/flights":"")+("y"===e.intl?"/international":"")+"/results?"}function m(e){return"/flights"+("y"===e.intl?"/international":"")+"/results?"}function g(){var e=$("#Home").find("aside").first().outerHeight(),t=$("#Home").find("aside").last().outerHeight(),i=$(window).outerHeight(),n=$(".localFrame").outerHeight();appBannerHeight=$("#homeUpsellBanner").outerHeight(),appBannerHeight=appBannerHeight?appBannerHeight:"0",n=n?n:"0";var a=(Math.max(e,t,i-100-appBannerHeight),i-($("#GlobalNav").outerHeight()+$("footer").outerHeight()+parseInt(appBannerHeight)));a=a>910?a:910,$(".spacesView").css("min-height",a+"px"),CT.cache.homeTitle=document.title,CT.cache.els={$homeSection:$("#Home"),$homeCenter:$("#Home .viewController"),$resultSection:$("#Result")},$("#moreProductsLink").bind("click",function(){$(".moreProducts").toggle()}),CT.widgets.validator.delegate({errContainer:"fieldset"}),$(document).delegate("#modifySearchLink","click",function(){var e=$(this),t=e.find("i");t.hasClass("rArrow")?($(".spacesView").addClass("modifySearch"),CT.utils.modifySearch.open(t,e)):($(".spacesView").removeClass("modifySearch"),CT.utils.modifySearch.close(t,e))})}function C(e){if($(document.body).removeClass("srp multiCity splitScreen").addClass("home"),v(),window.enableLocalTab&&window.localsHome.initv2({attachLink:!0,localsLinkId:"localsNav"}),window.enableLocalWeb){var t=function(){window.localsHome.initv2({showLocalCard:!0}),window.localsHome.cTapTrackOnLoad()};$.isloaded?t():$(window).load(function(){t()})}if(!e||e&&!e.isPopped?($(".srpOverlay,#srpOverlayWarning").hide(),e||p(e)):(document.title=CT.cache.homeTitle,CT.utils.modifySearch.close(),CT.utils.modifySearch.closeLabel(),(n||CT.cache.views.searchForm).render(),p()),CT.fire("syncFlightShortlistToAccounts"),"sa"==window.countryCode&&(dataLayer=CT.settings.GATagManager,dataLayer[0]["Date-Search"]=moment().format("DD/MM/YYYY"),dataLayer[0]["Day-Search"]=moment().format("dddd"),dataLayer[0].Product="Air",dataLayer[0].Device="Desktop"),window.B2cProductEnabled){var i=!0;"complete"==document.readyState?CT.utils.loadTrackers(null,i):$(window).load(function(){CT.utils.loadTrackers(null,i)})}CT.utils.cookies.erase("defaultHotelsPage"),$(".tipsy .close").trigger("click"),homePageOffersJson&&s.init({product:"air",page:"home",url:homePageOffersJson}),d.init({country:window.countryCode,language:window.language}),(window.enableLocalWeb&&!window.isHomePage||!window.enableLocalWeb)&&h(),"sa"==window.countryCode&&(dataLayer[0]["From-Location"]="Value",dataLayer[0]["People-No"]="Value",dataLayer[0]["To-Location"]="Value",dataLayer[0]["Travel-Dates"]="Value",dataLayer[0]["Travel-Type"]="Value",dataLayer[0]["Flight-Return-OneWay"]="Value",window.B2cProductEnabled&&CT.utils.helperFunctions.includeGATagManager()),CT.utils.helperFunctions.storeUserReferer(),"sa"==window.countryCode&&CT.utils.helperFunctions.gtmMethods.setDataLayer({Product:"Air",Device:"Desktop",Domain:window.countryCode,Language:window.language,Currency:CT.settings.countryCurrCode&&CT.settings.countryCurrCode[countryCode]&&CT.settings.countryCurrCode[countryCode].code,"Device Type":window.isMobileUA?"Mobile":"Desktop"}).triggerEvent("airSearchLoaded"),$(".flashSaleInfo").delegate("#flightsHomeFlashSaleBanner","click",function(){CT.fire("flashsale.click")}),w()}function w(){CT.utils.helperFunctions.tpTrack({category:"cleartrip home viewed",tp:"clevertap",values:{domain:window.location.hostname,is_logged_in:CT.utils.readCTAuthCookie()?"yes":"no",page_name:("/"==window.location.pathname?"cleartrip":"flights")+"_home",platform:"desktop",source:"web"}})}function v(){var e=_.deserialize(window.location.search.substring(1));e.gclid&&CT.utils.cookies.create("utm_source","googlesem",1/48),CT.utils.helperFunctions.spotNonCleartripReferrer(void 0,window.location.href)}function T(e){$.isReady?CT.fire("results",[e]):$(function(){CT.fire("results",[e])}),$("#SearchBtn").removeClass("loading")}function y(e){if($("#SearchBtn").hasClass("formIsValid")||!e.from&&!e.to)T(e);else{var t=c.checkForCityAvailability;$.when(t(e.from),t(e.to)).done(function(t,i){if(3!=e.from.length||3!=e.to.length)t[0][0]&&i[0][0]&&(e.from!==t[0][0].k||e.to!==i[0][0].k)&&(e.from=t[0][0].k,e.to=i[0][0].k);else{for(var n=t[0],a=i[0],o=e.from.toUpperCase(),r=e.to.toUpperCase(),s=!1,l=!1,c=0,d=n.length;d>c;c++)if(n[c]&&o===n[c].k){e.from=n[c].k,s=!0;break}for(var c=0,d=a.length;d>c;c++)if(a[c]&&r===a[c].k){e.to=a[c].k,l=!0;break}s||(e.from=void 0!==n[0]?n[0].k:e.from),l||(e.to=void 0!==a[0]?a[0].k:e.to)}CT.messages[CT.app].nearByairportsMsg.pickedClosestMatch=!1,D.navigate(window.location.href.replace(/from=[^&.]+&/,"from="+e.from+"&").replace(/to=[^&.]+&/,"to="+e.to+"&"),{trigger:!1,replace:!0}),T(e)}).fail(function(){D.navigate(window.location.href.replace(/from=[^&.]+&/,"from="+e.from+"&").replace(/to=[^&.]+&/,"to="+e.to+"&"),{trigger:!1,replace:!0}),T(e)})}}function b(){try{var e=_.deserialize(window.location[S?"href":"hash"].split("results?")[1]);e.from||e.from1||(e=_.deserialize(window.location[S?"href":"hash"].split("?")[1]))}catch(t){console.error(t.message)}return("true"===e.multicity||e.from1)&&_.times(3,function(t){t+=3,!e["depart_date_"+t]||0!==e["from"+t].length&&0!==e["to"+t].length||(e["depart_date_"+t]="")}),e}function k(e){function t(e,t){var i=["from","to","depart_date","return_date"];CT.fire("tab.init",[e,i,t]),y(e,t)}function i(e){$(document.body).removeClass("home").addClass("srp")[(e.depart_date?"remove":"add")+"Class"]("multiCity splitScreen")[(e.return_date?"add":"remove")+"Class"]("splitScreen"),$("#Home").hide(),$("#homeUpsellBanner").hide(),$("#Result").show(),$("#ResultContainer_"+CT.settings.currentTab).hide();var i=a.getCurrentTab(e).tabId||"";if($("#ResultContainer_"+i)[0]){var n=$("#ResultContainer_"+i),o=!1;CT.cache[i].searchTime||(n.unbind().empty(),o=!0);var r=CT.cache[i].searchParams.all,s=!r.isIntl&&r.isRt;$(document.body)[(s?"add":"remove")+"Class"]("splitScreen roundTrip"),n.css("display","block"),$("#RecentTab_"+i.split("_")[0]).siblings().removeClass("current").end().addClass("current"),CT.settings.currentTab=i,CT.utils.modifySearch.close(),CT.utils.modifySearch.openLabel(r),$("#SearchBtn").removeClass("loading"),document.title=CT.cache[i].titles.resultList||CT.cache.homeTitle,o?t(r,o):n.trigger("results_scroll")}else t(e)}var n,o=e;CT.settings.srpRenderTime=(new Date).getTime();var r=window.location.href.indexOf("from1")>-1;$(".modify.searchBox")[r?"hide":"show"]();try{if(!o){if((n=CT.settings.routes.checkUrlForIE()).toReplace){if(-1!=n.newUrl.indexOf("?ui=v3&")){var s=n.newUrl.split("#");-1==s[0].indexOf("ui=v3")&&(s[0]=s[0]+"?ui=v3",s[1]=s[1].replace("ui=v3&",""),n.newUrl=s.join("#"))}return void(window.location.href=n.newUrl)}o=b(),CT.utils.showActiveCurrMenu(),window.location.href.indexOf("international")>-1&&(o.intl="y")}!o||o&&!o.isPopped?t(CT.settings.routes.cleanURLParams(o)):(o=b(),i(o)),"sa"==window.countryCode&&(dataLayer=CT.settings.GATagManager,dataLayer[0]["From-Location"]=o.from,dataLayer[0]["To-Location"]=o.to,dataLayer[0]["Travel-Dates"]=o.depart_date+(o.return_date?"|"+o.return_date:""),dataLayer[0]["People-No"]=o.adults+"|"+o.childs+"|"+o.infants,dataLayer[0]["Date-Search"]=moment().format("DD/MM/YYYY"),dataLayer[0]["Day-Search"]=moment().format("dddd"),dataLayer[0].Product="Air",dataLayer[0].Device="Desktop",dataLayer[0]["Travel-Type"]="n"==o.intl?"Domestic":"International"),CT.utils.helperFunctions.storeUserReferer(),CT.widgets.placeholder.parseDomTree(this.$el)}catch(l){}}var S=window.history&&"pushState"in window.history;CT.subscribe("results.old",function(e,t){var i=e.url?e.url:_.serialize(e);CT.settings.routes.navigate(f(e)+i,{trigger:!1}),$(".resultContainer").hide(),$("#ResultContainer_"+t).css("display","block").trigger("results_scroll"),document.title=CT.cache[t].titles.resultList}),CT.subscribe("url.update",function(e){var i=CT.settings.routes;CT.utils.helperFunctions.getSEMParams(window.location.search.substring(1),e);var n=i.cleanURLParams($.extend({},e));n=i.cleanURLParams($.extend({},e),["ver","type","trip_type","srpDepartDate","srpReturnDate"]),n=i.cleanURLParams(n,function(){_.each(this,function(e,t,i){/origin|destination/.test(t)&&delete i[t]})});var a=new t,o=(new Date).getTime();if(CT.settings[CT.app].filterApplied){var r=a.get("filter_applied");if(r&&r.length>0){var s=_.filter(r,function(e){return e.from===n.from&&e.to===n.to});s.length>0&&o-s[0].timestamp<864e5&&$.extend(n,s[0])}}var l=_.serialize(n);if(window.isMarketingPage===!0){var c=window.location;window.location.href="http://"+c.hostname+"/flights"+f(n)+l}else if($.browser.msie&&parseInt($.browser.version,10)<=8){var c=window.location,d="http://"+c.host+c.pathname+f(n)+l;d=i.__fix(i.getPathname(d)),window.location.href==d?window.location.reload():window.location.assign(d)}else if($.browser.msie&&"9.0"==$.browser.version&&window.location.hash==unescape("#"+f(n)+l))window.location.reload();else if(-1!=navigator.userAgent.indexOf("iPad")){var c=window.location;window.location.href="http://"+c.hostname+"/flights"+f(n)+l}else{if(!CT.settings[CT.app].runVmoTesting||!n.intl||"y"!==n.intl)return i.navigate(f(n)+l,e);var c=window.location,d="http://"+c.hostname+m(n)+l;window.location.href=d}}),CT.subscribe("url.update.filters",function(e){CT.settings.routes.navigate(f(e)+_.serialize(e),{trigger:!1,replace:!0})}),CT.subscribe("viewFlags.update",function(e){CT.cache[CT.settings.currentTab].flags=$.extend(!0,CT.cache[CT.settings.currentTab].flags,e)}),CT.subscribe("flashsale.click",function(){CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"Air_UI_Action",values:{last_event_type:-1,last_page_name:-1,current_page:"flights_home",action_type:"Link",action_name:"FlashSale_Message",is_logged_in:CT.utils.readCTAuthCookie()?"yes":"no",source:"web"}})}),$(document).delegate("#flightShortlistCountDisplay a","click",function(){CT.utils.helperFunctions.tpTrack({tp:"clevertap",category:"Air_UI_Action",values:{action_type:"Click",action_name:"Shortlistpage_entry",current_page:"flights_home"}})}),$.isReady?g():$(g);var A={"":["home",C],"/ar":["home",C],"/?:params":["home",C],"/ar?:params":["home",C],"/local":["home",C],"/results?:params":["search",k],"/international/results?:params":["search",k]};window.isMarketingPage===!0&&(A[window.location.pathname]=["home",C]);var D=CT.settings.routes=new e((window.CT.langUrlPrefix?window.CT.langUrlPrefix:"")+"/flights").add(A)});
//# sourceMappingURL=air.home.min.js
//# sourceMappingURL=air.home.min.js.map
try{if(_cleartrip["air.home"]) _cleartrip["air.home"]()	} catch(e){_cleartrip.alert({ fileName : "air.home" + ".min.js", error : e })};(function(){
	try{
		var _l = function(){
			var baseLink = window.hotelBaseLink || window.airBaseLink || window.staticBaseLink || "";
			CT.getScript(baseLink+(CT.langUrlPrefix||'')+'/javascripts/search/air.results.min' + window.air_results_min_js_ver + '.js', function(){
				if(window.location.href.indexOf('results') !== -1)
					CT.fire('assets_loaded'); //results page
			})
		}
		
		var loadAsyncAssets = function(assetList){
			var loadedAssetList = [];
	        
	        function callFunctionOnPageLoad(fn){
	        	fn();	
	        }
			
	        function getAssetHref(url){
	            var href;
	            var assetDomain = window.airBaseLink || "";
	            if(url.indexOf("http") != 0 && url.indexOf("//") != 0){
	                href = assetDomain + url;
	            }else{
	                href = url
	            }
	            return href;
	        }
	        
			//TODO: implement this funciton with help of Promise Object if Browser compatibility for Promise object is not an issue ; 
	        function cssOnLoadCallBack(){
	        	var $link = $(this)
	        	var cssPath = $link.attr("csspath");
	        	loadedAssetList.push(cssPath);
	        	
	        	if(_.difference(assetList, loadedAssetList).length == 0){
	        			window.resultsCSSAssetsLoaded = true;
	        			CT.fire("results_css_assets_loaded");
	        	}
	        }
	        
	        function loadCss(urls , async){
	            var cssNodes =  _.map(urls,function(url){
	                if($("style#home_css")[0]){
	                	return $('<link>')
	                    .attr({
	                        media:(async)?"none":"all",
	                        async:"true",		
	                        type: 'text/css', 
	                        rel: 'stylesheet',
	                        href: getAssetHref(url),
	                        csspath: url,
	                        onload: cssOnLoadCallBack
	                    })
	                    .insertAfter('style#home_css');
	                }else{
	                	return $('<link>')
	                    .appendTo('head')
	                    .attr({
	                        media:(async)?"none":"all",
	                        async:"true",		
	                        type: 'text/css', 
	                        rel: 'stylesheet',
	                        href: getAssetHref(url),
	                        csspath: url,
	                        onload: cssOnLoadCallBack
	                    });
	                }
	            	
	            });

	            return cssNodes;
	        }
	        
	        if(!assetList){
	        	return;
	        }
	        
	        callFunctionOnPageLoad(function(){
	            var $cssNodes;
	            $cssNodes = loadCss(assetList,false);
	        });
		}
		
		
		
		
		
		if(typeof $ === 'undefined' || typeof CT === 'undefined')
			throw "CTScriptException"
		if(window.location.href.indexOf('results') == -1)
			CT.fire('assets_loaded'); // home page
		if(!window.ct_settings_dlEnabled){
			CT.getScript('/javascripts/widgets/loadingBar.js', _l);
		}else{
			_l();
		}
		loadAsyncAssets(window.asyncAssetList);
		
	} catch(e){
		_cleartrip.alert(e)
	}
})();