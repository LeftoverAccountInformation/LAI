function toolsAvatar(a,b){"use strict";if(a){var c=a,d=getAvatarUrl(a);if(d)return b=b||c.dataset.profileid,d=d.replace(/\{.*\}/,b),$.get(d).then(function(b){return b&&b.uri&&(c.dataset.renderInitials=!1,c.style.backgroundImage="url("+b.uri+")"),a})}}function getAvatarUrl(a){"use strict";return"undefined"!=typeof avatarConfig?avatarConfig.imageURL:a.dataset.avatarurl}!function(a,b){function c(a){var b=a.length,c=ka.type(a);return!ka.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)))}function d(a){var b=za[a]={};return ka.each(a.match(ma)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(ka.acceptData(a)){var f,g,h=ka.expando,i=a.nodeType,j=i?ka.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=ba.pop()||ka.guid++:h),j[k]||(j[k]=i?{}:{toJSON:ka.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=ka.extend(j[k],c):j[k].data=ka.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[ka.camelCase(c)]=d),"string"==typeof c?null==(f=g[c])&&(f=g[ka.camelCase(c)]):f=g,f}}function f(a,b,c){if(ka.acceptData(a)){var d,e,f=a.nodeType,g=f?ka.cache:a,i=f?a[ka.expando]:ka.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){ka.isArray(b)?b=b.concat(ka.map(b,ka.camelCase)):b in d?b=[b]:(b=ka.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!ka.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?ka.cleanData([a],!0):ka.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Ba,"-$1").toLowerCase();if("string"==typeof(d=a.getAttribute(e))){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:Aa.test(d)?ka.parseJSON(d):d)}catch(X){}ka.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!ka.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function m(a,b,c){if(ka.isFunction(b))return ka.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ka.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qa.test(b))return ka.filter(b,a,c);b=ka.filter(b,a)}return ka.grep(a,function(a){return ka.inArray(a,b)>=0!==c})}function n(a){var b=Ua.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return ka.nodeName(a,"table")&&ka.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==ka.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)ka._data(c,"globalEval",!b||ka._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&ka.hasData(a)){var c,d,e,f=ka._data(a),g=ka._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ka.event.add(b,c,h[c][d])}g.data&&(g.data=ka.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ka.support.noCloneEvent&&b[ka.expando]){e=ka._data(b);for(d in e.events)ka.removeEvent(b,d,e.handle);b.removeAttribute(ka.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ka.support.html5Clone&&a.innerHTML&&!ka.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||ka.nodeName(e,c)?g.push(e):ka.merge(g,u(e,c));return c===b||c&&ka.nodeName(a,c)?ka.merge([a],g):g}function v(a){bb.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yb.length;e--;)if((b=yb[e]+c)in a)return b;return d}function x(a,b){return a=b||a,"none"===ka.css(a,"display")||!ka.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ka._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=ka._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&ka._data(d,"olddisplay",e?c:ka.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ka.css(a,c+xb[f],!0,e)),d?("content"===c&&(g-=ka.css(a,"padding"+xb[f],!0,e)),"margin"!==c&&(g-=ka.css(a,"border"+xb[f]+"Width",!0,e))):(g+=ka.css(a,"padding"+xb[f],!0,e),"padding"!==c&&(g+=ka.css(a,"border"+xb[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kb(a),g=ka.support.boxSizing&&"border-box"===ka.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lb(a,b,f),(0>e||null==e)&&(e=a.style[b]),sb.test(e))return e;d=g&&(ka.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=ub[a];return c||(c=D(a,b),"none"!==c&&c||(jb=(jb||ka("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jb[0].contentWindow||jb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jb.detach()),ub[a]=c),c}function D(a,b){var c=ka(b.createElement(a)).appendTo(b.body),d=ka.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(ka.isArray(b))ka.each(b,function(b,e){c||Ab.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ka.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ma)||[];if(ka.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,c,d,e){function f(i){var j;return g[i]=!0,ka.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===Rb;return f(c.dataTypes[0])||!g["*"]&&f("*")}function H(a,c){var d,e,f=ka.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&ka.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(ba){return{state:"parsererror",error:g?ba:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){Zb=b}),Zb=ka.now()}function N(a,b,c){for(var d,e=(dc[b]||[]).concat(dc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=cc.length,h=ka.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Zb||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ka.extend({},b),opts:ka.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Zb||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ka.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=cc[f].call(j,a,k,j.opts))return d;return ka.map(k,N,j),ka.isFunction(j.opts.start)&&j.opts.start.call(a,j),ka.fx.timer(ka.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=ka.camelCase(c),e=b[d],f=a[c],ka.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=ka.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=ka._data(a,"fxshow");c.queue||(h=ka._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,ka.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===ka.css(a,"display")&&"none"===ka.css(a,"float")&&(ka.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",ka.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],_b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||ka.style(a,d)}if(!ka.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=ka._data(a,"fxshow",{}),f&&(n.hidden=!m),m?ka(a).show():j.done(function(){ka(a).hide()}),j.done(function(){var b;ka._removeData(a,"fxshow");for(b in k)ka.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return ka.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,aa={},ba=[],ca="1.10.2",da=ba.concat,ea=ba.push,fa=ba.slice,ga=ba.indexOf,ha=aa.toString,ia=aa.hasOwnProperty,ja=ca.trim,ka=function(a,b){return new ka.fn.init(a,b,V)},la=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ma=/\S+/g,na=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qa=/^[\],:{}\s]*$/,ra=/(?:^|:|,)(?:\s*\[)+/g,sa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ta=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ua=/^-ms-/,va=/-([\da-z])/gi,wa=function(a,b){return b.toUpperCase()},xa=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(ya(),ka.ready())},ya=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xa,!1),a.removeEventListener("load",xa,!1)):(Y.detachEvent("onreadystatechange",xa),a.detachEvent("onload",xa))};ka.fn=ka.prototype={jquery:ca,constructor:ka,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(!(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:oa.exec(a))||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof ka?c[0]:c,ka.merge(this,ka.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pa.test(e[1])&&ka.isPlainObject(c))for(e in c)ka.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if((f=Y.getElementById(e[2]))&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ka.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),ka.makeArray(a,this))},selector:"",length:0,toArray:function(){return fa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=ka.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ka.each(this,a,b)},ready:function(a){return ka.ready.promise().done(a),this},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(ka.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ea,sort:[].sort,splice:[].splice},ka.fn.init.prototype=ka.fn,ka.extend=ka.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||ka.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(ka.isPlainObject(d)||(c=ka.isArray(d)))?(c?(c=!1,g=a&&ka.isArray(a)?a:[]):g=a&&ka.isPlainObject(a)?a:{},h[e]=ka.extend(k,g,d)):d!==b&&(h[e]=d));return h},ka.extend({expando:"jQuery"+(ca+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===ka&&(a.$=_),b&&a.jQuery===ka&&(a.jQuery=$),ka},isReady:!1,readyWait:1,holdReady:function(a){a?ka.readyWait++:ka.ready(!0)},ready:function(a){if(!0===a?!--ka.readyWait:!ka.isReady){if(!Y.body)return setTimeout(ka.ready);ka.isReady=!0,!0!==a&&--ka.readyWait>0||(U.resolveWith(Y,[ka]),ka.fn.trigger&&ka(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===ka.type(a)},isArray:Array.isArray||function(a){return"array"===ka.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ha.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==ka.type(a)||a.nodeType||ka.isWindow(a))return!1;try{if(a.constructor&&!ia.call(a,"constructor")&&!ia.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(V){return!1}if(ka.support.ownLast)for(c in a)return ia.call(a,c);for(c in a);return c===b||ia.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ka.buildFragment([a],b,e),e&&ka(e).remove(),ka.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=ka.trim(c))&&qa.test(c.replace(sa,"@").replace(ta,"]").replace(ra,""))?Function("return "+c)():(ka.error("Invalid JSON: "+c),b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(X){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||ka.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ka.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ua,"ms-").replace(va,wa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e=0,f=a.length,g=c(a);if(d){if(g)for(;f>e&&!1!==b.apply(a[e],d);e++);else for(e in a)if(!1===b.apply(a[e],d))break}else if(g)for(;f>e&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:ja&&!ja.call("\ufeffÂ ")?function(a){return null==a?"":ja.call(a)}:function(a){return null==a?"":(a+"").replace(na,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ka.merge(d,"string"==typeof a?[a]:a):ea.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ga)return ga.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)null!=(e=b(a[f],f,d))&&(i[i.length]=e);else for(f in a)null!=(e=b(a[f],f,d))&&(i[i.length]=e);return da.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),ka.isFunction(a)?(d=fa.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fa.call(arguments)))},e.guid=a.guid=a.guid||ka.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===ka.type(d)){f=!0;for(i in d)ka.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,ka.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(ka(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),ka.ready.promise=function(b){if(!U)if(U=ka.Deferred(),"complete"===Y.readyState)setTimeout(ka.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xa,!1),a.addEventListener("load",xa,!1);else{Y.attachEvent("onreadystatechange",xa),a.attachEvent("onload",xa);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(W){}c&&c.doScroll&&function a(){if(!ka.isReady){try{c.doScroll("left")}catch(a){return setTimeout(a,50)}ya(),ka.ready()}}()}return U.promise(b)},ka.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()}),V=ka(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=ta.exec(a))if(g=e[1]){if(9===h){if(!(f=b.getElementById(g))||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return aa.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return aa.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return aa.apply(c,o.querySelectorAll(p)),c}catch(P){}finally{k||b.removeAttribute("id")}}}return v(a.replace(ja,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(w){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=la.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ma.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ja," ")}),h=h.slice(d.length));for(g in z.filter)!(e=ra[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if(!0===(h=i[1])||h===y)return!0===h}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,!0===i[1])return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ca.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):aa.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ca.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ja,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}aa.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(!(b=(z.find.ID(g.matches[0].replace(xa,ya),b)||[])[0]))return c;a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xa,ya),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),!(a=d.length&&n(f)))return aa.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,na.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,aa=Z.push,ba=Z.slice,ca=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ga=fa.replace("w","w#"),ha="\\["+ea+"*("+fa+")"+ea+"*(?:([*^$|!~]?=)"+ea+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ga+")|)|)"+ea+"*\\]",ia=":("+fa+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ha.replace(3,8)+")*)|.*)\\)|)",ja=RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),la=RegExp("^"+ea+"*,"+ea+"*"),ma=RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),na=RegExp(ea+"*[+~]"),oa=RegExp("="+ea+"*([^\\]'\"]*)"+ea+"*\\]","g"),pa=RegExp(ia),qa=RegExp("^"+ga+"$"),ra={ID:RegExp("^#("+fa+")"),CLASS:RegExp("^\\.("+fa+")"),TAG:RegExp("^("+fa.replace("w","w*")+")"),ATTR:RegExp("^"+ha),PSEUDO:RegExp("^"+ia),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:RegExp("^(?:"+da+")$","i"),needsContext:RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/^(?:input|select|textarea|button)$/i,va=/^h\d$/i,wa=/'|\\/g,xa=RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),ya=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{aa.apply(Z=ba.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(j){aa={apply:Z.length?function(a,b){_.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},x=c.support={},F=c.setDocument=function(a){var c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!B(c),d&&d.attachEvent&&d!==d.top&&d.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,c){return typeof c.getElementsByTagName!==W?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,c){return typeof c.getElementsByClassName!==W&&I?c.getElementsByClassName(a):b},K=[],J=[],(x.qsa=sa.test(c.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+ea+"*(?:value|"+da+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+ea+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sa.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ia)}),J=J.length&&RegExp(J.join("|")),K=K.length&&RegExp(K.join("|")),M=sa.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,b){if(a===b)return U=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||M(O,a)?-1:b===c||M(O,b)?1:E?ca.call(E,a)-ca.call(E,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return U=!0,0;if(!f||!g)return a===c?-1:b===c?1:f?-1:g?1:E?ca.call(E,a)-ca.call(E,b):0;if(f===g)return h(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(oa,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(y){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,ya),a[3]=(a[4]||a[5]||"").replace(xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pa.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=RegExp("(^|"+ea+")"+a+"("+ea+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:!b||(f+="",
"="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return(m-=e)===d||0==m%d&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ca.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(ja,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xa,ya).toLowerCase(),function(b){var c;do{if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return va.test(a.nodeName)},input:function(a){return ua.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,c,d){return d?b:a.getAttribute(c,"type"===c.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,c,d){return d||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(da,function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&e.specified?e.value:!0===a[c]?c.toLowerCase():null}),ka.find=c,ka.expr=c.selectors,ka.expr[":"]=ka.expr.pseudos,ka.unique=c.uniqueSort,ka.text=c.getText,ka.isXMLDoc=c.isXML,ka.contains=c.contains}(a);var za={};ka.Callbacks=function(a){a="string"==typeof a?za[a]||d(a):ka.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(!1===j[h].apply(b[0],b[1])&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;(function b(c){ka.each(c,function(c,d){var e=ka.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&b(d)})})(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&ka.each(arguments,function(a,b){for(var d;(d=ka.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?ka.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},ka.extend({Deferred:function(a){var b=[["resolve","done",ka.Callbacks("once memory"),"resolved"],["reject","fail",ka.Callbacks("once memory"),"rejected"],["notify","progress",ka.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ka.Deferred(function(c){ka.each(b,function(b,f){var g=f[0],h=ka.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&ka.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ka.extend(a,d):d}},e={};return d.pipe=d.then,ka.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fa.call(arguments),g=f.length,h=1!==g||a&&ka.isFunction(a.promise)?g:0,i=1===h?a:ka.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&ka.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),ka.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],!(d=l.getElementsByTagName("a")[0])||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(ea){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||!1===l.attributes[i].expando;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in ka(b))break;return b.ownLast="0"!==k,ka(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ka.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Aa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ba=/([A-Z])/g;ka.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?ka.cache[a[ka.expando]]:a[ka.expando])&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&ka.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}}),ka.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=ka.data(i),1===i.nodeType&&!ka._data(i,"parsedAttrs"))){for(d=i.attributes;d.length>h;h++)e=d[h].name,0===e.indexOf("data-")&&(e=ka.camelCase(e.slice(5)),g(i,e,f[e]));ka._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){ka.data(this,a)}):arguments.length>1?this.each(function(){ka.data(this,a,c)}):i?g(i,a,ka.data(i,a)):null},removeData:function(a){return this.each(function(){ka.removeData(this,a)})}}),ka.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=ka._data(a,c),d&&(!e||ka.isArray(d)?e=ka._data(a,c,ka.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=ka.queue(a,b),d=c.length,e=c.shift(),f=ka._queueHooks(a,b),g=function(){ka.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ka._data(a,c)||ka._data(a,c,{empty:ka.Callbacks("once memory").add(function(){ka._removeData(a,b+"queue"),ka._removeData(a,c)})})}}),ka.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?ka.queue(this[0],a):c===b?this:this.each(function(){var b=ka.queue(this,a,c);ka._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&ka.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ka.dequeue(this,a)})},delay:function(a,b){return a=ka.fx?ka.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=ka.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)(d=ka._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Ca,Da,Ea=/[\t\r\n\f]/g,Fa=/\r/g,Ga=/^(?:input|select|textarea|button|object)$/i,Ha=/^(?:a|area)$/i,Ia=/^(?:checked|selected)$/i,Ja=ka.support.getSetAttribute,Ka=ka.support.input;ka.fn.extend({attr:function(a,b){return ka.access(this,ka.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ka.removeAttr(this,a)})},prop:function(a,b){return ka.access(this,ka.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ka.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(U){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(ka.isFunction(a))return this.each(function(b){ka(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ma)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ea," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=ka.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(ka.isFunction(a))return this.each(function(b){ka(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ma)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ea," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?ka.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ka.isFunction(a)?this.each(function(c){ka(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=ka(this),f=a.match(ma)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===W||"boolean"===c)&&(this.className&&ka._data(this,"__className__",this.className),this.className=this.className||!1===a?"":ka._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ea," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=ka.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,ka(this).val()):a,null==f?f="":"number"==typeof f?f+="":ka.isArray(f)&&(f=ka.map(f,function(a){return null==a?"":a+""})),(d=ka.valHooks[this.type]||ka.valHooks[this.nodeName.toLowerCase()])&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))})):f?(d=ka.valHooks[f.type]||ka.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fa,""):null==c?"":c)):void 0}}),ka.extend({valHooks:{option:{get:function(a){var b=ka.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(ka.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&ka.nodeName(c.parentNode,"optgroup"))){if(b=ka(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ka.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ka.inArray(ka(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?ka.prop(a,c,d):(1===g&&ka.isXMLDoc(a)||(c=c.toLowerCase(),e=ka.attrHooks[c]||(ka.expr.match.bool.test(c)?Da:Ca)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=ka.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):(ka.removeAttr(a,c),b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ma);if(f&&1===a.nodeType)for(;c=f[e++];)d=ka.propFix[c]||c,ka.expr.match.bool.test(c)?Ka&&Ja||!Ia.test(c)?a[d]=!1:a[ka.camelCase("default-"+c)]=a[d]=!1:ka.attr(a,c,""),a.removeAttribute(Ja?c:d)},attrHooks:{type:{set:function(a,b){if(!ka.support.radioValue&&"radio"===b&&ka.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{for:"htmlFor",class:"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!ka.isXMLDoc(a),g&&(c=ka.propFix[c]||c,f=ka.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=ka.find.attr(a,"tabindex");return b?parseInt(b,10):Ga.test(a.nodeName)||Ha.test(a.nodeName)&&a.href?0:-1}}}}),Da={set:function(a,b,c){return!1===b?ka.removeAttr(a,c):Ka&&Ja||!Ia.test(c)?a.setAttribute(!Ja&&ka.propFix[c]||c,c):a[ka.camelCase("default-"+c)]=a[c]=!0,c}},ka.each(ka.expr.match.bool.source.match(/\w+/g),function(a,c){var d=ka.expr.attrHandle[c]||ka.find.attr;ka.expr.attrHandle[c]=Ka&&Ja||!Ia.test(c)?function(a,c,e){var f=ka.expr.attrHandle[c],g=e?b:(ka.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return ka.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[ka.camelCase("default-"+c)]?c.toLowerCase():null}}),Ka&&Ja||(ka.attrHooks.value={set:function(a,c,d){return ka.nodeName(a,"input")?(a.defaultValue=c,b):Ca&&Ca.set(a,c,d)}}),Ja||(Ca={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},ka.expr.attrHandle.id=ka.expr.attrHandle.name=ka.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},ka.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Ca.set},ka.attrHooks.contenteditable={set:function(a,b,c){Ca.set(a,""!==b&&b,c)}},ka.each(["width","height"],function(a,c){ka.attrHooks[c]={set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}}})),ka.support.hrefNormalized||ka.each(["href","src"],function(a,b){ka.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ka.support.style||(ka.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),ka.support.optSelected||(ka.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ka.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ka.propFix[this.toLowerCase()]=this}),ka.support.enctype||(ka.propFix.enctype="encoding"),ka.each(["radio","checkbox"],function(){ka.valHooks[this]={set:function(a,c){return ka.isArray(c)?a.checked=ka.inArray(ka(a).val(),c)>=0:b}},ka.support.checkOn||(ka.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var La=/^(?:input|select|textarea)$/i,Ma=/^key/,Na=/^(?:mouse|contextmenu)|click/,Oa=/^(?:focusinfocus|focusoutblur)$/,Pa=/^([^.]*)(?:\.(.+)|)$/;ka.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=ka._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=ka.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof ka===W||a&&ka.event.triggered===a.type?b:ka.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(ma)||[""],i=c.length;i--;)g=Pa.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=ka.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=ka.event.special[o]||{},m=ka.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&ka.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&!1!==k.setup.call(a,e,p,l)||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),ka.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ka.hasData(a)&&ka._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ma)||[""],j=b.length;j--;)if(h=Pa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ka.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||ka.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ka.event.remove(a,n+b[j],c,d,!0);ka.isEmptyObject(k)&&(delete q.handle,ka._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ia.call(c,"type")?c.type:c,p=ia.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Oa.test(o+ka.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=0>o.indexOf(":")&&"on"+o,c=c[ka.expando]?c:new ka.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:ka.makeArray(d,[c]),k=ka.event.special[o]||{},f||!k.trigger||!1!==k.trigger.apply(e,d))){if(!f&&!k.noBubble&&!ka.isWindow(e)){for(j=k.delegateType||o,Oa.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(ka._data(i,"events")||{})[c.type]&&ka._data(i,"handle"),g&&g.apply(i,d),(g=h&&i[h])&&ka.acceptData(i)&&g.apply&&!1===g.apply(i,d)&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||!1===k._default.apply(n.pop(),d))&&ka.acceptData(e)&&h&&e[o]&&!ka.isWindow(e)){l=e[h],l&&(e[h]=null),ka.event.triggered=o;try{e[o]()}catch(ha){}ka.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=ka.event.fix(a);var c,d,e,f,g,h=[],i=fa.call(arguments),j=(ka._data(this,"events")||{})[a.type]||[],k=ka.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=ka.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,(d=((ka.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i))!==b&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(!0!==j.disabled||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?ka(d,this).index(j)>=0:ka.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[ka.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ka.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return ka.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b},_default:function(a){return ka.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ka.extend(new ka.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ka.event.trigger(e,null,b):ka.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ka.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},ka.Event=function(a,c){return this instanceof ka.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,c&&ka.extend(this,c),this.timeStamp=a&&a.timeStamp||ka.now(),this[ka.expando]=!0,b):new ka.Event(a,c)},ka.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},ka.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){ka.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ka.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ka.support.submitBubbles||(ka.event.special.submit={setup:function(){return!ka.nodeName(this,"form")&&(ka.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=ka.nodeName(c,"input")||ka.nodeName(c,"button")?c.form:b;d&&!ka._data(d,"submitBubbles")&&(ka.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),ka._data(d,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ka.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!ka.nodeName(this,"form")&&(ka.event.remove(this,"._submit"),b)}}),ka.support.changeBubbles||(ka.event.special.change={setup:function(){return La.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ka.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ka.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ka.event.simulate("change",this,a,!0)})),!1):(ka.event.add(this,"beforeactivate._change",function(a){var b=a.target;La.test(b.nodeName)&&!ka._data(b,"changeBubbles")&&(ka.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ka.event.simulate("change",this.parentNode,a,!0)}),ka._data(b,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return ka.event.remove(this,"._change"),!La.test(this.nodeName)}}),ka.support.focusinBubbles||ka.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){ka.event.simulate(b,a.target,ka.event.fix(a),!0)};ka.event.special[b]={setup:function(){0==c++&&Y.addEventListener(a,d,!0)},teardown:function(){0==--c&&Y.removeEventListener(a,d,!0)}}}),ka.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),!1===e)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return ka().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=ka.guid++)),this.each(function(){ka.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,ka(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(!1===c||"function"==typeof c)&&(d=c,c=b),!1===d&&(d=j),this.each(function(){ka.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){ka.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?ka.event.trigger(a,c,d,!0):b}});var Qa=/^.[^:#\[\.,]*$/,Ra=/^(?:parents|prev(?:Until|All))/,Sa=ka.expr.match.needsContext,Ta={children:!0,contents:!0,next:!0,prev:!0};ka.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ka(a).filter(function(){for(b=0;e>b;b++)if(ka.contains(d[b],this))return!0}));for(b=0;e>b;b++)ka.find(a,d[b],c);return c=this.pushStack(e>1?ka.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=ka(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ka.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sa.test(a)?ka(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sa.test(a)||"string"!=typeof a?ka(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?g.index(c)>-1:1===c.nodeType&&ka.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?ka.unique(f):f)},index:function(a){return a?"string"==typeof a?ka.inArray(this[0],ka(a)):ka.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){
var c="string"==typeof a?ka(a,b):ka.makeArray(a&&a.nodeType?[a]:a),d=ka.merge(this.get(),c);return this.pushStack(ka.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ka.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ka.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ka.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return ka.dir(a,"nextSibling")},prevAll:function(a){return ka.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ka.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ka.dir(a,"previousSibling",c)},siblings:function(a){return ka.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ka.sibling(a.firstChild)},contents:function(a){return ka.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ka.merge([],a.childNodes)}},function(a,b){ka.fn[a]=function(c,d){var e=ka.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ka.filter(d,e)),this.length>1&&(Ta[a]||(e=ka.unique(e)),Ra.test(a)&&(e=e.reverse())),this.pushStack(e)}}),ka.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ka.find.matchesSelector(d,a)?[d]:[]:ka.find.matches(a,ka.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!ka(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ua="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Va=/ jQuery\d+="(?:null|\d+)"/g,Wa=RegExp("<(?:"+Ua+")[\\s/>]","i"),Xa=/^\s+/,Ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,$a=/<tbody/i,_a=/<|&#?\w+;/,ab=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,cb=/checked\s*(?:[^=]|=\s*.checked.)/i,db=/^$|\/(?:java|ecma)script/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ka.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hb=n(Y),ib=hb.appendChild(Y.createElement("div"));gb.optgroup=gb.option,gb.tbody=gb.tfoot=gb.colgroup=gb.caption=gb.thead,gb.th=gb.td,ka.fn.extend({text:function(a){return ka.access(this,function(a){return a===b?ka.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){o(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ka.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ka.cleanData(u(c)),c.parentNode&&(b&&ka.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ka.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ka.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ka.clone(this,a,b)})},html:function(a){return ka.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Va,""):b;if(!("string"!=typeof a||ab.test(a)||!ka.support.htmlSerialize&&Wa.test(a)||!ka.support.leadingWhitespace&&Xa.test(a)||gb[(Za.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ya,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(ka.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(X){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=ka.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),ka(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=da.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=ka.isFunction(n);if(o||!(1>=k||"string"!=typeof n||ka.support.checkClone)&&cb.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=ka.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=ka.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=ka.clone(e,!0,!0),f&&ka.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,ka.map(g,q),j=0;f>j;j++)e=g[j],db.test(e.type||"")&&!ka._data(e,"globalEval")&&ka.contains(h,e)&&(e.src?ka._evalUrl(e.src):ka.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fb,"")));i=d=null}return this}}),ka.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ka.fn[a]=function(a){for(var c,d=0,e=[],f=ka(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ka(f[d])[b](c),ea.apply(e,c.get());return this.pushStack(e)}}),ka.extend({clone:function(a,b,c){var d,e,f,g,h,i=ka.contains(a.ownerDocument,a);if(ka.support.html5Clone||ka.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(f=ib.firstChild)),!(ka.support.noCloneEvent&&ka.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ka.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if((f=a[p])||0===f)if("object"===ka.type(f))ka.merge(o,f.nodeType?[f]:f);else if(_a.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Za.exec(f)||["",""])[1].toLowerCase(),k=gb[i]||gb._default,h.innerHTML=k[1]+f.replace(Ya,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ka.support.leadingWhitespace&&Xa.test(f)&&o.push(b.createTextNode(Xa.exec(f)[0])),!ka.support.tbody)for(f="table"!==i||$a.test(f)?"<table>"!==k[1]||$a.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ka.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ka.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),ka.support.appendChecked||ka.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===ka.inArray(f,d))&&(g=ka.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)db.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ka.expando,i=ka.cache,j=ka.support.deleteExpando,k=ka.event.special;null!=(c=a[g]);g++)if((b||ka.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ka.event.remove(c,d):ka.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,ba.push(e))}},_evalUrl:function(a){return ka.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ka.fn.extend({wrapAll:function(a){if(ka.isFunction(a))return this.each(function(b){ka(this).wrapAll(a.call(this,b))});if(this[0]){var b=ka(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ka.isFunction(a)?this.each(function(b){ka(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ka(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ka.isFunction(a);return this.each(function(c){ka(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ka.nodeName(this,"body")||ka(this).replaceWith(this.childNodes)}).end()}});var jb,kb,lb,mb=/alpha\([^)]*\)/i,nb=/opacity\s*=\s*([^)]*)/,ob=/^(top|right|bottom|left)$/,pb=/^(none|table(?!-c[ea]).+)/,qb=/^margin/,rb=RegExp("^("+la+")(.*)$","i"),sb=RegExp("^("+la+")(?!px)[a-z%]+$","i"),tb=RegExp("^([+-])=("+la+")","i"),ub={BODY:"block"},vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:0,fontWeight:400},xb=["Top","Right","Bottom","Left"],yb=["Webkit","O","Moz","ms"];ka.fn.extend({css:function(a,c){return ka.access(this,function(a,c,d){var e,f,g={},h=0;if(ka.isArray(c)){for(f=kb(a),e=c.length;e>h;h++)g[c[h]]=ka.css(a,c[h],!1,f);return g}return d!==b?ka.style(a,c,d):ka.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?ka(this).show():ka(this).hide()})}}),ka.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ka.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=ka.camelCase(c),j=a.style;if(c=ka.cssProps[i]||(ka.cssProps[i]=w(j,i)),h=ka.cssHooks[c]||ka.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(ka.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||ka.cssNumber[i]||(d+="px"),ka.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(aa){}}},css:function(a,c,d,e){var f,g,h,i=ka.camelCase(c);return c=ka.cssProps[i]||(ka.cssProps[i]=w(a.style,i)),h=ka.cssHooks[c]||ka.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lb(a,c,e)),"normal"===g&&c in wb&&(g=wb[c]),""===d||d?(f=parseFloat(g),!0===d||ka.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kb=function(b){return a.getComputedStyle(b,null)},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||ka.contains(a.ownerDocument,a)||(i=ka.style(a,c)),sb.test(i)&&qb.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kb=function(a){return a.currentStyle},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sb.test(i)&&!ob.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),ka.each(["height","width"],function(a,c){ka.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&pb.test(ka.css(a,"display"))?ka.swap(a,vb,function(){return B(a,c,e)}):B(a,c,e):b},set:function(a,b,d){var e=d&&kb(a);return z(a,b,d?A(a,c,d,ka.support.boxSizing&&"border-box"===ka.css(a,"boxSizing",!1,e),e):0)}}}),ka.support.opacity||(ka.cssHooks.opacity={get:function(a,b){return nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ka.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ka.trim(f.replace(mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mb.test(f)?f.replace(mb,e):f+" "+e)}}),ka(function(){ka.support.reliableMarginRight||(ka.cssHooks.marginRight={get:function(a,c){return c?ka.swap(a,{display:"inline-block"},lb,[a,"marginRight"]):b}}),!ka.support.pixelPosition&&ka.fn.position&&ka.each(["top","left"],function(a,c){ka.cssHooks[c]={get:function(a,d){return d?(d=lb(a,c),sb.test(d)?ka(a).position()[c]+"px":d):b}}})}),ka.expr&&ka.expr.filters&&(ka.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!ka.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||ka.css(a,"display"))},ka.expr.filters.visible=function(a){return!ka.expr.filters.hidden(a)}),ka.each({margin:"",padding:"",border:"Width"},function(a,b){ka.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xb[d]+b]=f[d]||f[d-2]||f[0];return e}},qb.test(a)||(ka.cssHooks[a+b].set=z)});var zb=/%20/g,Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;ka.fn.extend({serialize:function(){return ka.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ka.prop(this,"elements");return a?ka.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ka(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!bb.test(a))}).map(function(a,b){var c=ka(this).val();return null==c?null:ka.isArray(c)?ka.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}}),ka.param=function(a,c){var d,e=[],f=function(a,b){b=ka.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=ka.ajaxSettings&&ka.ajaxSettings.traditional),ka.isArray(a)||a.jquery&&!ka.isPlainObject(a))ka.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zb,"+")},ka.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ka.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ka.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Eb,Fb,Gb=ka.now(),Hb=/\?/,Ib=/#.*$/,Jb=/([?&])_=[^&]*/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pb=ka.fn.load,Qb={},Rb={},Sb="*/".concat("*");try{Fb=X.href}catch(ec){Fb=Y.createElement("a"),Fb.href="",Fb=Fb.href}Eb=Ob.exec(Fb.toLowerCase())||[],ka.fn.load=function(a,c,d){if("string"!=typeof a&&Pb)return Pb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),ka.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&ka.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?ka("<div>").append(ka.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},ka.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ka.fn[b]=function(a){return this.on(b,a)}}),ka.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb,type:"GET",isLocal:Lb.test(Eb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ka.parseJSON,"text xml":ka.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,ka.ajaxSettings),b):H(ka.ajaxSettings,a)},ajaxPrefilter:F(Qb),ajaxTransport:F(Rb),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ka.lastModified[g]=v),(v=w.getResponseHeader("etag"))&&(ka.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--ka.active||ka.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=ka.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ka(n):ka.event,p=ka.Deferred(),q=ka.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fb)+"").replace(Ib,"").replace(Nb,Eb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ka.trim(m.dataType||"*").toLowerCase().match(ma)||[""],null==m.crossDomain&&(e=Ob.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Eb[1]&&e[2]===Eb[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Eb[3]||("http:"===Eb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ka.param(m.data,m.traditional)),G(Qb,m,c,w),2===u)return w;j=m.global,j&&0==ka.active++&&ka.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hb.test(g)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Jb.test(g)?g.replace(Jb,"$1_="+Gb++):g+(Hb.test(g)?"&":"?")+"_="+Gb++)),m.ifModified&&(ka.lastModified[g]&&w.setRequestHeader("If-Modified-Since",ka.lastModified[g]),ka.etag[g]&&w.setRequestHeader("If-None-Match",ka.etag[g])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(!1===m.beforeSend.call(n,w,m)||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rb,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(oa){if(!(2>u))throw oa;d(-1,oa)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return ka.get(a,b,c,"json")},getScript:function(a,c){return ka.get(a,b,c,"script")}}),ka.each(["get","post"],function(a,c){ka[c]=function(a,d,e,f){return ka.isFunction(d)&&(f=f||e,e=d,d=b),ka.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),ka.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ka.globalEval(a),a}}}),ka.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ka.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||ka("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;ka.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||ka.expando+"_"+Gb++;return this[a]=!0,a}}),ka.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=!1!==c.jsonp&&(Ub.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=ka.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Ub,"$1"+f):!1!==c.jsonp&&(c.url+=(Hb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||ka.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Tb.push(f)),h&&ka.isFunction(g)&&g(h[0]),h=g=b}),"script"):b});var Vb,Wb,Xb=0,Yb=a.ActiveXObject&&function(){var a;for(a in Vb)Vb[a](b,!0)};ka.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Wb=ka.ajaxSettings.xhr(),ka.support.cors=!!Wb&&"withCredentials"in Wb,(Wb=ka.support.ajax=!!Wb)&&ka.ajaxTransport(function(c){if(!c.crossDomain||ka.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(_){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=ka.noop,Yb&&delete Vb[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(ca){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(da){e||f(-1,da)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Xb,Yb&&(Vb||(Vb={},ka(a).unload(Yb)),Vb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var Zb,$b,_b=/^(?:toggle|show|hide)$/,ac=RegExp("^(?:([+-])=|)("+la+")([a-z%]*)$","i"),bc=/queueHooks$/,cc=[Q],dc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=ac.exec(b),f=e&&e[3]||(ka.cssNumber[a]?"":"px"),g=(ka.cssNumber[a]||"px"!==f&&+d)&&ac.exec(ka.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,ka.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ka.Animation=ka.extend(O,{tweener:function(a,b){ka.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],dc[c]=dc[c]||[],dc[c].unshift(b)},prefilter:function(a,b){b?cc.unshift(a):cc.push(a)}}),ka.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ka.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?ka.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ka.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ka.fx.step[a.prop]?ka.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ka.cssProps[a.prop]]||ka.cssHooks[a.prop])?ka.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ka.each(["toggle","show","hide"],function(a,b){var c=ka.fn[b];ka.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),ka.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ka.isEmptyObject(a),f=ka.speed(b,c,d),g=function(){var b=O(this,ka.extend({},a),f);(e||ka._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=ka.timers,g=ka._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&bc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&ka.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=ka._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ka.timers,g=d?d.length:0;for(c.finish=!0,ka.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ka.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ka.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ka.speed=function(a,b,c){var d=a&&"object"==typeof a?ka.extend({},a):{complete:c||!c&&b||ka.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ka.isFunction(b)&&b};return d.duration=ka.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ka.fx.speeds?ka.fx.speeds[d.duration]:ka.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ka.isFunction(d.old)&&d.old.call(this),d.queue&&ka.dequeue(this,d.queue)},d},ka.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ka.timers=[],ka.fx=R.prototype.init,ka.fx.tick=function(){var a,c=ka.timers,d=0;for(Zb=ka.now();c.length>d;d++)(a=c[d])()||c[d]!==a||c.splice(d--,1);c.length||ka.fx.stop(),Zb=b},ka.fx.timer=function(a){a()&&ka.timers.push(a)&&ka.fx.start()},ka.fx.interval=13,ka.fx.start=function(){$b||($b=setInterval(ka.fx.tick,ka.fx.interval))},ka.fx.stop=function(){clearInterval($b),$b=null},ka.fx.speeds={slow:600,fast:200,_default:400},ka.fx.step={},ka.expr&&ka.expr.filters&&(ka.expr.filters.animated=function(a){return ka.grep(ka.timers,function(b){return a===b.elem}).length}),ka.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){ka.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;return g?(c=g.documentElement,ka.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e):void 0},ka.offset={setOffset:function(a,b,c){var d=ka.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=ka(a),h=g.offset(),i=ka.css(a,"top"),j=ka.css(a,"left"),k=("absolute"===d||"fixed"===d)&&ka.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),ka.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},ka.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ka.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ka.nodeName(a[0],"html")||(c=a.offset()),c.top+=ka.css(a[0],"borderTopWidth",!0),c.left+=ka.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ka.css(d,"marginTop",!0),left:b.left-c.left-ka.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!ka.nodeName(a,"html")&&"static"===ka.css(a,"position");)a=a.offsetParent;return a||Z})}}),ka.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);ka.fn[a]=function(e){return ka.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?ka(g).scrollLeft():f,d?f:ka(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}}),ka.each({Height:"height",Width:"width"},function(a,c){ka.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){ka.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(!0===e||!0===f?"margin":"border");return ka.access(this,function(c,d,e){var f;return ka.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?ka.css(c,d,h):ka.style(c,d,e,h)},c,g?e:b,g,null)}})}),ka.fn.size=function(){return this.length},ka.fn.andSelf=ka.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ka:(a.jQuery=a.$=ka,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ka}))}(window),window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(){"use strict";Object.extend=function(a){for(var b,c,d=arguments.length,e=1;e<d;e++){b=arguments[e];for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}return a}}(),function(){"use strict";Object.clone=function(a){var b;switch(!0){case a instanceof Array:b=[];for(var c=a.length;c--;)a[c]instanceof Object?b[c]=Object.clone(a[c]):b[c]=a[c];break;case a instanceof Function:b=a;break;case a instanceof Date:b=new Date(+a);break;default:b={};for(var d in a)a[d]instanceof Object?b[d]=Object.clone(a[d]):b[d]=a[d]}return b}}(),function(){"use strict";Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(),String.prototype.includes||(String.prototype.includes=function(a,b){"use strict";return"number"!=typeof b&&(b=0),!(b+a.length>this.length)&&-1!==this.indexOf(a,b)}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0
;if("[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=new Array(g),e=0;e<g;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a){"use strict";if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(arguments.length>=2)b=arguments[1];else{for(;e<d&&!e in c;)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;e++)e in c&&(b=a(b,c[e],e,c));return b}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.find||Array.prototype.filter&&(Array.prototype.find=function(a,b){return Array.prototype.filter.call(this,a,b)[0]}),Array.prototype.some||(Array.prototype.some=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;e<c;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(a,b){"use strict";var c,d;if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError;for(arguments.length>1&&(c=b),d=0;d<f;){var g;if(d in e){g=e[d];if(!a.call(c,g,d,e))return!1}d++}return!0});var modules=window.modules||{};!function(){"use strict";var a={com:"es",it:"it",pt:"pt",ac:"es",ag:"es",bz:"it",cz:"pt"};modules.utils=modules.utils||function(){function b(a,b){for(var c=a.replace(/#.*?$/gm,"").split(/[\r\n]+/g),d=0,e=c.length;d<e;d++){var f=c[d],g=f.match(/^\s*(\S*)\s*=\s*(.*?)\s*$/);g&&3===g.length&&(b[g[1]]=g[2])}}function c(){var a="";if($("html").attr("lang"))a="_"+$("html").attr("lang");else if(window.djConfig)window.djConfig.languageDefault&&(a="_"+window.djConfig.languageDefault);else if($("html").attr("class"))for(var b=$("html").attr("class").split(" "),c=0,d=b.length;c<d;c++){2===b[c].length&&(a="_"+b[c]);break}return a&&""!==a&&-1!=="_es,_it,_pt,_ca,_en,_fr,_de,_da,_fi,_nl,_pl,_ro,_ru,_sv".indexOf(a)||(a="_es"),a}function d(){modules.utils.isTouchDevice=!0,$(document).trigger("touchDeviceDetected"),$(document).off("touchstart",d)}function e(){modules.utils.isTouchDevice&&$(document).trigger("touchDeviceDetected"),$(document).off("mousemove",e)}function f(){var a=$("html").attr("env");return a.length>0?a:"es"}function g(){var b=k[2].split(".")[2];return a[b]?a[b]:f()}function h(a,b){if(!a.is("textarea"))throw new TypeError("[data-chars-counter] attribute only can be used in textarea");var c=a.data("char-width")?a.data("char-width"):1,d=+a.attr("maxlength"),e=a.val(),f=e.length;f*=c;var g=+a.attr("data-chars-counter-show")||0;g?d-f<=g?b.html(f+"/"+d):b.html(""):b.html(f+"/"+d)}$(document).on("touchstart",d),$(document).on("mousemove",e);var i=[],j=[],k=window.location.href.split("/"),l=""+ +new Date;!function(){var a=$("link").filter(function(){return-1!==this.href.indexOf(".idealista.")&&-1!==this.href.indexOf("?")});a.length>0&&(l=a[0].href.split("?")[1])}();var m="";return function(){var a=$("link").filter(function(){return"stylesheet"===this.getAttribute("rel").toLowerCase()&&-1!==this.getAttribute("href").indexOf(".idealista.")});m=a.length>0?"//"+a[0].href.split("/")[2]:-1===$('link[rel="stylesheet"]')[0].href.indexOf("st1.idealista.com")?"//"+$('link[rel="stylesheet"]')[0].href.split("/")[2]:"//st1.idealista.com"}(),{pageTimeStamp:l,cdnHost:m,isTouchDevice:!1,domainEnv:$("html").attr("env")||"es",isCharASpace:function(a){return" "===a},hasTrailingSpace:function(a){return this.isCharASpace(a[a.length-1])},hasStartingSpace:function(a){return this.isCharASpace(a[0])},generateUniqueId:function(a){return a+Math.random().toString(36).slice(2)+"gid"},isArray:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},pseudoToArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},parserPseudoToArray:function(a,b,c){for(var d=[],e=b,f=a.length;e<f;e++)-1===a[e].className.indexOf("hide")&&d.length!==c&&d.push(a[e]);return d},removeClass:function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].className=a[c].className.replace(b,"");return a},i18n:{},defaulti18n:{},geti18nProperty:function(a){return void 0===modules.utils.i18n[a]?modules.utils.defaulti18n[a]:modules.utils.i18n[a]},_loadLanguageFileFromUrl:function(a,c,d,e){return a.indexOf(d)<0?(a.push(d),d=modules.utils.cdnHost+"/static/common/i18n/"+d+c+".properties?"+modules.utils.pageTimeStamp,$.ajax(d,{method:"GET",dataType:"text",success:function(a){b(a,e)},error:function(a,b,c){}})):$},loadLanguageFile:function(a,b,d,e){modules.utils.isArray(a)||(a=[a]),d&&(a=a.map(function(a){return modules.utils.domainEnv+"/"+a}));for(var f=[],g=0,h=a.length;g<h;g++){var j=e||c();e&&(j="_"+j),f.push(this._loadLanguageFileFromUrl(i,j,a[g],modules.utils.i18n))}b&&$.when.apply($,f).done(b)},getSiteLanguage:g,loadLanguageAndDefaultLanguageFile:function(a,b,d){modules.utils.isArray(a)||(a=[a]),d&&(a=a.map(function(a){return modules.utils.domainEnv+"/"+a}));for(var e=[],f=0,h=a.length;f<h;f++)e.push(this._loadLanguageFileFromUrl(i,c(),a[f],modules.utils.i18n)),e.push(this._loadLanguageFileFromUrl(j,"_"+g(),a[f],modules.utils.defaulti18n));b&&$.when.apply($,e).done(b)},makeObservable:function(a,b){b=b||[],a.getEvents=function(){return b},a.firesEvent=function(a){return-1!==b.join().indexOf(a)},a.on=function(b,c,d){this.observers=this.observers||{},b=b.split(" ");for(var e=0,f=b.length;e<f;e++)this.observers[b[e]]=this.observers[b[e]]||[],this.observers[b[e]].push({callback:c,context:d});return a},a.off=function(b,c,d){if(this.observers){b=b.split(" ");for(var e=0,f=b.length;e<f;e++)if(this.observers[b[e]])for(var g=0,h=this.observers[b[e]].length;g<h;g++)if(this.observers[b[e]][g].context===d&&this.observers[b[e]][g].callback.toString()===c.toString()){this.observers[b[e]].splice(g,1);break}return a}};var c=function(a,b){return function(){a.callback.apply(a.context,b)}};return a.trigger=function(a){var b=[].slice.call(arguments,1);if(modules.utils.isArray(b[0])&&(b=b[0]),this.observers&&this.observers[a])for(var d=0,e=this.observers[a].length;d<e;d++)setTimeout(c(this.observers[a][d],b),10)},a.triggerSync=function(a){var b=[].slice.call(arguments,1);if(modules.utils.isArray(b[0])&&(b=b[0]),this.observers&&this.observers[a])for(var c=0,d=this.observers[a].length;c<d;c++)this.observers[a][c].callback.apply(this.observers[a][c].context,b)},a},debounce:function(a,b,c){var d;return function(){clearTimeout(d);var e=arguments;d=setTimeout(function(){a.apply(c,e)},b)}},throttle:function(a,b,c){b||(b=250);var d,e;return function(){var f=+new Date,g=arguments;d&&f<d+b?(clearTimeout(e),e=setTimeout(function(){d=f,a.apply(c,g)},b)):(d=f,a.apply(c,g))}},stripHTML:function(a){if(void 0!==a)return a.toString().replace(/<\S[^><]*>/g,"");throw Error("[utils.stripHTML]: String can't be undefined")},formatAsThousands:function(a){if(void 0!==a){for(;a.length>1&&"0"===a.charAt(0)&&","!==a.charAt(1);)a=a.substring(1);var b;-1!==a.indexOf(",")?(b=a.replace(/\./g,"").replace(/,/,"."),b.length-b.indexOf(".")>3&&(b=b.substring(0,b.indexOf(".")+3))):b=a.indexOf(".")!==a.lastIndexOf(".")?a.replace(/\./g,""):-1!==a.indexOf(".")&&a.length-a.lastIndexOf(".")>3?a.replace(/\./g,""):a,b=b.split(".");var c=b[0],d=c.replace(/\D/g,""),e="",f=0,g=d.length;for(g;g>0;g--)f%3==0&&0!==f&&(e="."+e),f++,e=d.substring(g-1,g)+e;return b.length>1&&(e+=","+b[1].replace(/\D/g,"")),","===e.charAt(0)&&(e="0"+e),e}throw Error("[utils.formatAsThousands]: String canÃÂ´t be undefined")},loadingByEl:function(){return{show:function(a,b){if(!a||!$(a).length)throw new TypeError(a+" is not defined or does not exist in dom.");var c=b.blockLayer,d=b.fixed,e=b.iconStyle,f=[];if(c&&$(a).addClass("loadingEl").append('<div class="loadingRemove blockLayer"></div>'),"object"==typeof e&&!$.isEmptyObject(e))for(var g in e)f.push(g+":"+e[g]);var h=function(){$(a).addClass("loadingEl").append('<div class="loadingRemove loading" '+(!0===d?'style="position:fixed"':"")+'><span class="icon" '+(f.length?'style=" '+f.join("; ")+' "':"")+"></span></div>")};$.when(h()).then(function(){$(".loading",a).css({"margin-left":"-"+$(".icon",a).width()/2+"px","margin-top":"-"+$(".icon",a).height()/2+"px"})})},hide:function(a){$(a).removeClass("loadingEl").find(".loadingRemove").remove()}}}(),textLimiter:function(a,b,c){var d=a.trim(),e=+b,f=c?"...":".";if(!e)throw new ReferenceError("CharacterLimit cannot be empty.");return d.length>e?d.substring(0,e)+f:d},serializeObject:function(a){var b={},c=a.serializeArray();return $.each(c,function(){void 0!==b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},getMedia:function(){return matchMedia(config.mediaMobile).matches?"MOBILE":matchMedia(config.mediaTablet).matches?"TABLET":matchMedia(config.mediaDesktop).matches?"DESKTOP":"MOBILE"},getMediaOrientation:function(){return matchMedia(config.mediaLandscape).matches?"LANDSCAPE":"PORTRAIT"},toggleContainers:function(a){var b=a.toHide,c=a.toShow;b.length>0&&$.each(b,function(a,b){$(b).addClass("d-none").hide()}),c.length>0&&$.each(c,function(a,b){$(b).removeClass("d-none").show()})},hasBeenDone:function(a){var b=$(a);return!!b.data("hasBeenDone")||(b.data("hasBeenDone",!0),!1)},letDoAgain:function(a){$(a).data("hasBeenDone",!1)},setTextareaCharsCounter:function a(b){var c=b||$("[data-chars-counter]"),d=b?b.parent().find("[data-chars-counter-left]"):$("[data-chars-counter-left]");return c.each(function(a){h(c.eq(a),d.eq(a)),$(this).off("keyup").on("keyup",function(){h(c.eq(a),d.eq(a))})}),a}(),removePlaceholderOnFocus:function a(b){return(b||$("textarea[placeholder], input[placeholder]")).each(function(){var a=$(this);a.data("placeholder",a.attr("placeholder")),a.on("focus",function(){$(this).removeAttr("placeholder")}),a.on("blur",function(){var a=$(this);a.attr("placeholder",a.data("placeholder"))})}),a}(),fullscreen:{enter:function(a){var b=a||document.documentElement;b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen()},exit:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},uploadBinarySupported:"undefined"!=typeof FormData&&"undefined"!=typeof FileReader&&"undefined"!=typeof Blob&&"undefined"!=typeof Uint8Array,uploadBinary:function(a,b,c,d,e,f){if(!modules.utils.uploadBinarySupported)throw new Error("Binary upload not available in this browser");for(var g=atob(b.split(",")[1]),h=[],i=0;i<g.length;i++)h.push(g.charCodeAt(i));var j=new Blob([new Uint8Array(h)],{type:d}),k=new FormData;k.append(c,j),Object.keys(e).forEach(function(a){k.append(a,e[a])}),$.ajax({url:a,type:"POST",data:k,processData:!1,contentType:!1}).done(function(a){f(a)}).fail(function(a,b,c){f(!1)})}}}()}();var modules=window.modules||{};modules.Tealium=function(){"use strict";function a(a){return!(!a||!a.event)}function b(a){return!(!a.eventType||a.eventType!==f)}function c(c,f,g){if(a(c)){var h=modules.markup.factoryEvent.build(c.type,c.event);b(h)?e(h,f,g):d(h,f,g)}}function d(a,b,c){"undefined"!=typeof utag&&utag.link(a,b,c)}function e(a,b,c){"undefined"!=typeof utag&&utag.view(a,b,c)}var f="VIEW";return{trackDataLayerEvent:c}}();var modules=modules||{};!function(){"use strict";modules.tracking=modules.tracking||{};var a={checkboxChecked:function(a){return a.checked},checkboxUnchecked:function(b){return!a.checkboxChecked(b)},passwordVisible:function(a){return"text"===a.parentNode.querySelector(".js-password-field").type},passwordHidden:function(a){return"password"===a.parentNode.querySelector(".js-password-field").type}};modules.tracking.conditionsFactory=a}();var modules=window.modules||{};!function(){"use strict";modules.tracking=modules.tracking||{},modules.tracking.tracker=function(){return{init:function(a){}}}(),$(window).on("load",function(){modules.tracking.tracker.init()})}();var modules=window.modules||{};!function(){"use strict";modules.Xiti={init:function(){},manageXitiPrimaryConversionsAjax:function(a){},manageXitiSecondaryConversionsAjax:function(a){},manageXitiPageMarkerLink:function(a,b){},manageXitiNavigationLink:function(a,b,c){},manageXitiAutopromoLink:function(a,b){},manageXitiClicksLink:function(a,b){},manageXitiSubmit:function(a,b,c){},sendXitiInfo:function(a,b,c,d){},_click:function(){var a=this;$("[data-xiti-click]").each(function(){$(this).on("click",function(){var b=this.getAttribute("data-xiti-click"),c=this.getAttribute("data-xiti-shared-n2")?xtn2:"";a.manageXitiClicksLink(b,c)})})},_page:function(){var a=this;$("[data-xiti-page]").each(function(){$(this).on("click",function(){var b=this.getAttribute("data-xiti-page"),c=this.getAttribute("data-xiti-shared-n2")?xtn2:"";a.manageXitiPageMarkerLink(b,c)})})},_disabled:function(){var a=this;$("[data-xiti-disabled-click]").each(function(){$(this).on("click",function(){if($(this).hasClass("disabled")){var b=this.getAttribute("data-xiti-disabled-click");a.manageXitiPageMarkerLink(b,xtn2)}})})},_navigation:function(){var a=this;$("[data-xiti-navigation]").each(function(){$(this).on("click",function(b){b.preventDefault();var c=this.getAttribute("data-xiti-navigation"),d=this.getAttribute("data-xiti-shared-n2")?xtn2:"";a.manageXitiNavigationLink(this,c,d)})})},_autopromo:function(){var a=this;$("[data-xiti-autopromo]").each(function(){$(this).on("click",function(b){b.preventDefault();var c=this.getAttribute("data-xiti-autopromo");a.manageXitiAutopromoLink(this,c)})})},_submit:function(){var a=this;$("[data-xiti-submit]").each(function(){$(this).on("submit",function(b){b.preventDefault();var c=this.getAttribute("data-xiti-submit"),d=this.getAttribute("data-xiti-shared-n2")?xtn2:"";a.manageXitiSubmit(this,c,d)})})},_page_conversion:function(){var a=this;$("[page-xiti-conversion]").each(function(){var b=this.getAttribute("page-xiti-conversion"),c=this.getAttribute("data-xiti-shared-n2")?xtn2:"";a.manageXitiPageMarkerLink(b,c)})}},function(){window.addEventListener("load",function(){modules.Xiti.init()},!1)}()}();var modules=modules||{};modules.markup=modules.markup||{},modules.markup.const=function(){"use strict";return{ATTR_MARKUP:"[data-xiti-markup]",OLD_ATTR_CLICK:"[data-xiti-click]",OLD_ATTR_NAVIGATION:"[data-xiti-navigation]",OLD_ATTR_PAGE:"[data-xiti-page]",CLICK_EVENT:"click.tealium",EVENT_TYPE:{CLICK:"LINK",PAGE:"VIEW",NAVIGATION:"LINK",ACTION:"LINK"},ATTRIBUTTES:{XITI_MARKUP:"xiti-markup"}}}();var modules=window.modules||{};!function(){"use strict";var a=function(a){return!a||!a.dataLayerEvent||0===a.dataLayerEvent.length},b=function(a){modules.markup.trackerMarkup.markupDataLayerEvents(a)},c=function(c,d){a(d.responseJSON)||d.responseJSON.dataLayerEvent.forEach(b)};!function(){$(document).ajaxSuccess(c),$(document).ajaxError(c)}()}();var modules=window.modules||{},tagManagement=window.modules.Tealium||{};!function(){"use strict";function a(a,b,c){tagManagement.trackDataLayerEvent(a,b,c)}function b(a){return!!a}function c(a,b,c){if(a||b){c=c||{};return{event:{name:c.name||"",action:c.action||"",role:c.role||"",channel:c.channel||"",origin:c.origin||"",outcome:c.outcome||"",actionType:c.actionType||"",numberNotifications:c.numberNotifications||"",messageId:c.messageId||"",il:c.il||"",hash:c.hash||"",markup:{xtPage:b||"",category:c.category||"",subCategory:c.subCategory||"",subSubCategory:c.subSubCategory||""}},type:a||""}}}modules.markup=modules.markup||{};var d={markupDataLayerEvents:function(c){b(c)&&a(c,function(){},void 0)},markupFromParameters:function(a,b,d){var e=c(a,b,d);this.markupDataLayerEvents(e)},sendMarkupView:function(a){this.markupFromParameters("VIEW",a)},sendMarkupLink:function(a){this.markupFromParameters("LINK",a,{actionType:"click"})}};modules.markup.trackerMarkup=d}();var modules=window.modules||{};modules.markup.trackerEventBuilder=window.modules.markup.trackerEventBuilder||{},modules.markup.trackerEventBuilder=function(){"use strict";function a(){return{type:"",name:"",action:"",role:"",channel:"",origin:"",outcome:"",messageId:"",il:"",click:{type:""},numberNotifications:"",category:"",subCategory:"",subSubCategory:""}}function b(a,b){return null===b.markup||"undefined"===b.markup?a:(a.category=b.markup.category,a.subCategory=b.markup.subCategory,a.subSubCategory=b.markup.subSubCategory,a)}var c={};return c.type="",c.name="",c.action="",c.role="",c.channel="",c.origin="",c.outcome="",c.messageId="",c.il="",c.click={type:""},{build:function(c,d){var e=a();return e=b(e,d),$.extend(!0,e,{type:c,name:d.name,action:d.action,role:d.role,channel:d.channel,origin:d.origin,outcome:d.outcome,messageId:d.messageId,il:d.lead,click:{type:d.actionType},numberNotifications:d.numberNotifications})}}}();var modules=window.modules||{};modules.markup.factoryEvent=window.modules.markup.factoryEvent||{},modules.markup.factoryEvent=function(){"use strict";function a(a,b){return modules.markup.trackerEventBuilder.build(a,b)}function b(){if(void 0!==dataLayerContext.ad){var a=dataLayerContext.ad;return void 0===window.config||!window.config&&!window.config.isInvoicedAd?(a.isInvoicedAd="",a):(a.isInvoicedAd=window.config.isInvoicedAd?"1":"0",a)}}function c(a){var b=dataLayerContext.page;return null===a||"undefined"===a?b:(b.category=a.category,b.subCategory=a.subCategory,b.subSubCategory=a.subSubCategory,a.name?b.name=a.name:b.name=d(a.xtPage),b)}function d(a){return void 0!==a&&a?a.split("::").slice(-1)[0]:""}function e(a){var b="";return null!==a&&"undefined"!==a&&(b=a.xtPage),{xtPage:b}}function f(){return{response:"",page:"",user:"",event:"",eventType:""}}function g(a,d,f){if("undefined"!=typeof dataLayerContext)return $.extend(!0,a,{response:dataLayerContext.response,page:c(d),user:h(dataLayerContext.user,f),ad:b(),list:dataLayerContext.list,search:dataLayerContext.search,markup:e(d),chat:dataLayerContext.chat})}function h(a,b){return b?(a.hash=b,a):a}function i(b,c,d){return $.extend(!0,b,{event:a(c,d)})}function j(a,b){return $.extend(!0,a,{eventType:b})}function k(a,b){return b.ad?$.extend(!0,a,{ad:l(b)}):a}function l(a){return{id:a.ad.id,operation:a.ad.operation,typology:a.ad.typology,address:{municipalityId:a.ad.address.municipalityId,provinceId:a.ad.address.provinceId,locationId:a.ad.address.locationId,locationLevel:a.ad.address.locationLevel},price:a.ad.price,owner:{type:a.ad.owner.type}}}function m(a,b){var c=f();return c=g(c,b.markup,b.hash),c=j(c,a),c=i(c,a,b),c=k(c,b)}return{build:m}}();var modules=modules||{};modules.markup.clicks=function(){"use strict";function a(a){modules.markup.trackerMarkup.markupFromParameters(a.eventType,a.xtPage,a.optionalParams)}function b(b,c){function d(b,c){var d=j[c.actionType],f=c;e(b,c)&&("VIEW"===d&&(f=null),a({xtPage:c.xtPage,eventType:d,optionalParams:f}))}function e(a,b){var c=modules.tracking.conditionsFactory[b.mustApply];return!c||c(a[0])}var f=$(c).data(k.XITI_MARKUP);$(this).on(i,function(a){if(Array.isArray(f.click))for(var b=0;b<f.click.length;b++)d($(this),f.click[b]);else d($(this),f.click)})}function c(b){var c=$(b.element),d=c.data(b.data);d&&c.on(i,function(c){var e=j[b.actionType.toUpperCase()],f={actionType:b.actionType};e===j.PAGE&&(f=null),a({xtPage:d,eventType:e,optionalParams:f})})}function d(a,b){if(void 0!==a){var c=a.selector;return c?$(c+" "+b):$("#"+a+" "+b)}return $(b)}var e=modules.markup.const.ATTR_MARKUP,f=modules.markup.const.OLD_ATTR_CLICK,g=modules.markup.const.OLD_ATTR_NAVIGATION,h=modules.markup.const.OLD_ATTR_PAGE,i=modules.markup.const.CLICK_EVENT,j=modules.markup.const.EVENT_TYPE,k=modules.markup.const.ATTRIBUTTES;return{migrateCurrentMarkup:function(a){d(a,e).each(b)},migrateOldMarkupClick:function(a){d(a,f).each(function(a,b){c({element:b,data:"xiti-click",actionType:"click"})})},migrateOldMarkupPage:function(a){d(a,h).each(function(a,b){c({element:b,data:"xiti-page",actionType:"page"})})},migrateOldMarkupNavigation:function(a){d(a,g).each(function(a,b){c({element:b,data:"xiti-navigation",actionType:"click"})})},init:function(a){this.migrateCurrentMarkup(a),this.migrateOldMarkupClick(a),this.migrateOldMarkupPage(a),this.migrateOldMarkupNavigation(a)}}}(),$(function(){"use strict";window.toggleTealiumClicks&&$(window).on("load",function(){modules.markup.clicks.init()})});var modules=window.modules||{};!function(){"use strict";var a=navigator.userAgent.toLowerCase();modules.device={iOSVersion:function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return!!this.iOS()&&parseFloat(a[1],10)+"."+parseInt(a[2],10)},iOS:function(b){var c=!!a.match(/iphone|ipad/i),d=new RegExp("os "+b,"i");return!!(c&&!b||c&&b&&a.match(d))},iPhone:function(){return!!a.match(/iphone/i)},iPad:function(){return!!a.match(/ipad/i)},androidVersion:function(){return!!this.android()&&parseFloat(a.slice(a.indexOf("android")+8))},android:function(b){var c=!!a.match(/android/i),d=new RegExp("android "+b,"i");return!!(c&&!b||c&&b&&a.match(d))},wp:function(b){var c=!!a.match(/windows phone|wp/i),d=new RegExp("os "+b+"|"+b,"i");return!!(c&&!b||c&&b&&a.match(d))},isChrome:function(){return/chrome/i.test(a)},isWindowsOS:function(b){var c=!!a.match(/windows/i),d=new RegExp("os "+b+"|"+b,"i");return!!(c&&!b||c&&b&&a.match(d))},windowsTablet:function(){try{return this.isWindowsOS()&&"TABLET"===modules.utils.getMedia()}catch(a){return!1}},isMobileDevice:function(){return this.iOS()||this.android()||this.wp()||this.windowsTablet()},isPhone:function(){return this.isMobileDevice()&&"MOBILE"===modules.utils.getMedia()},isTablet:function(){return this.isMobileDevice()&&"TABLET"===modules.utils.getMedia()},isTabletLandscape:function(){return this.isMobileDevice()&&"DESKTOP"===modules.utils.getMedia()&&"LANDSCAPE"===modules.utils.getMediaOrientation()},isRetinaDevice:function(){return window.devicePixelRatio>=2}}}(),function(){function a(a){this.t=a}function b(a){return new Option(a).innerHTML.replace(/"/g,"&quot;")}function c(a,b){for(var c=b.split(".");c.length;){if(!(c[0]in a))return!1;a=a[c.shift()]}return a}function d(a,g){return a.replace(e,function(a,b,e,f,h,i,j,k){var l,m=c(g,f),n="";if(!m)return"!"==e?d(h,g):j?d(k,g):"";if(!e)return d(i,g);if("@"==e){a=g._key,b=g._val;for(l in m)m.hasOwnProperty(l)&&(g._key=l,g._val=m[l],n+=d(h,g));return g._key=a,g._val=b,n}}).replace(f,function(a,d,e){var f=c(g,e);return f||0===f?"%"==d?b(f):f:""})}var e=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,f=/\{\{([=%])(.+?)\}\}/g;a.prototype.render=function(a){return d(this.t,a)},window.t=a}(),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(arguments.length>1&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;n<o;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}});var modules=modules||{};!function(){"use strict";modules.smartBanner=function(){var a,b,c,d,e,f,g={},h="",i={android:"google-play",ios:"apple-itunes"},j={name:"appAndroid",exist:function(){return"true"===$.cookie(this.name)},setCookie:function(){$.cookie(this.name,!0,{expires:7,path:"/"})}},k=function(a){modules.utils.loadLanguageAndDefaultLanguageFile("home/home",a)},l=function(){g={text:modules.utils.i18n["home.mobile.smartbanner.pssst"],btnText:modules.utils.i18n["home.mobile.smartbanner.installButton"]},h=['<div id="smart-banner" class="d-none"">','<a class="sb-close icon-close" href="#"></a>','<div class="sb-text-container">','<span class="sb-icon icon-id-favicon sb-download" data-xiti-click="smartbanner::descargar_app::icono"></span>','<div class="sb-text">{{=text}}</div>','<div class="sb-button-container">','<span class="sb-button sb-download btn regular" data-xiti-click="smartbanner::descargar_app::boton">{{=btnText}}</span>',"</div>","</div>","</div>"].join(""),a=new t(h)},m=function(){b=$('meta[name="app-download-url"]').attr("content")},n=function(){d=$(a.render(g)),$("body").prepend(d)},o=function(){$(".sb-close",d).on("click",function(a){a.preventDefault(),w()}),$(".sb-download",d).on("click",function(a){a.preventDefault(),w(),setTimeout(function(){window.location=b},200)})},p=function(){return c="android",modules.device.android()},q=function(){return c="ios",modules.device.iOS()&&Number(modules.device.iOSVersion())<6},r=function(){return!j.exist()},s=function(){return(p()||q())&&r()},u=function(){return f=$('meta[name="'+i[c]+'-app"]'),0!==f.length&&(e=/app-id=([^\s,]+)/.exec(f.attr("content"))[1],!0)},v=function(){modules.Xiti.init(),d.removeClass("d-none")},w=function(){d.remove(),j.setCookie()};return{show:v,hide:w,init:function(){s()&&u()&&k(function(){l(),m(),n(),o(),v()})}}}()}(),function(){"use strict";modules.cookiesPolicy=function(){var a,b,c={},d="",e={name:"cookieDirectiveClosed",exist:function(){return"true"===$.cookie(this.name)},setCookie:function(){$.cookie(this.name,!0,{expires:2190,path:"/"})}},f=function(a){modules.utils.loadLanguageFile("legacy",a,!0)},g=function(){c={text1:modules.utils.i18n["cookies.directive.message.1"],privacyLink:smartBannerConfig.urls.urlLegalNotice,privacyLinkText:modules.utils.i18n["cookies.directive.message.link"],protectionText:modules.utils.i18n["cookies.directive.message.protection.link"],conjunction:modules.utils.i18n["cookies.directive.message.protection.text"],protectionLink:smartBannerConfig.urls.urlDataProtection},d=smartBannerConfig.urls.urlDataProtection?['<div id="id-cookies" class="d-none"><div>','<p class="cookies">{{=text1}}',' <a href="{{=privacyLink}}" title="cookies-policy">{{=privacyLinkText}}</a>',' {{=conjunction}} <a href="{{=protectionLink}}" title="data-protection-policy">{{=protectionText}}</a>',"</p>",'<a id="cookies-close" class="icon-new icon-close close" href="#"></a>',"</div></div>"].join(""):['<div id="id-cookies" class="d-none"><div>','<p class="cookies">{{=text1}}',' <a href="{{=privacyLink}}" title="cookies-policy">{{=privacyLinkText}}</a>',"</p>",'<a id="cookies-close" class="icon-new icon-close close" href="#"></a>',"</div></div>"].join(""),a=new t(d)},h=function(){b=$(a.render(c)),$("body").prepend(b)},i=function(){$("#cookies-close",b).on("click",function(a){a.preventDefault(),l()})},j=function(){return!e.exist()},k=function(){e.setCookie(),b.removeClass("d-none")},l=function(){b.remove()};return{show:k,hide:l,init:function(a){if(!j())return void a(!1);f(function(){g(),h(),i(),k()}),a(!0)}}}()}(),$(function(){"use strict";"undefined"!=typeof smartBannerConfig&&smartBannerConfig.userAuthenticated||modules.cookiesPolicy.init(function(a){a||modules.smartBanner.init()})});var avatar=avatar||{};avatar.paint=function(a,b){"use strict";var c=$(a);if(0!==c.length){b=b||c.data("profileid");var d;if(d="undefined"!=typeof avatarConfig?avatarConfig.imageURL:c.data("avatarurl"))return d=d.replace(/\{.*\}/,b),$.get(d).then(function(a){a&&a.uri?c.html('<img src="'+a.uri+'" />'):c.data("render-initials")?c.html('<span class="avatar-placeholder">'+c.data("initials")+"</span>"):c.html('<span class="no-avatar-icon icon-user"></span>')}).fail(function(){c.data("render-initials")?c.html('<span class="avatar-placeholder">'+c.data("initials")+"</span>"):c.html('<span class="no-avatar-icon icon-user"></span>')})}},avatar.paintTools=toolsAvatar;var TOOLS_HEADER_AVATAR="avatar";$(function(){"use strict";if($(".user-info .avatar-small-inline").length>0){avatar.paint($(".user-info .avatar-small-inline"));for(var a=document.getElementsByClassName(TOOLS_HEADER_AVATAR),b=0;b<a.length;b++){var c=a[b];c&&avatar.paintTools(c)}}});var modules=modules||{};modules.offCanvasView=function(a){"use strict";var b,c,d,e,f=$("html"),g="off-canvas-view-container",h="off-canvas-view-content",i=27,j={content:"",role:""},k=['<div class="'+g+'">','<div class="'+h+'">',"{{=content}}","</div>","</div>"].join(""),l=$.extend(!0,j,a),m=new t(k),n=function(){c.on("click",function(a){if(e)e=!1;else{var b=$(a.target);!b.hasClass(h)&&0===b.parents("."+h).length&&q()}}),d.on("click",function(){e=!0}),$(document).on("keyup",function(a){(a.keyCode||a.which)===i&&q()})},o=function(){c||(c=$(m.render(l)),c.attr("data-role",l.role),d=c.find("."+h),$("body").append(c),n(),b.trigger("create"))},p=function(){o(),f.addClass("off-canvas-opened"),c.addClass("off-canvas-view-show"),setTimeout(function(){c.addClass("off-canvas-view-opened"),b.trigger("open")},50)},q=function(){c.removeClass("off-canvas-view-opened"),f.removeClass("off-canvas-opened"),setTimeout(function(){c.removeClass("off-canvas-view-show"),b.trigger("close")},400)},r=function(a){o(),d.empty().append(a)},s=function(){return d};return b={open:p,close:q,remove:function(){},setContent:r,getContent:s},modules.utils.makeObservable(b,["create","open","close","remove"]),b};var modules=window.modules||{};modules.ScriptLoader=modules.ScriptLoader||function(){"use strict";function a(){}var b=document,c=0,d=0,e=function(){},f=function(){},g="",h=[];return a.prototype={load:function(a){var b=this,g=0,h=a.files;for(c=0,b.async=a.async,e=a.callback,f=a.callbackError,d=h.length;g<d;)b.insert(h[g]),g+=1},_onload:function(){var a=this,b=a.getAttribute&&a.getAttribute("src");b&&h.push(b),a.readyState&&"complete"!==a.readyState&&"loaded"!==a.readyState&&e.call(void 0),(c+=1)===d&&"function"==typeof e&&e.call(void 0)},_onerror:function(){c+=1,"function"==typeof f&&f.call(void 0,g)},fileAlreadyLoaded:function(a){return-1!==h.indexOf(a)},isCss:function(a){return(a.attributes||[]).some(function(a){var b=a.type;return!!(b&&b.indexOf("css")>-1)})},createCss:function(a){var b=this,c=a||{};if(c.url){var d=document.createElement("link");g=c.url;var e=0===g.indexOf("http")||0===g.indexOf("//");d.href=(e?"":modules.utils.cdnHost)+g,d.type="text/css",d.rel="stylesheet",d.media="screen,print",d.addEventListener("load",b._onload,!1),document.head.appendChild(d)}},insert:function(a){var c=this;if(g=a.url,c.fileAlreadyLoaded(g))c._onload();else if(c.isCss(a))c.createCss(a);else{var d=b.createElement("script");if(d.addEventListener?d.addEventListener("load",c._onload,!1):d.onreadystatechange=c._onload,d.onerror=c._onerror,a.attributes){
var e=a.attributes;e.forEach(function(a){for(var b in a)d.setAttribute(b,a[b])})}d.async=c.async;var f=0===g.indexOf("http")||0===g.indexOf("//");d.src=(f?"":modules.utils.cdnHost)+g,b.body.appendChild(d)}}},new a}();var modules=modules||{};!function(){"use strict";"undefined"!=typeof $&&"undefined"!==modules.utils&&(modules.header=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=".header-second-level-menu",o=1e3,p=!1,q=$("#main-header"),r=function(){e.empty(),h.each(function(a,b){e.append(b)}),modules.tracking.tracker.init(e),modules.markup.clicks.init(e)},s=modules.utils.debounce(function(){r(),g.each(function(a,b){b.offsetTop>=d[0].offsetHeight&&$(b).clone().insertBefore(h.first())})},o),t=function(a){k.text(a)},u={mouseoverOnUserInfo:function(){f.addClass("opened")},mouseleaveOnUserInfo:function(a){$(a.relatedTarget).parents(n).length<=0&&f.removeClass("opened")},mouseleaveSubmenu:function(){f.removeClass("opened")},touchendOnUserInfo:function(){p=!0,f.hasClass("opened")?f.removeClass("opened"):f.addClass("opened")},touchendOnDocument:function(a){var b=$(a.target),c=0!==b.parents(n).length||0!==b.parents(".user-info").length;p?(a.preventDefault(),p=!1):c||(f.removeClass("opened"),p=!1)}},v={langSelectorTouchend:function(a){a.stopPropagation(),l.hasClass("opened")?l.removeClass("opened"):l.addClass("opened")}},w=function(){s(),$(window).on("resize",s)},x=function(){f.on("touchend",u.touchendOnUserInfo),$(document).on("touchend",u.touchendOnDocument),f.on("click",u.mouseoverOnUserInfo),f.on("mouseenter",u.mouseoverOnUserInfo),f.on("mouseleave",u.mouseleaveOnUserInfo),e.on("mouseleave",u.mouseleaveSubmenu)},y=function(){l=q.find(".lang-selector"),m=l.find("> ul"),l.length>0&&($(window).on("click touchend",function(a){l.hasClass("opened")&&(l.removeClass("opened"),a.preventDefault())}),l.on("click tap",function(a){v.langSelectorTouchend(a)}),m.find("a").on("click touchend",function(a){a.stopPropagation()}))},z=function(){i=q.find(".activity-icon"),j=i.find(".icon-calendar, .badge"),k=i.find(".badge"),j.on("click",function(a){a.preventDefault(),modules.activityCenterView.open()})},A=function(){a=q.hasClass("private"),a?(b=q.find(".logo-container"),c=q.find("nav"),d=$(".ide-main-menu"),e=$(n),f=q.find(".user-info"),g=d.find("li"),h=e.find("li"),w(),x(),z()):y()};return $(document).ready(A),{refreshBadge:t}}())}();var modules=modules||{};String.prototype.endsWith||(String.prototype.endsWith=function(a,b){"use strict";var c=this.toString();("number"!=typeof b||!isFinite(b)||Math.floor(b)!==b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return-1!==d&&d===b}),function(){"use strict";var a="tools-aside--opened",b="tools-header__link-wrapper--opened";modules.headerTools||(modules.headerTools=function(){function c(a){[document.body,document.documentElement].forEach(function(b){a?(b.style.removeProperty("position"),b.style.removeProperty("overflow-y")):(b.style.position="fixed",b.style.overflowY="hidden")})}function d(b){o&&(b?(c(!1),o.classList.add(a)):(c(!0),o.classList.remove(a)))}function e(){q&&q.addEventListener("click",function(a){a.preventDefault(),d(!0)}),p&&p.addEventListener("click",function(a){a.preventDefault(),d(!1)})}function f(){r&&r.addEventListener("click",function(a){if(a.preventDefault(),void 0===window.HABJS&&(window.HABJS={}),window.HABJS.SEARCHER_HEADER)window.HABJS.SEARCHER_HEADER.INIT();else{var b={files:[{url:modules.utils.cdnHost+"/habitania/static/release/buscador-header/buscador-header-bundle.js?"+modules.utils.pageTimeStamp,attributes:[{type:"text/javascript"}]},{url:modules.utils.cdnHost+"/habitania/static/release/buscador-header/buscador-header-bundle.css?"+modules.utils.pageTimeStamp,attributes:[{type:"text/css"}]}],async:!1,callback:function(){window.HABJS.SEARCHER_HEADER.INIT()}};modules.ScriptLoader.load(b)}})}function g(a){return a.classList.value.indexOf(b)>-1}function h(a,c){var d=b,e=!!c;a&&(e?(a.classList.add(d),i()):a.classList.remove(d))}function i(){document.documentElement.addEventListener("touchstart",k)}function j(){document.documentElement.removeEventListener("touchstart",k)}function k(){for(var a=0;a<t.length;a++)h(t[a],!1);j()}function l(){t=document.getElementsByClassName("tools-header__link-wrapper--dropdown");var a=function(a){var b=a.currentTarget,c=g(b);a.stopPropagation(),"tools-dropdown__item"!==a.target.className&&k(),c||h(b,!0)};if(t&&t.length>0){k();for(var b=0;b<t.length;b++)t[b].addEventListener("touchstart",a)}}function m(){var a=document.querySelector("#user-bar"),b=document.querySelectorAll(".tools-header__links > li:not(.tools-header-properties-dropdown), .tools-header__action--find, .tools-header__info"),c=document.querySelector(".tools-header__action--more"),d=document.querySelector(".logo-container"),e=document.querySelector(".tools-aside"),f=document.querySelector(".tools-header-properties-dropdown"),g=document.querySelector(".tools-header-properties"),h=window.matchMedia("(max-width: 325px)"),i=function(a){a.style.display="none",c&&(c.style.display="block")},j=function(a){var b=a.getAttribute("title")||(a.querySelector(".tools-header__link")?a.querySelector(".tools-header__link").getAttribute("title"):null);e.querySelector('[title="'+b+'"]')&&(e.querySelector('[title="'+b+'"]').style.display="block")},k=function(){f&&(f.style.display="none"),g&&(g.style.display="block")};!function(){if(!(d.offsetWidth>0&&d.offsetHeight>0)){var c=a.offsetWidth,e=f?121:0;Array.prototype.forEach.call(b,function(a){a.classList.contains("tools-header__action--find")&&!h.matches||(e+=a.offsetWidth,c-100<e&&(i(a),k(),j(a)))})}}()}function n(){o=document.getElementById("tools-aside"),p=document.getElementById("close-tools-aside"),q=document.getElementById("open-tools-aside"),r=document.getElementById("tools-header-search"),s=document.getElementsByClassName("avatar");var a=window.HABJS;a&&a.HEADER&&(u=!0),m(),e(),f(),l()}var o,p,q,r,s,t,u=!1;document.addEventListener("DOMContentLoaded",n)}())}();var emailConfirm=emailConfirm||{};emailConfirm.services=function(){"use strict";function a(a,b,c){var d={type:"POST",contentType:"application/json; charset=utf-8",dataType:"json"},e=$.extend({},d,c);return e.url=a,e.data=b,$.ajax(e)}function b(b){var c={};return b&&(c.beforeSend=function(){emailConfirm.showLoading()},c.complete=function(){emailConfirm.showLoading()}),a("/confirm-email-send-message-ajax",null,c)}return{callToForwarding:b}}();var emailConfirm=emailConfirm||{};emailConfirm.notifier=function(){"use strict";function a(a){emailConfirm.notifier.trigger("notification-email-sent",a)}function b(){emailConfirm.notifier.trigger("notification-error-sent")}return{sentNotify:a,errorSentNotify:b}}(),modules.utils.makeObservable(emailConfirm.notifier,["notification-email-sent","notification-error-sent"]);var emailConfirm=emailConfirm||{};!function(){"use strict";var a,b=function(b){b.preventDefault(),emailConfirm.services.callToForwarding(a).done(function(a){switch(a.status){case"SENT":case"NOTSENT":emailConfirm.notifier.sentNotify(a);break;case"ERROR":emailConfirm.notifier.errorSentNotify()}}).fail(function(a){emailConfirm.notifier.errorSentNotify()})};emailConfirm.forwardinglistener=function(a,c){a.on("click",b)}}();var emailConfirm=emailConfirm||{};!function(){"use strict";var a={NOTIFICATION_EMAIL_SENT:"notification-email-sent",NOTIFICATION_ERROR_SENT:"notification-error-sent"},b=$("#email-checking");if(0!==b.length){var c=$("p",b),d=$(".i-container",b),e=function(a){b.addClass("ok"),d.removeClass("icon-feedbk-alert"),d.addClass("icon-feedbk-ok"),c.text(a.message),b.find("a").remove()},f=function(){b.addClass("error"),d.removeClass("icon-feedbk-ok"),d.addClass("icon-feedbk-ko")};emailConfirm.showLoading=function(){b.addClass("loading")},emailConfirm.hideLoading=function(){b.removeClass("loading")};emailConfirm.forwardinglistener($("a",b),!0),emailConfirm.notifier.on(a.NOTIFICATION_EMAIL_SENT,e),emailConfirm.notifier.on(a.NOTIFICATION_ERROR_SENT,f)}}(),function(a){"use strict";var b=window.idealista||{};window.idealista=b,b.pageBus=function(){function a(a,b,c){return function(){a.callback.call(a.context,{name:b,data:c})}}function b(a,b,c){e[a]||(e[a]=[]),e[a].push({callback:b,context:c})}function c(a,b,c){e&&e[a]&&(e[a]=e[a].filter(function(a){return a.context===c&&a.callback.toString()===b.toString()}))}function d(b,c){if(e){for(var d=[b],f=b;-1!==f.indexOf("::");)f=f.substring(0,f.lastIndexOf("::")),d.push(f);d.forEach(function(d){e[d]&&e[d].forEach(function(d){setTimeout(a(d,b,c),4)})})}}var e={};return{subscribe:b,publish:d,unsubscribe:c}}()}();var modules=modules||{};modules.advertising=modules.advertising||{},function(){"use strict";modules.advertising.callAds=function(){$("div[id*=sas_]").length>0&&a(1)};var a=function(b){10!==b&&("function"==typeof sas.callAds?2===sas_renderMode&&sas.callAds():setTimeout(a,200*b,b+1))}}();var modules=window.modules||{};!function(){"use strict";modules.modal=modules.modal||function(){function a(a){if(this.blocked=a.autoCloseBlocked||!1,this.options=Object.extend(Object.clone(d),a),this.options.id=modules.utils.generateUniqueId("dialog"),this.options.sizeClass=c[this.options.size],this.scroll=0,null===document.getElementById("dynamicDialogContainer")){var b=document.createElement("div");b.id="dynamicDialogContainer",document.body.appendChild(b)}return $("#dynamicDialogContainer").append($(f.render(this.options))),this.modalEl=document.getElementById(this.options.id),$(".modal-fader").length<=0&&(g.addClass("d-none"),$("body").append(g)),this.bindEvents(),modules.utils.makeObservable(this,["cancel","accept","open","close","destroy"]),this.on("open",function(){$("video").prop("controls",!1)}),this.on("close",function(){$("video").prop("controls",!0)}),this}function b(a){$(a.modalEl.querySelectorAll("."+a.options.autoCancelClass)).off("click").on("click",function(b){a.trigger("cancel"),b.preventDefault(),a.options.hideOnAutoCancel&&a.hide()})}var c={S:"size-s",M:"size-m",L:"size-l"},d={showCloseButton:!0,title:null,content:"",buttons:"",autoCancelClass:"cancel, .cancelar",autoAcceptClass:"accept, .aceptar",destroyOnHide:!1,hideOnAutoAccept:!0,hideOnAutoCancel:!0,scrollable:!1,size:"M",role:"",onCloseXitiAttr:"data-onclose-xiti",showNewStyleClass:!1},e='<div class="modal {{showNewStyleClass}}modal-new-style{{/showNewStyleClass}}" id="{{=id}}" data-role="{{=role}}">\t<div class="modal-wrapper">\t\t<div class="modal-box {{=sizeClass}}">\t\t\t<div class="modal-blocker"></div>\t\t\t{{showCloseButton}}<a class="icon-close close-btn" href="#"></a>{{/showCloseButton}}\t\t\t{{title}}<div class="modal-header"><h2 class="h3-simulated">{{=title}}</h2></div>{{/title}}\t\t\t<div class="modal-content">{{=content}}</div>\t\t\t{{buttons}}<div class="modal-buttons">{{=buttons}}</div>{{/buttons}}\t\t</div>\t</div></div>',f=new t(e),g=$('<div class="modal-fader"></div>'),h=function(){var a=this.options.onCloseXitiAttr,b=$("["+a+"]",this.modalEl).attr(a);b&&(b=JSON.parse(b),modules.Xiti.manageXitiClicksLink(b.xtPage,b.xtn2),modules.markup.trackerMarkup.sendMarkupLink(b.xtPage))};return a.prototype.modalEl=null,a.prototype.bindEvents=function(){function a(a){var b=$(a.target);!b.hasClass("modal-wrapper")&&!b.hasClass("modal")||c.blocked||(a.preventDefault(),h.call(c),c.hide(),c.trigger("cancel"))}var c=this;this.options.showCloseButton&&($(".modal-box > .close-btn",this.modalEl).off("click").on("click",function(a){this.trigger("cancel"),a.preventDefault(),h.call(c),this.hide()}.bind(this)),$(this.modalEl).off("mousedown",a).on("mousedown",a)),this.options.autoCancelClass&&b(this),this.options.autoAcceptClass&&this.setupAutoAccept()},a.prototype.setupAutoAccept=function(){var a=this;$(a.modalEl.querySelectorAll("."+a.options.autoAcceptClass)).off("click").on("click",function(b){$(this).off("click"),a.trigger("accept"),b.preventDefault(),a.options.hideOnAutoAccept&&(h.call(a),a.hide())})},a.prototype.show=function(){if(this.scroll=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,this.trigger("open"),$(window).trigger("modal:open",this),this.modalEl.style.display="block",document.querySelector("html").className.indexOf("ie8")<0&&$("body, html").addClass("modal-opened"),modules.device.android()&&$("body, html").addClass("modal-opened-android"),$("body").css({top:-this.scroll}),void 0!==window.config&&"MOBILE"===modules.utils.getMedia()&&setTimeout(function(){window.scrollTo(0,0)},5),g.removeClass("d-none"),this.options.scrollable){var a,b,c=this,d=window.innerHeight||document.documentElement.clientWidth||document.body.clientWidth,e=$(this.modalEl.querySelector(".modal-wrapper")),f=$(this.modalEl.querySelector(".modal-content")),h=e.height(),i=d/2-h/2;$(this.modalEl).addClass("focused"),$(this.modalEl).find(".modal-content, .modal-buttons").addClass("clearfix");var j=function(a,b){h=a||h,i=b||i,h>d-100?($(c.modalEl).addClass("scrollable"),e.css({"margin-top":10}),f.css({height:window.innerHeight-170})):e.css({"margin-top":i})};$(window).on("resize",function(){j()}),e.on({touchmove:function(c){var d=c.originalEvent.touches[0].clientY;a=f.scrollTop(),$(c.target).parents(".modal-box").length||(d>b?f.scrollTop(a-=10):d<b&&f.scrollTop(a+=10),b=d)},mousewheel:function(b){a=f.scrollTop(),$(b.target).parents(".modal-box").length||(b.originalEvent.wheelDelta<0?f.scrollTop(a+=100):f.scrollTop(a-=100))}}),j(e.height(),d/2-e.height()/2)}window.toggleTealiumClicks&&modules.markup.clicks.init(this.modalEl.id)},a.prototype.hide=function(){this.trigger("close"),$(window).trigger("modal:close",this),this.modalEl.style.display="",this.options.destroyOnHide?this.destroy():$(".modal:visible","#dynamicDialogContainer").length<=0&&($("body, html").removeClass("modal-opened"),g.addClass("d-none"),window.scrollTo(0,this.scroll)),$(window).trigger("modal:closed",this)},a.prototype.destroy=function(){this.trigger("close"),this.trigger("destroy"),this.modalEl.parentNode&&this.modalEl.parentNode.removeChild(this.modalEl),$(".modal:visible","#dynamicDialogContainer").length<=0&&($("body, html").removeClass("modal-opened"),g.addClass("d-none"),window.scrollTo(0,this.scroll))},a.prototype.setContent=function(a){this.modalEl.querySelector(".modal-content")&&("[object String]"===Object.prototype.toString.call(a)?this.modalEl.querySelector(".modal-content").innerHTML=a:$(this.modalEl.querySelector(".modal-content")).html(a),this.bindEvents())},a.prototype.setTitle=function(a){this.modalEl.querySelector(".modal-header h2")&&("[object String]"===Object.prototype.toString.call(a)?this.modalEl.querySelector(".modal-header h2").innerHTML=a:$(this.modalEl.querySelector(".modal-header h2")).html(a))},a.prototype.setButtons=function(a){this.modalEl.querySelector(".modal-buttons")&&("[object String]"===Object.prototype.toString.call(a)?this.modalEl.querySelector(".modal-buttons").innerHTML=a:$(this.modalEl.querySelector(".modal-buttons")).html(a)),this.setupAutoAccept(),b(this)},a.prototype.block=function(){$(".modal-blocker",this.modalEl).addClass("block"),this.isBlocked=!0},a.prototype.unblock=function(){$(".modal-blocker",this.modalEl).removeClass("block"),this.isBlocked=!1},a}()}();var modules=window.modules||{};modules.modal=modules.modal||{},modules.utilsModal=modules.utilsModal||function(){"use strict";return{RIGHT_SIDE:"right",LEFT_SIDE:"left",animationCloseModalCenter:function(a,b){var c='[data-role="'+$(a.modalEl).data("role")+'"] .modal-box',d=Math.abs($(window).scrollTop()-b.offset().top)-$(c).height()/2;$(c).animate({top:d+"px"},1e3),$(c).addClass("compress"),$(c).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(b){$(c).hasClass("compress")&&$(c).removeClass("compress"),a.hide()})},animationCloseModal:function(a,b,c){var d,e='[data-role="'+$(a.modalEl).data("role")+'"] .modal-box',f=Math.abs($(window).scrollTop()-b.offset().top)-$(e).height()/2;c===this.RIGHT_SIDE?(d=Math.abs(b.position().right-$(e).width()/2),$(e).animate({top:f+"px",left:d+"px"},1e3)):c===this.LEFT_SIDE&&(d=Math.abs(b.position().left-$(e).width()/2),$(e).animate({top:f+"px",right:d+"px"},1e3)),$(e).addClass("compress"),$(e).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(b){$(e).hasClass("compress")&&$(e).removeClass("compress"),a.hide()})}}}();var modules=window.modules||{};modules.privacyPolicyServices=function(){"use strict";function a(a,b,c){var d={type:"POST",contentType:"application/json; charset=utf-8",dataType:"json"},e=$.extend({},d,c);return e.url=a,e.data=b,$.ajax(e)}var b={STATUS_PRIVACY:"/emailCommModal/",ACCEPT_POLICY:"/acceptnotificationspolicy"},c=window.location.href.split("/");return{getUserStatusPrivacy:function(d){var e={type:"GET"};return a(c[0]+"//"+c[2]+"/"+d+b.STATUS_PRIVACY,null,e)},acceptPrivacyPolicy:function(d){var e={type:"POST"};return a(c[0]+"//"+c[2]+"/"+d+b.ACCEPT_POLICY,null,e)}}}();var modules=window.modules||{};modules.privacyPolicyUtils=function(){"use strict";var a={es:"usuario/tus-datos/notificaciones",it:"utente/tuoi-dati/notifiche",pt:"utilizador/teus-dados/notificacoes"},b=window.location.href.split("/"),c=b[0]+"//"+b[2]+"/",d=function(){if(void 0!==b[3])return 2===b[3].length},e=function(){var e=modules.utils.getSiteLanguage();return d()?c+b[3]+"/"+a[e]:c+a[e]},f=function(){if(-1!==window.location.href.indexOf("?")){var a=window.location.href.split("?")[1];if(-1!==a.indexOf("feedback=true")){if(-1===a.indexOf("&"))return"";var b=a.split("&"),c=b[1].replace("origin=","");return decodeURIComponent(c)}}},g=function(a){return document.referrer.indexOf(a)>-1};return{getSite:e,getSiteLanguage:modules.utils.getSiteLanguage,getFeedbackOrigin:f,retrieveUserReferrer:g}}();var modules=window.modules||{};!function(){"use strict";if(!window.config||window.config.userAuthenticated){var a,b={HTML:"html",MODAL:".modal",PRIVACY_BUTTONS:".privacy-btns"},c={LANGUAGE:"lang"},d={BUTTON:"button"},e=$(b.HTML).attr(c.LANGUAGE),f=function(a){a&&l()},g=function(){$(d.BUTTON,b.PRIVACY_BUTTONS).on("click",f)},h=function(b,c){a=new modules.privacyPolicyUpdate({properties:modules.utils.i18n,servicesActivesArray:c,redirectionURL:modules.privacyPolicyUtils.getSite()+"?origin="+window.location.href}),a.render(),g()},i=function(a){return function(b){h(b,a)}},j=function(){a.changeContentToSuccess()},k=function(){modules.privacyPolicyServices.getUserStatusPrivacy(e).done(function(a){if("false"!==a.showModal){var b=modules.privacyPolicyUtils.getSiteLanguage();modules.utils.loadLanguageFile("privacypolicy/"+b+"/privacypolicy",i(a.emailCommunicationDescriptions))}})},l=function(){modules.privacyPolicyServices.acceptPrivacyPolicy(e).done(function(a){j()}).fail(function(a){alert("An error has ocurred. Try again in a few minutes")})};("undefined"==typeof config||config.showPoliciesModal||void 0===config.showPoliciesModal)&&k()}}();var modules=modules||{};modules.privacyPolicyUpdate=modules.privacyPolicyUpdate||{},function(){"use strict";var a={modal:"privacy",seePrivacy:"privacy::see-privacy",managePrivacy:"privacy::manage-suscriptions",acceptPrivacy:"privacy::accept-and-confirm-privacy"},b=!1,c=['<div class="privacy-update icon-feedbk-alert">',"<p>","{{=firstParagraph}}","</p>","<p>","{{=secondParagraph}}","</p>","<ul>","<li>","{{=thirdParagraph}}","</li>","<li>","{{=fourthParagraph}}","</li>","</ul>","<p>","{{=fifthParagraph}}","</p>","<p>","{{=readPolicy}}","</p>","{{services}}",'<div class="info-services">',"<h4>","{{=infoServicesTitle}}","</h4>","<p>","{{=servicesActives}}","</p>","<ul>","{{@services}}","<li>","{{=_val}}","</li>","{{/@services}}","</ul>","</div>","{{/services}}","</div>",'<div class="btn-center privacy-btns">','<button class="btn action"data-xiti-markup=\'{"click": [{"xtPage": "'+a.acceptPrivacy+'","xtn2":"","mustXtn2":true,"actionType":"PAGE"}]}\'>',"{{=textButton}}","</button>",'<a href="{{=notificationsLocation}}" data-xiti-markup=\'{"click": [{"xtPage": "'+a.managePrivacy+'","xtn2":"","mustXtn2":true,"actionType":"PAGE"}]}\'>',"{{=supcriptions}}","</a>","</div>"].join(""),d=['<div class="notification-policy success">','<span class="icon-thumbup">',"{{=firstParagraph}}","</br>","{{=secondParagraph}}","</span>","{{notificationsLocation}}",'<a href="{{=notificationsLocation}}">',"{{=thirdParagraph}}","</a>","{{:notificationsLocation}}","<a>","{{=thirdParagraph}}","</a>","{{/notificationsLocation}}","</div>"].join("");modules.privacyPolicyUpdate=function(){var e=function(a,b){if("function"==typeof modules.modal)return new modules.modal({title:a["privacypolicy.update.title"],content:"",destroyOnHide:!0,showCloseButton:!1,role:"privacy-policy",size:b?"S":"L",showNewStyleClass:!0})},f=function(a,b){return{firstParagraph:a["privacypolicy.update.content.1"],secondParagraph:a["privacypolicy.update.content.2"],thirdParagraph:a["privacypolicy.update.content.3"],fourthParagraph:a["privacypolicy.update.content.4"],fifthParagraph:a["privacypolicy.update.content.5"],readPolicy:a["privacypolicy.update.content.readpolicy"],infoServicesTitle:a["privacypolicy.update.content.infoServicesTitle"],servicesActives:a["privacypolicy.update.content.servicesActives"],textButton:a["privacypolicy.update.content.button"],supcriptions:a["privacypolicy.update.supcriptions"],notificationsLocation:b}},g=function(a,b){return{title:a["privacypolicy.update.success.title"],firstParagraph:a["privacypolicy.success.feedback.great"],secondParagraph:a["privacypolicy.success.feedback.allright"],thirdParagraph:a["privacypolicy.success.goIdealista"],notificationsLocation:b}},h=function(){if(!b){b=!0,modules.Xiti.manageXitiPageMarkerLink(a.modal,xtn2);var c={event:{name:"",action:"",role:"",channel:"",origin:"",outcome:"",markup:{xtPage:a.modal,xtn2:xtn2}},type:"VIEW"};modules.markup.trackerMarkup.markupDataLayerEvents(c)}},i=function(){window.history.back()},j=function(a,b){a.properties&&(this.content=a,this.type=b,b?this.buildSuccess(this.content.redirectionURL):this.buildPolicy(),this.modal=e(this.content.properties,b),this.modal.on("open",h))};return j.prototype.buildSuccess=function(a){var b=a||null;this.templateModel=g(modules.utils.i18n,b)},j.prototype.buildPolicy=function(){this.templateModel=f(this.content.properties,this.content.redirectionURL),this.templateModel.services=this.content.servicesActivesArray.length>0?this.content.servicesActivesArray:null},j.prototype.render=function(){if(this.modal)return this.type?this.renderSuccess():this.renderPrivacy()},j.prototype.renderPrivacy=function(){var a=new t(c);this.modal.setContent(a.render(this.templateModel)),this.blockedClickModal(!0),this.modal.show()},j.prototype.renderSuccess=function(){var a=new t(d);this.modal.setTitle(this.templateModel.title),this.modal.setContent(a.render(this.templateModel)),this.modal.show()},j.prototype.changeContentToSuccess=function(){this.showCloseButton(!0),this.buildSuccess("/"),this.renderSuccess(),$('.modal[data-role="privacy-policy"] .modal-box').removeClass("size-m"),$('.modal[data-role="privacy-policy"] .modal-box').addClass("size-s"),modules.privacyPolicyUtils.retrieveUserReferrer("news")&&(this.modal.on("close",i),$("a",this.modal.modalEl).on("click",i))},j.prototype.showCloseButton=function(a){$(".modal .icon-close").toggle(a)},j.prototype.blockedClickModal=function(a){this.modal.blocked=a},j.prototype.destroyModal=function(){this.modal.destroy()},j}()}(),function(){"use strict";"undefined"!=typeof $&&"undefined"!==modules.utils&&(modules.footer=function(){var a,b,c,d,e=$(".main-footer"),f={langSelectorTouchend:function(b){b.stopPropagation(),a.hasClass("opened")?a.removeClass("opened"):(a.addClass("opened"),f.selectorMovement())},selectorMovement:function(){var d=$(document).height(),f=$(window).height()+$(window).scrollTop(),g=b.height();if(a.hasClass("open-up")&&a.removeClass("open-up"),a.hasClass("open-down")&&a.removeClass("open-down"),e.height()<g)c="open-up";else if(modules.device.iPhone()||modules.device.android()||modules.device.wp()){c="open-down";var h=a.offset().top-.125*$(window).height();$("html, body").animate({scrollTop:h},450)}else c=d-f<2*g/3?"open-down":"open-up";a.addClass(c)}},g=function(a){var b=$(a).attr("value"),c=$(a).attr("href");modules.footer.changeLanguageService.changeLanguage(b,c)},h=function(){a=e.find(".lang-selector"),b=a.find("> ul"),d="true"===b.attr("data-user-authenticated"),a.length>0&&(b.on("contextmenu",function(a){a.preventDefault()}),$(window).on("click touchend",function(b){a.hasClass("opened")&&(a.removeClass("opened"),b.preventDefault())}),a.on("click tap",function(a){f.langSelectorTouchend(a)}),b.find("a").on("click touchend",function(a){d&&(a.preventDefault(),g(a.currentTarget)),a.stopPropagation()}))},i=function(){h()};return $(document).ready(i),{initFooter:i}}())}(),modules.footer.changeLanguageService=function(){"use strict";function a(a,c,d){var e={type:"POST",contentType:"application/json"},f=$.extend({},e,d);return f.url=a,f.data=c,$.ajax(f).done(b)}function b(){window.location.href=window.location.origin+d}var c={value:""},d=null;return{changeLanguage:function(b,e){var f={};return c.value=b,d=e,a($(".lang-selector").find(".lang-selector--lang-options").attr("data-url-attribute"),JSON.stringify(c),f)}}}();var modules=window.modules||{};!function(){"use strict";modules.observer=modules.observer||function(){var a={},b=function(b,c,d){c&&(a[b]||(a[b]=[]),a[b].push({callback:c,context:d}))},c=function(b,c){a[b]&&(a[b]=c?a[b].filter(function(a){return a.callback!==c}):[])};return{trigger:function(b){var c=a[b];if(c){var d=Array.prototype.slice.call(arguments,1);c.forEach(function(a){a.callback.apply(a.context,d)})}},on:b,off:c}}()}();var modules=window.modules||{};!function(){"use strict";modules.validation=modules.validation||{_VALIDATIONS:{required:/\S/,number:/^[\d.,]*$|^$/,text:/^([a-zA-Z0-9Ã±ÃÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃ]+\s)*[a-zA-Z0-9Ã±ÃÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃ]+$|^$/,name:/^[a-zA-Z\u00C0-\u017F]([a-zA-Z\u00C0-\u017FÂª]|'[a-zA-Z\u00C0-\u017F])(([a-zA-Z\u00C0-\u017F.Âª\-\s]|'[a-zA-Z\u00C0-\u017F]){0,33})+$|^$/,phone:function(a){return null!==$(a).val().replace(/\s/g,"").match(/^(\+?\d{8,15})$|^$/)},phoneprefix:/^(0{0,3}[1-9]-?\d{0,3})$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,6})+$|^$/,emailnomas:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,6})+$|^$/,emailPermisive:/^([a-zA-Z0-9_\.\-Ã±ÃÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃ\+])+\@(([a-zA-Z0-9\-Ã±ÃÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃ])+\.)+([a-zA-Z0-9]{2,6})+$|^$/,postalCode:/^(?:\d{5}|AD\d{3})$|^\d{4}-\d{3}$|^$/i,squareMeters:/^\d*$|^$/,checkbox:function(a){return!!$('input[type="checkbox"]:checked',a).length},radio:function(a){return!!$('input[type="radio"]:checked',a).length},select:function(a){return""!==$("option:selected",a).val()},repeated:function(a){return this.repeatedFields(a)},multiple_emails:function(a){return this.multipleEmails(a)},url:/(^|\s)((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)$/i,password:/^(?=.*\d)(?=.*[a-zA-Z]).{4,100}$/,prouserid:/^([a-zA-Z0-9_\.\-Ã±ÃÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃ\+])+\@(([a-zA-Z0-9\-Ã±ÃÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃ])+\.)+([a-zA-Z0-9]{2,6})+$|^[p|P][0-9]{1,9}$|^$/,maximum:function(a){var b=$(a).val();return""===b||Number(b)<=parseFloat($(a).attr("data-maximum")||0)},minimum:function(a){var b=$(a).val();return""===b||Number(b)>=parseFloat($(a).attr("data-minimum")||0)},lessthan:function(a){var b=$(a).val();if(""===b)return!0;var c=Number($("#"+$(a).attr("data-lessthan")).val());return!!isNaN(c)||b<c},morethan:function(a){var b=$(a).val();if(""===b)return!0;var c=Number($("#"+$(a).attr("data-morethan")).val());return!!isNaN(c)||b>c},lessthanorequal:function(a){var b=$(a).val();if(""===b)return!0;var c=Number($("#"+$(a).attr("data-lessthan")).val());return!!isNaN(c)||b<=c},morethanorequal:function(a){var b=$(a).val();if(""===b)return!0;var c=Number($("#"+$(a).attr("data-morethan")).val());return!!isNaN(c)||b>=c},pattern:function(a){return null!==$(a).val().match($(a).attr("data-pattern")+"|^$")}},addExtraValidations:function(a){if(!(a instanceof Object))throw new TypeError("Invalid map passed.");for(var b in a)this._VALIDATIONS[b]||(this._VALIDATIONS[b]=a[b])},buildErrorNode:function(a,b,c){var d=$(a.attr("data-message-append")),e=a.attr("data-message-"+b),f="";if(f=void 0!==e&&!1!==e?e||"":b,d.length<=0){var g=$("<span></span>");g.attr("data-validation-error-remove",""),g.addClass(c||"message-error"),g.text(f);var h=a.parent().find("[data-error-here]");h.length>0?h.eq(0).append(g):"checkbox"===b||"radio"===b?a.before(g):a.parents("label").length?a.parents("label").append(g):g.insertAfter(a)}else d.text(f)},multipleEmails:function(a){for(var b=this,c=a.val(),d=!0,e=$.trim(c).split(","),f=e.length,g=0;g<f&&d;g++)b._VALIDATIONS.email.test($.trim(e[g]))||(d=!1);return d},repeatedFields:function(a){return $(a).val()===$("#"+$(a).data("repeated-field")).val()},groupRequiredValidation:function(a){var b=this,c=!1,d=$("[data-required-group]",a),e="";return d.each(function(a,d){var f=$(d),g=f.attr("data-required-group");""!==$.trim(f.val())?(c=!0,b.removeError(f)):b.addError(f,""),0===a&&(e=f.attr("data-"+g+"-error"))}),d.length>0?c?($(".general-errors-container",a).text("").addClass("d-none"),d.each(function(a,c){b.removeError($(c))})):$(".general-errors-container",a).text(e).removeClass("d-none"):c=!0,c},buildHtmlMessages:function(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d.push("<p>"+$("<div/>").text(a[b]).html()+"</p>");return d.join("")},validateValue:function(a,b){var c=this._VALIDATIONS[b];switch(!0){case c instanceof RegExp:return c.test(a);case c instanceof Function:return c.call(this,a);default:return!1}},scrollToInvalidField:function(){var a=document.querySelectorAll("[data-invalid]")[0];a&&a.scrollIntoView(!1)},validateFields:function(a,b){var c,d,e,f=this._VALIDATIONS,g=this,h=g.isFormValid=!0,i=function(){return $(this).parent().is(":visible")},j=function(){var a=$(this);switch(!0){case c instanceof RegExp:e="phone"!==a.attr("id")?a.val():a.val().split(" ").join(""),d=!a.hasClass("defaultText")&&c.test($.trim(e));break;case c instanceof Function:d=c.call(g,a);break;default:d=!0}if(!d){h=g.isFormValid=!1,g.messages.push(a.attr("data-message-"+k)||""),g.addError(a,k,null,b);var f=a.attr("name")||a.attr("data-error-name");"radio"===k&&(f=a.find("input[type=radio]").attr("name")),!1!==a.data("doNotMarkupXitiValidation")&&("undefined"!=typeof xt_med&&xt_med("F",xtn2,xtpage+"::"+f),modules.markup.trackerMarkup.sendMarkupView(xtpage+"::"+f)),modules.observer.trigger("validationError",{$field:a,fieldType:a.attr("type"),fieldName:f,fieldValidation:k})}};if(g.messages=[],a.length<=0)throw new TypeError("Element not found.");$("[data-validation]",a).each(function(){g.removeError($(this))}),h=g.groupRequiredValidation(a);for(var k in f)f.hasOwnProperty(k)&&(c=f[k],$('[data-validation~="'+k+'"]:not([data-invalid]):not([data-validation-none])',a).filter(i).each(j));return g.scrollToInvalidField(),b?g.messages:h},validateOneField:function(a){var b=this,c=b._VALIDATIONS,d=a.attr("data-validation");"checkbox"!==a.attr("type")||d||(d=a.closest("label").attr("data-validation"));var e=a;return c[d]instanceof RegExp&&(e="phone"!==a.attr("id")?a.val():a.val().split(" ").join("")),c[d]instanceof Function&&(e=e.closest("label")),b.validateValue(e,d)},messages:[],isFormValid:!0,addError:function(a,b,c,d){"radio"===b||"checkbox"===b?a.find("input").nextAll("span").attr("data-invalid","invalid"):"select"===b?a.parents("label").find(".dropdown-wrapper").attr("data-invalid","invalid"):a.attr("data-invalid","invalid"),d||this.buildErrorNode(a,b,c)},removeError:function(a){a.removeAttr("data-invalid"),a.find("input").nextAll("span").removeAttr("data-invalid"),a.parents("label").find(".dropdown-wrapper").removeAttr("data-invalid","invalid"),a.parents(".item-form").find(".message-error").remove(),a.parents("label").find(".message-error").remove();var b=$(a.attr("data-message-append"));b.length<=0?a.parents("label").length?a.parents("label").find("[data-validation-error-remove]").remove():a.parent().find("[data-validation-error-remove]").remove():b.text("")},showServerError:function(a,b){var c=a.inputName.replace(/\./g,"\\.")
;"undefined"==typeof xt_med||b||xt_med("F",xtn2,xtpage+"::"+a.inputName);var d=$('[name="'+c+'"]').length?$('[name="'+c+'"]'):$('[data-group="'+c+'"]');0===d.length&&(d=$('[data-name="'+c+'"]'));var e=a.message;if("hidden"===$('[name="'+c+'"]').prop("type")){var f=$('[name="'+c+'"]').data("error-field");d=$("#"+f).length?$("#"+f):$('[data-group="'+f+'"]')}d.is(":radio")||d.is(":checkbox")?(d.nextAll("span").attr("data-invalid","invalid"),-1===d.parents("ul").parent().html().indexOf(e)&&d.parents("ul").before('<span class="message-error">'+e+"</span>")):d.is("select")?setTimeout(function(){d.parents("label").find(".dropdown-wrapper").attr("data-invalid","invalid"),-1===d.parents("label").parent().html().indexOf(e)&&d.parents("label").append('<span class="message-error">'+e+"</span>")},1e3):(d.attr("data-invalid","invalid"),-1===d.parents("label").parent().text().indexOf(e)?d.parents("label").append('<span class="message-error">'+e+"</span>"):d.attr("data-message-"+d.prop("type"))&&d.parents("label").append('<span class="message-error">'+d.attr("data-message-"+d.prop("type"))+"</span>"))},showServerErrors:function(a,b,c){b||(b=function(a){return{inputName:void 0!==a.inputName?a.inputName:a.field,message:a.message}});for(var d=0,e=a.length;d<e;d++)modules.validation.showServerError(b(a[d]),c)},removeErrors:function(a){var b=this;$("[data-validation]",a).each(function(){b.removeError($(this))})}}}();var modules=window.modules||{};!function(){"use strict";modules.keyListener=function(a,b){this._node=b||document,this._context=a,this._active=!1,this._map={},this._initializeMap(),this._startListening()},modules.keyListener.prototype={_initializeMap:function(){var a=modules.keyListener.keyEvents;for(var b in a)this._map[a[b]]={activateds:[],always:[]}},_evaluateHandler:function(a,b){var c=b.which;a.matcher(c)&&a.callback.call(this._context,b)},_triggerActivateds:function(a,b){var c=this;if(c.isActive()){c._map[a].activateds.forEach(function(a){c._evaluateHandler(a,b)})}},_triggerAlways:function(a,b){var c=this;c._map[a].always.forEach(function(a){c._evaluateHandler(a,b)})},_bindSpecificKeyEvent:function(a){var b=this;$(b._node).on(a,function(c){b._triggerActivateds(a,c),b._triggerAlways(a,c)})},_startListening:function(){for(var a in this._map)this._bindSpecificKeyEvent(a)},_mapKeyEventToAction:function(a,b,c,d){(d?this._map[a].always:this._map[a].activateds).push({matcher:b,callback:c})},_getHandlerPositionInCollection:function(a,b,c){for(var d,e=0;e<a.length;e++)if(d=a[e],d.matcher===b&&d.callback===c)return e},_removeHandlerFromCollectionAt:function(a,b){void 0!==a&&b.splice(a,1)},_removeMappedActionInCollection:function(a,b,c){var d=this._getHandlerPositionInCollection(a,b,c);this._removeHandlerFromCollectionAt(d,a)},_removeMappedAction:function(a,b,c){var d=this._map[a];this._removeMappedActionInCollection(d.activateds,b,c),this._removeMappedActionInCollection(d.always,b,c)},onKeyPress:function(a,b){this._mapKeyEventToAction(modules.keyListener.keyEvents.KEY_PRESS,a,b)},onKeyUp:function(a,b){this._mapKeyEventToAction(modules.keyListener.keyEvents.KEY_UP,a,b)},onKeyDown:function(a,b){this._mapKeyEventToAction(modules.keyListener.keyEvents.KEY_DOWN,a,b)},alwaysOnKeyDown:function(a,b){this._mapKeyEventToAction(modules.keyListener.keyEvents.KEY_DOWN,a,b,!0)},alwaysOnKeyUp:function(a,b){this._mapKeyEventToAction(modules.keyListener.keyEvents.KEY_UP,a,b,!0)},alwaysOnKeyPress:function(a,b){this._mapKeyEventToAction(modules.keyListener.keyEvents.KEY_PRESS,a,b,!0)},offKeyPress:function(a,b){this._removeMappedAction(modules.keyListener.keyEvents.KEY_PRESS,a,b)},offKeyUp:function(a,b){this._removeMappedAction(modules.keyListener.keyEvents.KEY_UP,a,b)},offKeyDown:function(a,b){this._removeMappedAction(modules.keyListener.keyEvents.KEY_DOWN,a,b)},activate:function(){this._active=!0},deactivate:function(){this._active=!1},isActive:function(){return this._active}},modules.keyListener.keyEvents={KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup"},modules.keyListener.keyMatchers={ALPHANUMERIC:function(a){return modules.keyListener.keyMatchers.LETTER(a)||modules.keyListener.keyMatchers.DIGIT(a)},LETTER:function(a){return modules.keyListener.keyMatchers.UPPERCASE(a)||modules.keyListener.keyMatchers.LOWERCASE(a)},UPPERCASE:function(a){return a>=65&&a<=90},LOWERCASE:function(a){return a>=97&&a<=122},DIGIT:function(a){return a>=48&&a<=57},ENTER:function(a){return 13===a},SCAPE:function(a){return 27===a},SPACE:function(a){return 32===a},UP:function(a){return 38===a},DOWN:function(a){return 40===a}}}();var modules=window.modules||{};!function(){"use strict";if(!modules.dropdown){(function(){modules.device.iOS()&&(Element.prototype.focus=function(){})})();var a=modules.keyListener.keyMatchers,b={template:null,role:null,visibleItems:null,heightRatio:.7,autofocus:!0,waitingTime:500},c=2,d=" ",e="",f='<li data-value="{{=value}}">{{=text}}</li>',g=new t(f),h={ANCHOR:"a",LI:"li",OPTION:"option",SPAN:"span",UL:"ul"},i={DATA_ROLE:"data-role",DATA_VALUE:"data-value",NAME:"name"},j={HOVER:".hover",BODY:"html, body",FIRST_CHILD:":first-child",LAST_CHILD:":last-child",ALL_DROPDOWN_WRAPPERS:".dropdown-wrapper",TITLE:".tittle",LABEL:"label",DATA_VALUE_EQUALS:function(a){return"["+i.DATA_VALUE+'="'+a+'"]'}},k={MAX_HEIGHT:"max-height"},l={SHARP:"#"},m={ACTIVE:"active",DISABLED:"disabled",DROPDOWN:"dropdown",DROPDOWN_WRAPPER:"dropdown-wrapper",HOVER:"hover",PLACEHOLDER:"placeholder",SELECTED:"selected",V2_ANDROID:"v2Android"},n={CHANGE:"change",CHANGED:"changed",CLICK:"click",CLOSE:"close",MOUSE_OVER:"mouseover",OPEN:"open"},o=function(a){return"<"+a+"/>"},p=+modules.device.androidVersion()===c;modules.dropdown=function(a){var c=$(a.$el);0!==c.length&&(this.config=$.extend(!0,{},b,a),this.$originalElement=c,this.$originalOptionsElems=null,this.$dropdownEl=null,this.$optionsElems=null,this.keyListener=new modules.keyListener(this),this.internalTemplate=g,this.defaultText=null,this._typedTime=null,this._typed=[],this.dropdownType=this.$originalElement[0].nodeName.toLowerCase(),this.adapter=modules.dropdown.adapters[this.dropdownType],this.adapter._setData.call(this),this._render(),this._init(),this._setElementsEvent(),this.chekIfShouldLookDisabled(),modules.utils.makeObservable(this,[n.OPEN,n.CLOSE,n.CHANGED]))},modules.dropdown.prototype={getValue:function(){return this.$syncElement.val()},getOptionValueAt:function(a){return this.$optionsElems[a].getAttribute(i.DATA_VALUE)},getSelectedElementInOriginalOptions:function(){return this.$originalOptionsElems.filter(j.DATA_VALUE_EQUALS(this.getValue()))},dropdownHasOnlyOnePosibleOption:function(){return this.data.elements.length<=1},disable:function(){this.$dropdownEl.addClass(m.DISABLED)},enable:function(){this.dropdownHasOnlyOnePosibleOption()||this.$dropdownEl.removeClass(m.DISABLED)},isDisabled:function(){return this.$dropdownEl.hasClass(m.DISABLED)},chekIfShouldLookDisabled:function(){this.dropdownHasOnlyOnePosibleOption()&&this.disable(),this.enable()},setValue:function(a,b){this.adapter._setValue.call(this,a,b),b||this.trigger(n.CHANGED,a)},createDropdownList:function(){this.$dropdownList=$(o(h.UL),{class:m.DROPDOWN})},createPlaceholder:function(){this.$placeholderEl=$(o(h.SPAN),{class:m.PLACEHOLDER,text:this.defaultText})},generateDropdownElClasses:function(){var a=m.DROPDOWN_WRAPPER;return p&&(a+=d+m.V2_ANDROID),a},generateDropDownElID:function(){var a=this.$syncElement.attr(i.NAME);return a?"qa_"+a:null},createDropdownEl:function(){this.$dropdownEl=$(o(h.ANCHOR),{class:this.generateDropdownElClasses(),id:this.generateDropDownElID(),href:l.SHARP})},setDataRoleAttribute:function(){this.config.role&&this.$dropdownEl.attr(i.DATA_ROLE,this.config.role)},createOptionsElements:function(){this.config.template?(this.$placeholderEl.html(this.config.template.code.render(this._createTemplateObj(0))),this.$dropdownList.html(this._createFromTemplate())):this.$dropdownList.html(this._createFromDefault()),this.$optionsElems=this.$dropdownList.find(h.LI)},assembleElements:function(){this.$dropdownEl.append(this.$placeholderEl),this.$dropdownEl.append(this.$dropdownList),this.$dropdownEl.insertBefore(this.$originalElement)},_render:function(){this.createDropdownList(),this.createPlaceholder(),this.createDropdownEl(),this.setDataRoleAttribute(),this.createOptionsElements(),this.assembleElements()},refresh:function(){this.adapter._setData.call(this),this.createOptionsElements(),this._setElementsEvent(),this.chekIfShouldLookDisabled(),this.setValue(this.getValue(),!0)},bindOptionsClick:function(){var a=this;a.$optionsElems.on(n.CLICK,function(b){a._onOptionClick(b)})},bindOptionsMouseOver:function(){var a=this;a.$optionsElems.on(n.MOUSE_OVER,function(b){a.$optionsElems.removeClass(m.HOVER),$(b.currentTarget).addClass(m.HOVER)})},_setElementsEvent:function(){this.bindOptionsClick(),this.bindOptionsMouseOver()},_createFromDefault:function(){var a=this,b=e;return this.data.elements.forEach(function(c){b+=a.internalTemplate.render(c)}),b},_createFromTemplate:function(){var a=this,b=e;return this.data.elements.forEach(function(c,d){c.text=a.config.template.code.render(a._createTemplateObj(d)),b+=a.internalTemplate.render(c)}),b},_createTemplateObj:function(a){for(var b=this,c={},d="data-",e=0,f=b.config.template.data.length;e<f;e++)c[b.config.template.data[e]]=b.$originalOptionsElems[a].getAttribute(d+b.config.template.data[e]),c.value=b.$originalOptionsElems[a].value,c.text=b.$originalOptionsElems[a].innerHTML;return c},getHiglightedOptionElem:function(){return this.$dropdownEl.find(j.HOVER)},getSelectedOptionElem:function(){var a=this,b=null;return a.$optionsElems.each(function(c,d){var e=$(d);e.attr(i.DATA_VALUE)===a.getValue()&&(b=e)}),b},_highlightSelected:function(){var a=this.getSelectedOptionElem(),b=m.SELECTED+d+m.HOVER;a&&(this.$optionsElems.removeClass(m.SELECTED),a.addClass(b))},enterKeyDown:function(a){var b=this.getHiglightedOptionElem();0!==b.length&&(a.preventDefault(),this.setValue(b.attr(i.DATA_VALUE)),this.$dropdownEl.click(),this.$dropdownEl.focus())},spaceKeyDown:function(a){document.activeElement===this.$dropdownEl[0]&&(a.preventDefault(),0===this._typed.length?(this.$dropdownEl.click(),this.$dropdownEl.focus()):this.handleAlphanumericInput(a))},scapeKeyDown:function(a){a.preventDefault(),this.spaceKeyDown(a)},upArrowKeyDown:function(a){var b=this.getHiglightedOptionElem(),c=b.prev();a.preventDefault(),b.removeClass(m.HOVER),b&&b.is(j.FIRST_CHILD)&&(c=this.$optionsElems.last()),c.addClass(m.HOVER),this._scrollToOption(c)},downArrowKeyDown:function(a){var b=this.getHiglightedOptionElem(),c=b.next();a.preventDefault(),b.removeClass(m.HOVER),b&&b.is(j.LAST_CHILD)&&(c=this.$optionsElems.first()),c.addClass(m.HOVER),this._scrollToOption(c)},createSearchString:function(a){var b=a.keyCode;return this._typed.push(String.fromCharCode(b)),this._typed.join(e).toLowerCase()},getOptionByLookupString:function(a){for(var b=this._getOptionsTextualValues(),c=null,d=0;d<b.length;d++)if(0===b[d].indexOf(a)){c=this.$optionsElems.eq(d);break}return c},highlightOption:function(a){a&&(this.$optionsElems.removeClass(m.HOVER),a.addClass(m.HOVER),this._scrollToOption(a))},handleAlphanumericInput:function(a){var b=this;clearTimeout(b._typedTime),b._searchByKey(a),b._typedTime=setTimeout(function(){b._typed=[]},b.config.waitingTime)},_searchByKey:function(a){var b=this.createSearchString(a),c=this.getOptionByLookupString(b);this.highlightOption(c)},bindKeyListener:function(){this.keyListener.onKeyDown(a.ENTER,this.enterKeyDown),this.keyListener.onKeyDown(a.SCAPE,this.scapeKeyDown),this.keyListener.onKeyDown(a.UP,this.upArrowKeyDown),this.keyListener.onKeyDown(a.DOWN,this.downArrowKeyDown),this.keyListener.onKeyDown(a.ALPHANUMERIC,this.handleAlphanumericInput),this.keyListener.alwaysOnKeyDown(a.SPACE,this.spaceKeyDown)},_onDropdownClick:function(a){a.preventDefault(),a.stopImmediatePropagation(),this.keyListener.isActive()?this._close():($(document).trigger(n.CLICK),this._open())},_scrollToOption:function(a){if(!p){var b=modules.utils.pseudoToArray(this.$optionsElems.slice(0,this.$optionsElems.index(a))).reduce(function(a,b){return a+b.clientHeight},0);this.$dropdownList.scrollTop(b-20)}},renderActive:function(){$(j.ALL_DROPDOWN_WRAPPERS).removeClass(m.ACTIVE),this.$dropdownEl.addClass(m.ACTIVE),this.$dropdownEl.focus(),this.keyListener.activate()},showDropdownList:function(){this.config.visibleItems?this.$dropdownList.css(k.MAX_HEIGHT,this.$dropdownList.children().outerHeight()*this.config.visibleItems):this.$dropdownList.css(k.MAX_HEIGHT,$(window).height()*this.config.heightRatio)},_open:function(){var a=this.getSelectedOptionElem();this.isDisabled()||(this.renderActive(),this.showDropdownList(),this._scrollToOption(a),this._highlightSelected(),this._scrollFocus(),this.triggerSync(n.OPEN))},_close:function(){this.keyListener.deactivate(),this.$optionsElems.removeClass(m.HOVER),this.$dropdownList.css(k.MAX_HEIGHT,0),this.$dropdownEl.removeClass(m.ACTIVE),this.triggerSync(n.CLOSE)},_onOptionClick:function(a){var b=this,c=$(a.currentTarget);b.setValue(c.attr(i.DATA_VALUE))},getOptionTextualValue:function(a){var b=/\./g,c=$(a),d=c.find(j.TITLE),f=d.length>0?d:c;return $.trim(f.html().toLowerCase().replace(b,e))},_getOptionsTextualValues:function(){var a=this,b=[];return a.$optionsElems.each(function(c,d){b.push(a.getOptionTextualValue(d))}),b},_scrollFocus:function(){if(this.config.autofocus){var a=this.$dropdownEl.offset().top-$(window).height()*.125;$(j.BODY).animate({scrollTop:a},450)}},bindSyncElement:function(){var a=this;a.$syncElement.on(n.CHANGE,function(b,c){c||a.setValue(a.getValue(),!0)})},bindDropdownElement:function(){var a=this;a.$dropdownEl.on(n.CLICK,function(b){a._onDropdownClick(b)}),a.$dropdownEl[0].ondragstart=function(){return!1}},bindLabels:function(){var a=this;a.$dropdownEl.parents(j.LABEL).on(n.CLICK,function(b){b.preventDefault(),a._onDropdownClick.call(a,b)})},bindDocumentClick:function(){var a=this;$(document).on(n.CLICK,function(){a._close()})},_init:function(){this.bindKeyListener(),this.bindSyncElement(),this.bindDropdownElement(),this.bindDocumentClick(),this.bindLabels(),this.$dropdownEl.removeClass(m.ACTIVE)}}}}();var dropdown=window.modules.dropdown||{};dropdown.adapters=dropdown.adapters||{},function(){"use strict";if(!dropdown.adapters.select){var a={SELECTED:"selected"},b={SELECTED:"selected"},c={OPTIONS:"option",ENABLED_OPTIONS:"option:not(:disabled)",SELECTED_OPTION:":selected",OPTION_WITH_VALUE:function(a){return'option[value="'+a+'"]'},LI_WITH_VALUE:function(a){return'li[data-value="'+a+'"]'}};dropdown.adapters.select={_setData:function(){var a=this;a.$syncElement=a.$originalElement,a.$originalOptionsElems=a.$syncElement.find(c.OPTIONS);var b=a.$originalElement.find(c.ENABLED_OPTIONS),d=a.$originalElement.find(c.SELECTED_OPTION);a.data={elements:[]},a.defaultText=d.text()||b.first().text(),b.each(function(){var b=$(this);a.data.elements.push({value:b[0].value,text:b.text()})})},_setValue:function(d,e){var f=this;d=null===d?"":d;var g=f.$syncElement.find(c.OPTION_WITH_VALUE(d));if(!(g.length>0))throw new Error("El valor asignado no corresponde con ninguna opciÃ³n");f.$originalOptionsElems.removeAttr(a.SELECTED),g.prop(a.SELECTED,b.SELECTED),f.$syncElement.val(d),e||f.$syncElement.change(),f.$placeholderEl.html(f.$dropdownEl.find(c.LI_WITH_VALUE(d)).html())}}}}();var dropdown=window.modules.dropdown||{};dropdown.adapters=dropdown.adapters||{},function(){"use strict";if(!dropdown.adapters.ul){var a={DATA_VALUE:"data-value"},b={INPUT:"input",FIRST_LI:"li:eq(0)",LI:"li",ENABLED_LIS:'li:not([data-disabled="true"])',LI_WITH_VALUE:function(a){return'li[data-value="'+a+'"]'}};dropdown.adapters.ul={_setData:function(){var c=this;c.$syncElement=c.$originalElement.siblings(b.INPUT),c.$originalOptionsElems=c.$originalElement.find(b.LI);var d=c.$originalElement.find(b.ENABLED_LIS),e=d.filter(b.LI_WITH_VALUE(c.$syncElement.val()));c.data={elements:[]},c.defaultText=e.first().text()||d.first().text(),d.each(function(){var b=$(this);c.data.elements.push({value:b.attr(a.DATA_VALUE),text:b.text()})})},_setValue:function(c,d){var e=this,f=e.$dropdownEl.find(b.LI_WITH_VALUE(c)),g=e.$dropdownEl.find(b.FIRST_LI);c===""||0===f.length?(e.$placeholderEl.html(g.text()),e.$syncElement.val(g.attr(a.DATA_VALUE))):f.length>0&&(e.$placeholderEl.html(f.html()),e.$syncElement.val(c)),d||e.$syncElement.change()}}}}();var modules=window.modules||{};!function(){"use strict";modules.makeMenuResponsive=function(a,b){var c=a.find("li"),d=$('<input type="hidden"/>');a.append(d),c.each(function(a,b){var c=$(b);c.attr("data-value")||c.attr("data-value",modules.utils.generateUniqueId("auto")),c.hasClass("actived")&&d.val(c.attr("data-value"))});var e=new modules.dropdown({$el:a.find("ul"),role:"responsive-menu",autofocus:!1}),f=function(a){return c.filter('[data-value="'+a+'"]')},g=function(a){a.length<=0||(c.removeClass("actived"),a.addClass("actived"))},h=function(a){var c=a.find("a");c.length<=0||b||(c.click(),window.location=c.attr("href"))};return c.find("a").click(function(a){var c=$(this).parent(),d=c.attr("data-value");g(c),e.setValue(d,!0),e.trigger("menu_change",d),b&&a.preventDefault()}),e.on("changed",function(a){var b=f(a);g(b),h(b),e.trigger("menu_change",a)}),modules.utils.makeObservable(e,["menu_change"]),e},$(document).ready(function(){modules.responsiveMenus={},$(".second-level-menu.responsive").each(function(){var a=$(this),b="true"===a.attr("data-noredirect"),c=modules.makeMenuResponsive(a,b),d=this.id;d&&(modules.responsiveMenus[d]=c)})})}(),function(a,b){"function"==typeof define&&define.amd?define(["exports"],b):b("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:a.commonJsStrict={})}(this,function(a){function b(a){if(a in O)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=N.length;c--;)if((a=N[c]+b)in O)return a}function c(a,b){a=a||{};for(var d in b)b[d]&&b[d].constructor&&b[d].constructor===Object?(a[d]=a[d]||{},c(a[d],b[d])):a[d]=b[d];return a}function d(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function e(a){if("createEvent"in document){var b=document.createEvent("HTMLEvents");b.initEvent("change",!1,!0),a.dispatchEvent(b)}else a.fireEvent("onchange")}function f(a,b,c){if("string"==typeof b){var d=b;b={},b[d]=c}for(var e in b)a.style[e]=b[e]}function g(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function h(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(b,"")}function i(a,b){var c,d=b||new Image;return d.src===a?c=new Promise(function(a,b){a(d)}):(c=new Promise(function(b,c){"http"===a.substring(0,4).toLowerCase()&&d.setAttribute("crossOrigin","anonymous"),d.onload=function(){setTimeout(function(){b(d)},1)}}),d.src=a),d.style.opacity=0,c}function j(a,b){window.EXIF||b(0),EXIF.getData(a,function(){var a=EXIF.getTag(this,"Orientation");b(a)})}function k(a,b,c){var d=b.width,e=b.height,f=a.getContext("2d");switch(a.width=b.width,a.height=b.height,f.save(),c){case 2:f.translate(d,0),f.scale(-1,1);break;case 3:f.translate(d,e),f.rotate(180*Math.PI/180);break;case 4:f.translate(0,e),f.scale(1,-1);break;case 5:a.width=e,a.height=d,f.rotate(90*Math.PI/180),f.scale(1,-1);break;case 6:a.width=e,a.height=d,f.rotate(90*Math.PI/180),f.translate(0,-e);break;case 7:a.width=e,a.height=d,f.rotate(-90*Math.PI/180),f.translate(-d,e),f.scale(1,-1);break;case 8:a.width=e,a.height=d,f.translate(0,d),f.rotate(-90*Math.PI/180)}f.drawImage(b,0,0,d,e),f.restore()}function l(){var a,b,c,d=this,e="croppie-container",h=d.options.viewport.type?"cr-vp-"+d.options.viewport.type:null;d.options.useCanvas=d.options.enableOrientation||m.call(d),d.data={},d.elements={},a=d.elements.boundary=document.createElement("div"),b=d.elements.viewport=document.createElement("div"),d.elements.img=document.createElement("img"),c=d.elements.overlay=document.createElement("div"),d.options.useCanvas?(d.elements.canvas=document.createElement("canvas"),d.elements.preview=d.elements.canvas):d.elements.preview=d.elements.img,g(a,"cr-boundary"),f(a,{width:d.options.boundary.width+"px",height:d.options.boundary.height+"px"}),g(b,"cr-viewport"),h&&g(b,h),f(b,{width:d.options.viewport.width+"px",height:d.options.viewport.height+"px"}),b.setAttribute("tabindex",0),g(d.elements.preview,"cr-image"),g(c,"cr-overlay"),d.element.appendChild(a),a.appendChild(d.elements.preview),a.appendChild(b),a.appendChild(c),g(d.element,e),d.options.customClass&&g(d.element,d.options.customClass),s.call(this),d.options.enableZoom&&o.call(d)}function m(){return(this.options.enableExif||this.options.exif)&&window.EXIF}function n(a){this.options.enableZoom&&(this.elements.zoomer.value=D(a,4))}function o(){function a(){p.call(c,{value:parseFloat(e.value),origin:new R(c.elements.preview),viewportRect:c.elements.viewport.getBoundingClientRect(),transform:Q.parse(c.elements.preview)})}function b(b){var d,e;d=b.wheelDelta?b.wheelDelta/1200:b.deltaY?b.deltaY/1060:b.detail?b.detail/-60:0,e=c._currentZoom+d,b.preventDefault(),n.call(c,e),a.call(c)}var c=this,d=c.elements.zoomerWrap=document.createElement("div"),e=c.elements.zoomer=document.createElement("input");g(d,"cr-slider-wrap"),g(e,"cr-slider"),e.type="range",e.step="0.0001",e.value=1,e.style.display=c.options.showZoomer?"":"none",c.element.appendChild(d),d.appendChild(e),c._currentZoom=1,c.elements.zoomer.addEventListener("input",a),c.elements.zoomer.addEventListener("change",a),c.options.mouseWheelZoom&&(c.elements.boundary.addEventListener("mousewheel",b),c.elements.boundary.addEventListener("DOMMouseScroll",b))}function p(a){function b(){var a={};a[L]=d.toString(),a[K]=g.toString(),f(c.elements.preview,a)}var c=this,d=a?a.transform:Q.parse(c.elements.preview),e=a?a.viewportRect:c.elements.viewport.getBoundingClientRect(),g=a?a.origin:new R(c.elements.preview);if(c._currentZoom=a?a.value:c._currentZoom,d.scale=c._currentZoom,b(),c.options.enforceBoundary){var h=q.call(c,e),i=h.translate,j=h.origin;d.x>=i.maxX&&(g.x=j.minX,d.x=i.maxX),d.x<=i.minX&&(g.x=j.maxX,d.x=i.minX),d.y>=i.maxY&&(g.y=j.minY,d.y=i.maxY),d.y<=i.minY&&(g.y=j.maxY,d.y=i.minY)}b(),S.call(c),u.call(c)}function q(a){var b=this,c=b._currentZoom,d=a.width,e=a.height,f=b.options.boundary.width/2,g=b.options.boundary.height/2,h=b.elements.preview.getBoundingClientRect(),i=h.width,j=h.height,k=d/2,l=e/2,m=-1*(k/c-f),n=m-(i*(1/c)-d*(1/c)),o=-1*(l/c-g),p=o-(j*(1/c)-e*(1/c)),q=1/c*k,r=i*(1/c)-q,s=1/c*l;return{translate:{maxX:m,minX:n,maxY:o,minY:p},origin:{maxX:r,minX:q,maxY:j*(1/c)-s,minY:s}}}function r(){var a=this,b=a._currentZoom,c=a.elements.preview.getBoundingClientRect(),d=a.elements.viewport.getBoundingClientRect(),e=Q.parse(a.elements.preview.style[L]),g=new R(a.elements.preview),h=d.top-c.top+d.height/2,i=d.left-c.left+d.width/2,j={},k={};j.y=h/b,j.x=i/b,k.y=(j.y-g.y)*(1-b),k.x=(j.x-g.x)*(1-b),e.x-=k.x,e.y-=k.y;var l={};l[K]=j.x+"px "+j.y+"px",l[L]=e.toString(),f(a.elements.preview,l)}function s(){function a(a,b){var c=o.elements.preview.getBoundingClientRect(),d=m.y+b,e=m.x+a;o.options.enforceBoundary?(l.top>c.top+b&&l.bottom<c.bottom+b&&(m.y=d),l.left>c.left+a&&l.right<c.right+a&&(m.x=e)):(m.y=d,m.x=e)}function b(a){function b(a){switch(a){case d:return[1,0];case e:return[0,1];case f:return[-1,0];case g:return[0,-1]}}var d=37,e=38,f=39,g=40;if(!a.shiftKey||a.keyCode!=e&&a.keyCode!=g){if(a.keyCode>=37&&a.keyCode<=40){a.preventDefault();var h=b(a.keyCode);m=Q.parse(o.elements.preview),document.body.style[M]="none",l=o.elements.viewport.getBoundingClientRect(),c(h)}}else{var i=0;i=a.keyCode==e?parseFloat(o.elements.zoomer.value,10)+parseFloat(o.elements.zoomer.step,10):parseFloat(o.elements.zoomer.value,10)-parseFloat(o.elements.zoomer.step,10),o.setZoom(i)}}function c(b){var c=b[0],d=b[1],e={};a(c,d),e[L]=m.toString(),f(o.elements.preview,e),t.call(o),document.body.style[M]="",r.call(o),u.call(o),k=0}function d(a){if(a.preventDefault(),!p){if(p=!0,i=a.pageX,j=a.pageY,a.touches){var b=a.touches[0];i=b.pageX,j=b.pageY}m=Q.parse(o.elements.preview),window.addEventListener("mousemove",g),window.addEventListener("touchmove",g),window.addEventListener("mouseup",h),window.addEventListener("touchend",h),document.body.style[M]="none",l=o.elements.viewport.getBoundingClientRect()}}function g(b){b.preventDefault();var c=b.pageX,d=b.pageY;if(b.touches){var g=b.touches[0];c=g.pageX,d=g.pageY}var h=c-i,l=d-j,p={};if("touchmove"==b.type&&b.touches.length>1){var q=b.touches[0],r=b.touches[1],s=Math.sqrt((q.pageX-r.pageX)*(q.pageX-r.pageX)+(q.pageY-r.pageY)*(q.pageY-r.pageY));k||(k=s/o._currentZoom);var u=s/k;return n.call(o,u),void e(o.elements.zoomer)}a(h,l),p[L]=m.toString(),f(o.elements.preview,p),t.call(o),j=d,i=c}function h(){p=!1,window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",g),window.removeEventListener("mouseup",h),window.removeEventListener("touchend",h),document.body.style[M]="",r.call(o),u.call(o),k=0}var i,j,k,l,m,o=this,p=!1;o.elements.overlay.addEventListener("mousedown",d),o.elements.viewport.addEventListener("keydown",b),o.elements.overlay.addEventListener("touchstart",d)}function t(){var a=this,b=a.elements.boundary.getBoundingClientRect(),c=a.elements.preview.getBoundingClientRect();f(a.elements.overlay,{width:c.width+"px",height:c.height+"px",top:c.top-b.top+"px",left:c.left-b.left+"px"})}function u(){var a,b=this,c=b.get();if(v.call(b))if(b.options.update.call(b,c),b.$)b.$(b.element).trigger("update",c);else{var a;window.CustomEvent?a=new CustomEvent("update",{detail:c}):(a=document.createEvent("CustomEvent"),a.initCustomEvent("update",!0,!0,c)),b.element.dispatchEvent(a)}}function v(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function w(){var a,b,c,d,g,h=this,i=0,j=1.5,k=1,l={},m=h.elements.preview,o=h.elements.zoomer,p=new Q(0,0,k),q=new R,s=v.call(h);s&&!h.data.bound&&(h.data.bound=!0,l[L]=p.toString(),l[K]=q.toString(),l.opacity=1,f(m,l),a=m.getBoundingClientRect(),b=h.elements.viewport.getBoundingClientRect(),c=h.elements.boundary.getBoundingClientRect(),h._originalImageWidth=a.width,h._originalImageHeight=a.height,h.options.enableZoom&&(h.options.enforceBoundary&&(d=b.width/a.width,g=b.height/a.height,i=Math.max(d,g)),i>=j&&(j=i+1),o.min=D(i,4),o.max=D(j,4),k=Math.max(c.width/a.width,c.height/a.height),n.call(h,k),e(o)),h._currentZoom=p.scale=k,l[L]=p.toString(),f(m,l),h.data.points.length?x.call(h,h.data.points):y.call(h),r.call(h),t.call(h))}function x(a){if(4!=a.length)throw"Croppie - Invalid number of points supplied: "+a;var b=this,c=a[2]-a[0],d=b.elements.viewport.getBoundingClientRect(),e=b.elements.boundary.getBoundingClientRect(),g={left:d.left-e.left,top:d.top-e.top},h=d.width/c,i=a[1],j=a[0],k=-1*a[1]+g.top,l=-1*a[0]+g.left,m={};m[K]=j+"px "+i+"px",m[L]=new Q(l,k,h).toString(),f(b.elements.preview,m),n.call(b,h),b._currentZoom=h}function y(){var a=this,b=a.elements.preview.getBoundingClientRect(),c=a.elements.viewport.getBoundingClientRect(),d=a.elements.boundary.getBoundingClientRect(),e=c.left-d.left,g=c.top-d.top,h=e-(b.width-c.width)/2,i=g-(b.height-c.height)/2,j=new Q(h,i,a._currentZoom);f(a.elements.preview,L,j.toString())}function z(a){var b=this,c=b.elements.canvas,d=b.elements.img,e=c.getContext("2d"),f=m.call(b),a=b.options.enableOrientation&&a;e.clearRect(0,0,c.width,c.height),c.width=d.width,c.height=d.height,f?j(d,function(b){k(c,d,parseInt(b)),a&&k(c,d,a)}):a&&k(c,d,a)}function A(a){var b=a.points,c=document.createElement("div"),d=document.createElement("img"),e=b[2]-b[0],h=b[3]-b[1];return g(c,"croppie-result"),c.appendChild(d),f(d,{left:-1*b[0]+"px",top:-1*b[1]+"px"}),d.src=a.url,f(c,{width:e+"px",height:h+"px"}),c}function B(a,b){var c=b.points,d=c[0],e=c[1],f=c[2]-c[0],g=c[3]-c[1],h=b.circle,i=document.createElement("canvas"),j=i.getContext("2d"),k=f,l=g;return b.outputWidth&&b.outputHeight&&(k=b.outputWidth,l=b.outputHeight),i.width=k,i.height=l,b.backgroundColor&&(j.fillStyle=b.backgroundColor,j.fillRect(0,0,k,l)),j.drawImage(a,d,e,f,g,0,0,k,l),h&&(j.fillStyle="#fff",j.globalCompositeOperation="destination-in",j.beginPath(),j.arc(k/2,l/2,k/2,0,2*Math.PI,!0),j.closePath(),j.fill()),i.toDataURL(b.format,b.quality)}function C(a,b){var c,d=this,e=[];if("string"==typeof a)c=a,a={};else if(Array.isArray(a))e=a.slice();else{if(void 0===a&&d.data.url)return w.call(d),u.call(d),null;c=a.url,e=a.points||[]}d.data.bound=!1,d.data.url=c||d.data.url,d.data.points=(e||d.data.points).map(function(a){return parseFloat(a)});var f=i(c,d.elements.img);return f.then(function(){d.options.useCanvas&&(d.elements.img.exifdata=null,z.call(d,a.orientation||1)),w.call(d),u.call(d),b&&b()}),f}function D(a,b){return parseFloat(a).toFixed(b||0)}function E(){var a=this,b=a.elements.preview.getBoundingClientRect(),c=a.elements.viewport.getBoundingClientRect(),d=c.left-b.left,e=c.top-b.top,f=d+c.width,g=e+c.height,h=a._currentZoom;(h===1/0||isNaN(h))&&(h=1);var i=a.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return d=Math.max(i,d/h),e=Math.max(i,e/h),f=Math.max(i,f/h),g=Math.max(i,g/h),{points:[D(d),D(e),D(f),D(g)],zoom:h}}function F(a){var b=this,d=E.call(b),e=c(T,c({},a)),f="string"==typeof a?a:e.type||"viewport",g=e.size,h=e.format,i=e.quality,j=e.backgroundColor,k="boolean"==typeof e.circle?e.circle:"circle"===b.options.viewport.type,l=b.elements.viewport.getBoundingClientRect(),m=l.width/l.height;return"viewport"===g?(d.outputWidth=l.width,d.outputHeight=l.height):"object"==typeof g&&(g.width&&g.height?(d.outputWidth=g.width,d.outputHeight=g.height):g.width?(d.outputWidth=g.width,d.outputHeight=g.width/m):g.height&&(d.outputWidth=g.height*m,d.outputHeight=g.height)),U.indexOf(h)>-1&&(d.format="image/"+h,d.quality=i),d.circle=k,d.url=b.data.url,d.backgroundColor=j,new Promise(function(a,c){a("canvas"===f?B.call(b,b.elements.preview,d):A.call(b,d))})}function G(){w.call(this)}function H(a){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var b=this,c=b.elements.canvas,d=(b.elements.img,document.createElement("canvas")),e=1;d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0),90!==a&&-270!==a||(e=6),-90!==a&&270!==a||(e=8),180!==a&&-180!==a||(e=3),k(c,d,e),p.call(b)}function I(){var a=this;a.element.removeChild(a.elements.boundary),h(a.element,"croppie-container"),a.options.enableZoom&&a.element.removeChild(a.elements.zoomerWrap),delete a.elements}function J(a,b){if(this.element=a,this.options=c(c({},J.defaults),b),l.call(this),this.options.url){var d={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,C.call(this,d)}}"function"!=typeof Promise&&function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})
}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k="function"==typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.prototype.catch=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0==--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&"object"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},"undefined"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);var K,L,M,N=["Webkit","Moz","ms"],O=document.createElement("div").style;L=b("transform"),K=b("transformOrigin"),M=b("userSelect");var P="translate3d",Q=function(a,b,c){this.x=parseFloat(a),this.y=parseFloat(b),this.scale=parseFloat(c)};Q.parse=function(a){return a.style?Q.parse(a.style[L]):a.indexOf("matrix")>-1||a.indexOf("none")>-1?Q.fromMatrix(a):Q.fromString(a)},Q.fromMatrix=function(a){var b=a.substring(7).split(",");return b.length&&"none"!==a||(b=[1,0,0,1,0,0]),new Q(parseInt(b[4],10),parseInt(b[5],10),parseFloat(b[0]))},Q.fromString=function(a){var b=a.split(") "),c=b[0].substring(P.length+1).split(","),d=b.length>1?b[1].substring(6):1,e=c.length>1?c[0]:0,f=c.length>1?c[1]:0;return new Q(e,f,d)},Q.prototype.toString=function(){return P+"("+this.x+"px, "+this.y+"px, 0px) scale("+this.scale+")"};var R=function(a){if(!a||!a.style[K])return this.x=0,void(this.y=0);var b=a.style[K].split(" ");this.x=parseFloat(b[0]),this.y=parseFloat(b[1])};R.prototype.toString=function(){return this.x+"px "+this.y+"px"};var S=d(t,500),T={type:"canvas",format:"png",quality:1},U=["jpeg","webp","png"];if(window.jQuery){var V=window.jQuery;V.fn.croppie=function(a){if("string"==typeof a){var b=Array.prototype.slice.call(arguments,1),c=V(this).data("croppie");return"get"===a?c.get():"result"===a?c.result.apply(c,b):this.each(function(){var c=V(this).data("croppie");if(c){var d=c[a];if(!V.isFunction(d))throw"Croppie "+a+" method not found";d.apply(c,b),"destroy"===a&&V(this).removeData("croppie")}})}return this.each(function(){var b=new J(this,a);b.$=V,V(this).data("croppie",b)})}}J.defaults={viewport:{width:100,height:100,type:"square"},boundary:{width:300,height:300},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}},c(J.prototype,{bind:function(a,b){return C.call(this,a,b)},get:function(){return E.call(this)},result:function(a){return F.call(this,a)},refresh:function(){return G.call(this)},setZoom:function(a){n.call(this,a),e(this.elements.zoomer)},rotate:function(a){H.call(this,a)},destroy:function(){return I.call(this)}}),a.Croppie=window.Croppie=J,"object"==typeof module&&module.exports&&(module.exports=J)}),function(){function a(a){return!!a.exifdata}function b(a,b){b=b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"",a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var c=atob(a),d=c.length,e=new ArrayBuffer(d),f=new Uint8Array(e),g=0;g<d;g++)f[g]=c.charCodeAt(g);return e}function c(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="blob",c.onload=function(a){200!=this.status&&0!==this.status||b(this.response)},c.send()}function d(a,d){function g(b){var c=e(b),g=f(b);a.exifdata=c||{},a.iptcdata=g||{},d&&d.call(a)}if(a.src)if(/^data\:/i.test(a.src)){var h=b(a.src);g(h)}else if(/^blob\:/i.test(a.src)){var i=new FileReader;i.onload=function(a){g(a.target.result)},c(a.src,function(a){i.readAsArrayBuffer(a)})}else{var j=new XMLHttpRequest;j.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";g(j.response),j=null},j.open("GET",a.src,!0),j.responseType="arraybuffer",j.send(null)}else if(window.FileReader&&(a instanceof window.Blob||a instanceof window.File)){var i=new FileReader;i.onload=function(a){g(a.target.result)},i.readAsArrayBuffer(a)}}function e(a){var b=new DataView(a);if(255!=b.getUint8(0)||216!=b.getUint8(1))return!1;for(var c=2,d=a.byteLength;c<d;){if(255!=b.getUint8(c))return!1;if(225==b.getUint8(c+1))return k(b,c+4,b.getUint16(c+2)-2);c+=2+b.getUint16(c+2)}}function f(a){var b=new DataView(a);if(255!=b.getUint8(0)||216!=b.getUint8(1))return!1;for(var c=2,d=a.byteLength,e=function(a,b){return 56===a.getUint8(b)&&66===a.getUint8(b+1)&&73===a.getUint8(b+2)&&77===a.getUint8(b+3)&&4===a.getUint8(b+4)&&4===a.getUint8(b+5)};c<d;){if(e(b,c)){var f=b.getUint8(c+7);f%2!=0&&(f+=1),0===f&&(f=4);return g(a,c+8+f,b.getUint16(c+6+f))}c++}}function g(a,b,c){for(var d,e,f,g,h=new DataView(a),i={},k=b;k<b+c;)28===h.getUint8(k)&&2===h.getUint8(k+1)&&(g=h.getUint8(k+2))in s&&(f=h.getInt16(k+3),f+5,e=s[g],d=j(h,k+5,f),i.hasOwnProperty(e)?i[e]instanceof Array?i[e].push(d):i[e]=[i[e],d]:i[e]=d),k++;return i}function h(a,b,c,d,e){var f,g,h,j=a.getUint16(c,!e),k={};for(h=0;h<j;h++)f=c+12*h+2,g=d[a.getUint16(f,!e)],k[g]=i(a,f,b,c,e);return k}function i(a,b,c,d,e){var f,g,h,i,k,l,m=a.getUint16(b+2,!e),n=a.getUint32(b+4,!e),o=a.getUint32(b+8,!e)+c;switch(m){case 1:case 7:if(1==n)return a.getUint8(b+8,!e);for(f=n>4?o:b+8,g=[],i=0;i<n;i++)g[i]=a.getUint8(f+i);return g;case 2:return f=n>4?o:b+8,j(a,f,n-1);case 3:if(1==n)return a.getUint16(b+8,!e);for(f=n>2?o:b+8,g=[],i=0;i<n;i++)g[i]=a.getUint16(f+2*i,!e);return g;case 4:if(1==n)return a.getUint32(b+8,!e);for(g=[],i=0;i<n;i++)g[i]=a.getUint32(o+4*i,!e);return g;case 5:if(1==n)return k=a.getUint32(o,!e),l=a.getUint32(o+4,!e),h=new Number(k/l),h.numerator=k,h.denominator=l,h;for(g=[],i=0;i<n;i++)k=a.getUint32(o+8*i,!e),l=a.getUint32(o+4+8*i,!e),g[i]=new Number(k/l),g[i].numerator=k,g[i].denominator=l;return g;case 9:if(1==n)return a.getInt32(b+8,!e);for(g=[],i=0;i<n;i++)g[i]=a.getInt32(o+4*i,!e);return g;case 10:if(1==n)return a.getInt32(o,!e)/a.getInt32(o+4,!e);for(g=[],i=0;i<n;i++)g[i]=a.getInt32(o+8*i,!e)/a.getInt32(o+4+8*i,!e);return g}}function j(a,b,c){var d="";for(n=b;n<b+c;n++)d+=String.fromCharCode(a.getUint8(n));return d}function k(a,b){if("Exif"!=j(a,b,4))return!1;var c,d,e,f,g,i=b+6;if(18761==a.getUint16(i))c=!1;else{if(19789!=a.getUint16(i))return!1;c=!0}if(42!=a.getUint16(i+2,!c))return!1;var k=a.getUint32(i+4,!c);if(k<8)return!1;if(d=h(a,i,i+k,p,c),d.ExifIFDPointer){f=h(a,i,i+d.ExifIFDPointer,o,c);for(e in f){switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[e]=r[e][f[e]];break;case"ExifVersion":case"FlashpixVersion":f[e]=String.fromCharCode(f[e][0],f[e][1],f[e][2],f[e][3]);break;case"ComponentsConfiguration":f[e]=r.Components[f[e][0]]+r.Components[f[e][1]]+r.Components[f[e][2]]+r.Components[f[e][3]]}d[e]=f[e]}}if(d.GPSInfoIFDPointer){g=h(a,i,i+d.GPSInfoIFDPointer,q,c);for(e in g){switch(e){case"GPSVersionID":g[e]=g[e][0]+"."+g[e][1]+"."+g[e][2]+"."+g[e][3]}d[e]=g[e]}}return d}var l=this,m=function(a){return a instanceof m?a:this instanceof m?void(this.EXIFwrapped=a):new m(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports.EXIF=m):l.EXIF=m;var o=m.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},p=m.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},q=m.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},r=m.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},s={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};m.getData=function(b,c){return!((b instanceof Image||b instanceof HTMLImageElement)&&!b.complete)&&(a(b)?c&&c.call(b):d(b,c),!0)},m.getTag=function(b,c){if(a(b))return b.exifdata[c]},m.getAllTags=function(b){if(!a(b))return{};var c,d=b.exifdata,e={};for(c in d)d.hasOwnProperty(c)&&(e[c]=d[c]);return e},m.pretty=function(b){if(!a(b))return"";var c,d=b.exifdata,e="";for(c in d)d.hasOwnProperty(c)&&("object"==typeof d[c]?d[c]instanceof Number?e+=c+" : "+d[c]+" ["+d[c].numerator+"/"+d[c].denominator+"]\r\n":e+=c+" : ["+d[c].length+" values]\r\n":e+=c+" : "+d[c]+"\r\n");return e},m.readFromBinaryFile=function(a){return e(a)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return m})}.call(this);var avatar=avatar||{};avatar.uploader=function(){"use strict";function a(){var a={firefox:"https://www.mozilla.org/firefox",chrome:"https://google.com/chrome/",msie:"http://ie.microsoft.com/",safari:"https://www.apple.com/safari",opera:"https://www.opera.com/"},b=navigator.userAgent.toLowerCase(),c="firefox",d=Object.keys(a).filter(function(a){return-1!==b.indexOf(a)});return d.length&&(c=d[0]),a[c]}function b(a,b,c){if(a.files&&a.files[0]){var d=new FileReader;d.onload=function(b){var d=new Image;d.addEventListener("load",function(){var e=d.width,f=d.height;d=null,c(b.target.result,a.files[0].size,{w:e,h:f})}),d.src=b.target.result},d.readAsDataURL(a.files[0]),setTimeout(function(){$(a).val("")},5e3)}else""!==$(a).val()&&b.trigger("bad-browser")}function c(a,b){a.widget.result(i).then(function(c){modules.utils.uploadBinary(j.url,c,j.filename,j.mimetype,{userProfileId:b},function(b){!1===b||!b&&""!==b?a.trigger("upload-error"):a.trigger("uploaded",b)})})}function d(a,b){$(a).html(e),this.widget=new Croppie($("#croppie-container",a)[0],h),this.hookFileInput($("#avatup-upload",a)),b.buttonContainer||($(".avatup-container",a).append('<div class="actions"></div>'),b.buttonContainer=$(".actions",a)),$(b.buttonContainer).html(f),$("#avatup-go",b.buttonContainer).on("click",function(a){a.preventDefault(),c(this,b.profileId)}.bind(this)),$("#avatup-cancel",b.buttonContainer).on("click",function(){this.trigger("cancelled")}.bind(this)),modules.utils.makeObservable(this,["uploaded","cancelled","small-size","small-dim","bad-type","nice-file","bad-browser","upload-error"]),this.on("bad-browser",this.showBrowserSuggestions.bind(this))}if("undefined"!=typeof avatarConfig){var e,f,g,h={viewport:{width:200,height:200},boundary:{width:300,height:300},showZoomer:!0,enableOrientation:!1,exif:!0},i={type:"canvas",size:{width:200,height:200},format:"jpeg",quality:.8},j={url:avatarConfig.uploadURL,filename:"file",mimetype:"image/jpeg"},k={mindim:200};return d.prototype.hookFileInput=function(a,c){if(!modules.utils.uploadBinarySupported)return a.parent().on("click",function(){this.trigger("bad-browser")}.bind(this)),void a.remove();var d=this;a.on("change",function(){b(this,d,function(a,b,e){e.w<k.mindim||e.h<k.mindim?d.trigger("small-dim"):d.trigger("nice-file"),d.widget.bind({url:a}),c&&c()})})},d.prototype.showBrowserSuggestions=function(){if(!modules.utils.uploadBinarySupported){var b=new modules.modal({title:g.title,content:g.content,size:"S",showNewStyleClass:!0});$("#suggested-browser-link",b.modalEl).attr("href",a()),b.show()}},$(document).ready(function(){e=$("#avatup-widget-tmpl").html(),f=$("#avatup-widget-buttons-tmpl").html(),g={title:$("#avatup-widget-badbrowser-title-tmpl").html(),content:$("#avatup-widget-badbrowser-content-tmpl").html()}}),d}}();var avatar=avatar||{};avatar.modal=function(){"use strict";function a(a,b){avatar.paint(a,b)}function b(b,e,f){var g=this,h=new modules.modal({title:d.title,content:d.content,buttons:d.buttons,role:"avatar-uploader",size:"S",showNewStyleClass:!0}),i=new avatar.uploader($(".modal-content",h.modalEl),{buttonContainer:$(".modal-buttons",h.modalEl),profileId:f});i.hookFileInput($(b),function(){g.trigger("working"),h.show()}),i.on("cancelled",function(){$(b).val(""),$(".avatup-feedback #avatup-upload-smallpic",h.modalEl).val(""),h.hide(),g.trigger("cancel")}),i.on("uploaded",function(c){$(b).val(""),$(".avatup-feedback #avatup-upload-smallpic",h.modalEl).val(""),h.hide(),a(e,f),g.trigger("success",c)}),i.on("small-dim",function(){$(".avatup-default-message",h.modalEl).hide(),$(".avatup-feedback",h.modalEl).removeClass("feedback contextual success warning icon-feedbk-ko icon-feedbk-ok").addClass("feedback contextual warning icon-feedback-ko").show().html(c.mindim),i.hookFileInput($(".avatup-feedback #avatup-upload-smallpic",h.modalEl))}),i.on("nice-file",function(){$(".avatup-feedback",h.modalEl).removeClass("feedback contextual success warning feedbk-ko feedbk-ok").hide().html(""),$(".avatup-default-message",h.modalEl).show()}),i.on("bad-browser",function(){h.hide(),g.trigger("cancel")}),i.on("upload-error",function(){$(b).val(""),$(".avatup-feedback #avatup-upload-smallpic",h.modalEl).val(""),h.hide(),g.trigger("fail")}),this.modal=h,modules.utils.makeObservable(this,["working","fail","success","cancel"])}if("undefined"!=typeof avatarConfig){var c,d={title:"",content:"",buttons:'<span class="modal-inner"></span>'};return b.prototype.destroy=function(){this.modal.destroy()},$(document).ready(function(){d.title=$("#avatup-modal-title-tmpl").html(),c={mindim:$("#avatup-widget-mess-mindim").html()}}),b}}(),function(){var a,b;return a=window.jQuery||require("jquery"),a.propHooks.scrollTop=a.propHooks.scrollLeft={get:function(a,b){var c=null;return"HTML"!==a.tagName&&"BODY"!==a.tagName||("scrollLeft"===b?c=window.scrollX:"scrollTop"===b&&(c=window.scrollY)),null==c&&(c=a[b]),c}},a.Tween.propHooks.scrollTop=a.Tween.propHooks.scrollLeft={get:function(b){return a.propHooks.scrollTop.get(b.elem,b.prop)},set:function(a){"HTML"===a.elem.tagName||"BODY"===a.elem.tagName?(a.options.bodyScrollLeft=a.options.bodyScrollLeft||window.scrollX,a.options.bodyScrollTop=a.options.bodyScrollTop||window.scrollY,"scrollLeft"===a.prop?a.options.bodyScrollLeft=Math.round(a.now):"scrollTop"===a.prop&&(a.options.bodyScrollTop=Math.round(a.now)),window.scrollTo(a.options.bodyScrollLeft,a.options.bodyScrollTop)):a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},b={config:{duration:400,easing:"swing",callback:null,durationMode:"each",offsetTop:0,offsetLeft:0},configure:function(c){return a.extend(b.config,c||{}),this},scroll:function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return e=c.pop(),f=e.$container,g=e.$target,h=a("<span/>").css({position:"absolute",top:"0px",left:"0px"}),i=f.css("position"),f.css({position:"relative"}),h.appendTo(f),n=h.offset().top,o=g.offset().top,p=o-n-parseInt(d.offsetTop,10),q=h.offset().left,r=g.offset().left,s=r-q-parseInt(d.offsetLeft,10),j=f.prop("scrollTop"),k=f.prop("scrollLeft"),h.remove(),f.css({position:i}),t={},u=function(){return 0===c.length?"function"==typeof d.callback&&d.callback():b.scroll(c,d),!0},d.onlyIfOutside&&(l=j+f.height(),m=k+f.width(),j<p&&p<l&&(p=j),k<s&&s<m&&(s=k)),p!==j&&(t.scrollTop=p),s!==k&&(t.scrollLeft=s),f.prop("scrollHeight")===f.height()&&delete t.scrollTop,f.prop("scrollWidth")===f.width()&&delete t.scrollLeft,null!=t.scrollTop||null!=t.scrollLeft?f.animate(t,{duration:d.duration,easing:d.easing,complete:u}):u(),!0},fn:function(c){var d,e,f,g;d=[];var h=a(this);if(0===h.length)return this;for(e=a.extend({},b.config,c),f=h.parent(),g=f.get(0);1===f.length&&g!==document.body&&g!==document;){var i,j;i="visible"!==f.css("overflow-y")&&g.scrollHeight!==g.clientHeight,j="visible"!==f.css("overflow-x")&&g.scrollWidth!==g.clientWidth,(i||j)&&(d.push({$container:f,$target:h}),h=f),f=f.parent(),g=f.get(0)}return d.push({$container:a("html"),$target:h}),"all"===e.durationMode&&(e.duration/=d.length),b.scroll(d,e),this}},a.ScrollTo=a.ScrollTo||b,a.fn.ScrollTo=a.fn.ScrollTo||b.fn,b}.call(this);var modules=modules||{};modules.sticky=function(a){"use strict";if(0!==$(a.elem).length){var b=modules.utils.generateUniqueId("sticky"),c=a.classFixed||"fixed",d=a.styles||!1,e=a.bottom||!1,f=a.stickyPositionTop||!1,g=a.stickCallback||function(){},h=a.unstickCallback||function(){},i=!1,j=!1,k=a.eventToStick||function(){$(window).on("scroll."+b,n.changeDivPosition)},l=function(){$(window).on("resize."+b,modules.utils.debounce(n.checkAllowed,200,n))},m=a.isAllowed||!0,n={$elem:a.elem,initialPosition:a.elem.offset().top,elementHeight:a.height||a.elem.outerHeight(),changeDivPosition:function(){var a=n.isInitialPositionReached(),b=n.isBottomReached();a||b?n.unstick():n.stick()},stick:function(){if(!i){i=!0;var a=n.$elem.addClass(c);d&&a.css(d),g(this)}},unstick:function(){i&&(i=!1,n.$elem.removeClass(c).removeAttr("style"),h(this))},getDistanceToTop:function(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop},isInitialPositionReached:function(){return n.getDistanceToTop()<=n.initialPosition},isBottomReached:function(){if(e){var a,b=e.offsetTop;return a=f||0,d&&d.top&&(a=d.top),n.getDistanceToTop()+n.elementHeight>b-a}return!1},isSticked:function(){return i},cancelSticky:a.cancelSticky||function(){j||(j=!0,m=!1,n.unstick(),$(window).off("scroll."+b),$(window).off("resize."+b))},reinitiateSticky:function(){j=!1,n.changeDivPosition(),k(),l()},checkAllowed:function(){"function"==typeof m&&m()||"boolean"==typeof m&&m?n.reinitiateSticky():n.cancelSticky()}};return n.checkAllowed(),n}};var userManagement=userManagement||{};userManagement.pageConstants=function(){"use strict";var a={emailLink:".js-change-email",saveButton:{button:"#savechanges",related:"[rel=save]"},emailModal:{email:"#newEmail"},feedback:"#page-feedback",feedbacks:{changeProfile:{ok:"#change-profile-feedback-ok-tmpl",invalid:"#change-profile-feedback-invalid-tmpl",nok:"#change-profile-feedback-generic-tmpl"},changeAccess:{ok:"#change-access-feedback-ok-tmpl",nok:"#change-access-feedback-generic-tmpl",weak:"#change-access-feedback-weak-tmpl",wrong:"#change-access-feedback-wrong-tmpl"}}},b={email:{modal:{title:"#modal-email-title-tmpl",content:"#modal-email-content-tmpl",buttons:"#modal-email-buttons-tmpl"},errors:{generic:"#modal-email-feedback-generic-tmpl",inuse:"#modal-email-feedback-inuse-tmpl"}}},c={ERROR_FEEDBACK:"#errorFeedback",SUCCESS_FEEDBACK:"#button-feedback-succes",LOADING_FEEDBACK:"#button-feedback-loading",BUTTON_FEEDBACK:"#buttonAcceptAndSave",BUTTON_SAVE:"#buttonSave"};return{PAGE:a,EVENTS:{CLICK:"click"},SELECTORS:{SAVE_BUTTOM:"#savechanges",USERNAME:"#username",MANAGE_PROFILE:".manage-profile",MANAGE_ACCESS:".manage-access",MANAGE_NOTIFICATIONS:".manage-notifications",SUBSCRIPTIONS:"#subscriptions",ERROR_FEEDBACK:".server-error",TABS_MENU:".tabs-menu",YOUR_DATAS_TABS:"#tusdatos-tabs",CONTAINER:".container",SEARCHS_CONTAINER:".pre-acceptation",CHANGE_LANGUAGE:".change-language"},TEMPLATES:b,TEMPLATES_RENDER:{SUCCESS_FEEDBACK:new t($(c.SUCCESS_FEEDBACK).html()).render(),LOADING_FEEDBACK:new t($(c.LOADING_FEEDBACK).html()).render(),BUTTON_FEEDBACK:new t($(c.BUTTON_FEEDBACK).html()).render(),ERROR_FEEDBACK:new t($(c.ERROR_FEEDBACK).html()).render(),BUTTON_SAVE:new t($(c.BUTTON_SAVE).html()).render()},TEMPLATES_BACKEND:c,NOTIFICATIONS_TYPE:{newspolls:"newspolls",productsAndDeals:"productsAndDeals",tradePromotions:"tradePromotions",idealistaWebNews:"idealistaWebNews",newsletterDaily:"newsletterDaily",newsletterWeekly:"newsletterWeekly",favorites:"favorites",thirdParty:"thirdParty",newMessagesPush:"pushNotificationEnabled",newMessagesEmail:"emailNotificationEnabled",recommendations:"recommendations"},MEDIA_QUERY_MOBILE:767}}();var userManagement=userManagement||{};userManagement.buildTemplates=function(){"use strict";function a(){Object.keys(userManagement.pageConstants.TEMPLATES).forEach(function(a){Object.keys(userManagement.pageConstants.TEMPLATES[a]).forEach(function(b){Object.keys(userManagement.pageConstants.TEMPLATES[a][b]).forEach(function(c){userManagement.pageConstants.TEMPLATES[a][b][c]=$(userManagement.pageConstants.TEMPLATES[a][b][c]).html(),-1!==userManagement.pageConstants.TEMPLATES[a][b][c].indexOf("{{")&&(userManagement.pageConstants.TEMPLATES[a][b][c]=new t(userManagement.pageConstants.TEMPLATES[a][b][c]))})})})}return{loadTemplates:a}}();var userManagement=userManagement||{};userManagement.emailHandler=function(){"use strict";function a(){return{name:null,newEmail:null,oldPassword:null,newPassword:null,visibility:null}}function b(){return configUserData.currentEmail}function c(a){return configUserData.currentEmail=a,a}function d(b){var c=a();return c.newEmail=b.trim().toLowerCase(),userManagement.services.servicePost(g.emailChange,c,!0)}function e(a,b){d(a).done(function(d){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.SUCCESS_FEEDBACK,"success"),b.hide(),$(userManagement.pageConstants.PAGE.emailModal.email,b.modalEl).val(""),c(a),window.location=configUserData.urls.emailConfirmLanding}).fail(function(c){b.show(),userManagement.feedbacksHandler.checkIfResetButton($(".modal-inner button.accept")),userManagement.feedbacksHandler.showError($(".feedback",b.modalEl),{406:"generic",500:"generic",403:"inuse"}[c.status],a)})}function f(){var a=new modules.modal({title:userManagement.pageConstants.TEMPLATES.email.modal.title,content:userManagement.pageConstants.TEMPLATES.email.modal.content.render({email:b()}),buttons:userManagement.pageConstants.TEMPLATES.email.modal.buttons,role:"email-change",size:"S",hideOnAutoAccept:!1,showNewStyleClass:!0});$(".feedback",a.modalEl).show(),a.on("accept",function(){var b=$(userManagement.pageConstants.PAGE.emailModal.email,a.modalEl).val();modules.validation.validateFields(a.modalEl)&&""!==b?e(b,a):a.show()}),a.on("cancel",function(){}),$(userManagement.pageConstants.PAGE.emailLink).on("click",function(b){b.preventDefault(),a.show(),$("#newEmail").on("keydown",function(a){userManagement.feedbacksHandler.checkIfResetButton($(".modal-inner button.accept"))})})}var g=configUserData.urls;return{initEmailLink:f}}();var userManagement=userManagement||{};userManagement.feedbacksHandler=function(){"use strict";function a(a,b,c){"ok"===b?a.removeClass("warning icon-feedbk-alert").addClass("success icon-feedbk-ok"):a.removeClass("success icon-feedbk-ok").addClass("warning icon-feedbk-alert"),"string"==typeof m.email.errors[b]?a.html(m.email.errors[b]):a.html(m.email.errors[b].render({email:c}))}function b(a,c){var d={ok:"success icon-feedbk-ok",nok:"warning icon-feedbk-alert"};b.active++,$(userManagement.pageConstants.PAGE.feedback).html(a).addClass(d[c]).slideDown().delay(4e3).slideUp(function(){0===--b.active&&$(userManagement.pageConstants.PAGE.feedback).removeClass(d[c])})}function c(a,b){g($(l.SAVE_BUTTOM)),"success"===b?d($(l.SAVE_BUTTOM)):e($(l.SAVE_BUTTOM)),$(l.SAVE_BUTTOM).text(a)}function d(a){a.addClass("feedback-success icon-ok-feedbk")}function e(a){a.addClass("feedback-loading icon-spinner"),a.attr("disabled","disabled")}function f(a){a.hasClass("feedback-success")&&a.removeClass("feedback-success icon-ok-feedbk"),a.hasClass("feedback-loading")&&a.removeClass("feedback-loading icon-spinner")}function g(a){f(a),a.text(userManagement.pageConstants.TEMPLATES_RENDER.BUTTON_FEEDBACK)}function h(a){f(a),a.removeAttr("disabled"),a.text(userManagement.pageConstants.TEMPLATES_RENDER.BUTTON_SAVE)}function i(){$(this.feedback).fadeToggle(),clearTimeout(this.timeoutInstance)}function j(a,b){a.after(userManagement.pageConstants.TEMPLATES_RENDER[b+"_FEEDBACK"])}function k(a,b){this.feedback=l[b+"_FEEDBACK"],0===$(l[b+"_FEEDBACK"]).length?j(a,b):$(this.feedback).fadeToggle(),this.timeoutInstance=setTimeout(i.bind(this),n.timeout)}var l=userManagement.pageConstants.SELECTORS,m=userManagement.pageConstants.TEMPLATES;b.active=0;var n={timeout:4500,content:""};return{buildError:k,showError:a,showGlobalFeedback:b,feedbackButton:c,checkIfResetButton:h,checkIfRemoveButtonFeedbacks:g}}();var userManagement=userManagement||{};userManagement.fixedTabsMenu=function(){"use strict";function a(){e=e||modules.sticky({elem:g(),classFixed:"notifications",stickCallback:function(a){a.$elem.css("width",$(f.CONTAINER).outerWidth())},bottom:document.getElementById("site-links-2")})}function b(){e&&e.isSticked()?g().css("top",0):e&&(e.cancelSticky(),e=null,g().css("top","inherit"))}function c(){e||a(),b()}function d(){if(g().length>0){e=null;var a=modules.utils.debounce(c,100,this);c(),$(window).on("scroll",a)}}var e,f=userManagement.pageConstants.SELECTORS,g=function(){return $(f.TABS_MENU)};return{initStickyFixed:d}}();var userManagement=userManagement||{};$(function(){"use strict";userManagement.buildTemplates.loadTemplates(),userManagement.emailHandler.initEmailLink(),$(userManagement.pageConstants.SELECTORS.MANAGE_PROFILE).length>0&&userManagement.profile.initProfileThings(),$(userManagement.pageConstants.SELECTORS.MANAGE_ACCESS).length>0&&userManagement.access.initAccessThings(),$(userManagement.pageConstants.SELECTORS.MANAGE_NOTIFICATIONS).length>0&&(userManagement.notifications.initNotifications(),userManagement.fixedTabsMenu.initStickyFixed(),window.location.href.indexOf("?anchor")>-1&&$("html, body").animate({scrollTop:$(userManagement.pageConstants.SELECTORS.SUBSCRIPTIONS).offset().top},1e3)),$(userManagement.pageConstants.SELECTORS.CHANGE_LANGUAGE).length>0&&userManagement.languages.initChangeLanguage()});var userManagement=userManagement||{};userManagement.services=function(){"use strict";function a(a,b,c){var d={type:"POST",contentType:"application/json"},e=$.extend({},d,c);return e.url=a,e.data=b,$.ajax(e)}return{updateNotifications:function(b){var c={};return c.beforeSend=function(){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.LOADING_FEEDBACK,"loading")},a(configUserData.urls.userNotifications,b,c)},servicePost:function(b,c,d){var e={};return d&&(e.beforeSend=function(){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.LOADING_FEEDBACK,"loading")}),a(b,JSON.stringify(c),e)},getUserData:function(b){return a(b,null,{type:"GET"})}}}();var userManagement=userManagement||{};userManagement.switch=function(){"use strict";function a(a){var b={name:null,newEmail:null,oldPassword:null,newPassword:null};return b.visibility=c(a),userManagement.services.servicePost(h.visibilityChange,b,!1)}function b(a,c){var d={ok:"success icon-feedbk-ok",nok:"warning icon-feedbk-alert"},e="ok"===c?i.feedback.ok:i.feedback.ko;b.active++,$(e).html(a).addClass(d[c]).slideDown().delay(4e3).slideUp(function(){0===--b.active&&$(e).removeClass(d[c])})}function c(a){return a?"WEB_PUBLIC":"HIDDEN"}function d(a){
h=a}function e(){$(i.contentSwitch.wrapper).html($(j.switch.template.content).html()),g()}function f(){userManagement.services.getUserData(h.userData).done(function(a){var b=new t($(j.switch.template.content).html()),c=b.render({multimediaProfileVisibility:a.body.multimediaProfileVisibility});$(i.contentSwitch.wrapper).html(c),g()}).fail(function(a){$(i.contentSwitch.wrapper).empty()})}function g(){$(i.contentSwitch.button).on("change",function(c){c.preventDefault();var d=$(i.contentSwitch.button).is(":checked");a(d).fail(function(a){b($(i.feedbacks.generic.nok).html(),"nok"),$(i.contentSwitch.button).prop("checked",!d)})})}var h,i={contentSwitch:{wrapper:"#content-switch-avatar-wrapper",button:"#showMultimediaProfile"},feedback:{ok:".avatar-feedback-ok",ko:".avatar-feedback-ko"},feedbacks:{generic:{nok:"#change-access-feedback-generic-tmpl"}}},j={switch:{template:{content:"#switch-tmpl"}}};return b.active=0,{initSwitch:d,renderSwitch:e,requestDataAndRenderSwitch:f}}();var userManagement=userManagement||{};userManagement.utils=function(){"use strict";function a(){return $(window).width()}function b(){return a()>userManagement.pageConstants.MEDIA_QUERY_MOBILE}return{getWidthWindow:a,isDesktop:b}}();var userManagement=userManagement||{};$(function(){"use strict";if("undefined"!=typeof avatarConfig){var a=avatarConfig.userId,b=new avatar.modal($("#avatup-upload"),$(".avatar-private-zone").add("#header .user-info .avatar-small-inline"),a);b.on("success",function(){$(".avatar-impeler").remove();var a=$(".file-pick");$("span",a).html(a.data("defaultMessage")),$(".avatar-feedback-ok").slideDown().delay(5e3).slideUp(),userManagement.switch.requestDataAndRenderSwitch(),modules.Xiti.sendXitiInfo("your-account::profile::photo-saved",null,null,114)}),b.on("fail",function(){$(".avatar-feedback-ko").slideDown().delay(5e3).slideUp()}),b.modal.on("cancel",function(){modules.Xiti.sendXitiInfo("your-account::profile::add-photo::close&clic=A",null,null,114)}),avatar.paint($(".avatar-private-zone"),a).always(function(){if(userManagement.switch.initSwitch(configUserData.urls),0!==$(".avatar-private-zone img").length){var a=$(".careto-container .file-pick");$("span",a).html(a.data("defaultMessage")),$(".avatar-impeler").remove(),userManagement.switch.renderSwitch()}})}});var userManagement=userManagement||{};userManagement.profile=function(){"use strict";function a(){$(userManagement.pageConstants.PAGE.saveButton.related).on("keyup",function(a){modules.validation.removeErrors(document.body)}),$(userManagement.pageConstants.PAGE.saveButton.related).on("keydown",function(a){userManagement.feedbacksHandler.checkIfResetButton($(userManagement.pageConstants.SELECTORS.SAVE_BUTTOM))}),$(userManagement.pageConstants.PAGE.saveButton.button).on("click",function(a){a.preventDefault(),modules.validation.validateFields($(".manage-profile")[0])&&($("#username").val(modules.utils.stripHTML($("#username").val())),userManagement.profileRequestHandler.changeName($("#username").val()))})}return{initProfileThings:a}}();var userManagement=userManagement||{};userManagement.profileRequestHandler=function(){"use strict";function a(){return{name:null,newEmail:null,oldPassword:null,newPassword:null,visibility:null}}function b(b){var d=a();d.name=b,userManagement.services.servicePost(c.nameChange,d,!0).done(function(a){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.SUCCESS_FEEDBACK,"success"),$(".careto-container h2").html($("#username").val()),$("#username").attr("value",$("#username").val()).trigger("keyup")}).fail(function(a){userManagement.feedbacksHandler.checkIfResetButton($(userManagement.pageConstants.SELECTORS.SAVE_BUTTOM)),userManagement.feedbacksHandler.showGlobalFeedback($(userManagement.pageConstants.PAGE.feedbacks.changeProfile[{406:"invalid",500:"nok"}[a.status]]).html(),"nok")})}var c=configUserData.urls;return{changeName:b}}();var userManagement=userManagement||{};userManagement.access=function(){"use strict";function a(){$(userManagement.pageConstants.PAGE.saveButton.related).on("keyup",function(a){modules.validation.removeErrors(document.body)}),$(userManagement.pageConstants.PAGE.saveButton.related).on("keydown",function(a){userManagement.feedbacksHandler.checkIfResetButton($(userManagement.pageConstants.SELECTORS.SAVE_BUTTOM))}),$(userManagement.pageConstants.PAGE.saveButton.button).on("click",function(a){a.preventDefault(),modules.validation.validateFields($(".manage-access")[0])&&userManagement.accessRequestHandler.changePassword($("#current-password").val(),$("#new-password").val(),$("#nostalgia").is(":checked"))})}return{initAccessThings:a}}();var userManagement=userManagement||{};userManagement.accessRequestHandler=function(){"use strict";function a(){return{name:null,newEmail:null,oldPassword:null,newPassword:null,visibility:null}}function b(b,d,e){var f=a();f.oldPassword=b,f.newPassword=d,userManagement.services.servicePost(c.passwordChange,f,!0).done(function(a){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.SUCCESS_FEEDBACK,"success"),$("#current-password").val(""),$("#new-password").val(""),$("#repeat-password").val("").trigger("keyup")}).fail(function(a){userManagement.feedbacksHandler.checkIfResetButton($(userManagement.pageConstants.SELECTORS.SAVE_BUTTOM)),userManagement.feedbacksHandler.showGlobalFeedback($(userManagement.pageConstants.PAGE.feedbacks.changeAccess[{403:"wrong",406:"weak",500:"nok"}[a.status]]).html(),"nok")})}var c=configUserData.urls;return{changePassword:b}}();var userManagement=userManagement||{};userManagement.notificationStorage=function(){"use strict";function a(){f=c()}function b(a){f=a}function c(){var a={};return $('input[type="checkbox"]').each(function(b){var c=e[$(this).attr("name")];a[c]=$(this).is(":checked")}),a.pushNotificationEnabled=Boolean($('input[name="newMessagesPush"]').val()),"hidden"===$('input[name="newMessagesEmail"]').attr("type")&&(a.emailNotificationEnabled=Boolean($('input[name="newMessagesPush"]').val())),a}function d(){var a=!1;return $('input[type="checkbox"]').each(function(b){var c=e[$(this).attr("name")];f[c]!==$(this).is(":checked")&&(a=!0)}),a}var e=userManagement.pageConstants.NOTIFICATIONS_TYPE,f={};return{initGetValues:a,setCheckboxValues:c,setValuesAfterSaved:b,checkIfAreThereChanges:d}}();var userManagement=userManagement||{};userManagement.notifications=function(){"use strict";function a(){c(),d(),userManagement.notificationStorage.initGetValues(),b()}function b(){var a=$(f.SEARCHS_CONTAINER).attr("data-xiti"),b={click:{xtPage:a,xtn2:"114",mustXtn2:!0,actionType:"CLICK"}};$(f.SEARCHS_CONTAINER+" a").attr("data-xiti-markup",JSON.stringify(b))}function c(){$(f.SAVE_BUTTOM).on(g.CLICK,function(){e(userManagement.notificationStorage.setCheckboxValues())})}function d(){$(".input-checkbox").on("change",function(a){"checkbox"===$(a.target).attr("type")&&(userManagement.notificationXiti.markupClickXiti($(a.target).attr("data-xiti"),$(a.target).is(":checked")),userManagement.notificationStorage.checkIfAreThereChanges()?($(f.SAVE_BUTTOM).removeAttr("disabled"),userManagement.feedbacksHandler.checkIfRemoveButtonFeedbacks($(f.SAVE_BUTTOM))):$(f.SAVE_BUTTOM).attr("disabled","disabled"))})}function e(a){userManagement.services.updateNotifications(JSON.stringify(a)).done(function(a){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.SUCCESS_FEEDBACK,"success"),a.feedback&&userManagement.privacypolicyHandler.buildFeedbackModal();var b=userManagement.notificationStorage.setCheckboxValues();userManagement.notificationStorage.setValuesAfterSaved(b)}).fail(function(a){userManagement.feedbacksHandler.checkIfRemoveButtonFeedbacks($(f.SAVE_BUTTOM)),userManagement.feedbacksHandler.buildError($(f.YOUR_DATAS_TABS),"ERROR")})}var f=userManagement.pageConstants.SELECTORS,g=userManagement.pageConstants.EVENTS;return{initNotifications:a}}();var userManagement=userManagement||{};userManagement.notificationXiti=function(){"use strict";function a(a,b){b=b?"on":"off",modules.Xiti.sendXitiInfo(a+"::"+b,null,null,114)}return{markupClickXiti:a}}();var userManagement=userManagement||{};userManagement.changeLanguageService=function(){"use strict";function a(a,b,c){var d={type:"POST",contentType:"application/json"},e=$.extend({},d,c);return e.url=a,e.data=b,$.ajax(e)}var b={value:""};return{changeLanguage:function(c){var d={};return b.value=c,d.beforeSend=function(){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.LOADING_FEEDBACK,"loading")},a(configUserData.urls.languageChange,JSON.stringify(b),d)}}}();var userManagement=userManagement||{};userManagement.changeLanguageModel=function(){"use strict";function a(){f=b()}function b(){var a={};return $(".input-radio input").each(function(b,c){var d=c.value;a[d]=c.checked,c.checked&&(g=d)}),a}function c(){var a=!1;return $(".input-radio input").each(function(b,c){f[c.value]!==c.checked&&(a=!0)}),a}function d(){$(".input-radio input").each(function(a,b){this.checked&&(g=b.value)})}function e(){return g}var f={},g="";return{initialize:a,checkIfAreThereChanges:c,saveChanges:d,selected:e}}();var userManagement=userManagement||{};userManagement.languages=function(){"use strict";function a(){b(),c(),userManagement.changeLanguageModel.initialize(),$(e.SAVE_BUTTOM).attr("disabled","disabled")}function b(){$(e.SAVE_BUTTOM).on(f.CLICK,function(){d(userManagement.changeLanguageModel.selected())})}function c(){$(".input-radio").on("change",function(a){"radio"===$(a.target).attr("type")&&(userManagement.changeLanguageModel.checkIfAreThereChanges()?(userManagement.changeLanguageModel.saveChanges(),$(e.SAVE_BUTTOM).removeAttr("disabled")):$(e.SAVE_BUTTOM).attr("disabled","disabled"))})}function d(a){userManagement.changeLanguageService.changeLanguage(a).done(function(a){userManagement.feedbacksHandler.feedbackButton(userManagement.pageConstants.TEMPLATES_RENDER.SUCCESS_FEEDBACK,"success"),location.reload()}).fail(function(a){userManagement.feedbacksHandler.checkIfRemoveButtonFeedbacks($(e.SAVE_BUTTOM)),userManagement.feedbacksHandler.buildError($(e.YOUR_DATAS_TABS),"ERROR")})}var e=userManagement.pageConstants.SELECTORS,f=userManagement.pageConstants.EVENTS;return{initChangeLanguage:a}}();