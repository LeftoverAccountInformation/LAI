!function e(t, n) { if ("object" == typeof exports && "object" == typeof module) module.exports = n(require("jQuery")); else if ("function" == typeof define && define.amd) define(["jQuery"], n); else { var o = n("object" == typeof exports ? require("jQuery") : t.jQuery); for (var i in o) ("object" == typeof exports ? exports : t)[i] = o[i] } }(this, function (e) { return function (e) { function t(o) { if (n[o]) return n[o].exports; var i = n[o] = { exports: {}, id: o, loaded: !1 }; return e[o].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports } var n = {}; return t.m = e, t.c = n, t.p = "/scripts/", t(0) }({ 0: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var o = t.gigyaModuleRegistry = { init: function e() { var t = this; window.onGigyaServiceReady = function () { for (var e = document.querySelectorAll("[data-module]"), n = 0; n < e.length; n++) { var o = e[n].dataset.module; t.modules[o] && new t.modules[o].default(e[n]) } } }, modules: { GigyaDelete: n(19), GigyaDownload: n(20), GigyaModule: n(21) } }; o.init() }, 2: function (t, n) { t.exports = e }, 19: function (e, t, n) { "use strict"; function o(e) { return e && e.__esModule ? e : { default: e } } function i(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } Object.defineProperty(t, "__esModule", { value: !0 }); var r = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var o = t[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } } return function (t, n, o) { return n && e(t.prototype, n), o && e(t, o), t } }(), a = n(2), s = o(a), l = function () { function e(t) { var n = this; i(this, e), this.$el = (0, s.default)(t), this.$content = this.$el.parents(".data-action__content"), this.$errorContainer = this.$content.siblings(".data-action__error"), this.modal = this.$el.attr("aria-controls"), this.$cancelDelete = this.$content.siblings(".data-action__modal").find(".delete-cancel"), this.$confirmDelete = this.$content.siblings(".data-action__modal").find(".delete-confirm"), this.$successContainer = this.$content.siblings(".data-action__success"), this.$storedContainer = this.$content.siblings(".data-action__success"), this.$throbber = this.$el.siblings(".throbber"), this.throbberClass = "throbber--active", "0" === localStorage.getItem("irobDeleteData") && this.showProcessing(), this.$el.on("click", function () { n.openModal() }), this.$cancelDelete.on("click", function () { n.closeModal() }), this.$confirmDelete.on("click", function () { n.closeModal(), n.deleteConfirmed() }) } return r(e, [{ key: "closeModal", value: function e() { (0, s.default)("body").removeClass("data-action-modal--open"), this.$el.attr("aria-expanded", !1), (0, s.default)("#" + this.modal).attr("aria-hidden", !0) } }, { key: "openModal", value: function e() { (0, s.default)("body").addClass("data-action-modal--open"), this.$el.attr("aria-expanded", !0), (0, s.default)("#" + this.modal).attr("aria-hidden", !1) } }, { key: "showSuccess", value: function e(t) { this.$throbber.removeClass(this.throbberClass).attr("aria-busy", !1), this.$successContainer.show(), localStorage.setItem("irobDeleteData", 0) } }, { key: "showError", value: function e() { this.$throbber.removeClass(this.throbberClass).attr("aria-busy", !1), this.$errorContainer.show() } }, { key: "showProcessing", value: function e() { this.$el.attr("disabled", "disabled"), this.$content.hide(), this.$storedContainer.show() } }, { key: "deleteConfirmed", value: function e() { var t = this; this.$el.attr("disabled", "disabled"), this.$throbber.addClass(this.throbberClass).attr("aria-busy", !0), s.default.ajax({ url: "/handlers/gigyadelete.ashx", method: "GET", dataType: "json", success: function e(n) { n.Success === !0 ? t.showSuccess(n) : t.showError(), t.$content.hide() }, error: function e(n, o) { t.showError(), t.$content.hide() } }) } }]), e }(); t.default = l }, 20: function (e, t, n) { "use strict"; function o(e) { return e && e.__esModule ? e : { default: e } } function i(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } Object.defineProperty(t, "__esModule", { value: !0 }); var r = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var o = t[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } } return function (t, n, o) { return n && e(t.prototype, n), o && e(t, o), t } }(), a = n(2), s = o(a), l = function () { function e(t) { var n = this; i(this, e), this.$el = (0, s.default)(t), this.$content = this.$el.parents(".data-action__content"), this.$errorContainer = this.$content.siblings(".data-action__error"), this.$successContainer = this.$content.siblings(".data-action__success"), this.$throbber = this.$el.siblings(".throbber"), this.throbberClass = "throbber--active", this.$el.on("click", function (e) { n.$el.attr("disabled", "disabled"), n.$throbber.addClass(n.throbberClass).attr("aria-busy", !0), s.default.ajax({ url: "/handlers/gigyadownload.ashx", method: "GET", dataType: "json", success: function e(t) { t.Success === !0 ? n.showData(t) : n.showError(), n.$content.hide() }, error: function e(t, o) { n.showError(), n.$content.hide() } }) }) } return r(e, [{ key: "showData", value: function e(t) { var n = JSON.stringify(t.Payload, null, 2); (0, s.default)("#gigya-data-output").append("<pre>" + n + "</pre>"), this.$throbber.removeClass(this.throbberClass).attr("aria-busy", !1), this.$successContainer.show() } }, { key: "showError", value: function e() { this.$throbber.removeClass(this.throbberClass).attr("aria-busy", !1), this.$errorContainer.show() } }]), e }(); t.default = l }, 21: function (e, t, n) { "use strict"; function o(e) { return e && e.__esModule ? e : { default: e } } function i(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } Object.defineProperty(t, "__esModule", { value: !0 }); var r = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var o = t[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } } return function (t, n, o) { return n && e(t.prototype, n), o && e(t, o), t } }(), a = n(2), s = o(a), l = function () { function e(t) { i(this, e), this.$el = (0, s.default)(t); var n = window.gigya, o = this.$el.attr("data-gigya-lang"), r = this.$el.find("#login"), a = this.$el.find("#register"), l = this.$el.find("#reset"), c = this.$el.find("#app-reset"), u = this.$el.find("#profile"), d = this.$el.find("#privacy"); r.length && this.showScreen(r, o, "iRobot-RegistrationLogin", "gigya-login-screen"), a.length && this.showScreen(a, o, "iRobot-RegistrationLogin", "gigya-register-screen"), l.length && this.showScreen(l, o, "iRobot-RegistrationLogin", "gigya-reset-password-screen"), c.length && this.showScreen(c, o, "iRobot-RegistrationLogin", "gigya-app-reset-password-screen"), u.length && this.showScreen(u, o, "iRobot-ProfileUpdate", !1), d.length && this.showScreen(d, o, "iRobot-ProfileUpdate", "Privacy"), n.accounts.addEventHandlers({ onLogin: this.logIn }) } return r(e, [{ key: "showScreen", value: function e(t, n, o, i) { var r = (0, s.default)(t).siblings().attr("id"), a = window.gigya, l = { containerID: r, lang: n, screenSet: o }; i && (l.startScreen = i), a.accounts.showScreenSet(l) } }, { key: "logIn", value: function e(t) { window.location = window.location.origin + "/handlers/gigyaauthorize.ashx?uid=" + encodeURIComponent(t.UID) + ("&UIDSig=" + encodeURIComponent(t.UIDSignature)) + ("&timestamp=" + encodeURIComponent(t.signatureTimestamp)) + ("&email=" + encodeURIComponent(t.profile.email)) } }]), e }(); t.default = l } }) });