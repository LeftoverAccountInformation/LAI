(window.webpackJsonp=window.webpackJsonp||[]).push([[270],{5357:function(t,e,o){"use strict";e.__esModule=!0,e.default=void 0;var n,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};n.get||n.set?Object.defineProperty(e,o,n):e[o]=t[o]}return e.default=t,e}(o(1)),i=b(o(16)),a=b(o(92)),s=b(o(308)),l=b(o(4)),p=b(o(423)),f=b(o(422)),u=b(o(885)),c=b(o(430)),d=b(o(841)),h=b(o(325)),g=o(89),m=o(0),y=b(o(480)),v=b(o(5337));function b(t){return t&&t.__esModule?t:{default:t}}function x(t,e,o,r){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),e&&i)for(var s in i)void 0===e[s]&&(e[s]=i[s]);else e||(e=i||{});if(1===a)e.children=r;else if(a>1){for(var l=new Array(a),p=0;p<a;p++)l[p]=arguments[p+3];e.children=l}return{$$typeof:n,type:t,key:void 0===o?null:""+o,ref:null,props:e,_owner:null}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function k(){return(k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var C=10,E=14,S={left:v.default.popoutLeft,right:v.default.popoutRight,bottom:v.default.popoutBottom,"bottom-right":v.default.popoutBottomRight,"bottom-left":v.default.popoutBottomLeft,"top-left":v.default.popoutTopLeft,"top-right":v.default.popoutTopRight,top:v.default.popoutTop},P=Object.freeze({TOP:"top",MIDDLE:"middle"}),W={top:v.default.arrowAlignmentTop,middle:v.default.arrowAlignmentMiddle};function Y(t){switch(t){case"left":return{x:-1,y:0};case"right":return{x:0,y:0};case"bottom":return{x:-.5,y:0};case"bottom-right":return{x:-1,y:0};case"bottom-left":return{x:0,y:0};case"top-left":return{x:0,y:-1};case"top-right":return{x:-1,y:-1};case"top":default:return{x:-.5,y:-1}}}var X=function(){function t(){this.animated=new s.default.ValueXY({x:0,y:0})}var e=t.prototype;return e.run=function(t,e,o){var n=e.position;this.animated.setValue(Y(n)),o()},e.getStyle=function(){return s.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},t}(),H=function(){function t(){this.animated=new s.default.ValueXY({x:0,y:0})}var e=t.prototype;return e.computeStyles=function(t){var e,o;switch(t){case"left":e={x:-1.05,y:0},o={x:-1,y:0};break;case"right":e={x:.05,y:0},o={x:0,y:0};break;case"bottom":e={x:-.5,y:.05},o={x:-.5,y:0};break;case"bottom-left":e={x:0,y:.05},o={x:0,y:0};break;case"bottom-right":e={x:0,y:.05},o={x:-1,y:0};break;case"top-left":e={x:0,y:-1.05},o={x:0,y:-1};break;case"top-right":e={x:0,y:-1.05},o={x:-1,y:-1};break;case"top":default:e={x:-.5,y:-1.05},o={x:-.5,y:-1}}return{startStyle:e,endStyle:o}},e.run=function(t,e,o){var n=e.position,r=this.computeStyles(n),i=r.startStyle,a=r.endStyle,l=t.getBoundingClientRect(),p=l.left,f=l.right,u=l.width;p-=C,f+=C;var c=u*a.x;if(f+=c,(p+=c)<0){var d=p/u;a.x+=d,i.x+=d}else if(f>window.innerWidth){var h=(f-window.innerWidth)/u;a.x-=h,i.x-=h}this.animated.setValue(i),s.default.timing(this.animated,{toValue:a,duration:150,easing:s.default.Easing.inOut(s.default.Easing.cubic)}).start(o)},e.getStyle=function(){return s.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},t}(),L=function(){function t(){this.animated=new s.default.Value(0)}var e=t.prototype;return e.run=function(t,e,o){this.animated.setValue(0),s.default.spring(this.animated,{toValue:1,tension:80,friction:8,overshootClamping:!0}).start(o)},e.interpolate=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.animated.interpolate({inputRange:[0,1],outputRange:e})},e.getStyle=function(t){var e,o=t.position,n=t.height,r=t.width,i=t.x,a=t.offsetX,l=t.clickPos,p=Y(o);return n>0&&(e={height:this.interpolate(0,n),width:this.interpolate(0,r),left:this.interpolate(i+l,i+a)}),s.default.accelerate(k({},e,{overflow:"hidden",transform:[{translateY:100*p.y+"%"},{translateX:100*p.x+"%"}]}))},t}(),N=function(t){function e(e){var o,n;switch((o=t.call(this,e)||this).preventNextClose=!1,o.componentWillEnterCallback=function(){},o.close=function(t){if(o.preventNextClose&&u.default.isOpen())o.preventNextClose=!1;else{var e=o.props,n=e.popoutKey,r=e.preventCloseFromModal,i=e.preventClickPropagation,s=e.onClose;if(!r||!c.default.hasModalOpen()){if(null!=t){for(var l=t.target,p=a.default.findDOMNode(w(o));l instanceof Element;){if(l===p)return;if(null!=l.classList&&(l.classList.contains("popout-open")||l.classList.contains(y.default.layer)))return;l=l.parentNode}i&&(t.preventDefault(),t.stopPropagation())}s&&s(),f.default.close(n)}}},o.closeContext=function(t){if(null!=t)for(var e=t.target,n=a.default.findDOMNode(w(o));null!=e;){if(e===n)return void(o.preventNextClose=!0);e=e.parentNode||null}o.preventNextClose&&u.default.isOpen()?o.preventNextClose=!1:f.default.close(o.props.popoutKey)},o.updateOffsets=function(){var t=o.props,e=t.position,n=t.preventInvert,r=t.arrowAlignment,i=a.default.findDOMNode(w(o));if(!(i instanceof HTMLElement))throw new Error("domNode is not instance of HTMLElement");var s=i.offsetWidth,l=i.offsetHeight,p=!1;n||(p="top"===e||"top-right"===e||"top-left"===e?o.props.y<.5*window.innerHeight&&o.props.y-i.offsetHeight<0:o.props.y+o.props.targetHeight+E+l>=window.innerHeight)&&("bottom"===e?e="top":"bottom-left"===e?e="top-left":"bottom-right"===e?e="top-right":"top-right"===e?e="bottom-right":"top-left"===e?e="bottom-left":"top"===e&&(e="bottom"));var f={invert:p,position:e,height:l,width:s,offsetX:0,offsetY:0},u=r===P.MIDDLE?2:.5;switch(e){case"left":f.offsetX=0,f.offsetY=o.props.targetHeight*u;break;case"right":f.offsetX=o.props.targetWidth,f.offsetY=o.props.targetHeight*u;break;case"bottom":f.offsetX=o.props.targetWidth/2,f.offsetY=o.props.targetHeight;break;case"bottom-left":f.offsetX=0,f.offsetY=o.props.targetHeight;break;case"bottom-right":f.offsetX=o.props.targetWidth,f.offsetY=o.props.targetHeight;break;case"top-left":f.offsetX=0,f.offsetY=0;break;case"top-right":f.offsetX=o.props.targetWidth,f.offsetY=0;break;case"top":default:f.offsetX=o.props.targetWidth/2,f.offsetY=0}!p||"right"!==e&&"left"!==e||(o.props.closeOnScroll?f.offsetY-=l-o.props.targetHeight:f.offsetY-=o.props.y+l-window.innerHeight+C),o.setState(f,o._componentWillEnter)},o.props.animationType){case"default":n=new H;break;case"spring":n=new L;break;case"none":default:n=new X}return o.state={width:0,height:0,offsetX:null,offsetY:null,animation:n,position:"",invert:!1},o}O(e,t);var o=e.prototype;return o.componentDidMount=function(){g.ComponentDispatch.subscribe(m.ComponentActions.POPOUT_CLOSE,this.close),document.addEventListener("click",this.close,!0),document.addEventListener("contextmenu",this.closeContext,!0),this.updateOffsets()},o.componentWillEnter=function(t){this.componentWillEnterCallback=t},o._componentWillEnter=function(){if(this.componentWillEnterCallback){var t=this.componentWillEnterCallback;delete this.componentWillEnterCallback;var e=a.default.findDOMNode(this);if(!(e instanceof HTMLElement))throw new Error("node is not an instance of HTMLElement");this.state.animation.run(e,{position:this.state.position,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,targetWidth:this.props.targetWidth,targetHeight:this.props.targetHeight,offsetX:this.state.offsetX,offsetY:this.state.offsetY},t)}},o.componentWillLeave=function(t){t()},o.componentDidUpdate=function(t){var e=t.text,o=t.position,n=t.x,r=t.y,i=t.targetWidth,a=t.targetHeight,s=t.closeOnScroll;this.props.text===e&&this.props.position===o&&this.props.x===n&&this.props.y===r&&this.props.targetWidth===i&&this.props.targetHeight===a&&this.props.closeOnScroll===s||this.updateOffsets()},o.UNSAFE_componentWillUpdate=function(t){t.needsRerender&&f.default.didRerender(this.props.popoutKey)},o.componentWillUnmount=function(){g.ComponentDispatch.unsubscribe(m.ComponentActions.POPOUT_CLOSE,this.close),document.removeEventListener("click",this.close,!0),document.removeEventListener("contextmenu",this.closeContext,!0)},o.render=function(){var t,e=this.state,o=e.offsetX,n=e.offsetY,r=e.invert,a=e.position,l=e.animation,p=this.props,f=p.zIndexBoost,u=p.closeOnScroll,c=p.x,d=p.y,h=p.popoutKey,g=p.animationType,m=p.clickPos,y=p.render,b=p.containerClass,w=p.arrowAlignment,O=p.showArrow,C=p.forceTheme,E=k({},{left:null===o?null:c+o,top:null==n?null:d+n,zIndex:null!=f?1001+f:null},l.getStyle({position:a,width:this.state.width,height:this.state.height,x:c,y:d,offsetX:o,offsetY:n,clickPos:m}));E.visibility||(E.visibility=null==E.transform?"hidden":"visible");var P=((t={})[v.default.popoutInvert]=r&&u,t[v.default.noArrow]=!O,t[v.default.noShadow]=!this.props.shadow||"none"===g,t);return b&&(P[b]=!0),x(s.default.div,{role:"dialog",className:(0,i.default)(P,v.default.popout,S[a],W[w],null!=C?"theme-"+C:null),style:E},void 0,y({popoutKey:h,onClose:this.close,inverted:r,position:a}))},e}(r.PureComponent);N.displayName="Popout",N.defaultProps={animationType:"default",closeOnScroll:!0,preventInvert:!1,preventCloseFromModal:!1,preventClickPropagation:!1,shadow:!0,text:"",offsetX:0,offsetY:0};var M=function(t){function e(){return t.apply(this,arguments)||this}return O(e,t),e.prototype.render=function(){var t=this.props,e=t.theme,o=t.className,n=t.popouts,a=n.some(function(t){return t.backdrop}),s=(n.find(function(t){return null!=t.zIndexBoost&&t.zIndexBoost>0})||{}).zIndexBoost,l=a?x(h.default,{backdropStyle:h.default.Styles.SUBTLE,zIndexBoost:null!=s?s:0}):null;return x(p.default,{className:(0,i.default)("theme-"+e,v.default.popouts,o),component:"div"},void 0,l,n.map(function(t){var e=t.key,o=function(t,e){if(null==t)return{};var o,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)o=i[n],e.indexOf(o)>=0||(r[o]=t[o]);return r}(t,["key"]);return r.createElement(N,k({popoutKey:String(e)},o,{key:e+"-popout"}))}))},e}(r.PureComponent);M.displayName="Popouts";var R=l.default.connectStores([d.default],function(){return{popouts:d.default.getPopouts()}})(M);e.default=R}}]);
//# sourceMappingURL=78d029f7acde6f7560ce.js.map