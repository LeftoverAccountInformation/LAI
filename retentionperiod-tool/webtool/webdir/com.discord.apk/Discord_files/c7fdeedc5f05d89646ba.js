(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{5911:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=k(n(1)),o=n(429),i=n(242),l=U(n(4)),s=U(n(847)),u=k(n(863)),d=U(n(312)),c=U(n(10)),f=U(n(6078)),p=U(n(869)),m=U(n(337)),h=U(n(18)),v=n(6855),y=U(n(91)),_=U(n(8254)),g=n(488),S=n(855),E=U(n(8255)),T=U(n(8256)),I=U(n(8269)),A=U(n(8272)),P=U(n(8274)),N=U(n(8275)),O=U(n(8277)),R=U(n(6195)),b=U(n(8281)),C=U(n(6713)),M=U(n(8282)),L=U(n(8283)),D=U(n(8285)),w=U(n(8286)),B=n(0);function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}l.default.initialize();var x=(0,E.default)(R.default),j=(0,E.default)(b.default),Y=(0,E.default)(N.default),V=(0,E.default)(P.default),H=(0,E.default)(O.default),W=(0,E.default)(w.default),z=(0,E.default)(D.default),K=(0,E.default)(C.default),$=(0,E.default)(I.default),X=(0,E.default)(L.default),Z=(0,E.default)(M.default),q=(0,E.default)(A.default),J=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={splash:null,redirectTo:null},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e){var t=e.invite,n=e.location,a=(0,o.parse)(n.search).redirect_to;null!=a&&(0,g.isSafeRedirect)(a)&&!a.startsWith(B.Routes.ME)||(a=null);var r=null;if(null==t)r=(0,v.getArtForPath)(a);else if(null!=t&&t.state===B.InviteStates.RESOLVED){var i=t.guild;null!=i&&"string"==typeof i.splash&&(r=y.default.getGuildSplashURL({id:i.id,splash:i.splash}))}return{redirectTo:a,splash:r}};var l=a.prototype;return l.componentDidMount=function(){var e=this.props,t=e.inviteCode,n=e.hasLoadedExperiments,a=e.isAuthenticated;null!=t&&(!n&&a&&s.default.getExperiments(),h.default.track(B.AnalyticEvents.INVITE_OPENED,{invite_code:t,load_time:_.default.getTimeSinceNavigationStart()},!0)),n&&this.resolveInvite(),this.resolveGiftCode()},l.componentDidUpdate=function(e){!e.hasLoadedExperiments&&this.props.hasLoadedExperiments&&this.resolveInvite()},l.resolveInvite=function(){var e=this.props.inviteCode;null!=e&&(d.default.resolveInvite(e,B.PageAnalyticsLocations.INVITE),d.default.openNativeAppModal(e))},l.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&(u.resolveGiftCode(e,!0,!0),u.openNativeGiftCodeModal(e))},l.render=function(){var e=this.state,t=e.splash,n=e.redirectTo;return F(T.default,{splash:t,redirectTo:n},void 0,F(i.Route,{path:B.Routes.LOGIN_HANDOFF,render:function(e){return r.createElement(j,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.LOGIN,render:function(e){return r.createElement(x,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.REGISTER,render:function(e){return r.createElement(K,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return r.createElement(V,G({login:!0},e))}}),F(i.Route,{path:B.Routes.GIFT_CODE(":giftCode"),render:function(e){return r.createElement(V,e)}}),F(i.Route,{path:B.Routes.BILLING_PREMIUM_DEPRECATED,render:function(e){return r.createElement(W,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.BILLING_PREMIUM_SUBSCRIBE,render:function(e){return r.createElement(W,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.BILLING_PAYMENT_SOURCES_CREATE,render:function(e){return r.createElement(W,G({},e,{redirectTo:n,isAdd:!0}))}}),F(i.Route,{path:B.Routes.BILLING_PAYMENTS,render:function(e){return r.createElement(z,G({},e,{redirectTo:n}))}}),F(i.Route,{path:B.Routes.INVITE_LOGIN(":inviteCode"),render:function(e){return S.isMobile||S.isTablet?r.createElement(H,e):r.createElement(Y,G({login:!0},e))}}),F(i.Route,{path:B.Routes.INVITE(":inviteCode"),render:function(e){return S.isMobile||S.isTablet?r.createElement(H,e):r.createElement(Y,e)}}),F(i.Route,{path:B.Routes.VERIFY,render:function(e){return r.createElement(X,e)}}),F(i.Route,{path:B.Routes.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return r.createElement(q,e)}}),F(i.Route,{path:B.Routes.AUTHORIZE_IP,render:function(e){return r.createElement($,e)}}),F(i.Route,{path:B.Routes.RESET,render:function(e){return r.createElement(Z,e)}}))},a}(r.PureComponent);J.displayName="ViewsWithAuth";var Q=l.default.connectStores([c.default,p.default,f.default,m.default],function(e){var t=e.match,n=function(e){return null!=e&&null!=e.params?e.params.inviteCode:null}(t),a=function(e){return null!=e&&null!=e.params?e.params.giftCode:null}(t);return{inviteCode:n,isAuthenticated:c.default.isAuthenticated(),giftCode:a,gift:null!=a?f.default.get(a):null,invite:null!=n?p.default.getInvite(n):null,hasLoadedExperiments:m.default.hasLoadedExperiments}})(J);t.default=Q},5968:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.DARK_THEME_COLORS=t.LIGHT_THEME_COLORS=t.DEFAULT_SELECT_STYLES=void 0;var a,r=f(n(1)),o=c(n(16)),i=f(n(7380)),l=n(6068),s=c(n(882)),u=n(0),d=c(n(5465));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var h=Object.freeze({TOP:"top",BOTTOM:"bottom"}),v={container:function(e,t){return m({},e,{cursor:t.isDisabled?"not-allowed":null,pointerEvents:null})},control:function(e,t){var n=t.isDisabled,a=t.isFocused,r=t.menuIsOpen,o=t.theme.colors;return m({},e,{borderColor:n?o.neutral10:a?o.primary:o.neutral20,boxShadow:null,borderRadius:r?"3px 3px 0 0":"3px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":null,pointerEvents:n?"none":null,":hover":{borderColor:n?o.neutral10:o.primary}})},singleValue:function(e,t){var n=t.isDisabled;return m({},e,{color:t.theme.colors.text,opacity:n?.5:1})},input:function(e,t){return m({},e,{color:t.theme.colors.text})},menu:function(e,t){var n=t.theme.colors;return m({},e,{backgroundColor:n.menuBackground,border:"1px solid "+n.menuBorder,borderRadius:"0 0 3px 3px",boxShadow:"0 1px 5px 0 "+n.neutral20,color:n.text,marginTop:-1,marginBottom:-1})},clearIndicator:function(e,t){var n=t.isDisabled,a=t.theme.colors;return m({},e,{color:a.text,cursor:n?null:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{color:a.danger,opacity:1}})},dropdownIndicator:function(e,t){var n=t.isFocused,a=t.isDisabled,r=t.theme.colors;return m({},e,{color:r.text,cursor:a?null:"pointer",opacity:n&&!a?1:.3,padding:"8px 8px 8px 0",":hover":{color:r.text,opacity:a?.3:1}})},menuList:function(e,t){return m({},e,{padding:0,"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{backgroundColor:t.theme.colors.scrollBarThumb,borderColor:"transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",borderColor:"transparent"}})},option:function(e,t){var n=t.isSelected,a=t.isFocused,r=t.theme.colors;return m({},e,{backgroundColor:n?r.selectedOptionBackground:a?r.primary25:"transparent",color:r.text,cursor:"pointer",display:"flex",alignItems:"center",minHeight:40})},placeholder:function(e,t){return m({},e,{color:t.theme.colors.text,opacity:.3})}};t.DEFAULT_SELECT_STYLES=v;var y={neutral0:(0,l.hexOpacityToRgba)(u.Colors.PRIMARY_DARK_500,.02),neutral5:(0,l.hexOpacityToRgba)(u.Colors.PRIMARY_DARK_500,.02),neutral10:(0,l.hexOpacityToRgba)(u.Colors.PRIMARY_DARK_500,.1),neutral20:(0,l.hexOpacityToRgba)(u.Colors.PRIMARY_DARK_500,.3),neutral30:(0,l.hexOpacityToRgba)(u.Colors.PRIMARY_DARK_500,.3),primary:u.Colors.PRIMARY_DARK_300,primary25:u.Colors.PRIMARY_DARK_100,primary50:u.Colors.PRIMARY_DARK_100,selectedOptionBackground:u.Colors.PRIMARY_DARK_200,text:u.Colors.PRIMARY_DARK_700,menuBackground:u.Colors.WHITE,menuBorder:u.Colors.PRIMARY_DARK_300,scrollBarThumb:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.4)};t.LIGHT_THEME_COLORS=y;var _={neutral0:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.1),neutral5:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.1),neutral10:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.1),neutral20:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.3),neutral30:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.3),primary:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.6),primary25:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.1),primary50:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.1),selectedOptionBackground:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.2),text:u.Colors.PRIMARY_DARK_100,menuBackground:u.Colors.PRIMARY_DARK_630,menuBorder:u.Colors.PRIMARY_DARK_700,scrollBarThumb:(0,l.hexOpacityToRgba)(u.Colors.BLACK,.4)};t.DARK_THEME_COLORS=_;var g=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e,t=this.props,n=t.className,a=t.error,l=t.valueRenderer,c=t.optionRenderer,f=t.options,h=t.value,g=t.autofocus,S=t.disabled,E=t.clearable,T=t.searchable,I=t.styleOverrides,A=t.lightThemeColorOverrides,P=t.darkThemeColorOverrides,N=m({},function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["className","error","valueRenderer","optionRenderer","options","value","autofocus","disabled","clearable","searchable","styleOverrides","lightThemeColorOverrides","darkThemeColorOverrides"]));null!=g&&(N.autoFocus=g),null!=S&&(N.isDisabled=S),null!=E&&(N.isClearable=E),null!=T&&(N.isSearchable=T);var O={IndicatorSeparator:function(){return null}};null!=c&&(O.Option=function(e){return r.createElement(i.components.Option,e,c(e.data))}),null!=l&&(O.SingleValue=function(e){return r.createElement(i.components.SingleValue,e,l(e.data))});var R=null!=I?I:v,b=null!=A?A:y,C=null!=P?P:_;return p("div",{className:(0,o.default)(d.default.select,n,(e={},e[d.default.error]=null!=a,e))},void 0,p(s.default.Consumer,{},void 0,function(e){return r.createElement(i.default,m({},N,{components:O,options:f,styles:R,value:null!=h?f.find(function(e){return e.value===h}):null,theme:function(t){return m({},t,{colors:m({},t.colors,e===u.ThemeTypes.LIGHT?b:C)})}}))}),null!=a?p("div",{className:d.default.errorMessage},void 0,a):null)},a}(r.Component);t.default=g,g.displayName="SelectTempWrapper",g.MenuPlacements=h},5972:function(e,t,n){"use strict";t.__esModule=!0,t.formatPrice=function(e,t,n){return(0,r.formatPrice)(e,t,o.default.locale,n)},t.formatRate=function(e,t){return u[t](e)},t.Periods=void 0;var a,r=n(7219),o=l(n(43)),i=(n(0),l(n(8)));function l(e){return e&&e.__esModule?e:{default:e}}var s=Object.freeze({MONTHLY:"MONTHLY"});t.Periods=s;var u=((a={})[s.MONTHLY]=function(e){return i.default.Messages.BILLING_PRICE_PER_MONTH.format({price:e})},a)},5985:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.IncompatibleBrowser=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.SubTitle=t.Title=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=E(n(16)),i=E(n(6193)),l=n(5981),s=n(890),u=E(n(167)),d=E(n(73)),c=E(n(104)),f=E(n(5967)),p=E(n(140)),m=E(n(826)),h=E(n(425)),v=E(n(6194)),y=E(n(5958)),_=n(0),g=E(n(8)),S=E(n(5355));function E(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=y.default;null==A&&(A=function(){return null});var P=function(e){var t=e.className,n=e.children;return I(p.default,{color:p.default.Colors.WHITE,weight:p.default.Weights.LIGHT,className:(0,o.default)(S.default.title,t)},void 0,n)};t.Title=P,P.displayName="Title";var N=function(e){var t=e.className,n=e.children;return I(p.default,{weight:p.default.Weights.NORMAL,className:(0,o.default)(S.default.subTitle,t)},void 0,n)};t.SubTitle=N,N.displayName="SubTitle";var O=function(e){var t=e.className;return I("img",{alt:"",src:e.src,className:(0,o.default)(S.default.image,t)})};t.Image=O,O.displayName="Image";var R=function(e){var t,n=e.className,a=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["className"]),i=a.look===d.default.Looks.LINK;return r.createElement(d.default,T({size:i?d.default.Sizes.MIN:d.default.Sizes.LARGE,fullWidth:!i,className:(0,o.default)(n,(t={},t[S.default.button]=!i,t[S.default.linkButton]=i,t))},a))};t.Button=R,R.displayName="Button",R.Looks=d.default.Looks,R.Colors=d.default.Colors,R.Sizes=d.default.Sizes;var b=function(e){var t=e.className,n=e.src,a=e.size;return I(A,{src:n,size:a,className:(0,o.default)(S.default.inviteLargeIcon,t),"aria-hidden":!0})};t.Avatar=b,b.displayName="Avatar",b.Sizes=A.Sizes;var C=function e(t){var n=t.className,a=t.guild,r=t.size,i=t.animate,l=void 0!==i&&i;return I(f.default,{guild:a,size:r,className:(0,o.default)(r===e.Sizes.XLARGE?S.default.inviteLargeIcon:S.default.inviteSmallIcon,n),animate:l})};t.GuildIcon=C,C.displayName="GuildIcon",C.Sizes=f.default.Sizes;var M=function(e){var t=e.className,n=e.channel,a=e.size;return I(A,{src:(0,l.getChannelIconURL)(n),size:a,className:(0,o.default)(S.default.inviteIcon,t),"aria-hidden":!0})};t.ChannelIcon=M,M.displayName="ChannelIcon",M.Sizes=A.Sizes;var L=function(e){var t,n=e.label,a=e.error,r=e.placeholder,i=e.value,l=e.className,s=e.inputClassName,u=e.setRef,d=e.type,c=void 0===d?"text":d,f=e.onChange,p=e.autoComplete,v=e.autoFocus,y=e.maxLength,_=e.spellCheck,g=e.name;return I(h.default,{title:n,error:a,className:l},void 0,I(m.default,{name:g,type:c,value:i,inputRef:u,placeholder:r,className:S.default.input,inputClassName:(0,o.default)(s,(t={},t[S.default.inputError]=null!=a,t)),"aria-label":n,onChange:f,autoComplete:p,autoFocus:v,maxLength:y,spellCheck:_}))};t.Input=L,L.displayName="Input";var D=function(e){var t=e.className,n=e.children;return I("div",{className:(0,o.default)(S.default.block,t)},void 0,n)};t.Block=D,D.displayName="Block";var w=function(e){var t=e.className,n=e.children,a=e.disabled,r=void 0!==a&&a;return I(p.default,{size:p.default.Sizes.SMALL,className:(0,o.default)(S.default.subText,t),disabled:r},void 0,n)};t.SubText=w,w.displayName="SubText";var B=function(e){var t=e.className,n=e.hideQuote,a=void 0!==n&&n;return I(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.CENTER,className:t},void 0,I(v.default,{className:S.default.spinnerVideo}),a?null:I(N,{className:S.default.spinnerText},void 0,i.default[Math.floor(Math.random()*i.default.length)][0]))};t.AuthSpinner=B,B.displayName="AuthSpinner";var U=function(e){var t,n=e.online,a=e.total,r=e.className;return null==a?null:(null!=n&&n>0&&(t=I("div",{className:(0,o.default)(S.default.pill,S.default.pillOnline)},void 0,I("i",{className:S.default.pillIconOnline}),I(p.default,{tag:"span",size:p.default.Sizes.MEDIUM,className:S.default.pillMessage},void 0,g.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),I(c.default,{justify:c.default.Justify.CENTER,className:r},void 0,t,I("div",{className:S.default.pill},void 0,I("i",{className:S.default.pillIconTotal}),I(p.default,{tag:"span",size:p.default.Sizes.MEDIUM,className:S.default.pillMessage},void 0,g.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:a})))))};t.ActivityCount=U,U.displayName="ActivityCount";var k=function(e){var t=e.className;return I(D,{className:t},void 0,I(R,{onClick:function(){return window.open((0,s.getCurrentPlatformDownloadURL)())}},void 0,g.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:(0,s.getPlatformReadableName)()})),I(w,{className:S.default.downloadButtonSubtext},void 0,g.default.Messages.INCOMPATIBLE_BROWSER.format({supportedBrowserURL:u.default.getArticleURL(_.HelpdeskArticles.SUPPORTED_BROWSERS)})))};t.IncompatibleBrowser=k,k.displayName="IncompatibleBrowser";var F=function(e){var t=e.className,n=e.tag,a=void 0===n?"section":n,r=e.onSubmit,i=e.children;return I(a,{onSubmit:r,className:(0,o.default)(S.default.authBox,"theme-dark",t)},void 0,I("div",{className:S.default.centeringWrapper},void 0,i))};F.displayName="AuthBox";var G=F;t.default=G},6005:function(e,t,n){"use strict";t.__esModule=!0,t.getCrumbLabels=function(e,t){var n;void 0===t&&(t={});return o((n={},n[i.PAYMENT_TYPE]=function(){return a.default.Messages.BILLING_STEP_PAYMENT_TYPE},n[i.PAYMENT_REQUEST_INFO]=function(){return a.default.Messages.BILLING_STEP_PAYMENT_INFO},n[i.PAYPAL]=function(){return a.default.Messages.BILLING_STEP_PAYPAL},n[i.PAYPAL_ADDRESS]=function(){return a.default.Messages.BILLING_STEP_ADDRESS},n[i.CREDIT_CARD_INFORMATION]=function(){return a.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION},n[i.ADDRESS]=function(){return a.default.Messages.BILLING_STEP_ADDRESS},n[i.REVIEW]=function(){return a.default.Messages.BILLING_STEP_REVIEW},n[i.SELECT_PLAN]=function(){return a.default.Messages.BILLING_STEP_SELECT_PLAN},n[i.AWAITING_AUTHENTICATION]=function(){return a.default.Messages.BILLING_STEP_AWAITING_AUTHENTICATION},n[i.CONFIRM]=function(){return""},n),t)[e]()},t.errorToStep=function(e){if(null!=e){if(e.hasCardError())return i.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return i.ADDRESS}return null},t.getStepIndex=function(e,t){return t.findIndex(function(t){return t===e})},t.canGoBack=function(e,t){return e>0||Object.keys(t).length>0},t.Steps=void 0;n(420),r(n(839));var a=r(n(8));function r(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=Object.freeze({SELECT_PLAN:"select_plan",PAYMENT_TYPE:"payment_type",PAYPAL:"paypal",PAYPAL_ADDRESS:"paypal_address",PAYMENT_REQUEST_INFO:"payment_request_info",CREDIT_CARD_INFORMATION:"credit_card_information",ADDRESS:"address",REVIEW:"review",CONFIRM:"confirm",AWAITING_AUTHENTICATION:"awaiting_authentication"});t.Steps=i},6014:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Shine=void 0;var a,r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),i=c(n(16)),l=c(n(308)),s=c(n(73)),u=c(n(104)),d=c(n(5466));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v=Object.freeze({DEFAULT:"default",SMALL:"small"}),y=((a={})[v.DEFAULT]=d.default.shineContainerDefault,a[v.SMALL]=d.default.shineContainerSmall,a),_=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.shineSize,a=m(e,["className","shineSize"]);return o.createElement(l.default.div,f({},a,{className:(0,i.default)(y[n],t)}),p(u.default,{align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:d.default.shine},void 0,p("div",{className:d.default.shineInner})))},t}(o.PureComponent);t.Shine=_,_.displayName="Shine",_.defaultProps={shineSize:v.DEFAULT};var g=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disabled,r=e.submitting,l=e.pauseAnimation,u=e.shineSize,c=m(e,["children","className","disabled","submitting","pauseAnimation","shineSize"]);return o.createElement(s.default,f({},c,{className:(0,i.default)(d.default.shinyButton,n),disabled:a,submitting:r}),t,a||r||!0===l?null:p(_,{className:d.default.buttonShine,shineSize:u}))},t}(o.PureComponent);g.displayName="ShinyButton",g.ShineSizes=v,g.defaultProps={shineSize:v.DEFAULT};var S=g;t.default=S},6066:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=d(n(4)),r=d(n(2)),o=n(844),i=n(314),l=d(n(471)),s=n(861),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}var p=!1,m=null;function h(){p=!1,m=null}function v(e){return y.apply(this,arguments)}function y(){var e;return e=regeneratorRuntime.mark(function e(t){var n,a,o,i,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.error,a=n.code,o=n.paymentId,a===l.default.ErrorCodes.AUTHENTICATION_REQUIRED){e.next=5;break}return p=!1,e.abrupt("return");case 5:return p=!0,e.next=8,(0,s.authenticatePaymentIntentForPaymentId)(o);case 8:i=e.sent,null!=(d=i.error)&&r.default.wait(function(){return r.default.dispatch({type:u.ActionTypes.PAYMENT_AUTHENTICATION_ERROR,error:new l.default(d)})});case 11:case"end":return e.stop()}},e)}),(y=function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){f(o,a,r,i,l,"next",e)}function l(e){f(o,a,r,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function _(){if(!p)return!1;p=!1,r.default.wait(o.clearError),r.default.wait(i.clearPurchaseError)}var g=new(function(e){var t,n,a,r,o;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a=i,(r=[{key:"isAwaitingAuthentication",get:function(){return p}},{key:"error",get:function(){return m}}])&&c(a.prototype,r),o&&c(a,o),i}(a.default.Store))(r.default,{PAYMENT_AUTHENTICATION_CLEAR_ERROR:function(e){return h()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return h()},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return h()},PREMIUM_PAYMENT_MODAL_OPEN:function(e){return h()},PREMIUM_PAYMENT_SUBSCRIBE_START:function(e){return h()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return h()},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return h()},SKU_PURCHASE_MODAL_CLOSE:function(e){return h()},SKU_PURCHASE_MODAL_OPEN:function(e){return h()},SKU_PURCHASE_START:function(e){return h()},SKU_PURCHASE_SUCCESS:function(e){return h()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:function(e){return v(e),!1},PREMIUM_PAYMENT_UPDATE_FAIL:function(e){return v(e),!1},SKU_PURCHASE_FAIL:function(e){return v(e),!1},ENTITLEMENT_CREATE:function(e){return _()},ENTITLEMENT_UPDATE:function(e){return _()},PAYMENT_AUTHENTICATION_ERROR:function(e){var t=e.error;m=t,p=!1}});t.default=g},6068:function(e,t,n){"use strict";t.__esModule=!0,t.hexWithOpacity=function(e,t){var n=Math.round(255*t).toString(16).toUpperCase();return(""+e+n).padEnd(9,"0")},t.hexToRgb=o,t.hexOpacityToRgba=function(e,t){var n=o(e),a=n.r,r=n.g,i=n.b;return"rgba("+a+", "+r+", "+i+", "+t+")"},t.roleHexToColorName=function(e){var t=i[e];if(null==t)return console.warn("Role color "+e+" has not been localized!"),"undefined";return t};var a,r=(a=n(8))&&a.__esModule?a:{default:a};function o(e){"#"===e[0]&&(e=e.slice(1));var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}}var i={"#1abc9c":r.default.Messages.TEAL,"#2ecc71":r.default.Messages.LIGHT_GREEN,"#3498db":r.default.Messages.SKY_BLUE,"#9b59b6":r.default.Messages.PURPLE,"#e91e63":r.default.Messages.MAGENTA,"#11806a":r.default.Messages.DARK_TEAL,"#1f8b4c":r.default.Messages.GREEN,"#206694":r.default.Messages.BLUE,"#71368a":r.default.Messages.DARK_PURPLE,"#ad1457":r.default.Messages.BURGUNDY,"#f1c40f":r.default.Messages.YELLOW,"#e67e22":r.default.Messages.ORANGE,"#e74c3c":r.default.Messages.SALMON,"#95a5a6":r.default.Messages.LIGHT_GREY,"#607d8b":r.default.Messages.DARK_GREY,"#c27c0e":r.default.Messages.TAN,"#a84300":r.default.Messages.BROWN,"#992d22":r.default.Messages.TERRACOTTA,"#979c9f":r.default.Messages.GREY,"#546e7a":r.default.Messages.DARK_BLUE,"#99aab5":r.default.Messages.LIGHT_BLUE}},6104:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){r.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),a.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){a.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_CLOSE})};var a=i(n(2)),r=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6116:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),l=c(n(16)),s=c(n(104)),u=c(n(200)),d=c(n(5456));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=Object.freeze({PRIMARY:"primary",WARNING:"warning",ERROR:"error"}),m=Object.freeze({SMALL:"small",LARGE:"large",NONE:"none"}),h=((a={})[p.PRIMARY]=d.default.colorPrimary,a[p.WARNING]=d.default.colorWarning,a[p.ERROR]=d.default.colorError,a),v=((r={})[m.SMALL]=d.default.small,r[m.LARGE]=d.default.large,r[m.NONE]=null,r),y=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.icon,n=e.color,a=e.children,r=e.iconSize,o=e.className,i=e.iconClassName;return f(s.default,{className:(0,l.default)(d.default.note,h[n],o),align:s.default.Align.CENTER},void 0,f(u.default,{name:t,className:(0,l.default)(d.default.icon,v[r],i)}),f("div",{},void 0,a))},a}(i.PureComponent);y.displayName="PaymentNote",y.Icons=u.default.Names,y.Colors=p,y.Sizes=m;var _=y;t.default=_},6117:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=m(n(56)),i=m(n(310)),l=m(n(142)),s=m(n(6018)),u=m(n(828)),d=n(5985),c=n(0),f=m(n(8)),p=m(n(5462));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return h(r.Fragment,{},void 0,h(d.Avatar,{src:null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}),h(d.SubTitle,{},void 0,f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),h(d.Title,{className:p.default.inviteResolvingGuildName},void 0,f.default.Messages.LOADING))};t.InviteResolvingHeader=v,v.displayName="InviteResolvingHeader";var y=function(e){var t=e.guild,n=e.user;return n?h(d.Avatar,{src:null!=n?n.getAvatarURL():null,size:d.Avatar.Sizes.DEPRECATED_SIZE_100,className:p.default.avatar}):t?h(d.GuildIcon,{guild:t,size:d.GuildIcon.Sizes.XLARGE,className:p.default.guildIcon,animate:!0}):null},_=function(e){var t=e.invite,n=e.disableUser,a=void 0!==n&&n,m=e.error;if(null==t)return null;var v,_,g=null!=t.guild?new i.default(t.guild):null,S=null!=t.channel?new o.default(t.channel):null,E=a||null==t.inviter?null:new l.default(t.inviter),T=null!=t.approximate_member_count&&t.approximate_member_count>100,I=null!=g&&g.hasFeature(c.GuildFeatures.VERIFIED),A=null!=g&&g.hasFeature(c.GuildFeatures.PARTNERED),P=null;if(null!=g)P=null==E?f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:f.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:E.username}),t.target_user_type===c.InviteTargetUserTypes.STREAM&&null!=t.target_user&&(P=f.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username})),T||I||A||(v=h(d.GuildIcon,{guild:g,size:d.GuildIcon.Sizes.SMALL})),_=g.name;else if(null!=S){if(null==E)throw new Error("no inviter in group DM invite");var N=E.username;S.name?(P=f.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:N}),_=S.name,null!=S.icon&&(v=h(d.ChannelIcon,{channel:S,size:d.Avatar.Sizes.SIZE_32}))):(P=f.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,_=N)}return h(r.Fragment,{},void 0,h(y,{guild:g,user:a||T?null:E}),m?h(r.Fragment,{},void 0,h(d.SubTitle,{},void 0,f.default.Messages.INVITE_MODAL_ERROR_TITLE),h(d.Title,{},void 0,m)):h(r.Fragment,{},void 0,h(d.SubTitle,{},void 0,P),h(d.Title,{className:p.default.title},void 0,null!=g?h(s.default,{guild:g,className:p.default.guildBadge,tooltipPosition:u.default.Positions.LEFT}):null,v,_)),h(d.ActivityCount,{className:p.default.activityCount,online:t.approximate_presence_count,total:t.approximate_member_count}))};_.displayName="InviteHeader";var g=_;t.default=g},6138:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(1));var a,r=i(n(16)),o=i(n(5455));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.application,n=e.splashSize,i=e.className,l=e.overrideSplash,s=null!=l?l:t.getSplashURL(n),u=null!=s?"url("+s+")":null;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,r.default)(o.default.splashBackground,i),style:{backgroundImage:u}})}l.displayName="ApplicationSplashBackground"},6187:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CopyInputModes=void 0;var a,r=c(n(1)),o=d(n(16)),i=n(202),l=c(n(73)),s=d(n(104)),u=d(n(5440));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m={DEFAULT:"default",SUCCESS:"success",ERROR:"error"};t.CopyInputModes=m;var h=function(e){var t,n;function a(t){var n;return p(n=e.call(this,t)||this).handleButtonClick=n.handleButtonClick.bind(p(n)),p(n).handleInputClick=n.handleInputClick.bind(p(n)),p(n).setRef=n.setRef.bind(p(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.setRef=function(e){this.input=e},d.select=function(){var e=this.input;e&&e.select()},d.renderInput=function(e){var t,n=this.props,a=n.value,l=n.mode;return r.createElement("input",{className:(0,o.default)((0,i.getClass)(u.default,"input",l),(t={},t[u.default.inputHidden]=e,t)),ref:this.setRef,placeholder:"input here",type:"text",value:a,onClick:this.handleInputClick,readOnly:!0})},d.render=function(){var e,t=this.props,n=t.text,a=t.mode,r=t.hideMessage,d=t.className,c=t.buttonLook,p=null!=r;switch(a){case m.SUCCESS:e=l.ButtonColors.GREEN;break;case m.ERROR:e=l.ButtonColors.RED;break;default:e=this.props.buttonColor}return f("div",{className:(0,o.default)((0,i.getClass)(u.default,"copyInput",a),d)},void 0,f(s.default,{className:u.default.layout},void 0,f(s.default,{className:u.default.inputWrapper},void 0,this.renderInput(p),p?f("div",{className:u.default.hiddenMessage},void 0,r):null),f(s.default,{shrink:1,grow:0,style:{margin:0}},void 0,f(l.default,{className:u.default.button,onClick:this.handleButtonClick,size:l.ButtonSizes.MIN,color:e,look:c},void 0,n))))},d.handleButtonClick=function(){this.select();var e=this.props;(0,e.onCopy)(e.value)},d.handleInputClick=function(){this.select()},a}(r.PureComponent);h.displayName="CopyInput",h.defaultProps={text:"Copy",supportsCopy:!0,buttonColor:l.ButtonColors.GREY,buttonLook:l.ButtonLooks.GHOST,mode:m.DEFAULT},h.Modes=m,h.ButtonColors=l.ButtonColors,h.ButtonLooks=l.ButtonLooks;var v=h;t.default=v},6193:function(e){e.exports=JSON.parse('[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]')},6194:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(919),i=h(n(882)),l=h(n(5980)),s=n(0),u=h(n(6270)),d=h(n(6271)),c=h(n(6272)),f=h(n(6273)),p=h(n(6274)),m=h(n(6275));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y,_,g,S,E=v("source",{src:u.default,type:"video/mp4"},"mp4"),T=v("img",{alt:"",src:d.default},"png"),I=v("source",{src:c.default,type:"video/mp4"},"mp4"),A=v("img",{alt:"",src:f.default},"png"),P=v("source",{src:p.default,type:"video/webm"},"webm"),N=v("source",{src:m.default,type:"video/webm"},"webm"),O=(_=(0,o.getChromeVersion)(),g=[E,T],S=[I,A],(_>52||-1===_)&&(g.unshift(P),S.unshift(N)),(y={})[s.ThemeTypes.DARK]=g,y[s.ThemeTypes.LIGHT]=S,y),R=function(e){var t=e.loop,n=void 0===t||t,a=e.autoPlay,o=void 0===a||a,u=e.setRef,d=e.className,c=e.onReady,f=r.useContext(i.default);return r.createElement(l.default,{key:f,ref:u,onLoadedData:c,className:d,loop:n,autoPlay:o,playsInline:!0},O[f]||O[s.ThemeTypes.DARK])};R.displayName="AppSpinner";var b=R;t.default=b},6195:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=D(n(1)),o=L(n(16)),i=n(429),l=L(n(4)),s=L(n(847)),u=n(466),d=D(n(6223)),c=L(n(53)),f=D(n(6104)),p=L(n(858)),m=n(5988),h=L(n(10)),v=L(n(932)),y=L(n(6016)),_=L(n(140)),g=D(n(5985)),S=L(n(18)),E=n(89),T=n(855),I=L(n(426)),A=L(n(6710)),P=L(n(6456)),N=D(n(6117)),O=n(0),R=L(n(8)),b=L(n(825)),C=L(n(955)),M=L(n(5667));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var k=B(g.AuthSpinner,{hideQuote:!0}),F=B(N.InviteResolvingHeader,{}),G=function(e){var t,a;function l(t){var n;(n=e.call(this,t)||this).setEmailRef=function(e){n.emailRef=e},n.setPasswordRef=function(e){n.passwordRef=e},n.setCodeRef=function(e){n.codeRef=e},n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var a=t[e];return Array.isArray(a)?a[0]:a}return null},n.handleLogin=function(e){var t=n.state,a=t.email,r=t.password,o=t.captchaKey,i=t.undelete;null!=e&&e.preventDefault(),s.default.login({email:a,password:r,undelete:i,captchaKey:o,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),E.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)},n.handleTokenSubmit=function(e){var t=n.state.code,a=n.props.mfaTicket;null!=e&&e.preventDefault(),s.default.loginMFA({code:t.replace(/ /g,""),ticket:a,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),E.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)},n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,a=n.props.mfaTicket;null!=e&&e.preventDefault(),s.default.loginSMS({code:t.replace(/ /g,""),ticket:a}),E.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)},n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault(),s.default.requestSMSToken(t),E.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)},n.handleForgotPassword=function(){var e=n.state.email;null!=n.emailRef&&n.emailRef.focus(),s.default.forgotPassword(e,function(){c.default.push(function(t){return r.createElement(I.default,w({header:R.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:R.default.Messages.OKAY,red:!1,className:T.isMobile?C.default.mobile:""},t),B(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,R.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:e})))})}),E.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)},n.handleReset=function(e){null!=e&&e.preventDefault(),s.default.loginReset(),n.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)},n.handleCaptchaVerify=function(e){n.setState({captchaKey:e},n.handleLogin)},n.handleGotoRegister=function(){var e=n.state.email,t=n.props,a=t.invite,r=t.giftCode,o=t.location,l=t.transitionTo,u=t.redirectTo;if(t.isGuest)return d.close(),void f.open();var c,p=null!=o?(0,i.parse)(o.search):{};""!==e&&(p.email=e),null!=a?(p.mode="register",c=O.Routes.INVITE(a.code)):null!=r?(p.mode="register",c=O.Routes.GIFT_CODE(r.code)):null!=u?(c=O.Routes.REGISTER,p.redirect_to=u):c=O.Routes.REGISTER,s.default.loginReset(),l(c,{search:(0,i.stringify)(p)}),E.ComponentDispatch.dispatch(O.ComponentActions.WAVE_EMPHASIZE)};var a=null!=t.location?(0,i.parse)(t.location.search):{};return n.state={redirecting:t.authenticated,checkingHandoff:t.handoffAvailable,email:a.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},n}a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var v,y,L,D=l.prototype;return D.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,a=e.giftCodeSKU,r=e.invite,o=e.location;t&&!n?(0,u.handoffBegin)():n&&this.loginOrSSO(n,o,!0),S.default.track(O.AnalyticEvents.LOGIN_VIEWED,w({location:null!=r?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=a?(0,p.default)(a,!1,!1):{}),!0),(0,m.trackAppUIViewed)("login")},D.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.handoffAvailable;e.handoffAvailable||!t||e.authenticated||this.setState({checkingHandoff:!1})},D.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,a=t.location,r=this.state.checkingHandoff;!n||e.authenticated||r||this.loginOrSSO(n,a),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},D.loginOrSSO=function(e,t,n){var a=this;void 0===n&&(n=!1);var r=this.props.isGuest;e&&(null!=t||r)&&(n?s.default.verifySSOToken().then(function(){return a.transitionSSO(t)}):this.transitionSSO(t))},D.transitionSSO=function(e){var t=this.props,n=t.transitionTo,a=t.redirectTo;if(t.isGuest&&null!=a)n(a);else{var r=null!=e?(0,i.parse)(e.search):{},o=(r.redirect_to,function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(r,["redirect_to"]));if(null!=a)n(a);else if(null==o.service)n(O.Routes.APP);else{var l=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+O.Endpoints.SSO,s=w({},o,{token:h.default.getToken()});window.location=l+"?"+(0,i.stringify)(s)}}},D.hasError=function(e){return null!=this.props.errors[e]},D.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return B(g.default,{className:e},void 0,k,B(g.Title,{className:b.default.marginBottom8},void 0,R.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),B(g.SubTitle,{},void 0,R.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},D.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,a=e.authBoxClassName;return null==t?null:B(g.default,{className:a},void 0,B(g.Avatar,{src:t.getAvatarURL(),size:g.Avatar.Sizes.DEPRECATED_SIZE_100,className:b.default.marginBottom20}),B(g.Title,{className:b.default.marginBottom8},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),B(g.SubTitle,{className:b.default.marginBottom40},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),B(g.Block,{},void 0,B(g.Button,{onClick:function(){return n(O.Routes.APP)},className:b.default.marginBottom8},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),B(g.Button,{look:g.Button.Looks.LINK,onClick:this.handleReset},void 0,R.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},D.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===O.LoginStates.ACCOUNT_DISABLED,n=t?R.default.Messages.ACCOUNT_DISABLED_TITLE:R.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,a=t?R.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:R.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return B(g.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,B(g.Title,{className:b.default.marginBottom8},void 0,n),B(g.SubTitle,{className:b.default.marginBottom20},void 0,a),B(g.Block,{},void 0,B(g.Button,{color:g.Button.Colors.BRAND,type:"submit"},void 0,R.default.Messages.RETURN_TO_LOGIN),B("div",{className:(0,o.default)(b.default.marginTop8,M.default.needAccount)},void 0,R.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},D.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return B(g.default,{className:t},void 0,F,B(g.Block,{className:b.default.marginTop20},void 0,B(g.Input,{className:b.default.marginBottom20,label:R.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),B(g.Input,{className:b.default.marginBottom20,label:R.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),B(g.Button,{className:b.default.marginBottom8,type:"submit",disabled:!0},void 0,R.default.Messages.LOGIN),B(g.Button,{disabled:!0,look:g.Button.Looks.LINK},void 0,R.default.Messages.FORGOT_PASSWORD),B(g.Button,{disabled:!0,className:b.default.marginTop4,look:g.Button.Looks.LINK},void 0,R.default.Messages.NEED_ACCOUNT)))},D.renderDefault=function(){var e,t=this,n=this.props,a=n.invite,i=n.giftCode,l=n.loginStatus,s=n.authBoxClassName,u=n.isGuest,d=!this.hasError("email")&&this.hasError("password");return e=null!=a&&null!=a.channel?B(N.default,{invite:a}):null!=i?B(P.default,{giftCode:i}):u?null:B(r.Fragment,{},void 0,B(g.Title,{className:b.default.marginBottom8},"title",R.default.Messages.LOGIN_TITLE),B(g.SubTitle,{},"subtitle",R.default.Messages.AUTH_LOGIN_BODY)),B(g.default,{onSubmit:this.handleLogin,tag:"form",className:s},void 0,e,B(g.Block,{className:b.default.marginTop20},void 0,B(g.Input,{className:b.default.marginBottom20,label:R.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(e){return t.setState({email:e})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!d}),B(g.Input,{label:R.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d,value:this.state.password}),B(g.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:g.Button.Looks.LINK,className:(0,o.default)(b.default.marginBottom20,b.default.marginTop4)},void 0,R.default.Messages.FORGOT_PASSWORD),B(g.Button,{type:"submit",submitting:l===O.LoginStates.LOGGING_IN,className:b.default.marginBottom8},void 0,R.default.Messages.LOGIN),B("div",{className:b.default.marginTop4},void 0,B("span",{className:M.default.needAccount},void 0,R.default.Messages.NEED_ACCOUNT),B(g.Button,{onClick:this.handleGotoRegister,look:g.Button.Looks.LINK,className:M.default.smallRegisterLink},void 0,R.default.Messages.REGISTER))))},D.renderMFA=function(){var e=this,t=this.props,a=t.loginStatus,r=t.mfaSMS,o=t.authBoxClassName;return B(g.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:o},void 0,B("img",{alt:"",src:n(6283),className:b.default.marginBottom20}),B(g.Title,{className:b.default.marginBottom8},void 0,R.default.Messages.TWO_FA),B(g.SubTitle,{},void 0,R.default.Messages.TWO_FA_ENTER_TOKEN_BODY),B(g.Block,{className:b.default.marginTop40},void 0,B(g.Input,{className:b.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:R.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:R.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),B(g.Button,{type:"submit",submitting:a===O.LoginStates.LOGGING_IN_MFA},void 0,R.default.Messages.LOGIN),r?B(g.Button,{onClick:this.handleToggleSMSLogin,submitting:a===O.LoginStates.LOGGING_IN_MFA_SMS,className:b.default.marginTop8,look:g.Button.Looks.LINK},void 0,R.default.Messages.MFA_SMS_RECEIVE_CODE):null,B(g.Button,{look:g.Button.Looks.LINK,className:b.default.marginTop4,onClick:this.handleReset},void 0,R.default.Messages.TWO_FA_LOGIN_FOOTER)))},D.renderMFASMS=function(){var e=this,t=this.props,a=t.loginStatus,r=t.maskedPhone,o=t.authBoxClassName,i=a===O.LoginStates.LOGGING_IN_MFA_SMS||""===r;return B(g.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:o},void 0,B("img",{alt:"",src:n(6283),className:b.default.marginBottom20}),B(g.Title,{className:b.default.marginBottom8},void 0,R.default.Messages.TWO_FA),B(g.SubTitle,{className:b.default.marginBottom8},void 0,i?R.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:R.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:r})),B(g.Block,{className:b.default.marginTop40},void 0,B(g.Input,{className:b.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:R.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:R.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),B(g.Button,{type:"submit",submitting:i,color:i?g.Button.Colors.TRANSPARENT:g.Button.Colors.BRAND},void 0,R.default.Messages.LOGIN),i?null:B(g.Button,{onClick:this.handleToggleSMSLogin,className:b.default.marginTop8,look:g.Button.Looks.LINK},void 0,R.default.Messages.MFA_SMS_RESEND),B(g.Button,{look:g.Button.Looks.LINK,className:b.default.marginTop4,onClick:this.handleReset},void 0,R.default.Messages.TWO_FA_LOGIN_FOOTER)))},D.render=function(){var e=this.props,t=e.authenticated,n=e.invite,a=e.loginStatus,r=e.handoffAvailable,o=e.isGuest,i=e.authBoxClassName,l=this.state,s=l.checkingHandoff;if(l.redirecting)return null;if(this.hasError("captcha_key"))return B(A.default,{authBoxClassName:i,onVerify:this.handleCaptchaVerify,title:o?null:R.default.Messages.LOGIN_TITLE});if(r)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(a){case O.LoginStates.LOGGING_IN_MFA_SMS:case O.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case O.LoginStates.LOGGING_IN_MFA:case O.LoginStates.MFA_STEP:return this.renderMFA();case O.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case O.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case O.LoginStates.LOGGING_IN:case O.LoginStates.NONE:default:return null!=n&&n.state===O.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},v=l,(y=[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,a=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":a?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}])&&U(v.prototype,y),L&&U(v,L),l}(r.PureComponent);G.displayName="Login",G.defaultProps={isGuest:!1,transitionTo:function(t){return e.location.assign(t)}};var x=l.default.connectStores([h.default,v.default,y.default],function(){return{authenticated:h.default.isAuthenticated(),handoffAvailable:v.default.isHandoffAvailable(),user:v.default.user,loginStatus:h.default.getLoginStatus(),mfaTicket:h.default.getMFATicket(),mfaSMS:h.default.getMFASMS(),maskedPhone:h.default.getMaskedPhone(),errors:h.default.getErrors(),defaultRoute:y.default.defaultRoute}})(G);t.default=x}).call(this,n(7))},6223:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){r.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),a.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){a.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_CLOSE})};var a=i(n(2)),r=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6244:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var a=l(n(9)),r=l(n(2)),o=l(n(258)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}var u=216e5;function d(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<u)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,r.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){s(o,a,r,i,l,"next",e)}function l(e){s(o,a,r,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}},6270:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6271:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6272:function(e,t,n){e.exports=n.p+"3a9125b1cf120f62f1339925115af7d4.mp4"},6273:function(e,t,n){e.exports=n.p+"c33d106fdbfb5f84e0e4f0352665f230.png"},6274:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6275:function(e,t,n){e.exports=n.p+"3d5696326e1a1f22f5025061e6701193.webm"},6276:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PaymentModal=void 0;var a,r=m(n(1)),o=n(4),i=m(n(6115)),l=(n(420),p(n(839)),p(n(6050))),s=p(n(6066)),u=p(n(249)),d=n(6005),c=m(n(6702)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){v(o,a,r,i,l,"next",e)}function l(e){v(o,a,r,i,l,"throw",e)}i(void 0)})}}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g=[d.Steps.REVIEW,d.Steps.CONFIRM],S=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._hasChangedSteps=!1,n.handlePaypalContinue=function(){n.setState({step:d.Steps.PAYPAL_ADDRESS})},n.handleCreditCardContinue=function(){n.setState({step:d.Steps.ADDRESS})},n.handleReviewPaymentSourceChange=function(e,t){if(t){n.setState({step:d.Steps.PAYMENT_TYPE,steps:c.ADD_PAYMENT_STEPS,paymentSourceId:null});var a=n.props.onClearError;a&&a()}else n.setState({paymentSourceId:e.value})},n.handleBack=function(){var e=n.props,t=e.paymentSources,a=e.onClose,r=n.state,o=r.step,l=r.steps,s=n.stepsToRender,u=(0,d.getStepIndex)(o,s);if(u>0){var f=s[u-1],p=f===d.Steps.PAYMENT_TYPE;p&&i.clearError(),n.setState({step:f,steps:p?c.ADD_PAYMENT_STEPS:l})}else if((0,d.canGoBack)(u,t)){var m=n.props.defaultPaymentSourceId;n.setState({step:d.Steps.REVIEW,steps:c.REVIEW_PAYMENT_STEPS,paymentSourceId:m})}else a()},n.handleChoosePaymentType=function(e){switch(e){case f.PaymentSourceTypes.PAYPAL:n.setState({step:d.Steps.PAYPAL,steps:c.ADD_PAYPAL_STEPS});break;case f.PaymentSourceTypes.CARD:n.setState({step:d.Steps.CREDIT_CARD_INFORMATION,steps:c.ADD_CARD_STEPS});break;case f.PaymentSourceTypes.PAYMENT_REQUEST:n.setState({step:d.Steps.PAYMENT_REQUEST_INFO,steps:c.ADD_PAYMENT_REQUEST_STEPS})}},n.handlePaymentSourceAdd=function(e){n.setState({step:d.Steps.REVIEW,paymentSourceId:e})},n.handlePurchase=y(regeneratorRuntime.mark(function e(){var t,a,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.paymentSources,r=t.onPurchase,o=t.isGift,null!=(i=n.state.paymentSourceId)&&null!=a[i]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,r(a[i],o);case 7:n.setState({steps:g,step:d.Steps.CONFIRM}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,null,[[4,10]])})),n.handleSelectPlan=function(){var e=n.props.paymentSources,t=Object.values(e).length>0;n.setState({step:t?d.Steps.REVIEW:d.Steps.PAYMENT_TYPE})};var a=t.defaultPaymentSourceId,r=t.paymentSources,o=t.initialStep,l=Object.values(r).length>0,s=o;return null==s&&(s=l?d.Steps.REVIEW:d.Steps.PAYMENT_TYPE),n.state={paymentSourceId:a,steps:l?c.REVIEW_PAYMENT_STEPS:c.ADD_PAYMENT_STEPS,step:s,errorStep:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,s,u=r.prototype;return u.componentDidUpdate=function(e,t){var n=this.props.onStepChange,a=this.state.step;a!==t.step&&(this._hasChangedSteps=!0,null!=n&&n(t.step,a))},r.getDerivedStateFromProps=function(e,t){var n=e.billingError,a=e.isAwaitingAuthentication,r=t.errorStep,o={};if(null==n)null!=r&&(o.errorStep=null);else{var i=(0,d.errorToStep)(n);null!=i&&i!==t.errorStep&&(o.step=i,o.errorStep=i)}return null==t.paymentSourceId&&null!=e.defaultPaymentSourceId&&(o.paymentSourceId=e.defaultPaymentSourceId),a?o.step=d.Steps.AWAITING_AUTHENTICATION:t.step===d.Steps.AWAITING_AUTHENTICATION&&(o.step=null!=n?d.Steps.REVIEW:d.Steps.CONFIRM),o},u.render=function(){var e,t=this,n=this.props,r=n.isPurchasing,o=n.canSubmit,i=n.submitButtonText,l=n.useShinySubmitButton,s=n.legalNotice,u=n.renderHeader,f=n.onPaymentSourceChange,p=n.price,m=n.onClearError,h=n.size,v=n.renderConfirmationBody,y=n.renderConfirmationFooter,_=n.className,g=n.isGift,S=n.isGiftable,E=n.needsToBeGift,T=n.onIsGiftUpdate,I=((e={})[d.Steps.CONFIRM]={renderBody:v,renderFooter:y},e[d.Steps.SELECT_PLAN]={renderBody:function(){return t.props.renderSelectPlanBody(t.handleSelectPlan)},renderFooter:function(){return t.props.renderSelectPlanFooter()}},e),A=this.state,P=A.step,N=A.paymentSourceId,O=this.stepsToRender;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{className:_,isPurchasing:r,canSubmit:o,submitButtonText:i,useShinySubmitButton:l,legalNotice:s,renderHeader:u,onPaymentSourceChange:f,price:p,onClearError:m,size:h,extraRenderers:I,step:P,steps:O,paymentSourceId:N,isGiftable:S,isGift:g,needsToBeGift:E,onIsGiftUpdate:T,onBack:this.handleBack,onChoosePaymentType:this.handleChoosePaymentType,onCreditCardContinue:this.handleCreditCardContinue,onPaymentSourceAdd:this.handlePaymentSourceAdd,onPurchase:this.handlePurchase,onPaypalContinue:this.handlePaypalContinue,onReviewPaymentSourceChange:this.handleReviewPaymentSourceChange})},o=r,(l=[{key:"stepsToRender",get:function(){var e=this.props.prependSteps,t=this.state.steps;return null!=e?[].concat(e,t):t}},{key:"closable",get:function(){var e=this.state.step;return 0===(0,d.getStepIndex)(e,this.stepsToRender)||!this._hasChangedSteps}}])&&_(o.prototype,l),s&&_(o,s),r}(r.Component);t.PaymentModal=S,S.displayName="PaymentModal",S.defaultProps={useShinySubmitButton:!1,needsToBeGift:!1,isGiftable:!1,isGift:!1,renderConfirmationBody:f.NOOP_NULL,renderConfirmationFooter:f.NOOP_NULL,renderSelectPlanBody:f.NOOP_NULL,renderSelectPlanFooter:f.NOOP_NULL};var E=r.forwardRef(function(e,t){var n=(0,o.useStateFromStoresArray)([u.default],function(){return[u.default.paymentSources,u.default.defaultPaymentSourceId]}),a=n[0],i=n[1],d=(0,o.useStateFromStores)([l.default],function(){return l.default.error}),c=(0,o.useStateFromStoresArray)([s.default],function(){return[s.default.error,s.default.isAwaitingAuthentication]}),f=c[0],p=c[1];return r.createElement(S,h({},e,{ref:t,billingError:f||d,paymentSources:a,defaultPaymentSourceId:i,isAwaitingAuthentication:p}))});t.default=E},6277:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=g(n(4)),i=n(50),l=g(n(901)),s=g(n(241)),u=g(n(6187)),d=g(n(104)),c=g(n(842)),f=n(416),p=n(840),m=n(317),h=g(n(36)),v=n(0),y=g(n(8)),_=g(n(5340));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var T=1500,I=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={copyMode:u.default.Modes.DEFAULT},t._copyModeTimeout=new i.Timeout,t.handleGiftCodeCopy=function(e,n){var a=t.props.sku;null!=a&&(0,m.trackGiftCodeCopy)(new l.default({code:n,maxUses:1}),a);try{(0,p.copy)(e),t.setState({copyMode:u.default.Modes.SUCCESS})}catch(e){t.setState({copyMode:u.default.Modes.ERROR})}t._copyModeTimeout.start(T,function(){t.setState({copyMode:u.default.Modes.DEFAULT})})},t.handleInventoryClick=function(){h.default.transitionTo(v.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r,o,s,g=a.prototype;return g.componentWillUnmount=function(){this._copyModeTimeout.stop()},g.render=function(){var e,t=this,n=this.props,a=n.obscureGiftCode,r=n.giftCode,o=n.application,i=this.state.copyMode;switch(i){case u.default.Modes.SUCCESS:e=y.default.Messages.BILLING_GIFT_COPIED;break;case u.default.Modes.ERROR:e=y.default.Messages.FAILED;break;default:e=y.default.Messages.COPY}return S(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,S(c.default,{game:o,className:_.default.icon,size:c.default.Sizes.LARGE,skuId:this.iconSKUId}),S("div",{className:_.default.header},void 0,y.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_CONFIRMATION_TITLE),S("div",{className:_.default.blurb},void 0,this.headerBlurb),S("div",{className:_.default.divider}),S(d.default,{direction:d.default.Direction.VERTICAL},void 0,S(f.FormTitle,{},void 0,y.default.Messages.BILLING_GIFT_LINK),S(u.default,{hideMessage:a?y.default.Messages.GIFT_INVENTORY_HIDDEN:null,value:(0,m.getGiftCodeURL)(r),mode:i,text:e,onCopy:function(e){return t.handleGiftCodeCopy(e,r)},supportsCopy:p.SUPPORTS_COPY,className:_.default.copyInput,buttonColor:u.default.ButtonColors.BRAND,buttonLook:u.default.ButtonLooks.FILLED}),S("div",{className:_.default.subtext},void 0,y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_SUBTEXT.format({onInventoryClick:this.handleInventoryClick}))))},r=a,(o=[{key:"iconSKUId",get:function(){var e=this.props,t=e.subscriptionPlan,n=e.sku;return null!=t?t.skuId:null!=n?n.id:null}},{key:"headerBlurb",get:function(){var e=this.props.subscriptionPlan,t=y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_BLURB;return null!=e&&(t=(e.interval===v.SubscriptionIntervalTypes.MONTH?y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_MONTHLY:y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_YEARLY).format({skuName:e.skuId===v.PremiumSubscriptionSKUs.TIER_1?y.default.Messages.PREMIUM_TIER_1:y.default.Messages.PREMIUM_TIER_2,intervalCount:e.intervalCount})),t}}])&&E(r.prototype,o),s&&E(r,s),a}(r.Component);I.displayName="GiftPurchaseConfirmation";var A=o.default.connectStores([s.default],function(){return{obscureGiftCode:s.default.enabled}})(I);t.default=A},6278:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=l(n(4)),r=l(n(2)),o=n(420),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u,d,c=i.PremiumPaymentSubscriptionModes.NEW,f=null,p=i.FormStates.CLOSED,m=null,h=null,v=null,y=!1,_=!1,g=null,S=null,E=null,T=null,I=null;function A(){p=i.FormStates.CLOSED,m=null,f=null,E=null,v=null,g=null,h=null,I=null,T=null}function P(){null==u||null==f&&null==E?null!=d&&d(null!=m?m.message:null):u(),u=null,d=null,A()}function N(e){var t=e.error;m=t,p!==i.FormStates.CLOSED&&(p=i.FormStates.OPEN)}function O(){m=null}var R=new(function(e){var t,n,a,r,o;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.isOpen=function(){var e=__OVERLAY__?i.AppContext.OVERLAY:i.AppContext.APP;return I===e&&p===i.FormStates.OPEN},a=l,(r=[{key:"subscriptionMode",get:function(){return c}},{key:"paymentError",get:function(){return m}},{key:"planId",get:function(){return h}},{key:"trialId",get:function(){return v}},{key:"formState",get:function(){return p}},{key:"isGift",get:function(){return y}},{key:"isGiftingFromChat",get:function(){return _}},{key:"skuId",get:function(){return S}},{key:"giftCode",get:function(){return E}},{key:"followupSKUInfo",get:function(){return g}},{key:"analyticsLocation",get:function(){return T}}])&&s(a.prototype,r),o&&s(a,o),l}(a.default.Store))(r.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.skuId,a=e.planId,r=e.trialId,o=e.isGift,l=e.isGiftingFromChat,s=e.analyticsLocation,f=e.context,m=e.resolve,E=e.reject,P=e.followupSKUInfo;null!=d&&d(),A(),p=i.FormStates.OPEN,c=t,S=null!=n?n:i.SubscriptionPlanInfo[a].skuId,h=a,v=r,y=o,_=l,T=s,I=f,g=P,u=m,d=E},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return P()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:N,PREMIUM_PAYMENT_UPDATE_FAIL:N,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){O(),f=e.subscription},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return O()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return O()},PREMIUM_PAYMENT_UPDATE_IS_GIFT:function(e){y=e.isGift},PREMIUM_PAYMENT_SELECT_PLAN:function(e){h=e.subscriptionPlanId},STRIPE_TOKEN_FAILURE:function(e){return function(){if(p===i.FormStates.CLOSED)return!1;p=i.FormStates.OPEN}()},BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:function(e){c!==i.PremiumPaymentSubscriptionModes.NEW&&P()},BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;m=new o.BillingError(t,n)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){e.skuId===S&&null==h&&(h=e.subscriptionPlans[0].id)},SKU_PURCHASE_SUCCESS:function(e){if(e.skuId!==S||p!==i.FormStates.OPEN)return!1;E=e.giftCode},SKU_PURCHASE_FAIL:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(m=e.error)},GIFT_CODE_CREATE:function(e){var t=e.giftCode;if(0!==t.uses||t.sku_id!==S||p!==i.FormStates.OPEN)return!1;E=t.code}});t.default=R},6279:function(e,t,n){"use strict";t.__esModule=!0,t.ShakeScenes=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var a,r,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),l=c(n(16)),s=c(n(308)),u=c(n(6708)),d=c(n(5457));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),h=Object.freeze(((a={})[m.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},a[m.SPEED_START]={BEG:601,END:636},a[m.SPEED_LOOP]={BEG:637,END:668},a[m.FINISH]={BEG:669,END:870},a[m.IDLE]={BEG:871,END:878},a)),v=function(e){function t(){return e.apply(this,arguments)||this}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}};var a=t.prototype;return a.importData=function(){return n.e(311).then(n.t.bind(null,7203,3)).then(function(e){return e.default})},a.render=function(){var e=this.props,t=e.className,n=e.scene,a=e.onScenePlay,r=e.onSceneComplete;return f(u.default,{className:t,importData:this.importData,scene:n,sceneSegments:h,onScenePlay:a,onSceneComplete:r})},t}(i.PureComponent);t.PremiumPaymentAnimationTier1=v,v.displayName="PremiumPaymentAnimationTier1",v.Scenes=m;var y=Object.freeze({IDLE_ENTRY:"idle_entry",IDLE_LOOP:"idle_loop",BOOST_START:"boost_start",BOOST_LOOP:"boost_loop",BOOST_END:"boost_end",VICTORY:"victory",ERROR:"error"}),_=Object.freeze(((r={})[y.IDLE_ENTRY]={BEG:0,END:50},r[y.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},r[y.BOOST_START]={BEG:230,END:275},r[y.BOOST_LOOP]={BEG:275,END:290},r[y.BOOST_END]={BEG:386,END:455},r[y.VICTORY]={BEG:470,END:525},r[y.ERROR]={BEG:290,END:375},r)),g=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}},n.render=function(){var e=this.props.className;return f("div",{className:d.default.panningAnimation},void 0,f(s.default.div,{className:e,style:this.getStyle(!1)}),f(s.default.div,{className:e,style:this.getStyle(!0)}))},t}(i.PureComponent);g.displayName="PanningAnimation";var S=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:s.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),E=1.2,T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).backgroundAnimation=new s.default.ValueXY({x:0,y:0}),t.foregroundAnimation=new s.default.ValueXY({x:0,y:0}),t.didUnmount=!1,t.animateIdleLoopBackground=function(){t.didUnmount||(t.backgroundAnimation.x.setValue(0),s.default.timing(t.backgroundAnimation.x,{toValue:S.IDLE_LOOP.toValue,duration:S.IDLE_LOOP.duration*E,easing:s.default.Easing.linear}).start(t.animateIdleLoopBackground))},t.animateIdleLoopForeground=function(){t.didUnmount||(t.foregroundAnimation.x.setValue(0),s.default.timing(t.foregroundAnimation.x,{toValue:S.IDLE_LOOP.toValue,duration:S.IDLE_LOOP.duration,easing:S.IDLE_LOOP.easing}).start(t.animateIdleLoopForeground))},t.handleScenePlay=function(e){switch(e){case y.IDLE_ENTRY:t.animateIdleEntry(),t.animateIdleLoop();break;case y.ERROR:t.animateError();break;case y.BOOST_START:t.animateBoostStart()}var n=t.props.onScenePlay;null!=n&&n(e)},t}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}};var a=t.prototype;return a.componentWillUnmount=function(){this.didUnmount=!0},a.importData=function(){return n.e(312).then(n.t.bind(null,7204,3)).then(function(e){return e.default})},a.animateEntry=function(e){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),s.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*E,delay:e.delay||0})]).start()},a.animateIdleEntry=function(){this.animateEntry(S.IDLE_ENTRY)},a.animateError=function(){this.animateEntry(S.ERROR)},a.animateIdleLoop=function(){this.animateIdleLoopBackground(),this.animateIdleLoopForeground()},a.animateBoostStart=function(){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:S.BOOST_START.toValue,duration:S.BOOST_START.duration,delay:S.BOOST_START.delay}),s.default.timing(this.backgroundAnimation.y,{toValue:S.BOOST_START.toValue,duration:S.BOOST_START.duration*E,delay:S.BOOST_START.delay})]).start()},a.render=function(){var e=this.props,t=e.className,n=e.scene,a=e.onSceneComplete;return f("div",{className:(0,l.default)(d.default.tier2Animation,t)},void 0,f(g,{className:d.default.tier2Background,animation:this.backgroundAnimation}),f(g,{className:d.default.tier2Foreground,animation:this.foregroundAnimation}),f(u.default,{importData:this.importData,scene:n,sceneSegments:_,onScenePlay:this.handleScenePlay,onSceneComplete:a}))},t}(i.PureComponent);t.PremiumPaymentAnimationTier2=T,T.displayName="PremiumPaymentAnimationTier2",T.Scenes=y;var I=new Set([v.Scenes.SPEED_LOOP,v.Scenes.SPEED_START,T.Scenes.BOOST_LOOP,T.Scenes.BOOST_START]);t.ShakeScenes=I},6280:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=(a=n(5))&&a.__esModule?a:{default:a};var i=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).ref=r.createRef(),t.shouldRenderFrame=!0,t.animate=function(){var e=t.props,n=e.intensity;if(e.isShaking){var a=t.ref.current;if(t.shouldRenderFrame&&null!=a){var r=o.default.random(-n,n,!0),i=o.default.random(-n,n,!0);a.style.transform="translate3d("+r+"px,"+i+"px,0px)"}t.shouldRenderFrame=!t.shouldRenderFrame,t.animationFrame=requestAnimationFrame(t.animate)}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentDidMount=function(){this.props.isShaking&&this.startShaking()},i.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},i.setShaking=function(e){e?this.startShaking():this.stopShaking()},i.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},i.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},i.render=function(){var e=this.props,t=e.className,n=e.children;return r.createElement("div",{className:t,ref:this.ref},n)},a}(r.Component);i.displayName="Shaker",i.defaultProps={isShaking:!0,intensity:5};var l=i;t.default=l},6281:function(e,t,n){"use strict";t.__esModule=!0,t.default=c;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(1));var a,r=u(n(73)),o=u(n(6709)),i=n(0),l=u(n(8)),s=u(n(5459));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.premiumType,n=e.theme,a=e.followupSKU,u=e.onClose,c=e.isUpgrade,f=void 0!==c&&c;return d("div",{className:s.default.container},void 0,d(o.default,{className:s.default.upgradedBanner,theme:n,premiumType:t,type:f?o.default.Types.UPGRADE:o.default.Types.ACTIVATED}),d("div",{className:s.default.message},void 0,function(e,t,n){return null!=n?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_IAP.format({skuName:n.name}):t?e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_1:l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2_GUILD_SUBSCRIBE:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR}(t,f,a)),d(r.default,{onClick:u},void 0,function(e,t,n){return null!=n?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_IAP.format({skuName:n.name}):t?l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_1:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR}(0,f,a)))}c.displayName="PremiumPaymentConfirmation"},6282:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(1));var a,r=p(n(16)),o=p(n(104)),i=p(n(200)),l=p(n(121)),s=p(n(243)),u=n(5972),d=n(0),c=p(n(8)),f=p(n(5460));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t,n,a=e.hideCloseOnFullScreen,p=e.shouldShowPrice,h=e.plan,v=e.renderAnimation,y=e.onClose,_=e.isGift,g=e.upgradeToPremiumType,S=g===d.PremiumTypes.TIER_1;return m("div",{className:(0,r.default)((t={},t[f.default.tier1HeaderBackground]=g===d.PremiumTypes.TIER_1,t[f.default.tier2HeaderBackground]=g!==d.PremiumTypes.TIER_1,t))},void 0,v(),m(o.default,{align:o.default.Align.START,justify:o.default.Justify.BETWEEN,className:f.default.headerTop},void 0,m(i.default,{name:S?i.default.Names.NITRO_CLASSIC:i.default.Names.NITRO,className:(0,r.default)(f.default.headerIcon,(n={},n[f.default.tier1]=S,n))}),m(l.default.CloseButton,{hideOnFullscreen:a,onClick:y,className:f.default.closeButton})),p&&null!=h?m("div",{className:f.default.price},void 0,function(e,t){var n=s.default.getPrice(e),a=s.default.getInterval(e),r=(0,u.formatPrice)(n.amount,n.currency);if(t)return r;switch(a){case d.SubscriptionIntervalTypes.MONTH:return c.default.Messages.BILLING_PRICE_PER_MONTH.format({price:r});case d.SubscriptionIntervalTypes.YEAR:return c.default.Messages.BILLING_PRICE_PER_YEAR.format({price:r})}}(h,_)):null)}h.displayName="PremiumPaymentHeader";var v=h;t.default=v},6283:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6430:function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);o&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var l=0;l<i.length;++l)if(!(a[i[l]]||r[i[l]]||n&&n[i[l]]))try{e[i[l]]=t[i[l]]}catch(e){}}return e}},6456:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GiftCodeResolvingHeader=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=_(n(16)),i=_(n(4)),l=_(n(33)),s=_(n(13)),u=_(n(6020)),d=_(n(166)),c=_(n(842)),f=n(5985),p=n(0),m=_(n(8)),h=_(n(431)),v=_(n(825)),y=_(n(5666));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(){return g(r.Fragment,{},void 0,g(f.Avatar,{src:null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:v.default.marginBottom20}),g(f.SubTitle,{},void 0,m.default.Messages.GIFT_CODE_AUTH_GIFTED),g(f.Title,{className:(0,o.default)(v.default.marginTop8,h.default.flexCenter)},void 0,m.default.Messages.LOADING))};t.GiftCodeResolvingHeader=S,S.displayName="GiftCodeResolvingHeader";var E=function(e){var t=e.error,n=e.gifter,a=e.sku,i=e.application,l=e.subscriptionPlan,s=null==n?m.default.Messages.GIFT_CODE_AUTH_GIFTED:m.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),u=a.name;return null!=l&&(u=(l.interval===p.SubscriptionIntervalTypes.MONTH?m.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:m.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:a.name,intervalCount:l.intervalCount})),g(r.Fragment,{},void 0,g(f.Avatar,{src:null!=n?n.getAvatarURL():null,size:f.Avatar.Sizes.DEPRECATED_SIZE_100,className:v.default.marginBottom20}),null!=t?g(r.Fragment,{},void 0,g(f.SubTitle,{},void 0,m.default.Messages.INVITE_MODAL_ERROR_TITLE),g(f.Title,{},void 0,t)):g(r.Fragment,{},void 0,g(f.SubTitle,{},void 0,s),g(f.Title,{className:(0,o.default)(v.default.marginTop8,h.default.flexCenter)},void 0,g(c.default,{size:c.default.Sizes.MEDIUM,className:y.default.applicationIcon,game:i,skuId:a.id}),u)))};E.displayName="GiftCodeHeader";var T=i.default.connectStores([d.default,l.default,u.default,s.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),a=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=a?u.default.get(a):null,application:null!=n?l.default.getGame(n.applicationId):null,gifter:s.default.getUser(t.userId)}})(E);t.default=T},6457:function(e,t,n){"use strict";t.__esModule=!0,t.WaveStates=t.POINT_TENSION_DEFAULT=t.TWO_PI=t.MAX_RADIUS=t.MIN_RADIUS=t.NOOP=void 0;t.NOOP=function(){};t.MIN_RADIUS=780;t.MAX_RADIUS=1e3;var a=2*Math.PI;t.TWO_PI=a;t.POINT_TENSION_DEFAULT=150;t.WaveStates={INITIAL:0,ENTERED:1,FILLING:2,FILLED:3}},6700:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=h(n(1)),o=m(n(16)),i=h(n(839)),l=m(n(104)),s=m(n(5984)),u=m(n(140)),d=n(7138),c=n(311),f=m(n(8)),p=m(n(5646));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var _=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r,m,h,_=a.prototype;return _.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return v(u.default,{className:(0,o.default)(p.default.description,n)},void 0,t instanceof i.CreditCardSourceRecord?f.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,c.upperCaseFirstChar)(t.brand),last_4:t.last4}):f.default.Messages.PAYMENT_SOURCE_PAYPAL)},_.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,a="";return t instanceof i.CreditCardSourceRecord?a=f.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof i.PaypalSourceRecord&&(a=t.email),a},_.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,a=e.showSubtext,r=e.isPremium;return v(l.default,{},void 0,v(s.default,{type:this.typeString}),v(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,v(l.default,{align:l.default.Align.CENTER},void 0,this.renderDescription(),t?v("div",{className:p.default.defaultIndicator},void 0,f.default.Messages.DEFAULT):null,r?v("div",{className:p.default.premiumIndicator},void 0,f.default.Messages.PREMIUM):null,n.invalid?v("div",{className:p.default.invalidIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_INVALID):null),a?v("div",{className:p.default.subText},void 0,this.renderSubText()):null))},r=a,(m=[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?s.default.Types.PAYPAL:e instanceof i.CreditCardSourceRecord?s.default.getType(e.brand):s.default.Types.UNKNOWN}}])&&y(r.prototype,m),h&&y(r,h),a}(r.PureComponent);t.default=_,_.displayName="PaymentDescription",_.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1}},6702:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ADD_PAYMENT_REQUEST_STEPS=t.ADD_PAYPAL_STEPS=t.ADD_CARD_STEPS=t.ADD_PAYMENT_STEPS=t.REVIEW_PAYMENT_STEPS=void 0;var a,r=k(n(1)),o=U(n(4)),i=U(n(2)),l=k(n(246)),s=k(n(881)),u=k(n(6115)),d=(n(420),U(n(839)),U(n(241))),c=U(n(6048)),f=U(n(888)),p=U(n(6050)),m=U(n(249)),h=U(n(73)),v=U(n(838)),y=U(n(104)),_=U(n(5983)),g=U(n(121)),S=n(416),E=n(6005),T=U(n(11)),I=n(311),A=U(n(6259)),P=U(n(6260)),N=U(n(6063)),O=n(6703),R=n(6704),b=n(6261),C=n(6705),M=n(6706),L=n(0),D=U(n(8)),w=U(n(886)),B=U(n(5322));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function x(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){x(o,a,r,i,l,"next",e)}function l(e){x(o,a,r,i,l,"throw",e)}i(void 0)})}}function Y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var V=[E.Steps.PAYMENT_TYPE,E.Steps.CREDIT_CARD_INFORMATION,E.Steps.REVIEW];t.REVIEW_PAYMENT_STEPS=V;var H=[E.Steps.PAYMENT_TYPE,E.Steps.CREDIT_CARD_INFORMATION,E.Steps.REVIEW];t.ADD_PAYMENT_STEPS=H;var W=[E.Steps.PAYMENT_TYPE,E.Steps.CREDIT_CARD_INFORMATION,E.Steps.ADDRESS,E.Steps.REVIEW];t.ADD_CARD_STEPS=W;var z=[E.Steps.PAYMENT_TYPE,E.Steps.PAYPAL,E.Steps.PAYPAL_ADDRESS,E.Steps.REVIEW];t.ADD_PAYPAL_STEPS=z;var K=[E.Steps.PAYMENT_TYPE,E.Steps.PAYMENT_REQUEST_INFO,E.Steps.REVIEW];t.ADD_PAYMENT_REQUEST_STEPS=K;var $=(0,I.cssValueToNumber)(w.default.innerPadding),X=function(e){var t,n;function a(){for(var t,n,a=arguments.length,o=new Array(a),d=0;d<a;d++)o[d]=arguments[d];return(n=e.call.apply(e,[this].concat(o))||this).state={hasAcceptedNeccessaryTerms:!1},n.handleToggleIsGift=function(e,t){var a=n.props.onIsGiftUpdate;null!=a&&a(t)},n.handlePurchaseTermsChange=function(e){n.setState({hasAcceptedNeccessaryTerms:e})},n.handleReopenPaypal=function(){s.reopenPayPalWindow()},n.handleCardInfoChange=function(e,t){i.default.wait(function(){return u.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){i.default.wait(function(){return u.updateAddressInfo(e,t)})},n.handleCreditCardAdd=j(regeneratorRuntime.mark(function e(){var t,a,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.creditCardInfo,r=t.billingAddressInfo,e.prev=1,e.next=4,l.createCardPaymentSource(G({},a,{billingAddress:r,type:L.PaymentSourceTypes.CARD,isDefault:!1}));case 4:o=e.sent,n.props.onPaymentSourceAdd(o.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,null,[[1,8]])})),n.handleStripePaymentRequestAdd=function(){var e=j(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.updateStripePaymentRequest(t),null!=t){e.next=4;break}return n.props.onBack(),e.abrupt("return");case 4:return e.prev=4,e.next=7,l.createPaymentRequestPaymentSource(t);case 7:a=e.sent,n.props.onPaymentSourceAdd(a.id),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.handlePaypalAdd=j(regeneratorRuntime.mark(function e(){var t,a,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.braintreeEmail,r=t.braintreeNonce,o=t.billingAddressInfo,0!==a.length&&null!=r){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,l.createPaypalPaymentSource(r,o);case 6:i=e.sent,n.props.onPaymentSourceAdd(i.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,null,[[3,10]])})),n.renderBackButton=function(){var e=n.props,t=e.step,a=e.steps,r=e.paymentSources,o=e.onBack,i=(0,E.getStepIndex)(t,a),l=(0,E.canGoBack)(i,r)?D.default.Messages.BACK:D.default.Messages.CANCEL;return F(h.default,{look:h.default.Looks.LINK,className:B.default.backButton,color:B.default.backButtonColor,size:B.default.backButtonSize,onClick:o},void 0,l)},n.stepRenderer=G(((t={})[E.Steps.PAYMENT_TYPE]={renderBody:function(){var e=n.props,t=e.hidePersonalInformation,a=e.onChoosePaymentType,o=e.isGiftable,i=e.needsToBeGift,l=e.isGift;return t?F(_.default,{className:B.default.errorBlock},void 0,D.default.Messages.BILLING_ERROR_ADD_PAYMENT_SOURCE_STREAMER_MODE):F(r.Fragment,{},void 0,F(A.default,{className:B.default.choosePaymentSourceType,onChooseType:a,allowStripeRequestPayments:!T.default.embedded,onPaymentSourceReceived:n.handleStripePaymentRequestAdd}),o&&F(v.default,{disabled:i,className:B.default.giftToggle,type:v.default.Types.INVERTED,value:l,onChange:n.handleToggleIsGift},void 0,F("div",{className:B.default.checkboxLabel},void 0,D.default.Messages.BILLING_IS_GIFT_PURCHASE)))},renderFooter:function(){return F(g.default.Footer,{direction:y.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[E.Steps.PAYMENT_REQUEST_INFO]={renderBody:function(){return F(b.PaymentRequestStepBody,{className:B.default.formItem,stripePaymentSource:n.props.stripePaymentSource,submitting:n.props.submitting})},renderFooter:function(){return F(g.default.Footer,{direction:y.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[E.Steps.PAYPAL]={renderBody:function(){return F(P.default,{className:B.default.formItem})},renderFooter:function(){var e=n.props,t=e.submitting,a=e.braintreeNonce,r=e.braintreeEmail,o=e.onPaypalContinue,i=e.paypalClient;return F(C.PaypalStepFooter,{submitting:t||null==i,braintreeNonce:a,braintreeEmail:r,onPaypalContinue:o,onReopenPaypal:n.handleReopenPaypal,renderBackButton:n.renderBackButton})}},t[E.Steps.CREDIT_CARD_INFORMATION]={renderBody:function(){var e=n.props,t=e.creditCardInfo,a=e.billingError;return F(R.CreditCardInformationBody,{creditCardInfo:t,billingError:a,onCardInfoChange:n.handleCardInfoChange})},renderFooter:function(){var e=n.props,t=e.isCardInfoValid,a=e.submitting,r=e.onCreditCardContinue;return F(R.CreditCardInformationFooter,{isCardInfoValid:t,submitting:a,renderBackButton:n.renderBackButton,onCreditCardContinue:r})}},t[E.Steps.PAYPAL_ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,a=e.billingError;return F(O.AddressStepBody,{billingAddressInfo:t,billingError:a,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,a=e.submitting;return F(O.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:a,onContinue:n.handlePaypalAdd,renderBackButton:n.renderBackButton})}},t[E.Steps.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,a=e.billingError;return F(O.AddressStepBody,{billingAddressInfo:t,billingError:a,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,a=e.submitting;return F(O.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:a,onContinue:n.handleCreditCardAdd,renderBackButton:n.renderBackButton})}},t[E.Steps.REVIEW]={renderBody:function(){var e=n.props,t=e.legalNotice,a=e.paymentSources,r=e.price,o=e.hidePersonalInformation,i=e.defaultPaymentSourceId,l=e.paymentSourceId,s=e.onReviewPaymentSourceChange,u=e.isGiftable,d=e.isGift,c=e.needsToBeGift;return F(M.ReviewStepBody,{legalNotice:t,paymentSources:a,price:r,hidePersonalInformation:o,defaultPaymentSourceId:i,paymentSourceId:l,onPaymentSourceChange:s,onPurchaseTermsChange:n.handlePurchaseTermsChange,onToggleIsGift:n.handleToggleIsGift,isGiftable:u,isGift:d,needsToBeGift:c})},renderFooter:function(){var e=n.props,t=e.canSubmit,a=e.submitButtonText,r=e.useShinySubmitButton,o=e.isPurchasing,i=e.paymentSourceId,l=e.onPurchase,s=e.needsToBeGift,u=e.isGift,d=e.paymentSources;return F(M.ReviewStepFooter,{canSubmit:t,submitButtonText:a,useShinySubmitButton:r,isPurchasing:o,hasAcceptedTerms:n.state.hasAcceptedNeccessaryTerms,paymentSource:null!=i?d[i]:null,onPurchase:l,tooltipText:n.disabledTooltip,needsToBeGift:s,isGift:u})}},t[E.Steps.CONFIRM]={renderBody:L.NOOP_NULL,renderFooter:L.NOOP_NULL},t[E.Steps.AWAITING_AUTHENTICATION]={renderBody:function(){return F(S.FormTitle,{className:B.default.formTitle},void 0,D.default.Messages.PAYMENT_WAITING_FOR_AUTHENTICATION)},renderFooter:L.NOOP_NULL},t),n.props.extraRenderers),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,c,f=a.prototype;return f.componentDidMount=function(){s.createClient();var e=this.props,t=e.onPaymentSourceChange,n=e.paymentSources,a=e.defaultPaymentSourceId,r=e.paymentSourceId;null!=t&&(null!=r&&r!==a&&null!=n[r]?t(n[r]):null!=a&&null!=n[a]?t(n[a]):t(null))},f.componentDidUpdate=function(e){var t=this.props,n=t.onPaymentSourceChange,a=t.paymentSources,r=t.paymentSourceId;e.paymentSourceId!==r&&null!=r&&null!=a[r]&&n&&n(a[r])},f.componentWillUnmount=function(){s.teardown(),u.clearCardInfo();var e=this.props.onClearError;e&&e()},f.preventDefault=function(e){e.preventDefault()},f.renderHeader=function(){var e=this.props,t=e.renderHeader,n=e.billingError;return t(e.step,e.steps.map(function(e){return{id:e,label:(0,E.getCrumbLabels)(e)}}),null==(0,E.errorToStep)(n)?n:null)},f.render=function(){var e=this.props,t=e.size,n=e.step,a=e.steps,r=e.className,o=this.stepRenderer[n],i=o.renderBody();return F(g.default,{size:t,className:r,fullscreenOnMobile:!0},void 0,F("form",{className:B.default.form,onSubmit:this.preventDefault},void 0,this.renderHeader(),n!==E.Steps.CONFIRM?F("div",{className:B.default.divider}):null,null!=i&&F(g.default.Content,{outerClassName:B.default.modalContent,momentum:!0},void 0,F("div",{className:B.default.content},void 0,F(N.default,{step:n,steps:a,sideMargin:$},void 0,i))),o.renderFooter()))},o=a,(d=[{key:"disabledTooltip",get:function(){var e=this.props,t=e.needsToBeGift,n=e.isGift,a=e.isGiftable;return this.state.hasAcceptedNeccessaryTerms?t&&!n?a?D.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY:D.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY_UNGIFTABLE:null:D.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP}}])&&Y(o.prototype,d),c&&Y(o,c),a}(r.PureComponent);X.displayName="PaymentModal",X.defaultProps={canSubmit:!0,useShinySubmitButton:!1,isSubscription:!1,size:g.default.Sizes.SMALL,renderPrice:function(e){return e},billingError:null,extraRenderers:{},className:B.default.modal};var Z=o.default.connectStores([m.default,p.default,c.default,d.default,f.default],function(){return{submitting:c.default.isBusy,paymentSources:m.default.paymentSources,defaultPaymentSourceId:m.default.defaultPaymentSourceId,stripePaymentSource:p.default.stripePaymentSource,creditCardInfo:p.default.getCreditCardInfo(),isCardInfoValid:p.default.isCardInfoValid,billingAddressInfo:p.default.getBillingAddressInfo(),isBillingAddressInfoValid:p.default.isBillingAddressInfoValid,braintreeEmail:p.default.braintreeEmail,braintreeNonce:p.default.braintreeNonce,billingError:p.default.error,paypalClient:f.default.getPayPalClient(),hidePersonalInformation:d.default.hidePersonalInformation}})(X);t.default=Z},6703:function(e,t,n){"use strict";t.__esModule=!0,t.AddressStepFooter=t.AddressStepBody=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=(n(420),p(n(73))),i=p(n(104)),l=p(n(5983)),s=p(n(121)),u=n(6005),d=p(n(6190)),c=p(n(8)),f=p(n(5322));function p(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.billingAddressInfo,n=e.billingError,a=e.onBillingAddressChange,o=null!=n&&(null==n.code||(0,u.errorToStep)(n)===u.Steps.ADDRESS);return h(r.Fragment,{},void 0,o?h(l.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,r.createElement(d.default,m({className:f.default.formItem,onBillingAddressChange:a,error:n},t)))};t.AddressStepBody=v,v.displayName="AddressStepBody";var y=function(e){var t=e.isBillingAddressInfoValid,n=e.submitting,a=e.onContinue,r=e.renderBackButton;return h(s.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,r(),h(o.default,{type:"submit",disabled:!t,submitting:n,onClick:a},void 0,c.default.Messages.NEXT))};t.AddressStepFooter=y,y.displayName="AddressStepFooter"},6704:function(e,t,n){"use strict";t.__esModule=!0,t.CreditCardInformationFooter=t.CreditCardInformationBody=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=(n(420),p(n(73))),i=p(n(104)),l=p(n(5983)),s=p(n(121)),u=n(6005),d=p(n(6192)),c=p(n(8)),f=p(n(5322));function p(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.creditCardInfo,n=e.billingError,a=e.onCardInfoChange,o=null!=n&&(null==n.code||(0,u.errorToStep)(n)===u.Steps.CREDIT_CARD_INFORMATION);return h(r.Fragment,{},void 0,o?h(l.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_CARD):null,r.createElement(d.default,m({className:f.default.formItem,onCardInfoChange:a,error:n},t)))};t.CreditCardInformationBody=v,v.displayName="CreditCardInformationBody";var y=function(e){var t=e.isCardInfoValid,n=e.submitting,a=e.renderBackButton,r=e.onCreditCardContinue;return h(s.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,a(),h(o.default,{type:"submit",disabled:!t,submitting:n,onClick:r},void 0,c.default.Messages.NEXT))};t.CreditCardInformationFooter=y,y.displayName="CreditCardInformationFooter"},6705:function(e,t,n){"use strict";t.__esModule=!0,t.PaypalStepFooter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(1));var a,r=s(n(73)),o=s(n(104)),i=s(n(121)),l=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.submitting,n=e.braintreeNonce,a=e.braintreeEmail,s=e.onPaypalContinue,d=e.onReopenPaypal,c=e.renderBackButton,f=0!==a.length&&null!=n;return u(i.default.Footer,{justify:o.default.Justify.BETWEEN,direction:o.default.Direction.HORIZONTAL},void 0,c(),u(r.default,{submitting:t,look:f?r.default.Looks.FILLED:r.default.Looks.OUTLINED,onClick:f?s:d},void 0,f?l.default.Messages.NEXT:l.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN))};t.PaypalStepFooter=d,d.displayName="PaypalStepFooter"},6706:function(e,t,n){"use strict";t.__esModule=!0,t.ReviewStepFooter=t.ReviewStepBody=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=(y(n(839)),y(n(73))),i=y(n(838)),l=y(n(6014)),s=y(n(121)),u=y(n(415)),d=n(416),c=n(5972),f=y(n(6116)),p=y(n(6262)),m=y(n(906)),h=(n(0),y(n(8))),v=y(n(5322));function y(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t=e.legalNotice,n=e.paymentSources,a=e.price,o=e.hidePersonalInformation,l=e.defaultPaymentSourceId,s=e.paymentSourceId,u=e.isGiftable,y=e.isGift,_=e.needsToBeGift,S=e.onPaymentSourceChange,E=e.onPurchaseTermsChange,T=e.onToggleIsGift,I=[],A=null!=s?n[s]:null;return null!=A&&A.invalid&&I.push(g(f.default,{icon:f.default.Icons.WARNING_BOX,color:f.default.Colors.ERROR,iconSize:f.default.Sizes.NONE,iconClassName:v.default.invalidIcon},"source_invalid",h.default.Messages.BILLING_PAYMENT_SOURCE_INVALID)),null!=a&&(a.taxInclusive?I.push(g(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_included",h.default.Messages.BILLING_SALES_TAX_INCLUDED)):a.tax>0&&I.push(g(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_added",h.default.Messages.BILLING_SALES_TAX_ADDED.format({tax:(0,c.formatPrice)(a.tax,a.currency)})))),g(r.Fragment,{},void 0,g(d.FormTitle,{className:v.default.formTitle},void 0,h.default.Messages.BILLING_PAY_FOR_IT_WITH),g(p.default,{paymentSources:Object.values(n),defaultPaymentSourceId:l,selectedPaymentSourceId:s,hidePersonalInformation:o,onChange:S}),I,u&&g(i.default,{disabled:_,className:v.default.giftToggle,type:i.default.Types.INVERTED,value:y,onChange:T},void 0,g("div",{className:v.default.checkboxLabel},void 0,h.default.Messages.BILLING_IS_GIFT_PURCHASE)),g(m.default,{onChange:E,forceShow:!0,className:v.default.purchaseTerms}),null!=t?g("div",{className:v.default.subscriptionLegal},void 0,t):null)};t.ReviewStepBody=S,S.displayName="ReviewStepBody";var E=function(e){var t=e.canSubmit,n=e.submitButtonText,a=e.useShinySubmitButton,i=e.isPurchasing,d=e.hasAcceptedTerms,c=e.paymentSource,f=e.onPurchase,p=e.tooltipText,m=e.needsToBeGift,h=e.isGift,y=d&&!(m&&!h)&&null!=c&&!c.invalid&&t,S={submitting:i,color:o.default.Colors.GREEN,disabled:!y,onClick:f};return g(s.default.Footer,{},void 0,g("div",{className:v.default.buyButtonTooltipWrapper},void 0,S.disabled&&null!=p?g(u.default,{text:p},void 0,g("div",{"aria-hidden":!0,className:v.default.buyButtonTooltipTarget})):null,a?r.createElement(l.default,S,n):r.createElement(o.default,_({type:"submit"},S),n)))};t.ReviewStepFooter=E,E.displayName="ReviewStepFooter"},6708:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=o(n(1)),r=o(n(6096));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}var i=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).animationRef=a.createRef(),t.currentScene=t.props.scene,t.handleLoopComplete=function(){var e=t.props,n=e.onSceneComplete,a=e.scene;null!=n&&n(t.currentScene),t.playScene(a)},t.handleComplete=function(){var e=t.props.onSceneComplete;null!=e&&e(t.currentScene)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var e=this,t=this.props,n=t.importData,a=t.scene;n().then(function(t){null!=e.animationRef.current&&(e.animation=r.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(a))})},i.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy()},i.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForcePlayAfter()&&this.playScene(this.props.scene)},i.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter},i.playScene=function(e){var t=this.props,n=t.onScenePlay,a=t.sceneSegments[e];this.animation.playSegments([a.BEG,a.END],!0),this.currentScene=e,null!=n&&n(this.currentScene)},i.render=function(){return a.createElement("div",{ref:this.animationRef,className:this.props.className})},o}(a.PureComponent);i.displayName="SequencedLottieAnimation";var l=i;t.default=l},6709:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ShineAnimation=void 0;var a,r,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),l=m(n(16)),s=m(n(84)),u=m(n(308)),d=n(6014),c=n(6068),f=n(0),p=m(n(5458));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,c.hexWithOpacity)(f.Colors.WHITE,0),y=Object.freeze({DURATION:(a={},a[f.PremiumTypes.TIER_1]=1e3,a[f.PremiumTypes.TIER_2]=1500,a),DELAY:(r={},r[f.PremiumTypes.TIER_1]=400,r[f.PremiumTypes.TIER_2]=2200,r),FLASH_TIME_PERCENT:.72,FLASH_DURATION_PERCENT:.08}),_=(0,s.default)({ACTIVATED:null,UPGRADE:null}),g=h("svg",{viewBox:"0 0 224 20"},void 0,h("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),S=h("svg",{viewBox:"0 0 226 20"},void 0,h("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725C74.5330682 14.7676667 72.8127819 15.4689167 71.2293846 15.4689167 69.7550343 15.4689167 68.308104 14.7676667 68.4989891 13.3924583L69.4548911 6.86641667C69.6731962 5.43704167 71.3932716 4.70891667 72.9766689 4.70891667 74.5600663 4.70891667 75.9253695 5.43704167 75.7070644 6.86641667M73.733038.316416667L73.7334599.3135 63.4457009.3135C63.1828911.3135 62.9597348.503916667 62.9217687.760791667L62.4214599 4.13704167C62.374635 4.45266667 62.6224693 4.73579167 62.9453921 4.73579167L64.8240814 4.73579167C65.0130682 4.73579167 65.1421529 4.92620833 65.068119 5.097875 64.8335729 5.64058333 64.6629363 6.22995833 64.5680211 6.86641667L63.612119 13.3924583C62.983991 17.761 66.6702885 19.9451667 70.6833055 19.9451667 74.8880512 19.9451667 79.0105371 17.761 79.6386652 13.3924583L80.5939345 6.86641667C81.2096181 2.584125 77.6536708.401 73.733038.316416667M11.9335684 9.250375L11.9862991 12.4180833C11.9873537 12.4832917 11.9430599 12.5405833 11.8791503 12.556625L11.8791503 12.556625 10.7895232 8.73558333C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.900791667C7.31921055.708291667 7.12769266.583291667 6.91550433.583291667L3.08430282.583291667C2.82001657.583291667 2.59643842.775583333 2.55973785 1.03391667L.0052519774 19.0801667C-.0392527307 19.39475.207948776 19.6755833.529606026 19.6755833L4.34625386 19.6755833C4.61075104 19.6755833 4.83475104 19.482875 4.87081883 19.2239167L5.87143653 12.0545417C5.87228023 12.0474583 5.87270207 12.040375 5.87270207 12.0332917L5.81807307 8.34933333 5.92712015 8.32266667 7.07158719 12.1435C7.07327458 12.149125 7.07517288 12.1543333 7.07749303 12.1595417L10.2394365 19.3605833C10.3233838 19.5518333 10.5142689 19.6755833 10.7251917 19.6755833L14.8582237 19.6755833C15.1222991 19.6755833 15.3460881 19.4832917 15.3827887 19.2249583L17.9376964 1.17870833C17.9824121.864125 17.7349996.583291667 17.4133424.583291667L13.622849.583291667C13.3587736.583291667 13.1349846.775375 13.098284 1.03370833L11.9348339 9.2285C11.9339902 9.23579167 11.9333574 9.24308333 11.9335684 9.250375M19.3200844 19.6755625L23.1375759 19.6755625C23.4018621 19.6755625 23.6254403 19.4832708 23.6621409 19.2249375L26.2166267 1.1786875C26.2613424.864104167 26.0139299.583270833 25.6922727.583270833L21.8747812.583270833C21.6104949.583270833 21.3869168.7755625 21.3502162 1.03389583L18.7957303 19.0801458C18.7510147 19.3947292 18.9984271 19.6755625 19.3200844 19.6755625M28.7952422 1.00375L28.2951443 4.37979167C28.2483194 4.695625 28.4959427 4.97854167 28.8190765 4.97854167L32.8137431 4.97854167C33.1347676 4.97854167 33.38218 5.25875 33.3383081 5.57291667L31.456455 19.08125C31.4125831 19.3954167 31.6597846 19.675625 31.98102 19.675625L35.8537733 19.675625C36.1182704 19.675625 36.3422704 19.4827083 36.3783382 19.22375L38.3000557 5.43041667C38.3361235 5.17145833 38.5599126 4.97854167 38.8246207 4.97854167L43.1196414 4.97854167C43.3824512 4.97854167 43.6053966 4.78833333 43.6435736 4.53145833L44.1440934 1.15520833C44.1909183.839583333 43.943084.556458333 43.6201612.556458333L29.3191744.556458333C29.0563646.556458333 28.8332083.746875 28.7952422 1.00375M55.8577748 7.243875C55.7210968 8.3495 54.8476655 9.45491667 53.3456844 9.45491667L51.0890215 9.45491667C50.7669424 9.45491667 50.5195299 9.17345833 50.5648783 8.85845833L51.0424075 5.53595833C51.0795299 5.27804167 51.3031081 5.086375 51.5667616 5.086375L53.9736015 5.086375C55.4207427 5.086375 55.9940309 6.08429167 55.8577748 7.243875M54.5196806.58325L47.2540234.58325C46.989948.58325 46.7661589.775541667 46.7296693 1.033875L44.1749725 19.080125C44.1304678 19.3947083 44.3778802 19.6755417 44.6993266 19.6755417L48.5708143 19.6755417C48.8353115 19.6755417 49.0593115 19.4828333 49.0953793 19.223875L49.8471081 13.833875C49.8652475 13.7042917 49.9772475 13.6080417 50.109496 13.6080417L50.6072738 13.6080417C50.6975488 13.6080417 50.781496 13.6534583 50.8302192 13.7284583L54.5274847 19.4345C54.6247202 19.5847083 54.7928256 19.6755417 54.9733755 19.6755417L59.755206 19.6755417C60.1835902 19.6755417 60.4345883 19.1992917 60.1890742 18.852625L56.3091495 13.3747083C56.2161326 13.24325 56.2640121 13.0605417 56.4099706 12.990125 58.8868369 11.7945 60.3253303 10.5695 60.7994847 7.16283333 61.345142 2.68658333 58.5061213.58325 54.5196806.58325M93.6422924.838906711L91.945537 12.8961538C91.7301524 14.4307692 92.995537 15.1846154 94.3686139 15.1846154 95.795537 15.1846154 97.195537 14.4307692 97.4109216 12.8961538L99.1272873.699554828C99.1620169.45276435 99.3731866.269230769 99.6224088.269230769L103.485633.269230769C103.761775.269230769 103.985633.493088394 103.985633.769230769 103.985633.792541409 103.984002.815823514 103.980754.838906711L102.283999 12.8961538C101.664768 17.3653846 97.5186139 19.6 93.7224601 19.6 89.8993831 19.6 86.4532293 17.3653846 87.0724601 12.8961538L88.7888258.699554828C88.8235554.45276435 89.0347251.269230769 89.2839473.269230769L93.147171.269230769C93.4233133.269230769 93.647171.493088394 93.647171.769230769 93.647171.792541409 93.6455408.815823514 93.6422924.838906711zM104.32898 18.7615276L106.854535.699989164C106.889071.453003281 107.100328.269230769 107.349717.269230769L114.533999.269230769C119.191691.269230769 120.941691 3.68846154 120.564768 7.13461538 120.160922 10.7423077 117.495537 13.7576923 112.891691 13.7576923L110.284218 13.7576923C110.034879 13.7576923 109.823647 13.9413937 109.789053 14.1883215L109.128944 18.9001401C109.09435 19.1470678 108.883118 19.3307692 108.633779 19.3307692L104.824163 19.3307692C104.54802 19.3307692 104.324163 19.1069116 104.324163 18.8307692 104.324163 18.807605 104.325773 18.7844687 104.32898 18.7615276zM111.018196 9.47692308L113.241691 9.47692308C114.749383 9.50384615 115.610922 8.29230769 115.77246 7 115.933999 5.73461538 115.314768 4.76538462 113.914768 4.76538462L111.548415 4.76538462C111.29959 4.76538462 111.08863 4.94834957 111.053441 5.19467394L110.523221 8.9062124C110.484168 9.1795794 110.674118 9.43284539 110.947485 9.47189782 110.970907 9.47524377 110.994536 9.47692308 111.018196 9.47692308zM136.745537 4.06538462L132.437845 5.92307692C132.141691 4.79230769 131.118614 4.28076923 130.041691 4.28076923 128.695537 4.28076923 127.268614 5.08846154 127.080152 6.46153846L126.164768 13.0038462C125.976306 14.4576923 127.214768 15.1846154 128.641691 15.1846154 130.041691 15.1846154 131.549383 14.4576923 131.737845 13.0038462L131.770059 12.7622357C131.806555 12.4885157 131.614247 12.2370359 131.340527 12.2005399 131.318621 12.1976191 131.296545 12.1961538 131.274445 12.1961538L129.376392 12.1961538C129.10025 12.1961538 128.876392 11.9722962 128.876392 11.6961538 128.876392 11.6734553 128.877938 11.650783 128.881018 11.6282944L129.282493 8.6975252C129.316412 8.44991846 129.527948 8.26538462 129.777867 8.26538462L136.441959 8.26538462C136.718101 8.26538462 136.941959 8.48924224 136.941959 8.76538462 136.941959 8.78798122 136.940427 8.81055182 136.937374 8.83294122L136.368614 13.0038462C135.749383 17.3923077 131.737845 19.6 127.914768 19.6 124.145537 19.6 120.726306 17.3923077 121.345537 13.0038462L122.260922 6.46153846C122.880152 2.01923077 126.918614.81188398e-13 130.687845.81188398e-13 133.164768.81188398e-13 135.857075 1.02307692 136.745537 4.06538462zM148.966496 19.1002961L145.384578 13.5035501C145.292674 13.3599501 145.133934 13.2730769 144.963443 13.2730769L144.806306 13.2730769C144.559438 13.2730769 144.350437 13.4552565 144.316742 13.6998149L143.600408 18.8990134C143.566317 19.1464475 143.354859 19.3307692 143.105087 19.3307692L139.242624 19.3307692C138.966482 19.3307692 138.742624 19.1069116 138.742624 18.8307692 138.742624 18.807605 138.744234 18.7844687 138.747442 18.7615276L141.272996.699989164C141.307532.453003281 141.51879.269230769 141.768179.269230769L148.95246.269230769C152.883229.269230769 155.683229 2.36923077 155.144768 6.83846154 154.660152 10.3653846 153.15246 11.55 150.540922 12.7884615L154.567536 18.5441512C154.725831 18.7704196 154.670727 19.0821696 154.444459 19.2404644 154.360439 19.2992434 154.26038 19.3307692 154.157841 19.3307692L149.387631 19.3307692C149.21714 19.3307692 149.0584 19.243896 148.966496 19.1002961zM145.543846 9.12692308L147.794768 9.12692308C149.275537 9.12692308 150.137075 8.02307692 150.271691 6.91923077 150.406306 5.76153846 149.840922 4.76538462 148.413999 4.76538462L146.021102 4.76538462C145.772113 4.76538462 145.561066 4.94858458 145.526066 5.19510177L145.048811 8.55664023C145.009995 8.83004089 145.200163 9.08314261 145.473564 9.12195875 145.496845 9.12526419 145.520331 9.12692308 145.543846 9.12692308zM170.032717.662958649L173.961357 18.7244971C174.020049 18.99433 173.848886 19.2606525 173.579053 19.319345 173.544139 19.3269393 173.508511 19.3307692 173.472781 19.3307692L169.337886 19.3307692C169.097759 19.3307692 168.891541 19.1600672 168.846687 18.9241663L168.274387 15.9142952C168.229533 15.6783944 168.023315 15.5076923 167.783188 15.5076923L163.433783 15.5076923C163.23607 15.5076923 163.056925 15.624197 162.976744 15.8049217L161.544329 19.0335398C161.464149 19.2142645 161.285004 19.3307692 161.087291 19.3307692L157.044093 19.3307692C156.76795 19.3307692 156.544093 19.1069116 156.544093 18.8307692 156.544093 18.7546802 156.561459 18.6795947 156.594867 18.6112324L165.421551.549693986C165.505424.37806951 165.679754.269230769 165.870777.269230769L169.544141.269230769C169.779332.269230769 169.982728.43314177 170.032717.662958649zM165.527492 11.2269231L167.105323 11.2269231C167.381465 11.2269231 167.605323 11.0030655 167.605323 10.7269231 167.605323 10.7100689 167.604471 10.6932256 167.60277 10.6764575L167.10274 5.74759572C167.097339 5.6943553 167.052512 5.65384615 166.998999 5.65384615L166.998999 5.65384615C166.942301 5.65384615 166.891533 5.68896864 166.871541 5.74202454L165.059607 10.5506185C164.962237 10.8090244 165.092782 11.0974381 165.351188 11.1948084 165.407542 11.2160435 165.46727 11.2269231 165.527492 11.2269231zM179.412025.269230769L186.111691.269230769C189.934768.269230769 193.246306 2.20769231 192.627075 6.65L191.711691 13.0576923C191.09246 17.4461538 187.269383 19.3307692 183.446306 19.3307692L176.886471 19.3307692C176.610328 19.3307692 176.386471 19.1069116 176.386471 18.8307692 176.386471 18.807605 176.38808 18.7844687 176.391288 18.7615276L178.916842.699989164C178.951378.453003281 179.162636.269230769 179.412025.269230769zM182.353143 14.8076923L184.227075 14.8076923C185.546306 14.8076923 186.730922 14.0807692 186.865537 13.0576923L187.780922 6.65C187.915537 5.6 186.973229 4.76538462 185.653999 4.76538462L183.637975 4.76538462C183.389007 4.76538462 183.177972 4.94855369 183.142947 5.19504556L181.858116 14.2373533C181.819268 14.5107495 182.009408 14.7638728 182.282804 14.80272 182.306104 14.8060307 182.329609 14.8076923 182.353143 14.8076923zM200.238825 5.24852009L199.977836 7.07544317C199.938784 7.34881017 200.128733 7.60207616 200.4021 7.64112859 200.425522 7.64447454 200.449152 7.64615385 200.472811 7.64615385L207.049283 7.64615385C207.325426 7.64615385 207.549283 7.87001147 207.549283 8.14615385 207.549283 8.16907817 207.547707 8.19197536 207.544565 8.21468335L207.090622 11.4954526C207.056403 11.7427585 206.845002 11.9269231 206.59534 11.9269231L199.738225 11.9269231C199.489149 11.9269231 199.278056 12.1102473 199.243157 12.3568663L198.980821 14.2107125C198.942129 14.4841308 199.132413 14.7371457 199.405832 14.775837 199.42904 14.7791211 199.45245 14.7807692 199.475888 14.7807692L206.727496 14.7807692C207.003638 14.7807692 207.227496 15.0046269 207.227496 15.2807692 207.227496 15.3033218 207.22597 15.3258485 207.222929 15.348195L206.739793 18.898195C206.706068 19.1459962 206.494445 19.3307692 206.24436 19.3307692L193.982624 19.3307692C193.706482 19.3307692 193.482624 19.1069116 193.482624 18.8307692 193.482624 18.807605 193.484234 18.7844687 193.487442 18.7615276L196.012996.699989164C196.047532.453003281 196.25879.269230769 196.508179.269230769L208.770284.269230769C209.046426.269230769 209.270284.493088394 209.270284.769230769 209.270284.792751947 209.268624.81624381 209.265317.839531336L208.761175 4.38953134C208.726168 4.63604054 208.515124 4.81923077 208.266142 4.81923077L200.7338 4.81923077C200.484975 4.81923077 200.274015 5.00219572 200.238825 5.24852009zM212.338948.269230769L219.038614.269230769C222.861691.269230769 226.173229 2.20769231 225.553999 6.65L224.638614 13.0576923C224.019383 17.4461538 220.196306 19.3307692 216.373229 19.3307692L209.813394 19.3307692C209.537251 19.3307692 209.313394 19.1069116 209.313394 18.8307692 209.313394 18.807605 209.315003 18.7844687 209.318211 18.7615276L211.843765.699989164C211.878302.453003281 212.089559.269230769 212.338948.269230769zM215.280066 14.8076923L217.153999 14.8076923C218.473229 14.8076923 219.657845 14.0807692 219.79246 13.0576923L220.707845 6.65C220.84246 5.6 219.900152 4.76538462 218.580922 4.76538462L216.564898 4.76538462C216.315931 4.76538462 216.104895 4.94855369 216.069871 5.19504556L214.785039 14.2373533C214.746191 14.5107495 214.936331 14.7638728 215.209727 14.80272 215.233027 14.8060307 215.256532 14.8076923 215.280066 14.8076923z"})),E=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).animation=new u.default.Value(0),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentDidMount=function(){this.animate()},r.animate=function(){var e=this.props.premiumType;u.default.timing(this.animation,{toValue:1,delay:y.DELAY[e],duration:y.DURATION[e]}).start()},r.getContainerStyle=function(){var e=y.FLASH_TIME_PERCENT,t=y.FLASH_DURATION_PERCENT,n=this.props.theme===f.ThemeTypes.DARK?f.Colors.WHITE:f.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,e,e,e+t,1],outputRange:[v,v,n,n,v]})}},r.getShineStyle=function(){return u.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},r.renderSvg=function(){return this.props.type===_.ACTIVATED?g:S},r.render=function(){return h(u.default.div,{className:(0,l.default)(p.default.container,this.props.className),style:this.getContainerStyle()},void 0,h(d.Shine,{className:p.default.shine,style:this.getShineStyle()}),this.renderSvg())},a}(i.PureComponent);t.ShineAnimation=E,E.displayName="ShineAnimation",E.Types=_;var T=E;t.default=T},6710:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;d(n(1));var a,r=u(n(925)),o=d(n(5985)),i=u(n(8)),l=u(n(431)),s=u(n(825));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.title,a=e.onVerify,u=e.authBoxClassName;return c(o.default,{className:u},void 0,c("img",{alt:"",src:n(6283),className:s.default.marginBottom20}),null!=t?c(o.Title,{className:s.default.marginBottom8},void 0,t):null,c(o.SubTitle,{className:s.default.marginBottom40},void 0,i.default.Messages.BEEP_BOOP),c("div",{className:l.default.flexCenter},void 0,c(r.default,{onVerify:a,theme:r.default.Themes.DARK})))};f.displayName="AuthCaptcha";var p=f;t.default=p},6711:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=Y(n(1)),o=j(n(3)),i=j(n(107)),l=n(4),s=Y(n(832)),u=Y(n(844)),d=Y(n(314)),c=j(n(827)),f=(n(420),j(n(109))),p=j(n(6278)),m=j(n(43)),h=j(n(6066)),v=j(n(6020)),y=j(n(428)),_=j(n(166)),g=j(n(6089)),S=j(n(73)),E=j(n(104)),T=j(n(5983)),I=j(n(200)),A=n(6279),P=j(n(6280)),N=j(n(121)),O=j(n(74)),R=j(n(18)),b=n(6005),C=j(n(243)),M=j(n(6276)),L=j(n(6116)),D=j(n(6712)),w=j(n(6138)),B=j(n(6277)),U=j(n(6281)),k=j(n(6282)),F=n(0),G=j(n(8)),x=j(n(5464));function j(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function H(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function K(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $=880,X="../../../images/store/gifting/gifting-pattern.png",Z=f.default.createFromServer({description:"",icon:null,id:"521842831262875670",name:"Nitro",summary:"",verify_key:"93661a9eefe452d12f51e129e8d9340e7ca53a770158c0ec7970e701534b7420",developers:[],executables:[],publishers:[],splash:null});function q(e){if(e.interval!==F.SubscriptionIntervalTypes.DAY)throw new Error("Unexpected trial interval count");return(0,o.default)().add(e.intervalCount,"days").toDate()}var J=function(){return K("div",{className:x.default.trialFreePeriodBadge},void 0,G.default.Messages.PREMIUM_PAYMENT_TRIAL_TWO_WEEKS_FREE)};J.displayName="TrialFreePeriodBadge";var Q=K(J,{}),ee=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={paymentSource:null,hasInitialSubscriptionPlan:null!=t.props.subscriptionPlan,playingAnimationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,isPurchasing:!1},t._loadId=i.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=r.createRef(),t.closeAndPopLayers=function(){t.close(),s.popLayer()},t.handlePaymentSourceChange=function(e){t.setState({paymentSource:e})},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var a,r,o,i,l,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props,r=a.isGift,o=a.planId,i=a.skuId,l=a.trialId,t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.BOOST_START,isPurchasing:!0}),s=null!=l,e.prev=3,R.default.track(F.AnalyticEvents.PAYMENT_FLOW_COMPLETED,V({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime,trial_period_length_days:s?F.SubscriptionTrials[F.PREMIUM_SUBSCRIPTION_TRIAL_ID].intervalCount:null})),!r||null==o){e.next=14;break}if(u=F.SubscriptionPlanInfo[o],null!=(c=u.price)){e.next=10;break}throw new Error("Price information is required on plan!");case 10:return e.next=12,d.purchaseSKU(F.PREMIUM_SUBSCRIPTION_APPLICATION,i,{expectedAmount:c,paymentSourceId:n.id,subscriptionPlanId:u.id,isGift:!0});case 12:e.next=16;break;case 14:return e.next=16,t.subscribe(n);case 16:t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.BOOST_END,isPurchasing:!1}),e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(3),t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:A.PremiumPaymentAnimationTier2.Scenes.ERROR,isPurchasing:!1}),R.default.track(F.AnalyticEvents.PAYMENT_FLOW_FAILED,V({},t.getBaseAnalyticsData(),{payment_gateway:n.type===F.PaymentSourceTypes.CARD?F.PaymentGateways.STRIPE:F.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime})),e.t0;case 24:case"end":return e.stop()}},e,null,[[3,19]])}),function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){H(o,a,r,i,l,"next",e)}function l(e){H(o,a,r,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleAnimationScenePlayTier1=function(e){return t.setState({animationSceneTier1:A.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},t.handleAnimationScenePlayTier2=function(e){return t.setState({animationSceneTier2:A.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},t.trackStepChange=function(e,n){var a=Date.now();R.default.track(F.AnalyticEvents.PAYMENT_FLOW_STEP,V({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:a-t._stepStartTime,flow_duration_ms:a-t._flowStartTime})),t._stepStartTime=a},t.renderAnimation=function(){var e=t.props.skuId;return F.PremiumSubscriptionSKUToPremiumType[e]===F.PremiumTypes.TIER_1?K(A.PremiumPaymentAnimationTier1,{className:x.default.headerAnimation,scene:t.state.animationSceneTier1,onScenePlay:t.handleAnimationScenePlayTier1}):K(A.PremiumPaymentAnimationTier2,{className:x.default.headerAnimation,scene:t.state.animationSceneTier2,onScenePlay:t.handleAnimationScenePlayTier2})},t.renderHeader=function(e,n,a){var r=t.props,o=r.paymentError,i=r.planId,l=r.isGift,s=r.application,u=r.skuId,d=F.PremiumSubscriptionSKUToPremiumType[u];if(l&&e===b.Steps.CONFIRM)return K(w.default,{application:s,splashSize:$,overrideSplash:X});var c=o||a;return K(N.default.Header,{className:x.default.header,direction:E.default.Direction.VERTICAL,align:E.default.Align.START,separator:!1},void 0,K(k.default,{hideCloseOnFullScreen:!0,shouldShowPrice:!0,isGift:l,upgradeToPremiumType:d,plan:i,renderAnimation:t.renderAnimation,onClose:t.close}),null==c||t.shouldShake()?null:K(T.default,{className:x.default.errorBlock},void 0,c.message),l?K(L.default,{className:x.default.headerNote,iconSize:L.default.Sizes.SMALL,icon:I.default.Names.GIFT,color:L.default.Colors.PRIMARY},void 0,G.default.Messages.PREMIUM_PAYMENT_IS_GIFT):null,e!==b.Steps.CONFIRM&&n.length>1?K(g.default,{activeId:e,breadcrumbs:n}):null)},t.renderConfirmationBody=function(){var e=t.props,n=e.theme,a=e.isGift,r=e.subscriptionPlan,o=e.followupSKU,i=e.giftCode;if(null!=r){if(a&&null!=i)return t.renderGiftConfirmationBody(r,i);var l=r.premiumSubscriptionType;if(null==l)throw new Error("Premium type cannot be null");return K(U.default,{premiumType:l,theme:n,followupSKU:o,onClose:t.close})}return null},t.handleSelectPlan=function(e,t){u.selectPlan(e.id),t()},t.handlePremiumClick=function(){t.close(),c.default.open(F.UserSettingsSections.PREMIUM)},t.renderSelectPlanBody=function(e){var n=t.props,a=n.subscriptionPlans,r=n.trialId,o=n.isGift,i=n.isGiftingFromChat,l=null!=r;return K("div",{className:x.default.selectPlan},void 0,i?K("div",{className:x.default.giftBlurb},void 0,G.default.Messages.PREMIUM_PAYMENT_GIFT_BLURB.format({onClick:t.handlePremiumClick})):null,K("div",{className:x.default.selectPlanHeader},void 0,K(O.default,{tag:O.default.Tags.H5,className:x.default.selectPlanTitle},void 0,o?G.default.Messages.BILLING_PAYMENT_CHOOSE_GIFT:G.default.Messages.BILLING_PAYMENT_CHOOSE_PLAN),l?Q:null),l?K("div",{className:x.default.trialText},void 0,G.default.Messages.PREMIUM_PAYMENT_TRIAL_BLURB.format({endsAt:q(F.SubscriptionTrials[F.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null,K(D.default,{subscriptionPlans:a,isTrial:l,isGift:o,onSelect:function(n){return t.handleSelectPlan(n,e)}}),l?K("div",{className:x.default.trialNote},void 0,G.default.Messages.PREMIUM_PAYMENT_TRIAL_NOTE.format({endsAt:q(F.SubscriptionTrials[F.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null)},t.renderSelectPlanFooter=function(){return K(N.default.Footer,{direction:E.default.Direction.HORIZONTAL},void 0,K(S.default,{look:S.default.Looks.LINK,className:x.default.backButton,color:x.default.backButtonColor,size:x.default.backButtonSize,onClick:t.close},void 0,G.default.Messages.CANCEL))},t}z(t,e);var n,a,o,l=t.prototype;return l.componentDidMount=function(){var e=this.props,t=e.followupSKU,n=e.followupSKUInfo;if(null!=n&&null==t){var a=n.applicationId,r=n.id;d.fetchSKU(a,r).catch(F.NOOP_NULL)}R.default.track(F.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},l.close=function(){u.closeModal()},l.getBaseAnalyticsData=function(){var e=this.getPrice(),t=this.props,n=t.planId,a=t.subscriptionPlan;return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:null!=n?F.SubscriptionPlanGatewayPlans[n]:null,subscription_type:F.SubscriptionTypes.PREMIUM,subscription_plan_id:null!=a?a.id:null,price:null!=e?e.amount:null,regular_price:null!=e?e.amount:null,currency:null!=e?e.currency:null,is_gift:this.props.isGift,location:this.props.analyticsLocation}},l.getLegalNotice=function(){var e=this.props,t=e.isGift,n=e.skuId;if(t)return G.default.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT;var a=this.getInterval(),r=C.default.getDisplayPremiumTypeForSku(n);switch(a){case F.SubscriptionIntervalTypes.MONTH:return G.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:F.MarketingURLs.TERMS,planPremiumType:r});case F.SubscriptionIntervalTypes.YEAR:return G.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:F.MarketingURLs.TERMS,planPremiumType:r})}},l.getSubmitText=function(){var e=this.props,t=e.skuId,n=e.subscriptionMode,a=e.isGift,r=C.default.getDisplayPremiumTypeForSku(t);if(a)return G.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT.format({planPremiumType:r});switch(n){case F.PremiumPaymentSubscriptionModes.NEW:return G.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:r});case F.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return G.default.Messages.RESUBSCRIBE;default:return null}},l.getPrice=function(){var e=this.props.planId;return null!=e?C.default.getPrice(e):null},l.getInterval=function(){var e=this.props.planId;return null==e?null:null!=e?C.default.getInterval(e):null},l.subscribe=function(e){var t=this.props,n=t.subscriptionMode,a=t.planId,r=t.subscription,o=t.trialId;if(null!=a&&n===F.PremiumPaymentSubscriptionModes.NEW)return u.subscribe(a,e,o);if(n===F.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=r)return u.resubscribe(r,e);throw new Error("Failed to subscribe")},l.shouldShake=function(){var e=this.props.giftCode,t=this.state,n=t.playingAnimationSceneTier1,a=t.playingAnimationSceneTier2;return null==e&&(A.ShakeScenes.has(n)||A.ShakeScenes.has(a))},l.renderGiftConfirmationBody=function(e,t){var n=this.props.application;return K(E.default,{direction:E.default.Direction.VERTICAL,className:x.default.giftConfirmation},void 0,K(N.default.CloseButton,{onClick:this.close,className:x.default.confirmationCloseButton}),K(B.default,{giftCode:t,application:n,subscriptionPlan:e,onClose:this.closeAndPopLayers}))},l.render=function(){var e=this.props,t=e.isGift,n=e.subscriptionPlan,a=this.state.hasInitialSubscriptionPlan,o=this.shouldShake();return K(P.default,{className:x.default.fullscreenOnMobile,isShaking:o,intensity:2},void 0,r.createElement(M.default,{useShinySubmitButton:!0,ref:this._paymentModalRef,canSubmit:!t||null!=n,isGift:t,isPurchasing:this.state.isPurchasing||o,legalNotice:this.getLegalNotice(),price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:u.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,renderSelectPlanBody:this.renderSelectPlanBody,renderSelectPlanFooter:this.renderSelectPlanFooter,submitButtonText:this.getSubmitText(),onStepChange:this.trackStepChange,initialStep:a?null:b.Steps.SELECT_PLAN,prependSteps:a?null:[b.Steps.SELECT_PLAN]}))},n=t,(a=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"premiumType",get:function(){return F.PremiumSubscriptionSKUToPremiumType[this.props.skuId]}},{key:"canInstallPremiumApplications",get:function(){return this.premiumType===F.PremiumTypes.TIER_2}}])&&W(n.prototype,a),o&&W(n,o),t}(r.Component);ee.displayName="PremiumPayment",ee.defaultProps={withTrial:!1};var te=r.forwardRef(function(e,t){var n=(0,l.useStateFromStores)([y.default],function(){return y.default.getPremiumSubscription()}),a=null!=n?n.paymentGateway:null,o=(0,l.useStateFromStores)([p.default],function(){return p.default.skuId});if(null==o)throw new Error("Provide SKU ID for purchase");var i=(0,l.useStateFromStoresArray)([h.default,p.default,_.default,v.default],function(){var e=p.default.followupSKUInfo,t=p.default.planId;return[e,null!=e?_.default.get(e.id):null,p.default.trialId,t,p.default.subscriptionMode,h.default.error||p.default.paymentError,p.default.isGift,p.default.isGiftingFromChat,p.default.giftCode,p.default.analyticsLocation,null!=t?v.default.get(t):null,v.default.getForSKU(o)]}),s=i[0],u=i[1],d=i[2],c=i[3],f=i[4],g=i[5],S=i[6],E=i[7],T=i[8],I=i[9],A=i[10],P=i[11],N=(0,l.useStateFromStores)([m.default],function(){return m.default.theme}),O={subscription:n,subscriptionPlan:A,skuId:o,application:Z,paymentSourceType:a,subscriptionPlans:P,theme:N,followupSKUInfo:s,followupSKU:u,trialId:d,planId:c,subscriptionMode:f,paymentError:g,isGift:S,isGiftingFromChat:E,giftCode:T,analyticsLocation:I};return r.createElement(ee,V({ref:t},O))}),ne=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).ref=r.createRef(),t.close=function(){null!=t.ref.current&&t.ref.current.closable&&t.ref.current.close()},t}return z(t,e),t.prototype.render=function(){return r.createElement(te,{ref:this.ref})},t}(r.PureComponent);t.default=ne,ne.displayName="PremiumPaymentModal",ne.modalConfig={store:p.default,closable:!0}},6712:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(1));var a,r=c(n(3)),o=c(n(73)),i=c(n(104)),l=n(5972),s=n(0),u=c(n(8)),d=c(n(5463));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){switch(e){case s.SubscriptionIntervalTypes.YEAR:return"years";case s.SubscriptionIntervalTypes.MONTH:return"months";case s.SubscriptionIntervalTypes.DAY:return"days";default:throw new Error("Unexpected interval")}}function m(e,t){return r.default.duration(t.intervalCount,p(t.interval)).asSeconds()-r.default.duration(e.intervalCount,p(e.interval)).asSeconds()}var h=function(){return f("div",{className:d.default.annualDiscount},void 0,"-16%")};h.displayName="AnnualDiscount";var v=f(h,{}),y=function(e){var t=e.subscriptionPlan,n=e.onSelect,a=e.isTrial,r=e.isGift,c=t.interval===s.SubscriptionIntervalTypes.YEAR;return f(i.default,{align:i.default.Align.CENTER,className:d.default.option},void 0,f(i.default.Child,{grow:1},void 0,f("div",{className:d.default.priceRow},void 0,f("div",{className:d.default.price},void 0,(0,l.formatPrice)(t.price,t.currency)),c?v:null),f("div",{className:d.default.interval},void 0,function(e,t){if(t)switch(e){case s.SubscriptionIntervalTypes.YEAR:return u.default.Messages.PAYMENT_MODAL_ONE_YEAR;case s.SubscriptionIntervalTypes.MONTH:return u.default.Messages.PAYMENT_MODAL_ONE_MONTH;default:throw new Error("Unexpected interval")}switch(e){case s.SubscriptionIntervalTypes.YEAR:return u.default.Messages.PAYMENT_MODAL_PER_YEAR;case s.SubscriptionIntervalTypes.MONTH:return u.default.Messages.PAYMENT_MODAL_PER_MONTH;default:throw new Error("Unexpected interval")}}(t.interval,r))),f(o.default,{color:c?o.default.Colors.GREEN:o.default.Colors.PRIMARY,className:d.default.selectButton,onClick:function(){return n(t)}},void 0,a?u.default.Messages.PREMIUM_PAYMENT_START_TRIAL:u.default.Messages.PREMIUM_PAYMENT_SELECT))};y.displayName="PlanSelectorOption";var _=function(e){var t=e.subscriptionPlans,n=e.onSelect,a=e.isTrial,r=e.isGift;return f("div",{},void 0,t.sort(m).map(function(e){return f(y,{subscriptionPlan:e,onSelect:n,isTrial:a,isGift:r},e.id)}))};_.displayName="PlanSelector";var g=_;t.default=g},6713:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=M(n(1)),o=C(n(16)),i=n(429),l=C(n(4)),s=n(50),u=C(n(847)),d=M(n(6223)),c=M(n(6104)),f=C(n(858)),p=n(5988),m=C(n(10)),h=C(n(6016)),v=C(n(838)),y=C(n(104)),_=M(n(5985)),g=C(n(415)),S=C(n(74)),E=C(n(18)),T=n(89),I=C(n(6710)),A=C(n(6456)),P=M(n(6117)),N=n(0),O=C(n(8)),R=C(n(825)),b=C(n(5671));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function D(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l.default.initialize();var B=/\.$/,U=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(B,"")}).join(". ").trim():e},k=D(P.InviteResolvingHeader,{}),F=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._retryTimer=new s.Timeout,n.handleCaptchaVerify=function(e){return n.setState({captchaKey:e},function(){return n.handleRegister()})},n.handleGotoLogin=function(){var e=n.state.email,t=n.props,a=t.onLoginStart,r=t.giftCode,o=t.transitionTo,l=t.invite,s=t.redirectTo,f=t.isGuest,p=t.location;if(f)return c.close(),void d.open();var m,h=null!=p?(0,i.parse)(p.search):{};null!=l?m=N.Routes.INVITE_LOGIN(l.code):null!=r?m=N.Routes.GIFT_CODE_LOGIN(r.code):null!=s?(m=N.Routes.LOGIN,h.redirect_to=s):(m=N.Routes.LOGIN,""!==e&&(h={email:e})),u.default.loginReset(),o(m,{search:(0,i.stringify)(h)}),null!=a&&a(),T.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},n.handleSubmit=function(e){e&&e.preventDefault(),n.handleRegister()},n.renderGiftCodeHeader=function(e){return D(A.default,{giftCode:e})};var a=null!=t.location?(0,i.parse)(t.location.search):{};return n.state={email:a.email||"",username:"",password:"",captchaKey:null,consent:!t.consentRequired,isRateLimited:!1},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r,l,m,C=a.prototype;return C.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},C.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;E.default.track(N.AnalyticEvents.REGISTER_VIEWED,L({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,f.default)(t,!1,!1):{}),!0),null==this.props.consentRequired&&u.default.getConsentRequired(),(0,p.trackAppUIViewed)("register")},C.componentWillUnmount=function(){this._retryTimer.stop()},C.UNSAFE_componentWillReceiveProps=function(e){null==this.props.consentRequired&&null!=e.consentRequired&&(e.consentRequired?this.setState({consent:!1}):e.consentRequired||this.setState({consent:!0}))},C.componentDidUpdate=function(e){var t=this,n=this.props,a=n.errors,r=n.authenticated;e.errors!==a&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),r&&!e.authenticated&&this.redirectIfAuthenticated()},C.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,a=e.redirectTo;t&&n(null!=a?a:h.default.defaultRoute)},C.handleRegister=function(){var e=this.state,t=e.email,n=e.username,a=e.password,r=e.captchaKey,o=e.consent,i=this.props,l=i.invite,s=i.giftCode,d=i.consentRequired,c=null!=l?l.code:null,f=null!=s?s.skuId:null;null!==d&&(null!=l?u.default.register({username:n,consent:o,invite:c,giftCodeSKUId:f,captchaKey:r}):u.default.registerFull({email:t,username:n,consent:o,password:a,invite:c,giftCodeSKUId:f,captchaKey:r}),T.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE))},C.hasError=function(e){return null!=this.props.errors[e]},C.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,a=null;return this.props.consentRequired?a=D(y.default,{className:R.default.marginTop20,align:y.default.Align.CENTER},void 0,D(v.default,{value:t,type:v.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:b.default.checkbox}),D(_.SubText,{},void 0,O.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:N.MarketingURLs.TERMS,privacyURL:N.MarketingURLs.PRIVACY}))):n=D(_.SubText,{className:R.default.marginTop20},void 0,O.default.Messages.TERMS_PRIVACY.format({termsURL:N.MarketingURLs.TERMS,privacyURL:N.MarketingURLs.PRIVACY})),{subText:n,consentText:a}},C.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return D(_.default,{className:t},void 0,k,D(_.Block,{className:R.default.marginTop40},void 0,D(S.default,{},void 0,O.default.Messages.FORM_LABEL_USERNAME),D(g.default,{text:O.default.Messages.AUTH_USERNAME_TOOLTIP,position:g.default.Positions.RIGHT,color:g.default.Colors.BRAND},void 0,D(_.Input,{autoFocus:!0,className:R.default.marginBottom8,name:"username",value:this.state.username,placeholder:O.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})}})),D(_.Button,{className:R.default.marginTop20,disabled:!0},void 0,O.default.Messages.CONTINUE),D(_.Button,{look:_.Button.Looks.LINK,disabled:!0,className:R.default.marginTop8},void 0,O.default.Messages.ALREADY_HAVE_ACCOUNT),D(_.SubText,{disabled:!0,className:R.default.marginTop20},void 0,O.default.Messages.TERMS_PRIVACY.format({termsURL:N.MarketingURLs.TERMS,privacyURL:N.MarketingURLs.PRIVACY}))))},C.renderInvite=function(){var e=this,t=this.props,n=t.invite,a=t.registering,r=t.consentRequired,o=t.authBoxClassName,i=t.errors.username,l=this.state.consent,s=this.renderConsentComponents(),u=s.subText,d=s.consentText,c=D("div",{className:R.default.marginTop20},void 0,D(_.Button,{type:"submit",submitting:a,disabled:!this.hasConsent()},void 0,O.default.Messages.CONTINUE));return!l&&r&&(c=D(g.default,{text:O.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,c)),D(_.default,{onSubmit:this.handleSubmit,tag:"form",className:o},void 0,D(P.default,{invite:n}),D(_.Block,{className:R.default.marginTop40},void 0,D(S.default,{error:U(i)},void 0,O.default.Messages.FORM_LABEL_USERNAME),D(g.default,{text:O.default.Messages.AUTH_USERNAME_TOOLTIP,position:g.default.Positions.RIGHT,color:g.default.Colors.BRAND},void 0,D(_.Input,{autoFocus:!0,className:R.default.marginBottom8,name:"username",value:this.state.username,placeholder:O.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=i?"":null})),d,c,D(_.Button,{look:_.Button.Looks.LINK,onClick:this.handleGotoLogin,className:R.default.marginTop8},void 0,O.default.Messages.ALREADY_HAVE_ACCOUNT),u))},C.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?D(_.SubText,{className:(0,o.default)(R.default.marginTop20,b.default.errorMessage)},void 0,e):null},C.renderFull=function(e){var t=this,n=this.state,a=n.email,r=n.username,o=n.password,i=n.consent,l=this.props,s=l.registering,u=l.consentRequired,d=l.isGuest,c=l.authBoxClassName,f=l.errors,p=(f=void 0===f?{}:f).email,m=f.username,h=f.password,v=this.renderConsentComponents(),y=v.subText,S=v.consentText,E=this.renderErrorMessage(),T=D("div",{className:R.default.marginTop20},void 0,D(_.Button,{type:"submit",submitting:s,disabled:!this.hasConsent()||this.state.isRateLimited},void 0,O.default.Messages.CONTINUE));return!i&&u&&(T=D(g.default,{text:O.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,T)),D(_.default,{onSubmit:this.handleSubmit,tag:"form",className:c},void 0,d?null:null!=e?e():D(_.Title,{},void 0,O.default.Messages.REGISTER_TITLE),D(_.Block,{className:R.default.marginTop20},void 0,D(_.Input,{autoFocus:!0,label:O.default.Messages.FORM_LABEL_EMAIL,className:R.default.marginBottom20,name:"email",value:a,onChange:function(e){return t.setState({email:e})},error:U(p),type:"email",setRef:function(e){t.emailRef=e}}),D(_.Input,{label:O.default.Messages.FORM_LABEL_USERNAME,className:R.default.marginBottom20,name:"username",value:r,onChange:function(e){return t.setState({username:e})},error:U(m),setRef:function(e){t.usernameRef=e}}),D(_.Input,{label:O.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:o,onChange:function(e){return t.setState({password:e})},error:U(h),type:"password",setRef:function(e){t.passwordRef=e}}),S,T,E,D(_.Button,{look:_.Button.Looks.LINK,onClick:this.handleGotoLogin,className:R.default.marginTop8},void 0,O.default.Messages.ALREADY_HAVE_ACCOUNT),y))},C.render=function(){var e=this,t=this.props,n=t.isGuest,a=t.authBoxClassName;if(this.hasError("captcha_key"))return D(I.default,{authBoxClassName:a,onVerify:this.handleCaptchaVerify,title:n?null:O.default.Messages.REGISTER_TITLE});var r=this.props,o=r.invite,i=r.giftCode;return null!=o?o.state===N.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=i?this.renderFull(function(){return e.renderGiftCodeHeader(i)}):this.renderFull()},r=a,(l=[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}])&&w(r.prototype,l),m&&w(r,m),a}(r.PureComponent);F.displayName="Register",F.defaultProps={giftCodeResolved:!1,transitionTo:function(t){return e.location.assign(t)}};var G=l.default.connectStores([m.default],function(){return{consentRequired:m.default.getConsentRequired(),authenticated:m.default.isAuthenticated(),registering:m.default.getRegisterStatus(),errors:m.default.getErrors()}})(F);t.default=G}).call(this,n(7))},6816:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=[{label:"Alberta",value:"AB"},{label:"British Columbia",value:"BC"},{label:"Manitoba",value:"MB"},{label:"New Brunswick",value:"NB"},{label:"Newfoundland and Labrador",value:"NL"},{label:"Nova Scotia",value:"NS"},{label:"Ontario",value:"ON"},{label:"Prince Edward Island",value:"PE"},{label:"Quebec",value:"QC"},{label:"Saskatchewan",value:"SK"},{label:"Northwest Territories",value:"NT"},{label:"Nunavut",value:"NU"},{label:"Yukon",value:"YT"}]},6817:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia, Plurinational State of",code:"BO"},{name:"Bonaire, Sint Eustatius and Saba",code:"BQ"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote d'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestine, State of",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Barthélemy",code:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Martin (French part)",code:"MF"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela, Bolivarian Republic of",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]},6818:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=[{label:"Alabama",value:"AL"},{label:"Alaska",value:"AK"},{label:"American Samoa",value:"AS"},{label:"Arizona",value:"AZ"},{label:"Arkansas",value:"AR"},{label:"Armed Forces: Americas",value:"AA"},{label:"Armed Forces: Europe",value:"AE"},{label:"Armed Forces: Pacific",value:"AP"},{label:"California",value:"CA"},{label:"Colorado",value:"CO"},{label:"Connecticut",value:"CT"},{label:"Delaware",value:"DE"},{label:"District Of Columbia",value:"DC"},{label:"Federated States Of Micronesia",value:"FM"},{label:"Florida",value:"FL"},{label:"Georgia",value:"GA"},{label:"Guam",value:"GU"},{label:"Hawaii",value:"HI"},{label:"Idaho",value:"ID"},{label:"Illinois",value:"IL"},{label:"Indiana",value:"IN"},{label:"Iowa",value:"IA"},{label:"Kansas",value:"KS"},{label:"Kentucky",value:"KY"},{label:"Louisiana",value:"LA"},{label:"Maine",value:"ME"},{label:"Marshall Islands",value:"MH"},{label:"Maryland",value:"MD"},{label:"Massachusetts",value:"MA"},{label:"Michigan",value:"MI"},{label:"Minnesota",value:"MN"},{label:"Mississippi",value:"MS"},{label:"Missouri",value:"MO"},{label:"Montana",value:"MT"},{label:"Nebraska",value:"NE"},{label:"Nevada",value:"NV"},{label:"New Hampshire",value:"NH"},{label:"New Jersey",value:"NJ"},{label:"New Mexico",value:"NM"},{label:"New York",value:"NY"},{label:"North Carolina",value:"NC"},{label:"North Dakota",value:"ND"},{label:"Northern Mariana Islands",value:"MP"},{label:"Ohio",value:"OH"},{label:"Oklahoma",value:"OK"},{label:"Oregon",value:"OR"},{label:"Palau",value:"PW"},{label:"Pennsylvania",value:"PA"},{label:"Puerto Rico",value:"PR"},{label:"Rhode Island",value:"RI"},{label:"South Carolina",value:"SC"},{label:"South Dakota",value:"SD"},{label:"Tennessee",value:"TN"},{label:"Texas",value:"TX"},{label:"Utah",value:"UT"},{label:"Vermont",value:"VT"},{label:"Virgin Islands",value:"VI"},{label:"Virginia",value:"VA"},{label:"Washington",value:"WA"},{label:"West Virginia",value:"WV"},{label:"Wisconsin",value:"WI"},{label:"Wyoming",value:"WY"}]},6819:function(e,t,n){"use strict";var a={},r=["visa","master-card","american-express","diners-club","discover","jcb","unionpay","maestro"];function o(e){var t,n,a;return e?(t=e.prefixPattern.source,n=e.exactPattern.source,(a=JSON.parse(JSON.stringify(e))).prefixPattern=t,a.exactPattern=n,a):null}function i(e){var t,n,i,l=[],s=[];if(!("string"==typeof e||e instanceof String))return[];for(i=0;i<r.length;i++)t=r[i],n=a[t],0!==e.length?n.exactPattern.test(e)?s.push(o(n)):n.prefixPattern.test(e)&&l.push(o(n)):l.push(o(n));return s.length?s:l}a.visa={niceType:"Visa",type:"visa",prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},a["master-card"]={niceType:"MasterCard",type:"master-card",prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27[0-1]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},a["american-express"]={niceType:"American Express",type:"american-express",prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},a["diners-club"]={niceType:"Diners Club",type:"diners-club",prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14],code:{name:"CVV",size:3}},a.discover={niceType:"Discover",type:"discover",prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},a.jcb={niceType:"JCB",type:"jcb",prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},a.unionpay={niceType:"UnionPay",type:"unionpay",prefixPattern:/^(6|62)$/,exactPattern:/^62\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},a.maestro={niceType:"Maestro",type:"maestro",prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^5[06-9]\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},i.getTypeInfo=function(e){return o(a[e])},i.types={VISA:"visa",MASTERCARD:"master-card",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro"},e.exports=i},6834:function(e,t,n){"use strict";t.__esModule=!0,t.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.applySpringForce=function(e,t,n,a){return a.tension*(e-t)-a.friction*n}},6855:function(e,t,n){"use strict";t.__esModule=!0,t.makeAuthenticated=function(e,t,n){var a=c(t,{});void 0===n&&(n={passProps:!0});return function(s){if(!l.default.isAuthenticated()&&!l.default.isGuest()){if(null!=t)return a;var u=location.pathname+location.search;return c(o.Redirect,{to:(0,i.getLoginPath)(u,!1)})}return r.createElement(e,n.passProps?s:null)}},t.getArtForPath=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(139),i=n(330),l=d(n(10)),s=d(n(6856)),u=d(n(6857));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6858);var t=(new Date).getHours();return t>=6&&t<20?s.default:u.default}},6856:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6857:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6858:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},7135:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=E(n(16)),i=E(n(4)),l=E(n(2)),s=n(246),u=n(6244),d=(E(n(6258)),E(n(6674))),c=E(n(428)),f=E(n(424)),p=E(n(104)),m=E(n(7136)),h=E(n(240)),v=E(n(7137)),y=n(0),_=E(n(8)),g=E(n(5647)),S=E(n(5353));function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var A=10,P=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={pageIndex:0,lastIdFetched:null},t.handlePageChange=function(e){var n=t.props.payments,a=n[n.length-1].id;e===t.numPages-1&&t.state.lastIdFetched!==a?((0,s.fetchPayments)(A,a),t.setState({pageIndex:e,lastIdFetched:a})):t.setState({pageIndex:e})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,d,c,E=a.prototype;return E.componentDidMount=function(){l.default.wait(function(){(0,u.fetchActivityStatistics)(),(0,s.fetchPayments)(A+A)})},E.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,a=e.payments,i=this.state.pageIndex,l=a.slice(i*A,(i+1)*A);return T(r.Fragment,{},void 0,l.map(function(e,a){return T(v.default,{className:(0,o.default)(g.default.paymentRow,g.default.bottomDivider),payment:e,locale:n,compactMode:t},a)}))},E.renderPremiumAppleSubscription=function(){return T(f.default,{className:g.default.appleRow},void 0,T("div",{className:g.default.appleRowHeader},void 0,_.default.Messages.BILLING_APPLE_HEADER),T("div",{className:g.default.appleRowBody},void 0,_.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:y.AppleBillingUrls.BILLING_MANAGEMENT})))},E.render=function(){var e=this.props,t=e.compactMode,n=e.payments,a=e.subscription,r=this.state.pageIndex,i=null!=a&&a.isPurchasedViaApple;return 0!==n.length||i?T("div",{className:g.default.verticalFit},void 0,i?this.renderPremiumAppleSubscription():null,n.length>0?T("div",{className:(0,o.default)(g.default.paymentPane,g.default.verticalFit)},void 0,t?null:T("div",{className:(0,o.default)(g.default.paymentRow,g.default.bottomDivider)},void 0,T(p.default,{className:g.default.paymentRowHeader},void 0,T("div",{className:S.default.date},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),T("div",{className:S.default.description},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),T("div",{className:S.default.amount},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),T(m.default,{className:(0,o.default)(g.default.verticalFit,g.default.paginator),currentPageIndex:r,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,T(h.default,{outerClassName:g.default.bottomDivider,theme:h.default.Themes.GHOST_HAIRLINE},void 0,this.renderPage()))):null):null},i=a,(d=[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/A),1)}}])&&I(i.prototype,d),c&&I(i,c),a}(r.PureComponent);P.displayName="PaymentHistory",P.defaultProps={compactMode:!1};var N=i.default.connectStores([d.default,c.default],function(){return{payments:d.default.getPayments(),subscription:c.default.getPremiumSubscription()}})(P);t.default=N},7136:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(1));var a,r=s(n(16)),o=s(n(200)),i=s(n(8)),l=s(n(5645));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n,a=e.currentPageIndex,s=e.numPages,d=e.onChangePage,c=e.children,f=e.className;return u("div",{className:(0,r.default)(l.default.paginator,f)},void 0,c,u("div",{className:l.default.pageActions},void 0,u(o.default,{name:o.default.Names.LEFT_CARET,onClick:function(){a>0&&d(a-1)},className:(0,r.default)(l.default.pageButtonPrev,(t={},t[l.default.disabled]=0===a,t))}),u("div",{className:l.default.pageIndicator},void 0,i.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:a+1,numPages:s})),u(o.default,{name:o.default.Names.RIGHT_CARET,onClick:function(){a<s-1&&d(a+1)},className:(0,r.default)(l.default.pageButtonNext,(n={},n[l.default.disabled]=a>=s-1,n))})))};d.displayName="Paginator";var c=d;t.default=c},7137:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=P(n(16)),i=P(n(84)),l=P(n(3)),s=P(n(4)),u=(P(n(6258)),n(839)),d=P(n(33)),c=P(n(258)),f=P(n(239)),p=P(n(104)),m=P(n(842)),h=P(n(200)),v=P(n(5984)),y=P(n(415)),_=P(n(866)),g=n(833),S=n(5972),E=P(n(6700)),T=n(0),I=P(n(8)),A=P(n(5353));function P(e){return e&&e.__esModule?e:{default:e}}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=14,b=5,C=2,M=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},L=(0,i.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),D=[T.PaymentStatusTypes.FAILED,T.PaymentStatusTypes.REVERSED],w=function(e){var t=e.description,n=e.cost;return O("li",{className:A.default.paymentDetail},void 0,O(p.default,{justify:p.default.Justify.BETWEEN},void 0,O("div",{},void 0,t),O("div",{},void 0,n)))};w.displayName="PaymentDetail";var B=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={expanded:!1},t.refundRules=[{rule:L.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<l.default.duration(C,"hours").asMilliseconds()}},{rule:L.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;return!!t.isSkuPreorder||(e.isPremiumSubscription?t.daysSincePurchase<=b:t.daysSincePurchase<=R)}},{rule:L.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==T.SKUTypes.CONSUMABLE}},{rule:L.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:L.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!D.includes(e.status)}}],t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,s,d,c=a.prototype;return c.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},c.renderStatus=function(){switch(this.props.payment.status){case T.PaymentStatusTypes.PENDING:return O("span",{className:A.default.statusTagGrey},void 0,I.default.Messages.BILLING_TAG_PENDING);case T.PaymentStatusTypes.FAILED:return O("span",{className:A.default.statusTagRed},void 0,I.default.Messages.BILLING_TAG_FAILED);case T.PaymentStatusTypes.REFUNDED:return O("span",{className:A.default.statusTagGreen},void 0,I.default.Messages.BILLING_TAG_REFUNDED);case T.PaymentStatusTypes.REVERSED:return O("span",{className:A.default.statusTagRed},void 0,I.default.Messages.BILLING_TAG_REVERSED);default:return null}},c.renderPrice=function(){var e=this.props.payment;return O("span",{},void 0,(0,S.formatPrice)(e.amount,e.currency))},c.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,a=t.taxInclusive,i=t.tax,l=t.amount,s=t.currency;return O("div",{className:(0,o.default)(A.default.paymentText,A.default.paymentBreakdown)},void 0,null!=t.paymentSource?O(E.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:A.default.paymentText}):null,O("ul",{},void 0,!a&&i>0?O(r.Fragment,{},void 0,O(w,{description:t.description,cost:(0,S.formatPrice)(l-i,s)}),O(w,{description:I.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,S.formatPrice)(i,s)})):null,O(w,{description:I.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,S.formatPrice)(l,s)})))},c.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,a=this.validateRefundRules();if(a.includes(L.PAYMENT_STATUS)||a.includes(L.ALREADY_REFUNDED))return null;var o,i=0===a.length,l=M(t);return o=a.includes(L.SKU_TYPE)?I.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):i?n.isPreorder&&this.isSkuPreorder?I.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:l}):n.isPremiumSubscription?I.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:b,supportURL:l}):n.isGift?I.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:R,supportURL:l}):I.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:R,playtimeLimit:C,supportURL:l}):n.isGift?I.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:R}):n.isPremiumSubscription?I.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:b,supportURL:l}):I.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:R,playtimeLimit:C}),O(r.Fragment,{},void 0,O("h2",{className:A.default.paymentHeader},void 0,I.default.Messages.BILLING_REFUND_HEADER),O("div",{className:A.default.paymentText},void 0,O("div",{},void 0,o),this.renderRefundActions(a)))},c.renderRefundActions=function(e){var t=this.props,n=t.locale,a=t.payment;return this.isSkuPreorder||e.includes(L.SKU_TYPE)?null:O(p.default,{justify:p.default.Justify.BETWEEN,align:p.default.Align.END},void 0,O(p.default,{},void 0,O("div",{className:A.default.refundCriteria},void 0,O("h3",{className:A.default.refundSubHeader},void 0,a.isPreorder?I.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:I.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),O(p.default,{align:p.default.Align.CENTER},void 0,O(h.default,{name:e.includes(L.PURCHASE_DATE)?h.default.Names.CLOSE:h.default.Names.CHECKMARK,className:A.default.refundCriteriaIcon}),O("div",{},void 0,I.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),a.isPremiumSubscription||a.isGift?null:O("div",{className:A.default.refundCriteria},void 0,O("h3",{className:A.default.refundSubHeader},void 0,I.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),O(p.default,{},void 0,O(h.default,{name:e.includes(L.TIME_PLAYED)?h.default.Names.CLOSE:h.default.Names.CHECKMARK,className:A.default.refundCriteriaIcon}),O("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():I.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),O(f.default,{href:M(n)},void 0,I.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},c.renderDescription=function(){var e,t,n=this.props,a=n.compactMode,o=n.payment,i=n.application,s=o.sku;null!=s?(t=o.isPreorder?I.default.Messages.PREORDER_SKU_NAME.format({name:s.name}):s.name,e=O(m.default,{className:A.default.descriptionIcon,game:i,size:m.default.Sizes.XSMALL,skuId:s.id})):(e=O(h.default,{className:A.default.descriptionIcon,name:h.default.Names.NITRO_WHEEL}),t=o.description);var u=O(p.default.Child,{className:A.default.date},void 0,(0,g.dateFormat)((0,l.default)(o.createdAt),"MM/DD/YYYY")),d=o.isGift?O(y.default,{text:I.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,O(h.default,{className:A.default.giftIcon,name:h.default.Names.GIFT})):null;return a?O("div",{className:A.default.description},void 0,e,O("div",{},void 0,t,u),d):O(r.Fragment,{},void 0,u,O("div",{className:A.default.description},void 0,e,t,d))},c.renderExpandedSection=function(){return O("div",{className:A.default.expandedInfo},void 0,O("h2",{className:A.default.paymentHeader},void 0,I.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},c.render=function(){var e,t=this.state.expanded,n=this.props,a=n.className,r=n.compactMode;return O("div",{className:(0,o.default)(t?A.default.payment:A.default.hoverablePayment,a,(e={},e[A.default.compact]=r,e))},void 0,O(p.default,{onClick:this.handleExpandInfo,className:A.default.summaryInfo,align:p.default.Align.CENTER},void 0,this.renderDescription(),O("div",{className:A.default.amount},void 0,this.renderStatus(),this.renderPrice()),O(h.default,{name:h.default.Names.CARET,className:A.default.expand,direction:t?_.default.Directions.UP:_.default.Directions.DOWN})),t?this.renderExpandedSection():null)},i=a,(s=[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?l.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,l.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof u.PaypalSourceRecord?v.default.Types.PAYPAL:e instanceof u.CreditCardSourceRecord?v.default.getType(e.brand):v.default.Types.UNKNOWN}}])&&N(i.prototype,s),d&&N(i,d),a}(r.PureComponent);B.displayName="PaymentHistoryRow",B.defaultProps={compactMode:!1};var U=s.default.connectStores([c.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===T.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?c.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?d.default.getGame(n):null}})(B);t.default=U},7138:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7353:function(e,t,n){e.exports=n.p+"e0c782560fd96acd7f01fda1f8c6ff24.svg"},7354:function(e,t,n){e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},7355:function(e,t,n){e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},7356:function(e,t,n){e.exports=n.p+"bdcfee0c4d9fb22ce3c47b593df14254.svg"},7357:function(e,t,n){e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},8254:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=i(n(32)),r=n(487),o=i(n(19));function i(e){return e&&e.__esModule?e:{default:e}}var l={getIdleTime:function(e){o.default.getIdleMilliseconds(e)},dump:function(e){var t;performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize});var n={browser:{name:a.default.name,version:a.default.version},os:{name:a.default.os.family,version:a.default.os.version},memory:t};e(n)},getTimeSinceNavigationStart:function(){return Date.now()-r.navigationStart}};t.default=l},8255:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=c(n(892)),i=c(n(308)),l=n(311),s=n(855),u=c(n(5356)),d=c(n(5912));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=(0,l.cssValueToNumber)(u.default.responsiveWidthMobile),m={START:0,END:1,OPACITY_INPUT_START:.5,OPACITY_INPUT_END:.7,OPACITY_OUTPUT_START:0,OPACITY_OUTPUT_END:1,SCALE_INPUT_START:0,SCALE_INPUT_END:1,SCALE_OUTPUT_START:.8,SCALE_OUTPUT_END:1},h={friction:10,tension:130};var v=function(e){return function(t){var n,l;function u(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).anim=new i.default.Value(m.START),e.state={shouldAnimate:!s.isMobile},e.handleResize=function(){var t=window.innerWidth>p;!e.state.shouldAnimate&&t&&e.anim.setValue(m.END),e.setState({shouldAnimate:t})},e.handleResizeDebounced=(0,o.default)(e.handleResize,60),e}l=t,(n=u).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var c=u.prototype;return c.UNSAFE_componentWillMount=function(){s.isMobile||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())},c.componentWillUnmount=function(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)},c.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(m.END,e):e()},c.componentWillEnter=function(e){var t=this;this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.animateTo(m.END,e)},40)):e()},c.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(m.START,e):e()},c.animateTo=function(e,t){i.default.spring(this.anim,f({toValue:e},h)).start(t)},c.getAnimatedStyle=function(){return this.state.shouldAnimate?{opacity:this.anim,transform:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null},c.render=function(){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.div,{className:d.default.wrapper,style:this.getAnimatedStyle()},void 0,r.createElement(e,this.props))},u}(r.Component)};t.default=v},8256:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=m(n(16)),i=m(n(8257)),l=m(n(8258)),s=n(6457),u=m(n(11)),d=m(n(36)),c=n(855),f=n(0),p=m(n(5916));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=[f.Routes.LOGIN,f.Routes.LOGIN_HANDOFF,f.Routes.REGISTER,f.Routes.INVITE(""),f.Routes.GIFT_CODE(""),f.Routes.DISABLE_EMAIL_NOTIFICATIONS,f.Routes.BILLING_PREMIUM_DEPRECATED,f.Routes.BILLING_PREMIUM_SUBSCRIBE,f.Routes.BILLING_PAYMENT_SOURCES_CREATE,f.Routes.BILLING_PAYMENTS,f.Routes.VERIFY,f.Routes.AUTHORIZE_IP,f.Routes.RESET,f.Routes.HANDOFF],y=[f.Routes.APP,f.Routes.ACTIVITY,f.Routes.APPLICATION_LIBRARY,f.Routes.APPLICATION_STORE,"/channels/","/welcome/","/settings/",f.Routes.USERS("")];function _(e){return v.some(function(t){return e.startsWith(t)})}var g=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).updateWaveState=function(e){var t=n.state.waveState;n.setState({waveState:Math.max(t,e)})},n.transitionTo=function(e,t){var a=n.state.waveState;_(e)?d.default.transitionTo(e,t):n.setState({route:e,extra:t,waveState:Math.max(a,s.WaveStates.FILLING)})},n.replaceWith=function(e){var t=n.state.waveState;_(e)?d.default.replaceWith(e):n.setState({route:e,replaceWith:!0,waveState:Math.max(t,s.WaveStates.FILLING)})},n.state={waveState:s.WaveStates.INITIAL,extra:{},replaceWith:!1,route:null},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=a.prototype;return f.componentDidUpdate=function(e,t){var n=this.state,a=n.waveState,r=n.replaceWith,o=n.extra,i=n.route;if(a===s.WaveStates.FILLED&&a!==t.waveState&&null!=i){if(function(e){return y.some(function(t){return e.startsWith(t)})}(i))return r?d.default.replaceWith(i):d.default.transitionTo(i,o);window.location=i}},f.mobileTransitionTo=function(e,t){if(_(e))d.default.transitionTo(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:e+"?"+n}},f.mobileReplaceWith=function(e){_(e)?d.default.replaceWith(e):window.location=e},f.renderDefault=function(){var e,t=this,n=this.props,a=n.splash,d=n.children,c=this.state,f=c.waveState,m=null;return null==c.route&&(m=r.Children.map(d,function(e){return r.cloneElement(e,{transitionTo:t.transitionTo,replaceWith:t.replaceWith})})),h(l.default,{className:(0,o.default)(p.default.splashBackground,(e={},e[p.default.loggingIn]=f>=s.WaveStates.FILLING,e)),splash:a,waveState:f,showLogo:!u.default.isWindows(),updateWaveState:this.updateWaveState},void 0,h(i.default,{component:r.Fragment},void 0,m))},f.renderMobile=function(){var e=this;return h(i.default,{component:r.Fragment},void 0,r.Children.map(this.props.children,function(t){return r.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))},f.render=function(){return c.isMobile?this.renderMobile():this.renderDefault()},a}(r.Component);g.displayName="AuthWrapper";var S=g;t.default=S},8257:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=n(242),i=(a=n(423))&&a.__esModule?a:{default:a};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var u=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.children,n=e.location,a=e.history,u=e.staticContext,d=(e.match,s(e,["children","location","history","staticContext","match"])),c=null,f=null;return r.Children.forEach(t,function(e){if(null==c&&r.isValidElement(e)){var t=e.props,i=t.component,d=t.render,p=s(t,["component","render"]),m=p.path||p.from;if(null==(c=null!=m?(0,o.matchPath)(n.pathname,l({},p,{path:m})):null))return;p=l({},p,{key:m,location:n,match:c,history:a,staticContext:u}),null!=i?f=r.createElement(i,p):null!=d&&(f=d(p))}}),r.createElement(i.default,d,f)},a}(r.Component);u.displayName="TransitionSwitch";var d=(0,o.withRouter)(u);t.default=d},8258:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=c(n(16)),i=c(n(8259)),l=c(n(8260)),s=c(n(8261)),u=n(6457),d=c(n(5356));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={naturalWidth:0,naturalHeight:0,width:0,height:0},t.resizeImage=function(){var e=t.state,n=e.naturalWidth,a=e.naturalHeight;t.setState(t.calculateDimensions(n,a))},t.handleLoad=function(e){var n=e.currentTarget,a=n.naturalWidth,r=n.naturalHeight;t.setState(t.calculateDimensions(a,r)),window.removeEventListener("resize",t.resizeImage),window.addEventListener("resize",t.resizeImage)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=a.prototype;return c.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeImage)},c.calculateDimensions=function(e,t){var n=window,a=n.innerWidth,r=n.innerHeight;if(0===e||0===t)return null;var o=t/e,i=a,l=Math.round(a*o);return l<r&&(l=r,o=e/t,i=Math.round(r*o)),{naturalWidth:e,naturalHeight:t,width:i,height:l}},c.renderSplashArt=function(){var e=this.props.splash,t=this.state,n=t.width,a=t.height;return null!=e?f(i.default,{className:d.default.rightSplit,src:e,width:n,height:a,onLoad:this.handleLoad}):null},c.renderContent=function(){var e,t=this.props,n=t.children,a=t.waveState,i=t.updateWaveState,c=t.showLogo;return f(r.Fragment,{},void 0,f(s.default,{waveState:a,updateWaveState:i}),f("div",{className:(0,o.default)(d.default.leftSplit,(e={},e[d.default.hasLogo]=c,e))},void 0,c?f(l.default,{show:a===u.WaveStates.ENTERED&&a!==u.WaveStates.FILLING}):null,n))},c.render=function(){var e=this.props.className;return f("div",{className:(0,o.default)(e,d.default.wrapper)},void 0,this.renderSplashArt(),this.renderContent())},a}(r.PureComponent);p.displayName="WaveSplash";var m=p;t.default=m},8259:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=l(n(16)),i=l(n(5913));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var d=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).unmounting=!1,n.state={loaded:!1},n.initialize(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.src!==this.props.src&&this.setState({loaded:!1},function(){return t.initialize()})},r.initialize=function(){var e,t=this;(e=this.props.src,new Promise(function(t,n){null==e&&n(new Error("No image src passed"));var a=new Image;a.src=e,a.onload=function(){return t(a)},a.onerror=function(e){return n(e)}})).then(function(){t.unmounting||t.setState({loaded:!0})})},r.componentWillUnmount=function(){this.unmounting=!0},r.render=function(){var e,t=this.props,n=t.className,a=t.src,r=t.alt,l=t.width,d=t.height,c=t.onLoad,f=t.style,p=this.state.loaded;return s("div",{className:n,style:u({},f,{width:l,height:d})},void 0,s("img",{className:(0,o.default)(i.default.image,(e={},e[i.default.loaded]=p,e)),width:l,height:d,src:a,alt:r,onLoad:c}))},a}(r.PureComponent);d.displayName="LazySplash",d.defaultProps={width:0,height:0,alt:""};var c=d;t.default=c},8260:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=s(n(308)),i=n(0),l=s(n(5914));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).anim=new o.default.Value(0),t.animate=function(e){o.default.spring(t.anim,{toValue:e,friction:10,tension:100}).start()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.UNSAFE_componentWillReceiveProps=function(e){e.show!==this.props.show&&this.animate(e.show?1:0)},s.getAnimatedStyle=function(){var e=this.anim;return{opacity:e,transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}},s.render=function(){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default.a,{href:i.Routes.INDEX,target:"_blank",rel:"noopener",className:l.default.logo,style:this.getAnimatedStyle()})},r}(r.PureComponent);t.default=u,u.displayName="AuthLogo"},8261:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),r=n(89),o=n(311),i=p(n(8262)),l=p(n(8264)),s=p(n(8267)),u=n(6457),d=n(0),c=p(n(5915)),f=p(n(5356));function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,o.cssValueToNumber)(f.default.responsiveWidthMobile),h=1/120,v=4e3,y=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this).width=0,n.height=0,n.children=[],n.ratio=0,n._lastTick=0,n._isPlaying=!1,n._reqAnimId=null,n.setCanvas=function(e){if(null!=e){n.canvas=e,n.canvasContext=n.canvas.getContext("2d");var t=window.devicePixelRatio||1,a=n.canvasContext.webkitBackingStorePixelRatio||n.canvasContext.mozBackingStorePixelRatio||n.canvasContext.msBackingStorePixelRatio||n.canvasContext.oBackingStorePixelRatio||n.canvasContext.backingStorePixelRatio||1;n.ratio=t/a}},n.resizeCanvas=function(){n.width=window.innerWidth,n.height=window.innerHeight;var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.canvas,a=e.canvasContext,r=e.width,o=e.height,i=e.ratio;null!=t&&null!=a&&(t.width=r*i,t.height=o*i,t.style.width=r+"px",t.style.height=o+"px",a.scale(i,i)),r<=m?n.pause():n.play(),n.wave.resizeWave(),n.renderAnimation()},n.handleVisibilityChange=function(){document.hidden?n.delayedPause():n.play()},n.play=function(){clearTimeout(n._pauseTimeout),n._isPlaying||(n._isPlaying=!0,n.run())},n.pause=function(){clearTimeout(n._pauseTimeout),n._isPlaying=!1,window.cancelAnimationFrame(n._reqAnimId),n._reqAnimId=null,n.advanceTransitionalState()},n.delayedPause=function(){clearTimeout(n._pauseTimeout),n._pauseTimeout=setTimeout(n.pause,v)},n.updateWaveState=function(e){(0,n.props.updateWaveState)(e)},n.handleWaveEmphasize=function(){n.wave.emphasize()},n.run=function(){if(n._isPlaying){if(0===n._lastTick)return n._lastTick=Date.now(),void(n._reqAnimId=requestAnimationFrame(n.run));for(var e=Date.now(),t=Math.min((e-n._lastTick)/1e3,8*h);t>0;){var a=t<h?t:h;n.updateAnimation(a),t-=a}n.renderAnimation(),n._lastTick=e,n._reqAnimId=requestAnimationFrame(n.run)}},n.wave=new s.default(n.updateWaveState),n.children=[new i.default,new l.default,n.wave],n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=o.prototype;return f.componentDidMount=function(){this.initialize()},f.componentDidUpdate=function(e){var t=this.props.waveState;t===u.WaveStates.FILLING&&t!==e.waveState&&this.waveFill()},f.componentWillUnmount=function(){this.terminate()},f.initialize=function(){this.children.forEach(function(e){return e.initialize()}),this.bindEvents(),this.resizeCanvas(),document.hidden&&this.delayedPause()},f.terminate=function(){this.pause(),this.unbindEvents(),this.children.forEach(function(e){return e.terminate()})},f.bindEvents=function(){window.addEventListener("resize",this.resizeCanvas,!1),window.addEventListener("blur",this.delayedPause,!1),window.addEventListener("focus",this.play,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),r.ComponentDispatch.subscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},f.unbindEvents=function(){window.removeEventListener("resize",this.resizeCanvas,!1),window.removeEventListener("blur",this.delayedPause,!1),window.removeEventListener("focus",this.play,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),r.ComponentDispatch.unsubscribe(d.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},f.advanceTransitionalState=function(){var e=this.props.waveState;e!==u.WaveStates.INITIAL&&e!==u.WaveStates.FILLING||this.updateWaveState(e+1)},f.waveFill=function(){this._isPlaying?this.children.forEach(function(e){return e.fill()}):this.updateWaveState(u.WaveStates.FILLED)},f.updateAnimation=function(e){this.children.forEach(function(t){return t.update(e)})},f.renderAnimation=function(){var e=this.canvasContext;null!=e&&(e.fillStyle=d.Colors.PRIMARY_DARK_630,e.fillRect(0,0,this.width,this.height),this.children.forEach(function(t){return t.render(e)}))},f.render=function(){return a.createElement("canvas",{className:c.default.canvas,ref:this.setCanvas})},o}(a.Component);y.displayName="WaveAnimation";var _=y;t.default=_},8262:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=n(6834),o=(a=n(8263))&&a.__esModule?a:{default:a};var i=20,l=function(){function e(){var e=this;this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.mx=0,this.my=0,this.x=0,this.y=0,this.velX=0,this.velY=0,this.targetX=2*i,this.targetY=2*i,this.spring={friction:60,tension:100},this.handleMouseMove=function(t){var n=t.clientX,a=t.clientY;e.targetX=n/window.innerWidth*i+i,e.targetY=a/window.innerWidth*i+i}}var t=e.prototype;return t.initialize=function(){var e=this;this.img=new Image,this.img.onload=function(){e.loaded=!0},this.img.src=o.default,this.bind()},t.bind=function(){window.addEventListener("mousemove",this.handleMouseMove,!1)},t.unbind=function(){window.removeEventListener("mousemove",this.handleMouseMove,!1)},t.terminate=function(){this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.unbind()},t.update=function(e){this.loaded&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.velX+=(0,r.applySpringForce)(this.targetX,this.x,this.velX,this.spring)*e,this.velY+=(0,r.applySpringForce)(this.targetY,this.y,this.velY,this.spring)*e,this.x+=this.velX*e,this.y+=this.velY*e)},t.render=function(e){var t=this.img;this.loaded&&null!=t&&(e.save(),e.globalCompositeOperation="source-atop",e.globalAlpha=this.alpha,e.drawImage(t,this.x+i,this.y+i),e.restore())},t.fill=function(){this.isFilled=!0},e}();l.displayName="Blobs";var s=l;t.default=s},8263:function(e,t,n){e.exports=n.p+"c8f0b54f79a9fd1ef60ad74c73a1ee1a.png"},8264:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=o(n(8265)),r=o(n(8266));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){this.particles=[],this.wind=new r.default,this.alpha=0,this.isFilled=!1,this.loadInTimer=null}var t=e.prototype;return t.initialize=function(){var e=this;this.particles=[],this.wind.initialize(),this.loadInTimer=setTimeout(function(){for(var t=0;t<75;t++)e.particles.push(new a.default)},250)},t.terminate=function(){this.particles=[],this.wind.terminate(),null!=this.loadInTimer&&clearTimeout(this.loadInTimer)},t.update=function(e){var t=this;0!==this.particles.length&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.wind.update(),this.particles.forEach(function(n){return n.update(10*t.wind.forceX*e,10*Math.min(t.wind.forceY,-.001)*e-.1)}))},t.render=function(e){var t=this;0!==this.particles.length&&(e.save(),e.globalCompositeOperation="source-atop",this.particles.forEach(function(n){return n.render(e,t.alpha)}),e.restore())},t.fill=function(){this.isFilled=!0},e}();i.displayName="Particles";var l=i;t.default=l},8265:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=n(6834),r=n(6457),o=2,i=3,l=1,s=4,u=["#7d8187","#18191c","#8fa2df","#4f545c"],d=function(){function e(){this.size=(0,a.randomNumber)(o,i),this.depth=(0,a.randomNumber)(l,s),this.positionMultiplier=this.depth/s,this.color=u[s-this.depth],this.offscreenX=r.MAX_RADIUS+this.size,this.offscreenY=r.MAX_RADIUS+this.size,this.x=(0,a.randomNumber)(-this.size,this.offscreenX),this.y=(0,a.randomNumber)(-this.size,this.offscreenY)}var t=e.prototype;return t.checkBounds=function(){this.x>this.offscreenX?this.x=-this.size:this.y>this.offscreenY?this.y=-this.size:this.x<-this.size?this.x=this.offscreenX:this.y<-this.size&&(this.y=this.offscreenY)},t.update=function(e,t){this.checkBounds(),this.y+=t*this.positionMultiplier,this.x+=e*this.positionMultiplier},t.render=function(e,t){e.beginPath(),e.globalAlpha=t*this.depth/4,e.arc(this.x,this.y,this.size,0,r.TWO_PI,!0),e.fillStyle=this.color,e.fill(),e.globalAlpha=1},e}();d.displayName="Particle";var c=d;t.default=c},8266:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=30;function r(e,t){return Math.max(Math.min((e-t)/a,1),-1)}var o=function(){function e(){var e=this;this.resistance=.98,this.px=0,this.py=0,this.x=0,this.y=0,this.forceX=0,this.forceY=0,this.handleMouseMove=function(t){var n=t.clientX,a=t.clientY;e.x=n,e.y=a}}var t=e.prototype;return t.initialize=function(){window.addEventListener("mousemove",this.handleMouseMove)},t.terminate=function(){window.removeEventListener("mousemove",this.handleMouseMove)},t.update=function(){this.x!==this.px&&this.y!==this.py&&(this.forceX+=r(this.x,this.px),this.forceY+=r(this.y,this.py),this.px=this.x,this.py=this.y),0!==this.forceX&&(this.forceX=this.forceX*this.resistance),0!==this.forceY&&(this.forceY=this.forceY*this.resistance)},t.render=function(){},e}();o.displayName="Wind";var i=o;t.default=i},8267:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=u(n(892)),r=n(311),o=u(n(8268)),i=n(6834),l=n(6457),s=u(n(5356));function u(e){return e&&e.__esModule?e:{default:e}}var d=15,c=d/2,f=(0,r.cssValueToNumber)(s.default.responsiveWidthMobile);function p(e,t,n,a){return t*(n/a)+e}function m(){return Math.min(Math.max(Math.min(.8*window.innerWidth,.8*window.innerHeight),l.MIN_RADIUS),l.MAX_RADIUS)}var h=30,v=function(){function e(e){var t,n=this;this.points=[],this.hasEntered=!1,this.isFilling=!1,this._resizeWave=function(){var e=m();n.points.forEach(function(t,n){var a=e*Math.cos(l.TWO_PI*p(0,.25,n,d))-40,r=e*Math.sin(l.TWO_PI*p(0,.25,n,d))-40;0!==n?r+=(0,i.randomNumber)(0,h)-h/2:n!==d&&(a+=(0,i.randomNumber)(0,h)-h/2),t.targetX=a,t.targetY=r,t.angle=Math.atan2(r,a)})},this.resizeWave=(0,a.default)(this._resizeWave,200),this.updateWaveState=e,this.hasEntered=!1;for(var r=0;r<=d;r++)this.points.push(new o.default((t=r,Math.floor(c-Math.floor(Math.abs(t-c))))))}var t=e.prototype;return t.initialize=function(){this._resizeWave()},t.emphasize=function(){this.points.forEach(function(e){return e.speedUp=1})},t.terminate=function(){this.points=[]},t.update=function(e){0!==this.points.length&&(this.points.forEach(function(t){return t.update(Math.min(e,1/60))}),this.hasEntered||this.points[0].x>f&&(this.hasEntered=!0,this.updateWaveState(l.WaveStates.ENTERED)),this.isFilling&&this.points[0].x>this.points[0].targetX&&(this.isFilling=!1,this.updateWaveState(l.WaveStates.FILLED)))},t.render=function(e){if(0!==this.points.length){var t=this.points,n=t[0],a=t.slice(1);e.save(),e.beginPath(),e.moveTo(n.x,n.y),a.forEach(function(t,n){if(null==a[n+1])e.quadraticCurveTo(t.x,t.y,t.x,t.y);else{var r=(t.x+a[n+1].x)/2,o=(t.y+a[n+1].y)/2;e.quadraticCurveTo(t.x,t.y,r,o)}}),e.lineTo(0,0),e.closePath(),e.fillStyle="#000",e.globalCompositeOperation="destination-in",e.fill(),e.restore()}},t.fill=function(){var e=this,t=Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight)+100,n=m()-140,a=function(e,t,n,a){e.targetX=t*Math.cos(l.TWO_PI*p(0,.25,n,d))-40,e.targetY=t*Math.sin(l.TWO_PI*p(0,.25,n,d))-40,a&&(e.targetX+=(0,i.randomNumber)(0,h)-h/2,e.targetY+=(0,i.randomNumber)(0,h)-h/2,e.speedUp=3,e.spring.tension=l.POINT_TENSION_DEFAULT*Math.random()*.5+l.POINT_TENSION_DEFAULT)};this.points.forEach(function(e,t){return a(e,n,t,!0)}),setTimeout(function(){e.points.forEach(function(e,n){a(e,t,n,!1);var r=1-e.index/(d/2);e.spring.friction+=e.spring.friction+e.spring.friction*r,e.spring.tension=.7*l.POINT_TENSION_DEFAULT+80*Math.random(),e.waveRange=2*e.waveRange}),e.isFilling=!0,e.updateWaveState(l.WaveStates.FILLING)},250)},e}();v.displayName="Wave";var y=v;t.default=y},8268:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=n(6834),r=n(6457),o=60,i=2.15*Math.cos(Math.PI),l=function(){function e(e){this.x=-40,this.y=-40,this.targetX=0,this.targetY=0,this.oscillate=!0,this.velX=0,this.velY=0,this.angle=0,this.speedUp=1.5,this.waveRange=o,this.spring={friction:15,tension:r.POINT_TENSION_DEFAULT},this.index=e,this.spring.tension=r.POINT_TENSION_DEFAULT*Math.max(.1,e/7)+r.POINT_TENSION_DEFAULT,this.count=i*e}var t=e.prototype;return t.updateStatic=function(){this.targetX=this.targetX+30*Math.cos(this.angle)*Math.sin(this.count),this.targetY=this.targetY+30*Math.sin(this.angle)*Math.sin(this.count),this.x=this.targetX,this.y=this.targetY},t.update=function(e){var t,n;if(this.speedUp>0?(this.speedUp=Math.max(0,this.speedUp-e),this.count+=e*(10*Math.min(this.speedUp,1)+.4)):this.count+=.4*e,t=(0,a.applySpringForce)(this.targetX,this.x,this.velX,this.spring),n=(0,a.applySpringForce)(this.targetY,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e,this.oscillate){var r=this.targetX+this.waveRange*Math.cos(this.angle)*Math.sin(this.count),o=this.targetY+this.waveRange*Math.sin(this.angle)*Math.sin(this.count);t=(0,a.applySpringForce)(r,this.x,this.velX,this.spring),n=(0,a.applySpringForce)(o,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e}this.x+=this.velX*e,this.y+=this.velY*e},t.render=function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,4,4)},e}();l.displayName="Point";var s=l;t.default=s},8269:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=v(n(1)),o=h(n(32)),i=n(429),l=h(n(4)),s=h(n(847)),u=n(5988),d=h(n(10)),c=v(n(5985)),f=n(0),p=h(n(8)),m=h(n(825));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var _=y(c.AuthSpinner,{hideQuote:!0}),g=function(e){var t,a;function r(){return e.apply(this,arguments)||this}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var l=r.prototype;return l.componentDidMount=function(){var e=(0,i.parse)(this.props.location.search);s.default.authorizeIPAddress(e.token),(0,u.trackAppUIViewed)("authorize_ip")},l.renderLoginButton=function(){if("Android"===o.default.os.family||"iOS"===o.default.os.family)return null;var e=this.props.transitionTo;return y(c.Button,{onClick:function(){return e(f.Routes.LOGIN)}},void 0,p.default.Messages.LOGIN)},l.renderFailed=function(){return y(c.default,{},void 0,y("img",{alt:"",src:n(8270),className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.AUTHORIZATION_EXPIRED),y(c.SubTitle,{className:m.default.marginBottom40},void 0,p.default.Messages.AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())},l.renderSucceeded=function(){return y(c.default,{},void 0,y("img",{alt:"",src:n(8271),className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.IP_AUTHORIZATION_SUCCEEDED),y(c.SubTitle,{className:m.default.marginBottom40},void 0,p.default.Messages.AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())},l.renderDefault=function(){return y(c.default,{},void 0,_,y(c.Title,{},void 0,p.default.Messages.AUTHORIZING))},l.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()},r}(r.PureComponent);g.displayName="AuthorizeIPAddress",g.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var S=l.default.connectStores([d.default],function(){return{verifyFailed:d.default.didVerifyFail(),verifySucceeded:d.default.didVerifySucceed()}})(g);t.default=S}).call(this,n(7))},8270:function(e,t,n){e.exports=n.p+"5ed6422f4a60342227db5d2678ecf911.svg"},8271:function(e,t,n){e.exports=n.p+"004dd8db75dd498bf03f6b0e7fcb51fd.svg"},8272:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=v(n(1)),o=n(429),i=h(n(4)),l=h(n(9)),s=n(5988),u=h(n(142)),d=h(n(6016)),c=v(n(5985)),f=n(0),p=h(n(8)),m=h(n(825));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}i.default.initialize();var _=y(c.default,{},void 0,y(c.AuthSpinner,{})),g=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={busy:!0,success:!1,user:null},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=r.prototype;return i.componentDidMount=function(){var e=this,t=(0,o.parse)(this.props.location.search);l.default.post({url:f.Endpoints.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t.token,pixel_uuid:t.hash}}).then(function(t){var n=t.body.user,a=new u.default(n);e.setState({success:!0,busy:!1,user:a})},function(){return e.setState({success:!1,busy:!1})}),(0,s.trackAppUIViewed)("disable_email_notifications")},i.renderBusy=function(){return _},i.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,a=this.state.user;return y(c.default,{},void 0,y(c.Avatar,{src:a?a.getAvatarURL():null,size:c.Avatar.Sizes.DEPRECATED_SIZE_100,className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),y(c.SubTitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),y(c.Button,{className:m.default.marginTop40,onClick:function(){return n(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},i.renderError=function(){var e=this.props,t=e.defaultRoute,a=e.transitionTo;return y(c.default,{},void 0,y(c.Image,{src:n(8273),className:m.default.marginBottom20}),y(c.Title,{className:m.default.marginBottom8},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),y(c.SubTitle,{},void 0,p.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),y(c.Button,{className:m.default.marginTop40,onClick:function(){return a(t)}},void 0,p.default.Messages.CONTINUE_TO_WEBAPP))},i.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()},r}(r.PureComponent);g.displayName="DisableEmailNotifications",g.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var S=i.default.connectStores([d.default],function(){return{defaultRoute:d.default.defaultRoute}})(g);t.default=S}).call(this,n(7))},8273:function(e,t,n){e.exports=n.p+"4dfc23421736b1eaf2a19bcb16633bad.svg"},8274:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=O(n(1)),o=N(n(16)),i=N(n(4)),l=N(n(847)),s=O(n(863)),u=O(n(451)),d=O(n(463)),c=n(5988),f=N(n(10)),p=N(n(6016)),m=N(n(6078)),h=N(n(75)),v=N(n(166)),y=O(n(5985)),_=O(n(317)),g=N(n(167)),S=N(n(6456)),E=N(n(6195)),T=N(n(6713)),I=n(0),A=N(n(8)),P=N(n(825));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function R(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){b(o,a,r,i,l,"next",e)}function l(e){b(o,a,r,i,l,"throw",e)}i(void 0)})}}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}i.default.initialize();var L=Object.freeze({REGISTER:"register",LOGIN:"login"}),D=R(y.AuthSpinner,{}),w=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1},t.refreshUser=function(){t.setState({fetchingUser:!0}),d.fetchCurrentUser().then(function(e){return t.setState({currentUser:e,fetchingUser:!1})}).catch(function(){return t.setState({fetchingUser:!1})})},t.handleContinue=function(){(0,t.props.transitionTo)(I.Routes.APPLICATION_LIBRARY)},t.handleLogout=function(){var e=t.props.match.params.giftCode;l.default.logout(I.Routes.GIFT_CODE_LOGIN(e))},t.handleResendVerification=function(){l.default.verifyResend(),t.setState({sentVerification:!0})},t.handleAccept=C(regeneratorRuntime.mark(function e(){var n,a,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.transitionTo,null!=(r=n.giftCode)){e.next=3;break}throw new Error("Trying to accept gift before resolve");case 3:return o=t.getCode(),e.prev=4,t.setState({error:null}),e.next=8,s.redeemGiftCode(o);case 8:r.premiumSubscriptionType===I.PremiumTypes.TIER_2?a(I.Routes.APPLICATION_STORE):r.premiumSubscriptionType===I.PremiumTypes.TIER_1?a(I.Routes.ACTIVITY):a(I.Routes.APPLICATION_LIBRARY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.setState({error:e.t0});case 14:case"end":return e.stop()}},e,null,[[4,11]])})),t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i,f,p,m=r.prototype;return m.componentDidMount=function(){this.props.authenticated&&this.handleAuthenticated(),(0,c.trackAppUIViewed)("gift_code")},m.componentDidUpdate=function(e){var t=this.props.authenticated,n=this.getCode();n!==this.getCode(e)&&s.resolveGiftCode(n,!0,!0),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})},m.handleAuthenticated=function(){var e=this.state.currentUser;u.fetchLibrary(),null==e&&this.refreshUser()},m.getCode=function(e){return void 0===e&&(e=this.props),e.match.params.giftCode},m.getMode=function(e){return void 0===e&&(e=this.props),e.login?L.LOGIN:L.REGISTER},m.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.currentUser,a=this.state.error,r=null!=a?a.code:null;return r===I.AbortCodes.INVALID_GIFT_SELF_REDEMPTION?A.default.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||r===I.AbortCodes.INVALID_GIFT_REDEMPTION_OWNED?A.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:I.Routes.APPLICATION_LIBRARY}):e.isClaimed||r===I.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED?A.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:null!=n&&_.doesUserSubscriptionMismatch(e,n)?A.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:n.premiumType===I.PremiumTypes.TIER_2?A.default.Messages.PREMIUM_TIER_2:A.default.Messages.PREMIUM_TIER_1}):null},m.renderSpinner=function(e){return R(y.default,{},void 0,R(y.Title,{},void 0,e),D)},m.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,a=e.transitionTo;return R(y.default,{},void 0,R(y.Image,{src:n(7353),className:P.default.marginBottom8}),R(y.Title,{className:(0,o.default)(P.default.marginTop8,P.default.marginBottom8)},void 0,A.default.Messages.GIFT_CODE_AUTH_INVALID_TITLE),R(y.SubTitle,{},void 0,A.default.Messages.GIFT_CODE_AUTH_INVALID_BODY),R(y.Button,{className:(0,o.default)(P.default.marginTop40,P.default.marginBottom8),onClick:function(){return a(t)}},void 0,A.default.Messages.CONTINUE_TO_WEBAPP),R(y.Button,{onClick:function(){return window.open(g.default.getArticleURL(I.HelpdeskArticles.GIFTING),"_blank")},look:y.Button.Looks.LINK},void 0,A.default.Messages.GIFT_CODE_AUTH_INVALID_TIP))},m.renderAppOpened=function(){var e=this;return R(y.default,{},void 0,R(y.Title,{className:P.default.marginBottom8},void 0,A.default.Messages.APP_OPENED_TITLE),R(y.SubTitle,{},void 0,A.default.Messages.APP_OPENED_BODY),R(y.Button,{className:P.default.marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})}},void 0,A.default.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER))},m.renderVerification=function(e){var t=this.state.sentVerification;return R(y.default,{},void 0,R(y.Image,{src:n(7354),className:P.default.marginBottom8}),R(y.Title,{},void 0,A.default.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})),R(y.SubTitle,{className:P.default.marginTop20},void 0,A.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED),R(y.Button,{disabled:t,className:P.default.marginTop40,onClick:this.handleResendVerification},void 0,t?A.default.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:A.default.Messages.RESEND_VERIFICATION_EMAIL),R(y.Button,{look:y.Button.Looks.LINK,onClick:this.refreshUser,className:P.default.marginTop8},void 0,A.default.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN))},m.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),a=null!=n;return R(y.default,{},void 0,R(S.default,{giftCode:e}),R(y.Button,{disabled:a,className:P.default.marginTop40,onClick:this.handleAccept},void 0,A.default.Messages.GIFT_CODE_AUTH_ACCEPT),null!=n?R(y.SubTitle,{className:P.default.marginTop20},void 0,n):R(y.SubText,{className:P.default.marginTop20},void 0,A.default.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})))},m.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,a=e.authenticated,r=e.giftCode,o=e.isResolved,i=e.isAccepting,l=e.transitionTo,s=e.location,u=this.state,d=u.fetchingUser,c=u.continueOnWeb;if(t===I.NativeAppStates.OPEN&&!c)return this.renderAppOpened();if(t===I.NativeAppStates.OPENING)return this.renderSpinner(A.default.Messages.APP_OPENING);if(i)return this.renderSpinner(A.default.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==r)return o?this.renderExpiredInvite():this.renderSpinner(A.default.Messages.GIFT_CODE_AUTH_RESOLVING);if(o){if(a){var f=this.state.currentUser;return d||null==f?this.renderSpinner(A.default.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=f?this.renderVerification(f):this.renderAuthenticated(r,f)}return this.getMode()===L.LOGIN?R(E.default,{giftCodeSKU:n,giftCode:r,transitionTo:l,location:s}):R(T.default,{giftCodeSKU:n,giftCode:r,transitionTo:l,location:s})}return null},i=r,(f=[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}])&&M(i.prototype,f),p&&M(i,p),r}(r.PureComponent);w.displayName="GiftCode";var B=i.default.connectStores([m.default,h.default,f.default,v.default,p.default],function(e){var t=e.match.params.giftCode,n=m.default.get(t),a=null!=n?v.default.get(n.skuId):null;return{giftCode:n,sku:a,libraryApplication:null!=a&&null!=n?_.firstLibraryApplicationForGiftCode(n,a,h.default):null,authenticated:f.default.isAuthenticated(),defaultRoute:p.default.defaultRoute,isResolved:m.default.getIsResolved(t),isAccepting:m.default.getIsAccepting(t),libraryApplicationsFetched:h.default.fetched,nativeAppState:m.default.getNativeAppState(t)}})(w);t.default=B},8275:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=N(n(1)),o=P(n(16)),i=n(947),l=P(n(4)),s=P(n(25)),u=P(n(312)),d=n(5988),c=P(n(10)),f=P(n(6016)),p=P(n(869)),m=N(n(5985)),h=P(n(18)),v=N(n(8276)),y=P(n(167)),_=P(n(940)),g=P(n(6117)),S=P(n(6195)),E=P(n(6713)),T=n(0),I=P(n(8)),A=P(n(825));function P(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}l.default.initialize();var b="Accept Invite Page",C="register",M="login",L=O(m.AuthSpinner,{}),D=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).getAcceptInviteContext=function(e){return u.default.getInviteContext(e,t.props.invite)},t.handleContinue=function(){var e=t.props,n=e.invite,a=e.transitionTo;null!=n.channel&&u.default.transitionToInvite(n,a)},t.handleAccept=function(){var e=t.props.invite,n=t.getCode();u.default.acceptInvite(n,t.getAcceptInviteContext(b),function(){null!=e.channel&&u.default.openApp(n,e.channel.id)})},t.handleDefaultTransition=function(){var e=t.props,n=e.defaultRoute;(0,e.transitionTo)(n)},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var l=r.prototype;return l.componentDidMount=function(){if(h.default.track(T.AnalyticEvents.INVITE_VIEWED,{},!0),(0,d.trackAppUIViewed)("invite"),!i.IS_APP_COMPATIBLE_BROWSER){var e=this.getCode();_.default.launch("discord:/"+T.Routes.INVITE(e),function(){})}},l.componentDidUpdate=function(e){var t=this.props,n=t.invite,a=t.authenticated,r=t.transitionTo,o=t.guestLurker,i=this.getCode();if(i!==this.getCode(e))u.default.resolveInvite(i,b);else if(n.state===T.InviteStates.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===M&&a!==e.authenticated&&a){var l=c.default.getFingerprint();if(null!=l){var d=v.extractId(l);this.track(T.AnalyticEvents.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:d})}u.default.acceptInvite(i,this.getAcceptInviteContext(b),this.handleContinue)}if(n.nativeAppState!==e.invite.nativeAppState&&n.nativeAppState===T.NativeAppStates.OPEN&&this.track(T.AnalyticEvents.INVITE_APP_INVOKED,!1),this.getMode()===C&&a&&!e.authenticated){var f=n.guild,p=n.channel;if(null!=p){var m=null!=f?f.id:T.ME;s.default.set("homepageNUFComplete",!0),u.default.transitionToInvite(n,function(){return r(T.Routes.WELCOME(m,p.id,p.type))})}}null!=n.guest_token&&o&&n.state===T.InviteStates.RESOLVED&&n.nativeAppState===T.NativeAppStates.OPEN_FAIL&&setTimeout(this.handleContinue,300)},l.getCode=function(e){return void 0===e&&(e=this.props),e.match.params.inviteCode},l.getMode=function(e){return void 0===e&&(e=this.props),e.login?M:C},l.track=function(e,t,n){void 0===n&&(n={});var a=this.props.invite,r={invite_code:this.getCode()};t&&(r.guild_id=a.guild?a.guild.id:null,r.channel_id=a.channel?a.channel.id:null,r.inviter_id=a.inviter?a.inviter.id:null),h.default.track(e,R({},r,n))},l.renderButton=function(e,t){return void 0===t&&(t=this.handleDefaultTransition),i.IS_APP_COMPATIBLE_BROWSER?O(m.Button,{className:A.default.marginTop40,onClick:t},void 0,e):O(m.IncompatibleBrowser,{className:A.default.marginTop40})},l.renderSpinner=function(e){return O(m.default,{},void 0,O(m.Title,{},void 0,e),L)},l.renderInvalidInvite=function(e){return void 0===e&&(e=!1),O(m.default,{},void 0,O(m.Image,{src:n(7353),className:A.default.marginBottom8}),O(m.Title,{className:(0,o.default)(A.default.marginTop8,A.default.marginBottom8)},void 0,I.default.Messages.AUTH_INVALID_INVITE_TITLE),O(m.SubTitle,{},void 0,e?I.default.Messages.AUTH_BANNED_INVITE_BODY:I.default.Messages.AUTH_INVALID_INVITE_BODY),this.renderButton(I.default.Messages.CONTINUE_TO_WEBAPP),O(m.Button,{onClick:function(){return window.open(y.default.getArticleURL(T.HelpdeskArticles.INVALID_INVITES),"_blank")},look:m.Button.Looks.LINK,className:A.default.marginTop8},void 0,I.default.Messages.AUTH_INVALID_INVITE_TIP))},l.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)},l.renderBannedInvite=function(){return this.renderInvalidInvite(!0)},l.renderAppOpened=function(){return O(m.default,{},void 0,O(m.Title,{className:A.default.marginBottom8},void 0,I.default.Messages.APP_OPENED_TITLE),O(m.SubTitle,{},void 0,I.default.Messages.APP_OPENED_BODY),this.renderButton(I.default.Messages.CONTINUE_TO_WEBAPP,this.handleContinue))},l.renderAuthenticatedOrDownload=function(){var e=this.props.invite;return O(m.default,{},void 0,O(g.default,{invite:e}),this.renderButton(I.default.Messages.INSTANT_INVITE_ACCEPT,this.handleAccept))},l.renderContinue=function(){return O(m.default,{},void 0,O(m.Title,{},void 0,I.default.Messages.APP_NOT_OPENED),this.renderButton(I.default.Messages.CONTINUE_TO_WEBAPP))},l.render=function(){var e=this,t=this.props,n=t.invite,a=t.authenticated,r=t.guestLurker,o=t.transitionTo,l=t.location;if(n.nativeAppState===T.NativeAppStates.OPEN)return this.renderAppOpened();switch(n.state){case T.InviteStates.APP_OPENED:return this.renderAppOpened();case T.InviteStates.APP_NOT_OPENED:return this.renderContinue();case T.InviteStates.RESOLVING:case T.InviteStates.APP_OPENING:return this.renderSpinner(I.default.Messages.APP_OPENING);case T.InviteStates.RESOLVED:return a||!i.IS_APP_COMPATIBLE_BROWSER?this.renderAuthenticatedOrDownload():null!=n.guest_token&&r?this.renderSpinner(I.default.Messages.INSTANT_INVITE_RESOLVED_TITLE):this.getMode()===M?O(S.default,{invite:n,transitionTo:o,location:l}):O(E.default,{invite:n,onLoginStart:function(){return e.track(T.AnalyticEvents.INVITE_LOGIN,!0)},location:l,transitionTo:o});case T.InviteStates.ACCEPTING:return this.renderSpinner(I.default.Messages.INSTANT_INVITE_ACCEPTING);case T.InviteStates.EXPIRED:return this.renderExpiredInvite();case T.InviteStates.BANNED:return this.renderBannedInvite();case T.InviteStates.ACCEPTED:default:return null}},r}(r.PureComponent);D.displayName="Invite";var w=l.default.connectStores([p.default,f.default,c.default],function(e){return{invite:p.default.getInvite(e.match.params.inviteCode)||{},authenticated:c.default.isAuthenticated(),guestLurker:c.default.isGuest(),defaultRoute:f.default.defaultRoute}})(D);t.default=w},8276:function(e,t,n){"use strict";t.__esModule=!0,t.extractId=void 0;var a=n(336);t.extractId=a.extractId},8277:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=I(n(1)),o=T(n(16)),i=T(n(4)),l=T(n(312)),s=n(5988),u=T(n(10)),d=T(n(869)),c=T(n(424)),f=T(n(104)),p=T(n(140)),m=I(n(5985)),h=T(n(18)),v=T(n(6117)),y=n(0),_=T(n(8)),g=T(n(431)),S=T(n(825)),E=T(n(5917));function T(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}i.default.initialize();var N=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleOpenApp=function(e){e.preventDefault(),t.track(y.AnalyticEvents.INVITE_APP_OPENED,!0),t.openAppWithFingerprint()},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=r.prototype;return i.componentDidMount=function(){h.default.track(y.AnalyticEvents.INVITE_VIEWED,{},!0),(0,s.trackAppUIViewed)("invite_mobile")},i.track=function(e,t,n){void 0===n&&(n={});var a=this.props,r=a.invite,o={invite_code:a.code};t&&(o.guild_id=r.guild?r.guild.id:null,o.channel_id=r.channel?r.channel.id:null,o.inviter_id=r.inviter?r.inviter.id:null),h.default.track(e,P({},o,n))},i.isValidInvite=function(e){return e.state!==y.InviteStates.EXPIRED&&e.state!==y.InviteStates.BANNED},i.openAppWithFingerprint=function(){var e=this.props,t=e.code,n=e.invite,a=e.fingerprint;l.default.openApp(this.isValidInvite(n)?t:void 0,void 0,a)},i.renderInvalid=function(){return A(m.default,{},void 0,A(m.Image,{src:n(8278)}),A(m.Title,{className:(0,o.default)(S.default.marginTop20,S.default.marginBottom8,g.default.flexCenter)},void 0,_.default.Messages.DISCORD_DESC_SHORT),A(m.SubTitle,{className:S.default.marginBottom40},void 0,_.default.Messages.DISCORD_DESC_LONG),A(c.default,{className:E.default.card,type:c.default.Types.CUSTOM},void 0,A("img",{alt:"",className:E.default.cardAccentLeft,src:n(8279)}),A("img",{alt:"",className:E.default.cardAccentRight,src:n(8280)}),A(f.default,{className:E.default.cardContents,direction:f.default.Direction.VERTICAL,align:f.default.Align.STRETCH,grow:0},void 0,A(p.default,{className:E.default.buttonTitle,size:p.default.Sizes.MEDIUM,weight:p.default.Weights.MEDIUM,style:{color:y.Colors.PRIMARY_DARK_300}},void 0,_.default.Messages.INVITE_INVALID_ERROR),A(m.Button,{className:E.default.button,onClick:this.handleOpenApp},void 0,_.default.Messages.INVITE_INVALID_CTA))))},i.render=function(){var e=this.props.invite;return this.isValidInvite(e)?A(m.default,{},void 0,A(v.default,{invite:e}),A(m.Button,{onClick:this.handleOpenApp,className:S.default.marginTop20},void 0,_.default.Messages.INSTANT_INVITE_ACCEPT)):this.renderInvalid()},r}(r.PureComponent);N.displayName="InviteMobile";var O=i.default.connectStores([d.default,u.default],function(e){var t=e.match.params.inviteCode;return{code:t,invite:d.default.getInvite(t)||{},fingerprint:u.default.getFingerprint()}})(N);t.default=O},8278:function(e,t,n){e.exports=n.p+"07c4931451dfa8c32fc8551b48a89536.svg"},8279:function(e,t,n){e.exports=n.p+"96191331272ece160a85126d54e49f3d.svg"},8280:function(e,t,n){e.exports=n.p+"acb452cda03a99894210f832308c055d.svg"},8281:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),r=n(429),o=d(n(4)),i=d(n(847)),l=n(466),s=d(n(10)),u=d(n(6195));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={isLogoutRequested:t.props.isAuthenticated},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.handleHandoff=function(e,t){this.setState({isLogoutRequested:!1},function(){(0,l.handoffFromApp)(e,t)})},s.componentDidMount=function(){var e=this,t=this.props.location;if(null!=t){var n=(0,r.parse)(t.search),a=n.handoff_key,o=n.handoff_token;null!=a&&null!=o&&(this.state.isLogoutRequested?i.default.logout(null).finally(function(){e.handleHandoff(a,o)}):this.handleHandoff(a,o))}},s.render=function(){return this.state.isLogoutRequested?null:a.createElement(u.default,this.props)},o}(a.PureComponent);c.displayName="LoginHandoff",c.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var f=o.default.connectStores([s.default],function(){return{isAuthenticated:s.default.isAuthenticated()}})(c);t.default=f}).call(this,n(7))},8282:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=_(n(1)),o=y(n(16)),i=n(429),l=y(n(4)),s=y(n(847)),u=n(5988),d=y(n(10)),c=_(n(5985)),f=n(89),p=n(855),m=n(0),h=y(n(8)),v=y(n(825));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();var S=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={password:"",code:"",error:null},t.handleSubmit=function(e){var n=t.props,a=n.location,r=n.replaceWith,o=t.state,l=o.password,u=o.error;if(null!=e&&e.preventDefault(),0===l.length)return t.setState({error:h.default.Messages.PASSWORD_REQUIRED}),void f.ComponentDispatch.dispatch(m.ComponentActions.WAVE_EMPHASIZE);null!=u&&t.setState({error:null});var d=(0,i.parse)(a.search);null!=d.token&&s.default.resetPassword(d.token,l,r)},t.handleTokenSubmit=function(e){var n=t.props,a=n.location,r=n.replaceWith,o=n.mfaTicket,l=t.state,u=l.code,d=l.password,c=l.error;if(null!=e&&e.preventDefault(),0===d.length)return t.setState({error:h.default.Messages.PASSWORD_REQUIRED}),void f.ComponentDispatch.dispatch(m.ComponentActions.WAVE_EMPHASIZE);null!=c&&t.setState({error:null});var p=(0,i.parse)(a.search);null!=p.token&&s.default.resetPasswordMFA(u,o,d,p.token,r)},t.renderError=function(e){var n=t.props.errors;if(t.hasError(e)){var a=n[e];return Array.isArray(a)?a[0]:a}return null},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var l=r.prototype;return l.componentDidMount=function(){(0,u.trackAppUIViewed)("reset_password")},l.hasError=function(e){return null!=this.props.errors[e]||null!=this.state.error},l.renderPasswordReset=function(){var e=this,t=this.state,a=t.password,r=t.error,o=this.props.loginStatus,i=r||this.renderError("password");return g(c.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,g("img",{alt:"",src:n(null==i?7355:7356),className:v.default.marginBottom20}),g(c.Title,{},void 0,h.default.Messages.RESET_PASSWORD_TITLE),g(c.Block,{className:v.default.marginTop20},void 0,g(c.Input,{label:h.default.Messages.FORM_LABEL_NEW_PASSWORD,className:v.default.marginBottom20,name:"password",value:a,onChange:function(t){return e.setState({password:t})},error:i,type:"password"}),g(c.Button,{type:"submit",submitting:o===m.LoginStates.LOGGING_IN_MFA},void 0,h.default.Messages.CHANGE_PASSWORD)))},l.renderMFA=function(){var e=this,t=this.state.error,a=this.props.loginStatus,r=t||this.renderError("code");return g(c.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,g("img",{alt:"",src:n(null==r?7355:7356),className:(0,o.default)(v.default.marginBottom20,p.isMobile?v.default.marginTop20:"")}),g(c.Title,{className:v.default.marginBottom8},void 0,h.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),g(c.SubTitle,{},void 0,h.default.Messages.TWO_FA_ENTER_TOKEN_BODY),g(c.Block,{className:v.default.marginTop20},void 0,g(c.Input,{className:v.default.marginBottom8,error:r,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:h.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),g(c.Button,{type:"submit",submitting:a===m.LoginStates.LOGGING_IN_MFA},void 0,h.default.Messages.LOGIN)))},l.render=function(){return this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()},r}(r.PureComponent);S.displayName="ResetPassword",S.defaultProps={transitionTo:function(t){return e.location.assign(t)},replaceWith:function(t){return e.location.replace(t)}};var E=l.default.connectStores([d.default],function(){return{loginStatus:d.default.getLoginStatus(),mfaTicket:d.default.getMFATicket(),errors:d.default.getErrors()}})(S);t.default=E}).call(this,n(7))},8283:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=A(n(1)),o=I(n(16)),i=I(n(32)),l=n(429),s=I(n(4)),u=I(n(847)),d=n(5988),c=I(n(10)),f=I(n(6016)),p=I(n(925)),m=A(n(5985)),h=I(n(18)),v=I(n(36)),y=I(n(940)),_=n(0),g=I(n(8)),S=I(n(431)),E=I(n(825)),T=I(n(5918));function I(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}s.default.initialize();var N=function(e){var t,a;function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleVerify=function(e){var n=(0,l.parse)(t.props.location.search);u.default.verify(n.token,e)},t.handleLogin=function(){(0,t.props.transitionTo)(_.Routes.LOGIN)},t.handleOpenApp=function(){var e=t.props.verifyingUserId;h.default.track(_.AnalyticEvents.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:e}),t.openAppWithFingerprint()},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=r.prototype;return s.componentDidMount=function(){this.handleVerify(),(0,d.trackAppUIViewed)("verify_email")},s.openAppWithFingerprint=function(){var e,t=this.props.fingerprint;e="Android"===i.default.os.family||"iOS"===i.default.os.family?_.DownloadLinks.DYNAMIC("verify_email",{queryString:(0,l.stringify)({fingerprint:t})}):"discord://",y.default.launch(e,function(e){e||v.default.replaceWith(f.default.defaultRoute)})},s.renderVerifyCaptcha=function(){return P(m.default,{},void 0,P(m.Image,{src:n(7357),className:(0,o.default)(T.default.image,E.default.marginBottom20)}),P(m.Title,{className:E.default.marginBottom8},void 0,g.default.Messages.VERIFICATION_VERIFYING),P(m.SubTitle,{className:E.default.marginBottom40},void 0,g.default.Messages.VERIFICATION_BODY_ALT),P("div",{className:S.default.flexCenter},void 0,P(p.default,{onVerify:this.handleVerify,theme:p.default.Themes.DARK})))},s.renderVerifyFailed=function(){return P(m.default,{},void 0,P(m.Image,{src:n(8284),className:(0,o.default)(T.default.image,E.default.marginBottom20)}),P(m.Title,{className:E.default.marginBottom8},void 0,g.default.Messages.VERFICATION_EXPIRED),P(m.SubTitle,{className:E.default.marginBottom40},void 0,g.default.Messages.AUTH_VERFICATION_EXPIRED_SUGGESTION),P(m.Button,{onClick:this.handleLogin},void 0,g.default.Messages.LOGIN))},s.renderVerifySucceeded=function(){return P(m.default,{},void 0,P(m.Image,{src:n(7357),className:(0,o.default)(T.default.image,E.default.marginBottom20)}),P(m.Title,{className:E.default.marginBottom40},void 0,g.default.Messages.VERIFICATION_VERIFIED),P(m.Button,{onClick:this.handleOpenApp},void 0,g.default.Messages.VERIFICATION_OPEN_DISCORD))},s.renderVerifying=function(){return P(m.default,{},void 0,P(m.Image,{src:n(7354),className:(0,o.default)(T.default.image,E.default.marginBottom20)}),P(m.Title,{className:E.default.marginBottom8},void 0,g.default.Messages.VERIFICATION_VERIFYING),P(m.SubTitle,{className:E.default.marginBottom40},void 0,g.default.Messages.ACTION_MAY_TAKE_A_MOMENT),P(m.Button,{submitting:!0,color:m.Button.Colors.PRIMARY}))},s.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,a=e.verifySucceeded;return null!=t&&t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():a?this.renderVerifySucceeded():this.renderVerifying()},r}(r.PureComponent);N.displayName="VerifyEmail",N.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var O=s.default.connectStores([c.default],function(){return{verifyFailed:c.default.didVerifyFail(),verifyErrors:c.default.getVerifyErrors(),verifySucceeded:c.default.didVerifySucceed(),fingerprint:c.default.getFingerprint(),verifyingUserId:c.default.getVerifyingUserId()}})(N);t.default=O}).call(this,n(7))},8284:function(e,t,n){e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},8285:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(1)),o=g(n(16)),i=g(n(433)),l=g(n(4)),s=n(5988),u=g(n(10)),d=g(n(43)),c=g(n(424)),f=g(n(104)),p=g(n(74)),m=g(n(6195)),h=g(n(7135)),v=n(0),y=g(n(8)),_=g(n(5919));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}l.default.initialize();var T=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.componentDidMount=function(){(0,s.trackAppUIViewed)("payment_history")},l.render=function(){var e=this.props,t=e.authenticated,n=e.locale,a=e.transitionTo;return t?S(c.default,{className:(0,o.default)(_.default.card,"theme-dark"),type:c.default.Types.CUSTOM},void 0,S(i.default,{title:y.default.Messages.BILLING_PAYMENT_HISTORY}),S(p.default,{tag:p.default.Tags.H2,className:_.default.title},void 0,S(f.default,{align:f.default.Align.CENTER},void 0,y.default.Messages.BILLING_PAYMENT_HISTORY)),S(h.default,{locale:n,compactMode:!0})):r.createElement(m.default,E({transitionTo:a,location:location},{redirectTo:v.Routes.BILLING_PAYMENTS}))},a}(r.PureComponent);T.displayName="PaymentHistoryPage",T.defaultProps={transitionTo:function(t){return e.location.assign(t)}};var I=l.default.connectStores([u.default,d.default],function(){return{authenticated:u.default.isAuthenticated(),locale:d.default.locale}})(T);t.default=I}).call(this,n(7))},8286:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=R(n(1)),o=O(n(16)),i=O(n(32)),l=n(429),s=O(n(433)),u=O(n(4)),d=O(n(2)),c=R(n(246)),f=O(n(53)),p=R(n(844)),m=n(5988),h=O(n(10)),v=O(n(430)),y=O(n(428)),_=O(n(424)),g=O(n(104)),S=O(n(140)),E=O(n(6195)),T=O(n(6711)),I=O(n(6677)),A=n(0),P=O(n(8)),N=O(n(5920));function O(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function M(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){M(o,a,r,i,l,"next",e)}function l(e){M(o,a,r,i,l,"throw",e)}i(void 0)})}}u.default.initialize(),v.default.registerModalsDeprecated([T.default]);var D=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={isPrefetchComplete:!1,isRedirecting:!1},t.preFetchAndDisplayModal=L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.isAdd){e.next=4;break}return t.setState({isPrefetchComplete:!0}),d.default.wait(function(){return t.handleAddPaymentModal()}),e.abrupt("return");case 4:return e.prev=4,e.next=7,Promise.all([c.fetchPaymentSources(),c.fetchSubscriptions()]);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:t.props.authenticated&&d.default.wait(function(){return t.handleBuyModal()}),t.setState({isPrefetchComplete:!0});case 14:case"end":return e.stop()}},e,null,[[4,9]])})),t.handleAddPaymentModal=function(){f.default.push(function(e){var n=e.onClose,a=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["onClose"]);return r.createElement(I.default,C({},a,{onClose:function(){t.handleOnComplete(A.BillingRedirectResultTypes.CANCEL),n()},onAddPaymentSource:function(){return t.handleOnComplete(A.BillingRedirectResultTypes.PAYMENT_SOURCE)}}))})},t.handleBuyModal=L(regeneratorRuntime.mark(function e(){var n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.plan,r=n.isGift,null!=a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,p.openModal({mode:A.PremiumPaymentSubscriptionModes.NEW,skuId:A.SubscriptionPlanInfo[a].skuId,planId:a,isGift:r,analyticsLocation:{page:A.AnalyticsPages.DIRECT,object:A.AnalyticsObjects.BUTTON_CTA,objectType:A.AnalyticsObjectTypes.BUY}});case 6:t.handleOnComplete(A.BillingRedirectResultTypes.PREMIUM),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.handleOnComplete(A.BillingRedirectResultTypes.CANCEL);case 12:case"end":return e.stop()}},e,null,[[3,9]])})),t.handleOnComplete=function(e){var n=t.props.redirectTo;if(!t.state.isRedirecting){var a;if(t.setState({isRedirecting:!0}),"Android"===i.default.os.family||"iOS"===i.default.os.family)a=A.DownloadLinks.DYNAMIC_LINK("premium",A.Routes.APP,{success:e,result_type:e});else{var r=new URL(null!=n?n:A.Routes.APP,window.location.origin);r.searchParams.set("success",e),r.searchParams.set("result_type",e),a=r.href}window.location=a}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.componentDidMount=function(){this.props.authenticated&&this.preFetchAndDisplayModal(),(0,m.trackAppUIViewed)("premium")},l.componentDidUpdate=function(e,t){var n=this.props,a=n.authenticated,r=n.premiumSubscription,o=n.isGift,i=n.isAdd,l=this.state.isPrefetchComplete;t.isPrefetchComplete||!l||null==r||o||i?a&&!e.authenticated&&this.preFetchAndDisplayModal():this.handleOnComplete(A.BillingRedirectResultTypes.CANCEL)},l.renderAuthScreen=function(){var e=this.props,t=e.transitionTo,n=e.location;return b(E.default,{transitionTo:t,location:n,redirectTo:""+n.pathname+n.search})},l.renderErrorScreen=function(){return b(_.default,{className:(0,o.default)(N.default.card,"theme-dark"),type:_.default.Types.CUSTOM},void 0,b(s.default,{title:P.default.Messages.PREMIUM_TITLE}),b(g.default,{className:N.default.flexWrapper,direction:g.default.Direction.VERTICAL,align:g.default.Align.CENTER,justify:g.default.Justify.CENTER},void 0,b(g.default.Child,{grow:0,className:N.default.image}),b(S.default,{className:N.default.message,color:S.default.Colors.PRIMARY},void 0,P.default.Messages.PREMIUM_ALERT_ERROR_TITLE)))},l.render=function(){var e=this.props,t=e.authenticated,n=e.hasModalOpen;return t?this.state.isPrefetchComplete&&!n?this.renderErrorScreen():b(s.default,{title:P.default.Messages.PREMIUM_TITLE}):this.renderAuthScreen()},a}(r.PureComponent);D.displayName="PremiumPage";var w=u.default.connectStores([h.default,y.default,v.default],function(e){var t=y.default.getPremiumSubscription(),n=(0,l.parse)(e.location.search),a=n.plan,r=n.plan_id,o=n.add,i=n.isGift,s="true"===(n.gift||i),u=r;if(null!=a)for(var d=0,c=Object.keys(A.SubscriptionPlanGatewayPlans);d<c.length;d++){var f=c[d];if(A.SubscriptionPlanGatewayPlans[f]===a){u=f;break}}return{plan:u,isAdd:e.isAdd||null!=o,hasModalOpen:v.default.hasModalOpen(),authenticated:h.default.isAuthenticated(),premiumSubscription:t,isGift:s}})(D);t.default=w}}]);
//# sourceMappingURL=c7fdeedc5f05d89646ba.js.map