(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{243:function(e,t,o){"use strict";var i=document.createElement("template");i.innerHTML='<dom-module id="authentication-styles"><template strip-whitespace><style>:host{display:none}:host([open]){display:block}:host([rtl]){direction:rtl}.vert-hr{border-left:1px solid #ccc;background-color:rgba(0,0,0,0);margin-left:15px;margin-right:15px}a{text-decoration:none;color:#fca328;font-size:14px;font-weight:400;cursor:pointer}.root-container{background-color:rgba(255,255,255,.9);border-radius:3px;display:flex;flex-direction:column}.title-container{height:92px;display:flex;flex-direction:column;align-items:center;box-shadow:0 1px 0 0 rgba(0,0,0,.2);font-weight:400;padding:10px}.title-container>wego-icon{align-self:flex-end;--wego-icon-height:16px;--wego-icon-width:16px;--wego-icon-fill-color:#999}.title-container>wego-icon:hover{opacity:.8}.title{font-size:20px;color:#000}.button{height:48px;display:flex;align-items:center;justify-content:center;background-color:#fca328;border-radius:3px;font-size:18px;font-weight:500;cursor:pointer;flex-shrink:0}.button:hover{opacity:.9}.successful-content-container{flex-grow:1;color:#fff;background-color:rgba(255,255,255,.8);display:flex;justify-content:center;align-items:center;padding:20px 33px;border-radius:0 0 3px 3px}.successful-content-container>div{display:flex;flex-direction:column;align-items:center}.successful-content-container>div>div:nth-child(1){width:30px;height:30px;background-color:#21a024;border-radius:50%;display:flex;align-items:center;justify-content:center}.successful-content-container>div>div:nth-child(2){color:#333;font-size:16px;font-weight:400;margin-top:10px}.successful-content-container>div>div:nth-child(3){color:#666;font-size:14px;font-weight:400;margin-top:10px;text-align:center}.successful-content-container>div>a{width:100%;margin-top:20px;color:#fff}.input{min-height:63px;margin-bottom:5px}.log-in-with-google:hover{opacity:.9}.log-in-with-google{display:flex;align-items:center;background-color:#4285f4;border-radius:2.4px;height:48px;padding:0 1px;cursor:pointer}.log-in-with-google>div:last-child{font-size:18px;font-weight:500;margin-left:25px}:host([rtl]) .log-in-with-google>div:last-child{margin-left:0;margin-right:25px}.google-logo{display:flex;align-items:center;justify-content:center;width:45.6px;height:45.6px;border-radius:1.2px;background-color:#fff}.google-logo>wego-image{--wego-image-width:24px;--wego-image-height:24px}.log-in-with-facebook:hover{opacity:.9}.log-in-with-facebook{display:flex;align-items:center;background-color:#3c5a99;border-radius:2.4px;height:48px;padding:0 1px;cursor:pointer}.log-in-with-facebook>div:last-child{font-size:18px;font-weight:500;margin-left:25px}:host([rtl]) .log-in-with-facebook>div:last-child{margin-left:0;margin-right:25px}.facebook-logo{display:flex;align-items:center;justify-content:center;width:45.6px;height:45.6px;border-radius:1.2px}.facebook-logo>wego-image{--wego-image-width:24px;--wego-image-height:24px}.separator{display:flex;align-items:center;font-size:14px;font-weight:400;color:#999;margin:10px 0}.separator>div:first-child,.separator>div:last-child{width:100%;height:1px;box-shadow:0 1px 0 0 #ddd}.separator>div:not(:first-child):not(:last-child){margin:0 20px}#close{cursor:pointer;width:11px}</style></template></dom-module>',document.head.appendChild(i.content)},299:function(e,t){e.exports="<style include=\"wego-styles authentication-styles\">.root-container{width:392px;height:544px}:host([create-price-alert]) .root-container{height:572px}.sub-title{display:flex;align-items:center;font-size:14px;color:#666;margin-top:3px}.sub-title>a{margin-left:3px}:host([rtl]) .sub-title>a{margin-left:0;margin-right:3px}.message-container{margin-top:1px;height:36px;background-color:#fefeae;font-size:14px;font-weight:400;color:#666;display:none;align-items:center;justify-content:center}:host([create-price-alert]) .message-container{display:flex}.content-container{flex-grow:1;color:#fff;background-color:rgba(255,255,255,.8);display:flex;flex-direction:column;padding:20px 25px;border-radius:0 0 3px 3px;margin-top:1px}.content-container>div:nth-child(-n+2){margin-bottom:7px;flex-shrink:0}.content-container>:nth-child(4){margin-top:7px}.button{margin:15px 0}</style> <div class=root-container> <div class=title-container> <wego-icon id=close icon=close-small on-tap=close></wego-icon> <div class=title>[[t('users_login')]]</div> <div class=sub-title> <div>[[t('login_account')]]</div> <a on-tap=_handleSignUpLink>[[t('sign_up')]]</a> </div> </div> <div class=message-container>[[t('login_first')]]</div> <div class=content-container> <div class=log-in-with-google on-tap=_handleSignInWithGoogle> <div class=google-logo> <wego-image src=https://assets.wego.com/image/upload/f_auto,fl_lossy,q_auto/v1517465233/makalu/google_logo.png></wego-image> </div> <div>[[t('login_with_google')]]</div> </div> <div class=log-in-with-facebook on-tap=_handleSignInWithFacebook> <div class=facebook-logo> <wego-image src=https://assets.wego.com/image/upload/f_auto,fl_lossy,q_auto/v1517465233/makalu/facebook_logo.png></wego-image> </div> <div>[[t('facebook_login')]]</div> </div> <div class=separator> <div></div> <div>[[t('login_or')]]</div> <div></div> </div> <div class=input> <wego-input placeholder=\"[[t('autofill_email')]]\" value={{__email}} on-tap=_handleWegoInputTap has-error=[[__isEmailInvalid]] error-message=[[__emailErrorMessage]]></wego-input> </div> <div class=input> <wego-input type=password placeholder=\"[[t('password')]]\" value={{__password}} on-tap=_handleWegoInputTap has-error=[[__isPasswordInvalid]] error-message=[[__passwordErrorMessage]]></wego-input> </div> <div> <a on-tap=_handleForgotPasswordLink>[[t('forgot_password')]]</a> </div> <div class=button on-tap=_handleWegoLogIn>[[t('log_in')]]</div> <div> <a on-tap=_handleconfirmationEmailLink>[[t('no_confirmation')]]</a> </div> </div> </div> "},95:function(e,t,o){"use strict";var i=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e};function n(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,r=o(299),s=(a=r)&&a.__esModule?a:{default:a},l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}}(o(72)),c=o(4);o(0),o(8),o(2),o(68),o(12),o(69),o(70),o(243),o(66),o(62),o(17);var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,Wego.Mixin(c.WegoBaseElem).with(Wego.AuthenticationMixin,Wego.AuthenticationEventMixin,Wego.LocalizationMixin,Wego.NotificationMixin)),i(g,[{key:"_onEmailChanged",value:function(){this.set("__isEmailInvalid",!1),this.set("__isPasswordInvalid",!1)}},{key:"_emailErrorMessage",value:function(e){var t=this,o=t.t.bind(t);return e?t.isEmailInvalid(e)?o("invalid",o("autofill_email")):"":o("no_blank",o("autofill_email"))}},{key:"_onPasswordChanged",value:function(){this.set("__isEmailInvalid",!1),this.set("__isPasswordInvalid",!1)}},{key:"_passwordErrorMessage",value:function(e,t){return e?t:this.t("no_blank",this.t("password"))}},{key:"onOpened",value:function(){var t=this;return t.open=!0,t.listen(window,"message","_handleMessage"),t.googleOneTapSignIn().then(function(e){e&&(t._trackEvent("Smartlock",!e.user_confirmed),t.close())}).catch(function(e){t._trackEvent("Smartlock"),t.set("__errorResponseMessage",t.t("login_error")),t.set("__isEmailInvalid",!0),t.set("__isPasswordInvalid",!0),l.captureException(e)})}},{key:"onClosed",value:function(){var e=this;e.open=!1,e.set("__email",""),e.set("__password",""),e.set("__errorResponseMessage",""),e.unlisten(window,"message","_handleMessage"),e.isSmartLockEmailSelectorOpened&&(smartlock.cancelLastOperation(),e.set("isSmartLockEmailSelectorOpened",!1))}},{key:"_handleMessage",value:function(e){var t=this;t._handleFacebookSignin(e.data).then(function(e){return t._wegoSignIn("facebook",null,e).then(function(e){return t.close()}).catch(t._handleWegoLoginError.bind(t))})}},{key:"_handleSignInWithGoogle",value:function(){var e=this;return e._trackEvent("Google"),e.googleSignIn().then(function(){return e.close()}).catch(e._handleWegoLoginError.bind(e))}},{key:"_handleSignInWithFacebook",value:function(){this._trackEvent("facebook"),this.facebookSignIn()}},{key:"_handleWegoLogIn",value:function(){var t=this;if(t._trackEvent("email"),t.isEmailInvalid(t.__email)&&t.set("__isEmailInvalid",!0),t.__password||t.set("__isPasswordInvalid",!0),!t.__isEmailInvalid&&!t.__isPasswordInvalid)return t._wegoSignIn("wego",t.__email,t.__password).then(function(e){return t.close()}).catch(t._handleWegoLoginError.bind(t))}},{key:"_handleWegoLoginError",value:function(e){"invalid_grant"===e?this.set("__errorResponseMessage",this.t("login_error")):l.captureException(e),this.set("__isEmailInvalid",!0),this.set("__isPasswordInvalid",!0)}},{key:"_trackEvent",value:function(e,t){this.postNotification("ga-users-event",{label:e,action:t?"signup":"login"})}}],[{key:"is",get:function(){return"log-in"}},{key:"template",get:function(){var e=(0,c.html)([s.default]);return e.setAttribute("strip-whitespace",""),e}},{key:"properties",get:function(){return{open:{type:Boolean,reflectToAttribute:!0},auth:{type:Object,notify:!0},createPriceAlert:{type:Boolean,value:!1,reflectToAttribute:!0},__email:{type:String,value:"",observer:"_onEmailChanged"},__isEmailInvalid:Boolean,__emailErrorMessage:{type:String,computed:"_emailErrorMessage(__email)"},__password:{type:String,value:"",observer:"_onPasswordChanged"},__isPasswordInvalid:Boolean,__passwordErrorMessage:{type:String,computed:"_passwordErrorMessage(__password, __errorResponseMessage)"},__errorResponseMessage:{type:String,value:""},isSmartLockEmailSelectorOpened:{type:Boolean,notify:!0}}}}]),g);function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}window.customElements.define(d.is,d)}}]);