(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{2587:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(11),classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),api=__webpack_require__(18),Spinner=__webpack_require__(66);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==typeof call&&"function"!==typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var component=function(_Component){function BlockedUsers(){var _getPrototypeOf2,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BlockedUsers);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BlockedUsers)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={blacklistedUsers:[],loading:!1,deleting:{id:null,pending:!1}},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BlockedUsers,react["Component"]),Constructor=BlockedUsers,(protoProps=[{key:"componentDidMount",value:function(){var _this2=this;this.setState({loading:!0}),Object(api.default)("/api/2/blacklists",{method:"get"}).then(function(_ref){var users=_ref.users;return _this2.setState({blacklistedUsers:users.sort(function(u1,u2){return u1.username.localeCompare(u2.username)}),loading:!1})}).catch(function(e){_this2.setState({loading:!1})})}},{key:"unblock",value:function(user){var _this3=this;this.setState({deleting:{id:user.id,pending:!0}}),Object(api.default)("/api/2/users/".concat(user.id,"/blacklist"),{method:"delete"}).then(function(){_this3.setState({blacklistedUsers:_this3.state.blacklistedUsers.filter(function(_user){return _user.id!==user.id}),deleting:{id:null,pending:!1}})}).catch(function(e){_this3.setState({deleting:{id:null,pending:!1}})})}},{key:"render",value:function(){var _this4=this,_this$state=this.state,blacklistedUsers=_this$state.blacklistedUsers,loading=_this$state.loading,deleting=_this$state.deleting;return loading?react_default.a.createElement(Spinner.a,null):react_default.a.createElement("div",{className:"blocked-users-list"},!blacklistedUsers.length&&react_default.a.createElement("p",{className:"no-blocked-users"},"You have no blocked users."),blacklistedUsers.map(function(user){return react_default.a.createElement("div",{key:user.id,className:classnames_default()("box","blocked-user",{"blocked-user--deleting":deleting.id===user.id})},react_default.a.createElement("div",{className:"item-block item-block--first"},react_default.a.createElement("img",{src:user.small_profile_picture_url,className:"picture",alt:user.name}),react_default.a.createElement("div",{className:"user-info"},react_default.a.createElement("div",{className:"name"},user.name),react_default.a.createElement("a",{className:"username",href:"/".concat(user.username),target:"_blank"},user.username))),react_default.a.createElement("div",{className:"item-block item-block--second"},react_default.a.createElement("button",{className:"unblock",onClick:function(){return _this4.unblock(user)}},"Unblock")))}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),BlockedUsers}(),root=document.querySelector(".blocked-users-container");root&&Object(react_dom.render)(react_default.a.createElement(component,{currentUser:window.globalData.currentUser}),root)}}]);
//# sourceMappingURL=40-674b04fa8683ec059495.chunk.js.map