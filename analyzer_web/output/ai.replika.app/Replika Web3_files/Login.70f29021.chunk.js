(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{288:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(28),r=n(63),a=n(10),i=n(7),s=n(2),l=n(292),c=n(27);function u(){var e=Object(a.a)(["\n  position: absolute;\n  top: ","px;\n  left: 16px;\n  color: ",";\n  font-size: ","px;\n  line-height: 15px;\n  user-select: none;\n  pointer-events: none;\n  transition: top 0.2s ease-out, color 0.2s ease-out, font-size 0.2s ease-out;\n"]);return u=function(){return e},e}var d=i.default.div.withConfig({displayName:"LabeledTextInput__LabelRoot",componentId:"sc-13g76zn-0"})(["position:relative;height:55px;"]),p=Object(c.a)("label",["collapsed"])(u(),function(e){return e.collapsed?8:21},function(e){return e.theme.placeholderColor},function(e){return e.collapsed?12:16}),h=Object(i.default)(l.a).withConfig({displayName:"LabeledTextInput__StyledTextInput",componentId:"sc-13g76zn-1"})(["height:55px;padding:27px 0 12px 16px;font-size:16px;background:",";color:",";border:0;"],function(e){return e.theme.inputBgColor},function(e){return e.theme.fgColor}),f=s.forwardRef(function(e,t){var n=e.placeholder,a=e.className,i=e.value,l=e.id,c=Object(r.a)(e,["placeholder","className","value","id"]),u=s.useState(!1),f=Object(o.a)(u,2),m=f[0],g=f[1];return s.createElement(d,{className:a},s.createElement(h,Object.assign({id:l,value:i,onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},ref:t},c)),s.createElement(p,{htmlFor:l,collapsed:m||!!i},n))});t.b=f},291:function(e,t,n){"use strict";var o=n(7),r=n(103),a=Object(o.default)(r.a).withConfig({displayName:"IconButton",componentId:"sc-6b4yuq-0"})(["margin:0;padding:0;border:0;background:transparent;font-size:inherit;color:inherit;cursor:pointer;"]);t.a=a},292:function(e,t,n){"use strict";var o=n(10),r=n(27);function a(){var e=Object(o.a)(["\n  -webkit-appearance: none;\n  width: 100%;\n  margin: 0;\n  box-sizing: border-box;\n  border: 1px solid ",";\n  transition: border 0.2s ease-out;\n  height: 50px;\n  padding: 14px 17px 16px;\n  font-size: 16px;\n  font-weight: 400;\n  color: black;\n  background-color: white;\n  border-radius: 4px;\n  &::-webkit-input-placeholder {\n    color: ",";\n    opacity: 1;\n    transition: opacity 0.2s ease-out;\n  }\n  &:focus::-webkit-input-placeholder {\n    opacity: 0;\n  }\n  &::-moz-placeholder {\n    color: ",";\n    opacity: 1;\n    transition: opacity 0.2s ease-out;\n  }\n  &:focus::-moz-placeholder {\n    opacity: 0;\n  }\n  &::-ms-input-placeholder {\n    color: ",";\n    opacity: 1;\n    transition: opacity 0.2s ease-out;\n  }\n  &:focus::-ms-input-placeholder {\n    opacity: 0;\n  }\n\n  &::-webkit-textfield-decoration-container {\n    margin-right: ",";\n  }\n\n  &::-ms-clear {\n    margin-right: ",";\n  }\n\n  &::-ms-reveal {\n    display: none;\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px 2px ",";\n  }\n"]);return a=function(){return e},e}var i=Object(r.a)("input",["hasIcon"])(a(),function(e){return e.theme.borderColor},function(e){return e.theme.placeholderColor},function(e){return e.theme.placeholderColor},function(e){return e.theme.placeholderColor},function(e){return e.hasIcon?"30px":0},function(e){return e.hasIcon?"30px":0},function(e){return e.theme.outlineColor});t.a=i},307:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(2),r=n.n(o);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=r.a.createElement("path",{d:"M7.89961 1L1 7.99999L7.89961 15",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),s=r.a.createElement("path",{d:"M1 8L15 8",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),l=function(e){return r.a.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),i,s)};n.p},319:function(e,t,n){"use strict";var o=n(10),r=n(63),a=n(31),i=n(48),s=n(50),l=n(49),c=n(51),u=n(7),d=n(2),p=n.n(d),h=n(292),f=n(288);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var g=p.a.createElement("g",{fill:"none",fillRule:"evenodd"},p.a.createElement("path",{d:"M0 0h24v24H0z"}),p.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})),b=function(e){return p.a.createElement("svg",m({viewBox:"0 0 24 24"},e),g)};n.p;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var w=p.a.createElement("g",{fill:"none",fillRule:"evenodd"},p.a.createElement("path",{d:"M0 0h24v24H0z"}),p.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M9.693 7.564l-2.132-2.2A11.763 11.763 0 0 1 12 4.5c5 0 9.27 3.11 11 7.5a11.888 11.888 0 0 1-3.98 5.186l-2.658-2.741a5.002 5.002 0 0 0-6.67-6.881zm-1.425 1.11a5.002 5.002 0 0 0 6.94 7.16l2.255 2.327A11.747 11.747 0 0 1 12 19.5c-5 0-9.27-3.11-11-7.5a11.89 11.89 0 0 1 4.88-5.79l2.388 2.464zm6.596 4.225l-3.673-3.79C11.45 9.04 11.72 9 12 9c1.66 0 3 1.34 3 3 0 .313-.048.615-.136.899zm-1.052 1.494A2.99 2.99 0 0 1 12 15c-1.66 0-3-1.34-3-3 0-.715.249-1.37.664-1.886l4.148 4.28z"}),p.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M4.27 4L3 5.27 18.73 21.5 20 20.23z"})),C=function(e){return p.a.createElement("svg",v({viewBox:"0 0 24 24"},e),w)},x=(n.p,n(103)),O=Object(u.default)(x.a).withConfig({displayName:"ShowPasswordToggle__ShowPasswordToggleRoot",componentId:"sc-1k9lgsj-0"})(["margin:0;padding:0;border:0;background:none;width:24px;height:24px;color:",";&:hover{cursor:pointer;opacity:0.7;}& > svg{width:100%;height:100%;}"],function(e){return e.theme.fgColor}),y=function(e){var t=e.className,n=e.onClick,o=e.passwordHidden,r=e["data-testid"];return d.createElement(O,{type:"button",className:t,onClick:n,label:o?"Show password":"Hide password",active:!o,"data-testid":r},o?d.createElement(b,{"aria-hidden":"true"}):d.createElement(C,{"aria-hidden":"true"}))},E=n(27);function j(){var e=Object(o.a)(["\n  position: absolute;\n  top: ","px;\n  right: 15px;\n"]);return j=function(){return e},e}var S=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={passwordHidden:!0},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.name,a=t.id,i=t.onChange,s=t.forwardedRef,l=t["data-testid"],c=t.labeled,u=Object(r.a)(t,["value","name","id","onChange","forwardedRef","data-testid","labeled"]),p="string"===typeof n&&n.length>0,m=c?f.b:h.a;return d.createElement(I,null,d.createElement(m,Object.assign({autoComplete:"off","data-testid":l,type:this.state.passwordHidden?"password":"text",name:o,id:a,value:n,onChange:i,hasIcon:p,ref:s},u)),p&&d.createElement(k,{labeled:c,"data-testid":l&&"".concat(l,"-toggle"),onClick:function(){return e.setState(function(e){return{passwordHidden:!e.passwordHidden}})},passwordHidden:this.state.passwordHidden}))}}]),t}(d.Component),I=(t.a=d.forwardRef(function(e,t){return d.createElement(S,Object.assign({forwardedRef:t},e))}),u.default.div.withConfig({displayName:"PasswordInput__PasswordInputRoot",componentId:"sc-6sztd5-0"})(["position:relative;"])),k=Object(E.a)(y,["labeled"])(j(),function(e){return e.labeled?16:13})},661:function(e,t,n){"use strict";n.r(t);var o=n(63),r=n(31),a=n(48),i=n(50),s=n(49),l=n(51),c=n(2),u=n(25),d=n(22),p=n(108),h=n(10),f=n(4),m=n.n(f),g=n(3),b=n(6),v=n(7),w=n(650),C=n(561),x=n(288),O=n(319),y=n(27),E=n(107),j=n(142),S=n(0),I=n(79),k=n(35),P=n(307),R=n(291),F=n(20);function L(){var e=Object(h.a)(["\n  margin-top: ",";\n  overflow: ",";\n  position: relative;\n  max-height: ",";\n  transition: max-height 0.3s ease-out, margin-top 0.3s ease-out;\n"]);return L=function(){return e},e}var z=C.PhoneNumberUtil.getInstance(),N=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).passEl=void 0,n.renderButtonText=function(){var e=n.props,t=e.isSending,o=e.formState;if(t)return"Sending...";switch(o){case S.i.InputPassword:return"Next";case S.i.InputCode:return"Log in";default:return"Next"}},n.renderPasswordOrCodeField=function(){var e=n.props,t=e.formState,o=e.passwordField,r=e.codeField,a=t===S.i.Initial;switch(t){case S.i.Initial:case S.i.InputPassword:case S.i.RecoverPasswordRequestSent:return c.createElement(M,{isHidden:a},c.createElement(O.a,{labeled:!0,"data-testid":"login-password-input",disabled:a,name:"password",id:"login-password",placeholder:"Password",value:o,onChange:n.handlePasswordChange,ref:n.passEl,autoFocus:!0}));case S.i.CodeResent:case S.i.InputCode:return c.createElement(M,null,c.createElement(x.b,{"data-testid":"login-code-input",type:"text",name:"code",id:"login-code",placeholder:"Confirmation code",value:r,onChange:n.handleCodeChange,ref:n.passEl,autoFocus:!0}));default:return null}},n.handleCodeChange=function(e){var t=e.target.value;t.substr(0,4).replace(/\D/g,""),n.props.handleLoginFieldsChange("codeField",t)},n.handlePasswordChange=function(e){var t=e.target.value.substr(0,64);n.props.handleLoginFieldsChange("passwordField",t)},n.maskEmail=function(e){return e.split("@").map(function(e,t){return 0===t?e.replace(1,"***"):e}).join("@")},n.handleSendRecoveryEmail=function(e){e.preventDefault(),Object(F.b)(S.j.ForgotPassword),n.props.recoverPassword()},n.handleResendSMS=function(e){e.preventDefault(),n.props.resendSMSCode()},n.handleCallMe=function(e){e.preventDefault(),n.props.sendVoiceCode()},n.renderStatusBlock=function(){var e=n.props,t=e.formState,o=e.codeRetryTimeout,r=e.recoveryText,a=e.emailOrPhone;switch(t){case S.i.Initial:return null;case S.i.InputPassword:return c.createElement(T,null,c.createElement(E.a,{type:"button",onClick:n.handleSendRecoveryEmail}," ","Forgot password?"));case S.i.RecoverPasswordRequestSent:case S.i.CodeSent:return c.createElement(D,null,r);case S.i.ForgotPassword:return c.createElement(D,null,"Please enter a 4-digit confirmation code that we sent to"," ",a);case S.i.CodeResent:case S.i.InputCode:return c.createElement(T,null,o>0?"Didn\u2019t receive a code? Request a new one in 00:".concat(o>9?"":0).concat(o):c.createElement(function(){return c.createElement(q,null,"Didn\u2019t receive a code?"," ",c.createElement("a",{"data-testid":"login-resend-sms-button",onClick:n.handleResendSMS},"Re-send SMS")," ",c.createElement("a",{"data-testid":"login-call-voice-button",onClick:n.handleCallMe},"Call me"))},null));default:return c.createElement(T,null)}},n.isButtonDisabled=function(){var e=n.props,t=e.inputError,o=e.emailOrPhone,r=e.passwordField,a=e.formState;return!!e.isSending||(!!(o.length<5||t)||(a===S.i.InputPassword||a===S.i.ForgotPassword||a===S.i.RecoverPasswordRequestSent)&&r.length<8)},n.isValidPhone=function(e){try{var t=e.substr(0,18),n=z.parseAndKeepRawInput(t,"US");return z.isValidNumber(n)}catch(o){return!1}},n.handleChange=function(e){n.props.handleLoginFieldsChange("emailOrPhone",e.target.value)},n.handleSumbit=function(){var e=Object(b.a)(m.a.mark(function e(t){var o,r,a,i,s,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props,a=r.formState,i=r.checkAccountExistance,s=r.sendPasswordLogin,l=r.authBySmsCode,o={},Object(g.a)(o,S.i.Initial,i),Object(g.a)(o,S.i.InputPassword,s),Object(g.a)(o,S.i.RecoverPasswordRequestSent,s),Object(g.a)(o,S.i.InputCode,l),Object(g.a)(o,S.i.CodeResent,l),c=o,e.prev=3,e.next=6,c[a]();case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),e.t0 instanceof k.a){e.next=12;break}throw e.t0;case 12:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t){return e.apply(this,arguments)}}(),n.renderEmailOrPhoneInput=function(){var e=n.props,t=e.emailOrPhone;switch(e.formState){case S.i.Initial:return c.createElement(x.b,{"data-testid":"login-emailphone-input",type:"text",name:"emailOrPhone",id:"emailOrPhone",placeholder:"Your email or phone number",value:t,onChange:n.handleChange,autoFocus:!0});default:return null}},n.getSubtitle=function(){var e=n.props,t=e.emailOrPhone;switch(e.formState){case S.i.InputPassword:case S.i.InputCode:return t;default:return null}},n.getSignupHint=function(){return n.props.formState===S.i.Initial?c.createElement(B,null,"New to Replika? ",c.createElement(A,{to:"/signup"},"Sign up for free")):void 0},n.passEl=c.createRef(),"/login"!==e.location.pathname&&e.push("/login"),Object(F.b)(S.j.LoginScreenOpened,{from:"welcome"}),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.formState!==S.i.InputPassword&&this.props.formState!==S.i.InputCode||this.passEl.current&&e.formState===S.i.Initial&&this.passEl.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.serverError,n=e.inputError,o=e.formState;return c.createElement(I.b,{title:"Log in",subtitle:this.getSubtitle()},o===S.i.Initial&&c.createElement(H,{label:"back on main page",to:"/"},c.createElement(P.a,null)),c.createElement(_,{onSubmit:this.handleSumbit,id:"loginForm"},this.renderEmailOrPhoneInput(),this.renderPasswordOrCodeField(),this.renderStatusBlock(),c.createElement(I.e,{hasError:!(!t&&!n)},t||n),c.createElement(I.d,{tabIndex:0,type:"submit","data-testid":"login-next-button",disabled:this.isButtonDisabled()},this.renderButtonText())),this.getSignupHint())}}]),t}(c.Component),_=Object(v.default)(I.a).withConfig({displayName:"LoginForm__StyledFullscreenForm",componentId:"sc-4yata4-0"})(["min-height:175px;"]),H=Object(v.default)(R.a).withConfig({displayName:"LoginForm__BackButton",componentId:"sc-4yata4-1"})(["position:absolute;z-index:1;left:24px;top:36px;color:",";"],function(e){return e.theme.fgColor}),B=v.default.div.withConfig({displayName:"LoginForm__SignupHint",componentId:"sc-4yata4-2"})(["position:absolute;bottom:50px;"]),M=Object(y.a)("div",["isHidden"])(L(),function(e){return e.isHidden?"0px":"13px"},function(e){return e.isHidden?"hidden":"initial"},function(e){return e.isHidden?"0px":"100px"}),T=v.default.div.withConfig({displayName:"LoginForm__ForgotPassword",componentId:"sc-4yata4-3"})(["margin-top:10px;color:",";"],function(e){return e.theme.dimmedFgColor}),D=Object(v.default)(j.a).withConfig({displayName:"LoginForm__CodeSentHint",componentId:"sc-4yata4-4"})(["margin-top:10px;font-size:16px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.5;letter-spacing:normal;text-align:left;color:",";"],function(e){return e.theme.dimmedFgColor}),A=Object(v.default)(w.a).withConfig({displayName:"LoginForm__StyledLink",componentId:"sc-4yata4-5"})(["color:inherit;text-decoration:underline;"]),q=Object(v.default)(j.a).withConfig({displayName:"LoginForm__CodeMessage",componentId:"sc-4yata4-6"})(["& a{padding:0 5px;text-decoration:underline;}"]),V=n(33),U=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loginState,n=Object(o.a)(e,["loginState"]);return c.createElement(N,Object.assign({},t,n))}}]),t}(c.Component);t.default=Object(u.connect)(function(e){return{bot:e.profile.persist.bot,loginState:e.auth.loginState,authToken:e.auth.persist.authToken}},{handleLoginFieldsChange:p.d,checkAccountExistance:p.b,sendPasswordLogin:p.i,authBySmsCode:p.a,resendSMSCode:p.g,sendVoiceCode:p.j,recoverPassword:p.e,setReboarding:V.h,push:d.push})(U)}}]);
//# sourceMappingURL=Login.70f29021.chunk.js.map