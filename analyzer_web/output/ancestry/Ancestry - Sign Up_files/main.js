!function(e){var a={};function t(r){if(a[r])return a[r].exports;var l=a[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)t.d(r,l,function(a){return e[a]}.bind(null,l));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=2)}([function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={allowSubmit:!0}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.shakeIcon=a.changeColorAndIcon=a.setTitle=void 0;var r,l=t(0),s=(r=l)&&r.__esModule?r:{default:r};a.setTitle=function(e){s.default.$headerTitle.html(appData.titleStrings[e]),s.default.$headerSubTitle.html(appData.subTitleStrings[e])},a.changeColorAndIcon=function(e,a){s.default.$headerIcon.removeClass("person"),s.default.$headerIcon.removeClass("red"),s.default.$headerIcon.removeClass("blue"),s.default.$headerIcon.addClass(e),s.default.$headerIcon.addClass(a)},a.shakeIcon=function(){s.default.$headerIcon.addClass("shake"),setTimeout(function(){s.default.$headerIcon.removeClass("shake")},1e3)}},function(e,a,t){"use strict";var r=o(t(3)),l=o(t(4)),s=o(t(0)),i=t(1),d=o(t(7));function o(e){return e&&e.__esModule?e:{default:e}}!function(e){e(function(){s.default.$firstName=e("#firstName"),s.default.$lastName=e("#lastName"),s.default.$email=e("#email"),s.default.$password=e("#password"),s.default.$retypePassword=e("#retypePassword"),s.default.$terms=e("#terms"),s.default.$marketingEmails=e("#marketingEmails"),s.default.$indexFormBtn=e("#indexFormBtn"),s.default.$createAccountHeader=e("#createAccountHeader"),s.default.$headerIcon=e("#headerIcon"),s.default.$headerState=e("#headerState"),s.default.$headerTitle=e("#headerTitle"),s.default.$headerSubTitle=e("#headerSubTitle"),s.default.$firstNameLabel=e("#firstNameLabel"),s.default.$lastNameLabel=e("#lastNameLabel"),s.default.$emailLabel=e("#emailLabel"),s.default.$passwordToggle=e("#passwordToggle"),s.default.$retypePasswordDiv=e("#retypePasswordDiv"),document.getElementById("password").value="",document.getElementById("retypePassword").value="",appData.shouldVerifyEmail&&(s.default.$retypeEmail=e("#retypeEmail"),s.default.$retypeEmailErrorMessage=e("#retypeEmailErrorMessage"),s.default.$retypeEmail.on("paste",function(e){e.preventDefault(),s.default.$retypeEmailErrorMessage.removeClass("noDisplay"),s.default.$retypeEmailErrorMessage.attr("aria-hidden","false"),s.default.$retypeEmail.attr("aria-describedby","retypeEmailErrorMessage")}),s.default.$retypeEmail.on("input change",function(){s.default.$retypeEmailErrorMessage.addClass("noDisplay"),s.default.$retypeEmailErrorMessage.attr("aria-hidden","true"),s.default.$retypeEmail.removeAttr("aria-describedby","retypeEmailErrorMessage")}),s.default.$email.on("input",function(){0===s.default.$email[0].value.length?(s.default.$retypeEmail.addClass("disabled"),s.default.$retypeEmail.attr("disabled","disabled")):(s.default.$retypeEmail.removeClass("disabled"),s.default.$retypeEmail.removeAttr("disabled","disabled"))}));var a=ui.validator(document.getElementById("indexForm"),{fields:{password:{required:!0,pattern:"password"},retypePassword:{required:!0,match:"password"},terms:{required:!0},email:{required:!0,when:"blur",pattern:function(e){return!!ui.validator.email(e.value)}},retypeEmail:{required:!0,match:"email"},lastName:{required:!0,minLength:1,maxLength:35,when:"submit",pattern:function(e){return!!/^[a-zA-ZàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÄËÏÖÜçÇßøØåÅæÆþÞðÐ\s'.,-]+$/.test(e.value)}},firstName:{required:!0,minLength:1,maxLength:35,when:"submit",pattern:function(e){return!!/^[a-zA-ZàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÄËÏÖÜçÇßøØåÅæÆþÞðÐ\s'.,-]+$/.test(e.value)}}},allowMultipleSubmissions:!0,onSubmit:function(e){if(!s.default.allowSubmit)return!1;(0,d.default)(s.default.$indexFormBtn),function(e){for(var a="",t=Object.values(e.fields),r=0;r<t.length;r++){var l=t[r];if(!l.classList)break;for(var s=0;s<l.classList.length;s++){if("error"===l.classList[s]){a=l.id;break}}if(a)break}if(a){switch(a){case"firstName":(0,i.setTitle)("invalidFirstName");break;case"lastName":(0,i.setTitle)("invalidLastName");break;case"email":(0,i.setTitle)("invalidEmail");break;case"retypeEmail":(0,i.setTitle)("invalidRetypeEmail");break;case"password":(0,i.setTitle)("invalidPassword");break;case"retypePassword":(0,i.setTitle)("invalidRetypePassword");break;case"terms":(0,i.setTitle)("invalidTerms")}(0,i.changeColorAndIcon)("red","person"),(0,i.shakeIcon)()}else(0,i.setTitle)("createAccount"),(0,i.changeColorAndIcon)("blue","person")}(e),function(e){grecaptcha.ready(function(){grecaptcha.execute(""+appData.recaptchaSiteKey,{action:"account_create_submit"}).then(function(a){(0,l.default)(e,a)})})}(e)}});appData.shouldVerifyEmail||a.removeFields("retypeEmail"),s.default.$passwordToggle.click(function(){"true"===s.default.$passwordToggle.get(0).dataset.passwordismasked?(s.default.$password.attr("type","text"),s.default.$passwordToggle.get(0).dataset.passwordismasked="false",s.default.$passwordToggle.text(s.default.$passwordToggle.get(0).dataset.unmasktext),s.default.$retypePasswordDiv.hide(),a.removeFields("retypePassword")):(s.default.$password.attr("type","password"),s.default.$passwordToggle.get(0).dataset.passwordismasked="true",s.default.$passwordToggle.text(s.default.$passwordToggle.get(0).dataset.masktext),s.default.$retypePasswordDiv.show(),a.addField("retypePassword",{required:!0,match:"password"}))}),r.default.initialize()})}(jQuery)},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={$alert:null,$email:document.getElementById("email"),initialize:function(){var e=["aim","aol","att","bellsouth","btinternet","charter","comcast","cox","earthlink","embarqmail","facebook","frontier","gmail","gmx","google","googlemail","hotmail","icloud","juno","live","mac","mail","me","msn","optonline","optusnet","outlook","qq","roadrunner","rocketmail","rogers","sbcglobal","shaw","sky","sympatico","telus","verizon","web","windstream","xtra","yahoo","ymail"],a=document.getElementById("emailSuggestionAlert"),t=document.getElementById("emailSuggestion");r.$email.addEventListener("blur",function(){Mailcheck.run({email:r.$email.value,secondLevelDomains:e,suggested:function(e){var l='<button type="button" class="link" onclick="updateEmail(\''+e.full+"')\">"+e.full+"</button>";t.innerHTML=appData.strings.emailSuggestion.replace("{suggestedEmailAddress}",l),null===r.$alert&&(r.$alert=ui.alert(a,{closable:!0,type:"info",open:!1}),a.classList.remove("noDisplay")),r.$alert.open()},empty:function(){null!==r.$alert&&r.$alert.close()}})})}};window.updateEmail=function(e){r.$email.value=e,r.$alert.close()},a.default=r},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=d(t(0)),l=d(t(5)),s=d(t(6)),i=t(1);function d(e){return e&&e.__esModule?e:{default:e}}a.default=function(e,a){if(!e.valid)return(0,l.default)(r.default.$indexFormBtn),!1;var t={firstName:r.default.$firstName.val(),lastName:r.default.$lastName.val(),email:r.default.$email.val(),password:r.default.$password.val(),agreeToTerms:r.default.$terms.is(":checked"),subscribeToMarketingEmails:r.default.$marketingEmails.is(":checked"),googleRecaptchaToken:a},d=$("#returnUrl").val();$.ajax({type:"POST",url:""+appData.appPath,data:t,dataType:"json",success:function(e){switch(e.status){case"USER_CREATED":(0,s.default)("signup succeed"),window.location.replace(d);break;default:(0,l.default)(r.default.$indexFormBtn)}},error:function(e){if((0,l.default)(r.default.$indexFormBtn),e.responseJSON)switch(e.responseJSON.error){case"INVALID_INPUT":switch(e.responseJSON.errors[0]){case"Invalid first name":(0,i.setTitle)("invalidFirstName"),r.default.$headerState.focus(),r.default.$firstNameLabel.removeClass("success").addClass("error"),r.default.$firstName.removeClass("success").addClass("error");break;case"Invalid last name":(0,i.setTitle)("invalidLastName"),r.default.$headerState.focus(),r.default.$lastNameLabel.removeClass("success").addClass("error"),r.default.$lastName.removeClass("success").addClass("error");break;case"Invalid email address":(0,i.setTitle)("invalidEmail"),r.default.$headerState.focus(),r.default.$emailLabel.removeClass("success").addClass("error"),r.default.$email.removeClass("success").addClass("error")}break;case"EMAIL_EXISTS":(0,s.default)("emailexists"),(0,i.setTitle)("emailExists"),r.default.$headerState.focus(),r.default.$emailLabel.removeClass("success").addClass("error"),r.default.$email.removeClass("success").addClass("error");break;case"BLACKLISTED_EMAIL":(0,i.setTitle)("blacklistedEmail"),r.default.$headerState.focus(),r.default.$emailLabel.removeClass("success").addClass("error"),r.default.$email.removeClass("success").addClass("error");break;case"NO_USER_CREATED":case"BOT":default:(0,i.setTitle)("serverError")}else(0,i.setTitle)("serverError");(0,i.changeColorAndIcon)("red","person"),(0,i.shakeIcon)()}})}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,l=t(0),s=(r=l)&&r.__esModule?r:{default:r};a.default=function(e){s.default.allowSubmit=!0,e.removeClass("disabled loading").attr("aria-busy",!1)}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=document.createEvent("CustomEvent");a.initCustomEvent("acom-track-event",!0,!0,{action:e}),"signup succeed"===e&&a.initCustomEvent("acom-track-mixpanel",!0,!0,{action:e}),window.dispatchEvent(a)}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,l=t(0),s=(r=l)&&r.__esModule?r:{default:r};a.default=function(e){s.default.allowSubmit=!1,e.addClass("disabled loading").attr("aria-busy",!0)}}]);
//# sourceMappingURL=main.js.map