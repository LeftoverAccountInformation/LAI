!function(){AjaxManager=function(){function e(e,n){switch(e.ResponseType.Value){case"Success":break;case"Redirect":e.RedirectUrl&&(window.location=e.RedirectUrl);break;case"Error":return i(e.ActionErrors),!1;case"Views":t(e.Views);break;default:return!1}return!0}function t(e){var t,r,a;if(e&&e.length>0)for(t=0,r=e.length;t<r;t++)a=e[t],n(a.Content,a.InsertionMode,a.Region)}function n(e,t,n){var r=document.getElementById(n),a=document.createEvent("Event");switch(a.initEvent("regionupdated",!0,!0),null===r&&(document.body.insertAdjacentHTML("beforeend",'<div id="'+n+'" style="display:none"></div>'),r=document.getElementById(n)),t.Value){case"InsertBefore":r.insertAdjacentHTML("afterbegin",e);break;case"InsertAfter":r.insertAdjacentHTML("beforeend",e);break;case"Replace":default:r.innerHTML="",r.insertAdjacentHTML("beforeend",e)}r.dispatchEvent(a)}function r(e){var t={links:[],blocks:[],CombinatorUri:"combo"};return Array.isArray(e)?e.forEach(function(e){a(e,t)}):a(e,t),t}function a(e,t){t.CombinatorUri=e.CombinatorUri,"Views"===e.ResponseType.Value&&e.Resources&&e.Resources.forEach(function(e){null!==e.Src&&e.Src.length>0?t.links.push(e.Src):t.blocks.push(e)})}function o(e){var t,n,r,a,o,i;if(e&&e.length>0){for(t="",n=0,r=e.length;n<r;n++)a=e[n],"Script"===a.Type.Value&&a.Content&&(t+=a.Content);""!==t&&(o=document.getElementsByTagName("head")[0],i=document.createElement("script"),i.type="text/javascript",i.defer=!1,i.text=t,o.appendChild(i))}}function i(e){var t,n,r,a,o,i,c,u;if(e&&e.length>0){for(t=!1,n=!1,r=0,a=e.length;r<a;r++)o=e[0],i="<li><strong>"+o.ExceptionMessage+"</strong> - "+o.ExceptionType+"</li>","Cosmetic"===o.Severity.Value?null!==(c=document.querySelector("#cosmeticErrorContainer ul"))&&(c.innerHTML="",c.insertAdjacentHTML("beforeend",i),t=!0):"ActionPrevented"!==o.Severity.Value&&"CriticalFailure"!==o.Severity.Value||null!==(u=document.querySelector("#ErrorDialog ul"))&&(u.insertAdjacentHTML("beforeend",i),n=!0);t&&(document.getElementById("cosmeticErrorContainer").style.display="block"),n&&alert("errors")}}function c(e,t){t.failure(null,e),t.after()}function u(t,n){var a;"string"==typeof t&&(t=JSON.parse(t)),a=r(t),ResourceManager.addResources(a.CombinatorUri,a.links,function(r){Array.isArray(t)?t.forEach(function(t){r=r&&e(t,n)}):r=r&&e(t,n),o(a.blocks),s(n,t,r)})}function s(e,t,n){n?e.success(t):e.failure(t),e.after()}function l(e,t){return isNaN(e)||isNaN(t)?Date.now().toString()+Math.floor(1e8*Math.random()+1):Math.floor(Math.random()*(1+t-e)+e)}function d(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function f(e,t){var n,r=e.indexOf("?")>0?"&":"?",a="callback"+l();window[a]=function(e){u(e,t);var n=document.getElementById(a);n.parentNode.removeChild(n)},n=document.createElement("script"),n.src=e+r+"callback="+a,n.setAttribute("id",a),document.head.appendChild(n)}return{send:function(e){var t={success:function(){},failure:function(){},before:function(){},after:function(){},cache:!1,url:"",dataType:"jsonp"},n=d(t,e),r=new XMLHttpRequest;if(n.before(),"jsonp"===n.dataType)return void f(n.url,n);r.open("GET",n.url,!0),r.setRequestHeader("webpart-request-type","ajax"),r.onload=function(){r.status>=200&&r.status<400?u(r.response,n):c(r,n)},r.responseType=n.dataType,r.onError=function(){c(r,n)},r.send()}}}(),function(){var e,t,n,r,a=document.querySelectorAll("a[data-ajaxEnable=true]");for(e=0,t=a.length;e<t;e++)a[e].addEventListener("click",function(e){e.preventDefault(),n=e.target,r=extend({},n.dataset),delete r.ajaxenable,AjaxManager.send({url:n.getAttribute("href"),data:r})})}()}();
var ResourceManager=function(){function e(e,t,n){if(n&&n.test(e))for(var r=e.substring(e.indexOf("?")+1,e.length).split("&"),a=0;a<r.length;a++)t[r[a].toLowerCase()]=!0;else t[e.toLowerCase()]=!0}function t(e){var t={},a=n(e);return r("script",["src","data-src"],t,a),r("link",["href"],t,a),r("style",["data-href"],t,a),t}function n(e){return e?new RegExp("^"+e,"i"):null}function r(t,n,r,a){for(var o=document.getElementsByTagName(t),s=0;s<o.length;s++)for(var c=o[s],l=0;l<c.attributes.length;l++)for(var i=c.attributes[l],u=0;u<n.length;u++)if(i.nodeName.toLowerCase()===n[u]){e(i.value,r,a);break}}function a(e,t,n){for(var r={script:"",style:""},a=0;a<e.length;a++){var i=e[a],u=i.toLowerCase();u in x||u in t||(C.test(i)?(o(n,r,c(i)),y(i,n)):s(n,i,r))}l(n,r.script),l(n,r.style),p()}function o(e,t,n){l(e,t[n]),t[n]=""}function s(e,t,n){var r=c(t);""!==r&&(n[r].length+t.length>m&&o(e,n,r),n[r]+="&"+t)}function c(e){var t="";return L.test(e)?t="script":w.test(e)&&(t="style"),t}function l(e,t){t.length>0&&(t=t.replace(/^&/,"?"),y(e+decodeURIComponent(t),e))}function i(){for(;!b&&S.length>0&&k[S[0].toLowerCase()];){var e=u(),t=document.getElementsByTagName("head").item(0);L.test(e.resourceUrl)?t.appendChild(d(e.resourceUrl,e.data)):w.test(e.resourceUrl)&&t.appendChild(f(e.resourceUrl,e.data))}p()}function u(){var t=S.shift(),r=t.toLowerCase(),a=k[r];delete k[r];var o={};e(r,o,n(a.combinatorUrl));for(var s in o)delete x[s];return{resourceUrl:t,data:a.data}}function d(e,t){var n=document.createElement("script");return n.type="text/javascript",n.defer=!1,!0===t?(n.src=e,b=!0,E.hookScriptLoad(n,h)):(n.setAttribute("data-src",e),n.text=t),n}function f(e,t){var n;if(!0===t)n=document.createElement("link"),n.href=e,n.rel="stylesheet",n.type="text/css",b=!0,E.hookStyleLinkLoad(n,h);else{var r=document.createTextNode(t);n=document.createElement("style"),n.type="text/css",n.setAttribute("data-href",e),n.styleSheet?n.styleSheet.cssText=r.nodeValue:n.appendChild(r)}return n}function h(e){U&=!e,b=!1,i()}function p(){if(!b&&0===S.length){for(;T.length>0;){var e=T.shift();e&&e.call(window,!U)}U=!1}}function v(e,t){k[e.toLowerCase()].data=t,i()}function y(e,t){if(C.test(e))g(e,t,!0);else{g(e,t,null);var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(200==n.status?v(e,n.responseText):U=!0)},n.open("GET",e,!0),n.send()}i()}function g(t,r,a){S.push(t);var o=t.toLowerCase();k[o]={data:a,combinatorUrl:r};var s={};e(o,s,n(r));for(var c in s)x[c]=!0}var m=2e3,w=/\.css(\?.*)?$/i,L=/\.js(\?.*)?$/i,C=/^(https?:)?\/\//i,S=[],k={},x={},T=[],b=!1,U=!1,E={addResources:function(e,n,r){T.push(r),e=""+e,a(n,t(e),e)},addResource:function(e,t){T.push(t),y(e,null)},hookScriptLoad:function(e,t){null===e.onreadystatechange?e.onreadystatechange=function(){"complete"==this.readyState?t(!0):"loaded"==this.readyState&&t(!1)}:e.onload=function(){t(!0)}},hookStyleLinkLoad:function(e,t){"sheet"in e?"sheet":"styleSheet";var n=document.styleSheets.length,r=setInterval(function(){try{document.styleSheets.length!=n&&(clearInterval(r),clearTimeout(a),t.call(window,!0))}catch(e){}},10),a=setTimeout(function(){clearInterval(r),clearTimeout(a),t.call(window,!1)},5e3)}};return E}();