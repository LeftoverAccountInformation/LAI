!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ui=t():e.ui=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(1),a=i(s),r=n(14),l=i(r);n(16);var u={debounce:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,l.default)(e,t,{leading:n,trailing:!0,debounce:!0})},deleteCookie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.hostname.replace(/.+?\./,"."),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";document.cookie="localhost"===t?e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path="+n:e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path="+n+"; domain="+t},error:function(e){console.error(e)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},focusable:function(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&this.visible(e)},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=n.length,o=void 0,s=0;s<i;s++)if(o=n[s].trim(),0===o.indexOf(t))return o.substring(t.length,o.length);return""},getDictionaryCookie:function(e,t){var n=this.getCookie(e);if(!n.length)return"";for(var i=n.split("&"),o=t+"=",s=i.length-1;s>=0;s--)if(-1!==i[s].indexOf(o))return i[s].substr(i[s].indexOf(o)+o.length);return""},getElementIndex:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.parentNode.children,n=0;n<t.length;n++)if(t[n]===e)return n;return-1},getRandomNumber:function(e,t){return isNaN(e)||isNaN(t)?Date.now().toString()+Math.floor(1e3*Math.random()+1):Math.floor(Math.random()*(1+t-e)+e)},getTabbableElements:function(e){for(var t=e.querySelectorAll(this.tabbableTags),n=[],i=0;i<t.length;i++)this.tabbable(t[i])&&n.push(t[i]);return n},getUrlParameterValue:function(e,t,n){for(var i=t?(t.split(/\?(.+)?/)[1]||"").split(/#(.+)?/)[0]:window.location.search.substring(1),o=i.replace(/&amp;/g,"&").split("&"),s=o.length,a=e,r=0;r<s;r++){var l=o[r].split("=");if(n||(a=a.toLowerCase(),l[0]=l[0].toLowerCase()),decodeURIComponent(l[0])===a)return l[1]?decodeURIComponent(l[1]):""}},insertAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},isValidCallback:function(e){return e&&"function"==typeof e},keyCodes:{down:40,enter:13,esc:27,left:37,leftBracket:219,right:39,rightBracket:221,shift:16,space:32,tab:9,up:38},lang:function(){var e=document.querySelector("[lang]");return e?e.getAttribute("lang").toLowerCase():"en"}(),log:function(e){console.log(e)},numberToLocaleString:function(e,t){try{return e.toLocaleString(this.lang,t)}catch(t){return e.toLocaleString()}},removeAttributes:function(e,t){for(var n=t.split(" "),i=0;i<n.length;i++)e.removeAttribute(n[i])},setAttributes:function(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})},setCookie:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.hostname.replace(/.+?\./,"."),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"/",s=new Date;s.setTime(s.getTime()+864e5*n);var a="expires="+s.toUTCString(),r=e+"="+t+"; "+a+"; "+(i&&"localhost"!==i?"domain="+i+"; ":"")+(o?"path="+o+"; ":"");document.cookie=r},setDictionaryCookie:function(e,t,n,i,o,s){var a=e.toUpperCase(),r=t.toUpperCase(),l=this.getCookie(a);if(null===l||void 0===l)l=r+"="+n;else{var u=l.toLowerCase(),c=u.indexOf(r.toLowerCase()+"=");if(-1===c)l.length>0&&(l+="&"),l=""+l+r+"="+n;else{var d=u.indexOf("&",c);-1===d?l=0===c?r+"="+n:""+l.substring(0,c)+r+"="+n:(u=l,l="",c>0&&(l=u.substring(0,c)),l=""+l+r+"="+n+u.substring(d))}}this.setCookie(a,l,i,o,s)},smoothScroll:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"scrollTop",o=arguments[4],s=e[i],a=t-s,r=0,l=function(e,t,n,i){var o=e/(i/2);return o<1?n/2*o*o+t:(o-=1,-n/2*(o*(o-2)-1)+t)};!function t(){r+=20;var u=l(r,s,a,n);if(e[i]=u,r>=n)return void(ui.isValidCallback(o)&&o());setTimeout(t,20)}()},tabbable:function(e){var t=e.getAttribute("tabindex"),n=isNaN(t);return(n||t>=0)&&this.focusable(e,!n)},tabbableTags:"[tabindex], a[href], button, input, object, select, textarea",throttle:l.default,timer:function(e,t){var n=void 0,i=t,o=void 0,s="stopped",a={pause:function(){"play"===s&&(clearTimeout(n),i-=new Date-o,s="pause")},stop:function(){"stopped"!==s&&(clearTimeout(n),i=t,s="stopped")},play:function(){"play"!==s&&(o=new Date,clearTimeout(n),n=setTimeout(function(){e(),i=t},i)),s="play"}};return a.play(),a},ucfirst:function(e){return""+e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},visible:function(e){var t=!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),n=!Array.prototype.filter.call(function(e){for(var t=e,n=[];t&&t.parentNode&&t!==t.parentNode;)n.push(t.parentNode),t=t.parentNode;return n}(e).push(e),function(e,t){return"hidden"===window.getComputedStyle(t).visibility}).length;return t&&n},warn:function(e){console.warn(e)}};t.default=o(Object.create({Base:a.default}),u),t.Base=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(8),d=i(c),f=n(4),h=i(f),p=n(9),v=i(p);n(13);var m=function(){function e(t){s(this,e),this.id="ui"+u.default.getRandomNumber(),t&&this.addElement(t)}return r(e,null,[{key:"addInstance",value:function(t){if(t&&0!==Object.keys(t).length){var n=t.constructor.name;e.instances[n]||(e.instances[n]={}),e.instances[n][t.id]=t}}},{key:"getInstance",value:function(t,n){if(e.instances[n])return e.instances[n][t]}},{key:"removeInstance",value:function(t){var n=e.instances[t.constructor.name];n&&n[t.id]&&delete n[t.id]}},{key:"runMethodOnActiveInstances",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments[3],a=s||function(e){return e.isOpen},r=e.instances[n];r&&Object.keys(r).forEach(function(e){var n=r[e];if(a(n)){var s=Array.isArray(i)?i:[i];n[t].apply(n,o(s))}})}},{key:"localize",value:function(e,t){var n=u.default.lang;return e[n]&&e[n][t]?e[n][t]:e[n.substring(0,2)]&&e[n.substring(0,2)][t]?e[n.substring(0,2)][t]:e.en[t]||""}}]),r(e,[{key:"addElement",value:function(e){this.element=e;var t=e.getAttribute("data-ui-id");t?this.id=t:this.element.setAttribute("data-ui-id",this.id),this._events={}}},{key:"addEventListeners",value:function(e,t){var n={};return Object.keys(t).forEach(function(i){n[i]=t[i],e.addEventListener(i,n[i])}),{element:e,handlers:n}}},{key:"destroy",value:function(){var t=this;e.removeInstance(this),this._events&&Object.keys(this._events).forEach(function(e){t.removeEventListeners(t._events[e])}),Object.keys(this).forEach(function(e){delete t[e]}),Object.setPrototypeOf(this,null)}},{key:"dispatchEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.element,i={bubbles:!0,cancelable:!0};n.dispatchEvent(new CustomEvent(e,a({},i,t)))}},{key:"executeCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{element:this.element};if(e&&u.default.isValidCallback(e))return e(t)}},{key:"removeEventListeners",value:function(e){e&&Object.keys(e.handlers).forEach(function(t){var n=e.handlers[t];e.element.removeEventListener(t,n),n&&n.isThrottled&&n.cancel()})}}]),e}();m.init=d.default,m.instances={},m.getElements=h.default,m.typeCheck=v.default,t.default=m},function(e,t,n){"use strict";function i(e){if(!e)return[];if(e instanceof window.HTMLElement)return[e];if(e instanceof window.NodeList||e instanceof window.HTMLCollection)return e;if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3){var t=document.createElement("div");return t.innerHTML=e,[t.firstChild]}return document.querySelectorAll(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(2),a=i(s);n(17);var r=n(18),l=i(r),u=n(21),c=i(u);n(24),n(25);var d=n(5),f=i(d);n(28),n(29),n(30),n(6),n(31),n(32);var h=n(33),p=i(h);n(36),n(37),n(38);var v=n(39),m=i(v);n(44),n(45),n(46);var g=n(47),y=i(g);t.default=o(Object.create(a.default),{alert:l.default,autocomplete:c.default,callout:f.default,modal:p.default,tabs:m.default,validator:y.default})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.name;if(t)return t.toLowerCase();var n=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^\(\s\/]*)\s*/,i=e.toString().match(n);return e.name=i?i[1]:"",e.name.toLowerCase()}function s(e,t,n){if(t){var i=f.default.getInstance(t.getAttribute("data-ui-id"),e.name||o(e));i&&i.destroy()}var s=new e(t,n);return f.default.addInstance(s),s}function a(e,t,n,i){for(var o=[],a=t.length,r=i.enforceSingleInstance&&a>1?[]:void 0,l=0;l<a;++l){var u=s(e,t[l],n);o.push(u),r&&r.push(u.id)}return i.enforceSingleInstance&&a>1?(o.forEach(function(e){e.sharedIds=r}),o[0]):o}function r(e,t){var n=function(n,i){try{e.validateConfig&&e.validateConfig(i)}catch(e){return void c.default.error("UI Config "+e)}var o=(0,p.default)(n),r=o.length;return r<=1?0===r&&t.elementRequired?void c.default.warn("Unable to find the provided elements. Component: "+e.name+", Selector: "+n):s(e,o[0],i):a(e,o,i,t)};return Object.getOwnPropertyNames(e).filter(function(t){return"arguments"!==t&&"caller"!==t&&"function"==typeof e[t]}).forEach(function(t){n[t]=e[t]}),n.getInstance=function(t){return f.default.getInstance(t,e.name)},n.defaults=e.defaults,n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=n(0),c=i(u),d=n(3),f=i(d),h=n(4),p=i(h),v=!1,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){if(window.ui){var n=o(t),i=window.ui[n],s=["alert","autocomplete","callout","modal","tabs","validator"],a=-1!==s.indexOf(n),u=a&&!v;if(i)return u?(v=!0,c.default.warn("You are including core.js multiple times")):a||c.default.warn("You are including "+n+".js multiple times"),i}return r(t,l({},{enforceSingleInstance:!1,elementRequired:!0},e))}};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),s=i(o),a=n(12),r=i(a),l={boolean:function(e){return new s.default("boolean",e)},fn:function(e){return new s.default("function",e)},instanceof:function(e,t){return new s.default(e,t,function(t){return t instanceof e})},number:function(e){return new s.default("number",e)},object:function(e){return new s.default("object",e)},string:function(e){return new s.default("string",e)},_checkRequired:function(e,t,n){return!(-1!==n.indexOf(e))||Object.prototype.hasOwnProperty.call(t,e)},execute:function(e,t){var n=this,i=t.expected,o=t.actual,s=void 0===o?{}:o,a=t.required,l=void 0===a?[]:a,u=[];if(Object.keys(i).forEach(function(e){var t=n._checkRequired(e,s,l),o=s[e],a=void 0===o||n._execute(o,i[e]);if(!t||!a){var r=t?"Invalid property type/value for '"+e+".'":"Required property '"+e+"' is not provided.";u.push(r)}}),u.length>0)throw new r.default(e,u)},_execute:function(e,t){return t instanceof Array?t.some(function(t){return t.validate(e)}):t.validate(e)}};t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2];i(this,e),this.expected=t,o&&(this._validate=o),this.allowedValues=n}return s(e,[{key:"validate",value:function(e){return this._validate(e,this.expected)&&this.checkAllowed(e)}},{key:"_getType",value:function(e){return void 0===e?"undefined":o(e)}},{key:"checkAllowed",value:function(e){return 0===this.allowedValues.length||-1!==this.allowedValues.indexOf(e)}},{key:"_validate",value:function(e,t){return this._getType(e)===t}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(e,n){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+": One or more options were invalid. Please visit https://www.ancestry.com/cs/standards/"+e.toLowerCase()+" for documentation.\n\n"+n.join("\n")));return s.label=e,s.errors=n,s}return s(t,e),t}(Error);t.default=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(){function e(t,n,a){var r=this;o(this,e),this.invokeCallback=function(e){r.lastInvoke=e,r.callback.apply(r,i(r.lastArgs)),r.clearArguments()},this.callback=t,this.delay=n,this.config=s({leading:!0,trailing:!0},a),this.lastInvoke=0,this.lastCall=0}return a(e,[{key:"cancelTimer",value:function(){clearTimeout(this.timerId),this.timerId=void 0}},{key:"clearArguments",value:function(){this.lastArgs=void 0}},{key:"execute",value:function(e){var t=this.config,n=t.leading,i=t.trailing;if(!n&&!i)return void l.default.warn("You must have either a trailing or leading enabled in your throttle/debounce");var o=Date.now();this.lastArgs=e,this.leadingEdge(o),this.lastCall=o,this.trailingEdge()}},{key:"inProgress",value:function(){return void 0!==this.timerId}},{key:"leadingEdge",value:function(e){this.shouldInvokeLeading(e)&&this.invokeCallback(e)}},{key:"reset",value:function(){this.cancelTimer(),this.clearArguments(),this.lastCall=0,this.lastInvoke=0}},{key:"shouldInvokeLeading",value:function(e){var t=this.config,n=t.leading,i=t.debounce;if(!n)return!1;var o=e-this.lastCall,s=e-this.lastInvoke,a=o>=this.delay,r=s>=this.delay||0===s;return i?a:r}},{key:"shouldInvokeTrailing",value:function(){var e=this.config,t=e.trailing,n=e.debounce;return t&&(n||!this.inProgress())}},{key:"startTimer",value:function(e){return this.config.debounce&&this.cancelTimer(),setTimeout(e.bind(this),this.delay)}},{key:"timerExpired",value:function(){this.lastCall===this.lastInvoke||(this.invokeCallback(Date.now()),this.reset())}},{key:"trailingEdge",value:function(){this.shouldInvokeTrailing()&&(this.timerId=this.startTimer(this.timerExpired))}}]),e}();t.default=function(e,t,n){var i=new u(e,t,n),o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.execute(t)};return o.cancel=function(){return i.cancelTimer()},o.isThrottled=!0,o}},function(e,t,n){"use strict";!function(e,t,n,i,o,s,a){function r(e){return function(){for(var t=0;t<arguments.length;)e.call(this,arguments[t++])}}if(String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[e.prototype,t.prototype,n.prototype].forEach(function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),e.prototype.closest||(e.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),n=void 0,i=this;do{for(n=t.length;n>=0&&t.item(n)!==i;)n-=1}while(n<0&&(i=i.parentElement));return i}),e.prototype.matches||(e.prototype.matches=e.prototype.matchesSelector||e.prototype.mozMatchesSelector||e.prototype.msMatchesSelector||e.prototype.oMatchesSelector||e.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;n>=0&&t.item(n)!==this;)n-=1;return n>-1}),window.NodeList&&!window.NodeList.prototype.forEach&&(window.NodeList.prototype.forEach=function(e,t){for(var n=t||window,i=0;i<this.length;i++)e.call(n,this[i],i,this)}),!!window.MSInputMethodContext&&!!document.documentMode){if(Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,i=function(e){var t,i=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(i,0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,s=arguments.length>1?arguments[1]:void 0;if(void 0!==s){if(!t(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,r=i(n.length),l=t(this)?Object(new this(r)):new Array(r),u=0;u<r;)a=n[u],l[u]=s?void 0===o?s(a,u):s.call(o,a,u):a,u+=1;return l.length=r,l}}()),"function"!=typeof window.CustomEvent){var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};l.prototype=window.Event.prototype,window.CustomEvent=l}var u=i.prototype,c=document.createElement("div");c.classList.add("a","b"),"a b"===c.className||Object.defineProperties(u,{add:{writable:!0,configurable:!0,value:r(u.add)},remove:{writable:!0,configurable:!0,value:r(u.remove)}}),c.className="a b",c.classList.toggle("a",!0),"a b"===c.className||Object.defineProperty(u,"toggle",{writable:!0,configurable:!0,value:function(e){return function(t,n){return void 0===n?e.call(this,t):(n?this.add(t):this.remove(t),n)}}(u.toggle)}),function(e){e.forEach(function(e){Object.prototype.hasOwnProperty.call(e,"prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var e=document.createDocumentFragment(),t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(t){var n=t instanceof a;e.appendChild(n?t:document.createTextNode(String(t)))}),this.insertBefore(e,this.firstChild)}})})}([e.prototype,o.prototype,s.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var o=0|t,s=Math.max(o>=0?o:i-Math.abs(o),0);s<i;){if(function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[s],e))return!0;s++}return!1}})}}(window.Element,window.CharacterData,window.DocumentType,window.DOMTokenList,window.Document,window.DocumentFragment,window.Node)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u);n(20);var Alert=function(e){function Alert(e,t){i(this,Alert);var n=o(this,(Alert.__proto__||Object.getPrototypeOf(Alert)).call(this,e));return n.config=a({},Alert.defaults,n._getOptionsByClass(),t),n.animateDuration=410,n.isOpen=!1,n.shouldAnimate=n.config.animation,n._initType(),n._setClosableIfNeeded(),c.default.setAttributes(e,n._getAttributes()),n._initClasses(),n.marginTop=n._getAlertMargin("top"),n.marginBottom=n._getAlertMargin("bottom"),n._handleNotificationDisplay(),n.config.closable&&n._createCloseButton(),n.config.open&&n.open(),n}return s(Alert,e),l(Alert,null,[{key:"getNotificationContainer",value:function(){if(Alert.container)return Alert.container;var e=document.createElement("div"),t={"aria-label":u.Base.localize(Alert.langSets,"label"),id:"alertNotifications",class:"alertNotifications",role:"region"};return c.default.setAttributes(e,t),Alert.container=e,Alert.container}},{key:"validateConfig",value:function(e){var t=u.Base.typeCheck,n={animation:t.boolean(),closable:t.boolean(),destroyOnClose:t.boolean(),display:t.string(),duration:t.number(),location:t.string(["bottomRight","topRight"]),onClose:t.fn(),onOpen:t.fn(),onRequestClose:t.fn(),open:t.boolean(),type:t.string(["warning","info","success","error"])},i=[];t.execute(Alert.name,{expected:n,required:i,actual:e})}}]),l(Alert,[{key:"center",value:function(){if(!this.config||"overlay"===this.config.display){a(this.element.style,{display:"inline-block",position:"relative",width:"auto"});var e=Math.ceil(this.element.getBoundingClientRect().width);a(this.element.style,{display:"",marginLeft:"-"+Math.floor(e/2)+"px",position:"",width:e+"px"})}}},{key:"_clearOpeningStyles",value:function(){this.element.classList.remove("alertNoTransition","alertHiding"),this.element.style.marginBottom="",this.element.style.marginTop=""}},{key:"close",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.element;if(this.isOpen)if("notification"===this.config.display&&this.savedActiveElement.focus(),n.dispatchEvent(new CustomEvent("alert-closing",{bubbles:!0,cancelable:!0})),this.config.animation){var i=n.classList.contains("alertSitewide")||null===n.previousElementSibling,o=n.classList.contains("alertContextualTop"),s=void 0;if(i){var a=window.getComputedStyle(n),r=parseInt(a.marginTop,10)||0;s=n.offsetHeight+r}else s=n.offsetHeight;o?n.style.marginTop=this.marginBottom-s+"px":(n.classList.add("alertContextualBottomHiding"),n.style.marginBottom=this.marginBottom-s+"px"),n.classList.add("alertHiding"),this.animateClose=setTimeout(function(){e._closed(t)},this.animateDuration)}else this._closed(t)}},{key:"_closed",value:function(e){var t=this.element;t.classList.add("alertHidden"),t.style.marginBottom="",this.durationTimer&&this.durationTimer.stop(),"notification"!==this.config.display||this.config.location||(t.remove(),this._removeNotificationContainer()),this.isOpen=!1;var n=this.config.onClose;r(Alert.prototype.__proto__||Object.getPrototypeOf(Alert.prototype),"executeCallback",this).call(this,n),t.dispatchEvent(new CustomEvent("alert-closed",{bubbles:!0,cancelable:!0})),this.config.destroyOnClose&&e&&this.destroy()}},{key:"_createCloseButton",value:function(){var e=this,t=this.element,n=document.createElement("button"),i={class:"closeBtn alertCloseBtn",type:"button","aria-label":""+u.Base.localize(Alert.langSets,"closeBtn")};c.default.setAttributes(n,i),n.addEventListener("click",function(){e.requestClose()}),t.insertAdjacentElement("afterbegin",n),this.closeBtn=n}},{key:"destroy",value:function(){this.config.animation=!1,this.isOpen&&this.close(!1),clearTimeout(this.animateClose),clearTimeout(this.timedFunc),clearTimeout(this.animateOpen),this._clearOpeningStyles(),this.durationTimer&&this.durationTimer.stop(),this.element.classList.remove("alertClosable","alertContextualBottom","alertContextualTop","alertNotification","alertOverlay","alertSection","alertSitewide"),this.closeBtn&&this.closeBtn.remove(),this.config.destroyOnClose&&this.element.remove(),r(Alert.prototype.__proto__||Object.getPrototypeOf(Alert.prototype),"destroy",this).call(this)}},{key:"_getAlertMargin",value:function(e){var t=window.getComputedStyle(this.element,null),n=parseInt(t.getPropertyValue("margin-"+e),10);return isNaN(n)?0:n}},{key:"_getAttributes",value:function(){var e=this.element,t={role:e.getAttribute("role"),tabindex:-1};return t.role||(e.matches(".alertInfo")?t.role="status":t.role="alert"),t}},{key:"_getOptionsByClass",value:function(){var e={},t=this.element;return t.classList.contains("alertNotification")?e.display="notification":t.classList.contains("alertOverlay")?e.display="overlay":t.classList.contains("alertSection")?e.display="section":t.classList.contains("alertSitewide")&&(e.display="sitewide"),e}},{key:"_setClosableIfNeeded",value:function(){"notification"!==this.config.display&&"overlay"!==this.config.display||(this.config.closable=!0)}},{key:"_handleNotificationDisplay",value:function(){var e=this;"overlay"===this.config.display&&(this.center(),this._events.resize=this.addEventListeners(window,{resize:c.default.debounce(function(){return e.center()},100),orientationchange:c.default.debounce(function(){return e.center()},100)}))}},{key:"_hasTabbableElements",value:function(){for(var e=this.element.children,t=0,n=e.length;t<n;t++){var i=e[t];if(c.default.tabbable(i)&&!i.classList.contains("alertCloseBtn"))return!0}return!1}},{key:"_initClasses",value:function(){var e=this.element.classList,t=this.config;e.add("alert"),e.remove("alertNotification","alertOverlay","alertSection","alertSitewide");var n={notification:"alertNotification",overlay:"alertOverlay",section:"alertSection",sitewide:"alertSitewide"};n[t.display]&&e.add(n[t.display]);var i={bottomRight:"alertContextualBottom",topRight:"alertContextualTop"};i[t.location]&&e.add(i[t.location]),t.closable?e.add("alertClosable"):e.remove("alertClosable"),t.open?e.remove("alertHidden","alertHiding"):e.add("alertHidden","alertHiding")}},{key:"_initType",value:function(){var e={error:"alertError",info:"alertInfo",success:"alertSuccess"},t=this.config.type;e[t]&&this.element.classList.add(e[t])}},{key:"open",value:function(){var e=this,t=this.element;if(!this.isOpen){if("notification"===this.config.display&&(this.savedActiveElement=document.activeElement||document.body),"notification"===this.config.display&&!this.config.location){var n=Alert.getNotificationContainer();n.insertBefore(t,n.firstChild),document.body.appendChild(n)}if(t.dispatchEvent(new CustomEvent("alert-opening",{bubbles:!0,cancelable:!0})),this.shouldAnimate){t.classList.remove("alertHidden");var i=t.offsetHeight,o=t.classList.contains("alertContextualTop");t.classList.add("alertNoTransition"),o?t.style.marginTop=this.marginTop-i+"px":t.style.marginBottom=this.marginBottom-i+"px",this.timedFunc=setTimeout(function(){e._clearOpeningStyles()},10),this.animateOpen=setTimeout(function(){return e._opened()},this.animateDuration)}else t.classList.remove("alertHidden","alertHiding"),this._opened()}}},{key:"_handleTabsWithinNotification",value:function(e){if(e.which===c.default.keyCodes.tab){var t=c.default.getTabbableElements(this.element);t.length||this.savedActiveElement.focus();var n=t[0],i=t[t.length-1],o=-1!==t.indexOf(document.activeElement);e.shiftKey&&!o&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey&&n===document.activeElement&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey||i!==document.activeElement||(n.focus(),e.preventDefault(),e.stopPropagation())}}},{key:"_opened",value:function(){var e=this,t=this.element;"notification"===this.config.display&&(t.focus(),this._events.handleTabsWithinNotification=this.addEventListeners(t,{keydown:function(t){return e._handleTabsWithinNotification(t)}})),this.config.duration>0?(this.durationTimer=c.default.timer(function(){e.requestClose()},this.config.duration),this._events.timer=this.addEventListeners(t,{keyup:function(t){e.durationTimer.stop(),t.keyCode===ui.keyCodes.esc&&e.close()},mouseenter:function(){return e.durationTimer.pause()},mouseleave:function(){return e.durationTimer.play()}})):this._events.escapeNotification=this.addEventListeners(t,{keyup:function(t){t.keyCode===ui.keyCodes.esc&&e.close()}}),this.isOpen=!0;var n=this.config.onOpen;r(Alert.prototype.__proto__||Object.getPrototypeOf(Alert.prototype),"executeCallback",this).call(this,n),t.dispatchEvent(new CustomEvent("alert-opened",{bubbles:!0,cancelable:!0}))}},{key:"_removeNotificationContainer",value:function(){var e=Alert.getNotificationContainer();0===e.children.length&&e.remove()}},{key:"requestClose",value:function(){var e=this.config.onRequestClose;c.default.isValidCallback(e)?e({element:this.element}):this.close()}}]),Alert}(u.Base);Alert.defaults={animation:!0,closable:!1,destroyOnClose:!1,display:"inline",duration:-1,location:void 0,onClose:void 0,onOpen:void 0,onRequestClose:void 0,open:!0,type:"warning"},Alert.langSets={de:{closeBtn:"Warnung schließen",label:"Warnung"},en:{closeBtn:"Close alert",label:"Alert"},es:{closeBtn:"Cerrar alerta",label:"Alerta"},fr:{closeBtn:"Fermer l’alerte",label:"L’alerte"},it:{closeBtn:"Chiudi avviso",label:"Avviso"},sv:{closeBtn:"Stäng meddelande",label:"Meddelande"}},t.default=u.Base.init()(Alert)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},c=n(0),d=function(e){return e&&e.__esModule?e:{default:e}}(c);n(23);var Autocomplete=function(e){function Autocomplete(e,t){i(this,Autocomplete);var n=o(this,(Autocomplete.__proto__||Object.getPrototypeOf(Autocomplete)).call(this,e));return n.close=function(){if(n.isOpen){var e=n.config;u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",n).call(n,e.onClose),n.before.remove(),n.after.remove(),d.default.isValidCallback(e.onOpen)&&(n.before.innerHTML="",n.after.innerHTML=""),n._events.window&&n._events.window.handlers.resize.cancel(),(n.inModal||n.inCallout)&&document.body.appendChild(n.autocomplete),n._clearFocus(),n.removeEventListeners(n._events.window),n.removeEventListeners(n._events.html),n.removeEventListeners(n._events.body),n.removeEventListeners(n._events["container-mouse-events"]),n.container.classList.remove("autocompleteVisible","autocompleteInModal","autocompleteInCallout"),n.resultsList.innerHTML="",n.autocomplete.style.maxHeight="",n.element.setAttribute("aria-expanded","false"),n.element.classList.remove("autocompleteAttached","autocompleteInputInCallout"),n.isOpen=!1,n.element.dispatchEvent(new CustomEvent("autocomplete-closed",{bubbles:!0,cancelable:!0})),n.resultsList.remove(),n.container.remove(),n.autocomplete.remove()}},n.config=r({},Autocomplete.defaults,t),n.autocomplete=Autocomplete._getAutocompleteWrapper(),n.cachedData={},n.container=document.createElement("div"),n.element=e,n._events={},n.isOpen=!1,n.needsIosFix=window.navigator.userAgent.match(/iPhone|iPad|iPod/i),n.rawResults={},n.resultsList=document.createElement("ul"),n.staticAjaxResponse=[],n.screenTouches={},n.term="",n.run=d.default.debounce(function(){return n._retrieveResults()},200),n._defineBeforeAfterContent(),n._generateMarkup(),n._addEvents(),n._handleCreateEvents(),n}return s(Autocomplete,e),l(Autocomplete,null,[{key:"_getAutocompleteWrapper",value:function(){var e=document.getElementById("autocomplete");return e||(e=document.createElement("div"),e.setAttribute("id","autocomplete")),e}},{key:"validateConfig",value:function(e){var t=c.Base.typeCheck,n={after:[t.string(),t.instanceof(window.Node)],ajaxOverride:t.fn(),alwaysOpenOnFocus:t.boolean(),autocompleteClasses:t.string(),before:[t.string(),t.instanceof(window.Node)],customDisplay:t.fn(),dataType:t.string(["json","jsonp","document","text"]),disableNoResultsMessage:t.boolean(),highlight:[t.boolean(),t.object()],jsonConversion:t.fn(),jsonp:t.string(),matchBeginning:t.boolean(),maxResults:t.number(),minLength:t.number(),onChange:t.fn(),onClose:t.fn(),onCreate:t.fn(),onError:t.fn(),onFocus:t.fn(),onItemSelect:t.fn(),onOpen:t.fn(),onResponse:t.fn(),onSearch:t.fn(),queryParameter:t.string(),searchKey:t.string(),source:[t.string(),t.object(),t.fn()],timeout:t.number()},i=["searchKey","source"];!e||"document"!==e.dataType&&"text"!==e.dataType||i.push("jsonConversion"),t.execute(Autocomplete.name,{expected:n,required:i,actual:e})}},{key:"close",value:function(){c.Base.runMethodOnActiveInstances("close",Autocomplete.name)}},{key:"reposition",value:function(){c.Base.runMethodOnActiveInstances("reposition",Autocomplete.name)}}]),l(Autocomplete,[{key:"_addBeforeAfterContent",value:function(){var e=this.config;e.before&&this.container.insertAdjacentElement("afterbegin",this.before),e.after&&this.container.insertAdjacentElement("beforeend",this.after)}},{key:"_addEvents",value:function(){var e=this;this._events.container=this.addEventListeners(this.container,{click:function(){return e._handleResultsClick()},keydown:function(t){return e._handleResultsKeydown(t)}}),this._events.element=this.addEventListeners(this.element,{keydown:function(t){return e._handleInputKeydown(t)},focusin:function(){return e._handleInputFocusin()},input:d.default.debounce(function(){return e._handleInput()},200),focusout:function(){return e._cancelRequest()}})}},{key:"_ajaxError",value:function(e,t,n){d.default.warn("Autocomplete Source "+this.config.source+" returned an error"),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onError,{element:this.element,xhr:e,status:t,response:n}),this.close()}},{key:"_ajaxRequest",value:function(){var e=this,t=this.config,n=-1!==t.source.indexOf("?")?"&":"?",i=t.source+(t.queryParameter?""+n+t.queryParameter+"="+this.term:"");if("jsonp"===t.dataType)return void this._ajaxRequestWithJsonp(i);var o=new XMLHttpRequest,s=function(){e._ajaxError(o,o.statusText)};o.open("GET",i,!0),o.onload=function(){o.status>=200&&o.status<400?e._ajaxSuccess(t.dataType.match(/json|document/)?o.response:o.responseText):s()},o.responseType=t.dataType,o.onerror=s,this._cancelRequest(),this.resultsList.classList.add("loading"),t.timeout&&(o.timeout=t.timeout),t.withCredentials&&(o.withCredentials=!0),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,t.ajaxOverride,{element:this.element,xhr:o}),o.send(),this.xhr=o}},{key:"_ajaxRequestWithJsonp",value:function(e){var t=this,n=-1!==e.indexOf("?")?"&":"?",i="autocompleteCallback"+d.default.getRandomNumber();window[i]=function(e){t._ajaxSuccess(e),document.getElementById(i).remove()};var o=document.createElement("script");o.src=""+e+n+this.config.jsonp+"="+i,o.setAttribute("id",i),document.head.appendChild(o)}},{key:"_ajaxSuccess",value:function(e){var t=this.config,n=void 0;n=d.default.isValidCallback(t.jsonConversion)?t.jsonConversion({element:this.element,data:e,config:t}):"string"==typeof e?JSON.parse(e):e,t.queryParameter||(this.staticAjaxResponse=n);var i=this._cacheResults(n);!i.length&&t.disableNoResultsMessage?this.close():(this._open(),this._populate(i))}},{key:"_bindMouseEvents",value:function(){var e=this;this._events["container-mouse-events"]=this.addEventListeners(this.container,{mouseover:function(t){var n=t.target.closest("#"+e.container.id+" .autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)");null!==n&&(e.focus=e._focusItem(n))},mouseout:function(t){null!==t.target.closest(".autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)")&&(t.relatedTarget||"clear"===t.detail)&&e._clearFocus()}})}},{key:"_buildResult",value:function(e,t,n){var i=this,o=this.config,s={term:this.term,value:e[o.searchKey],display:this._getHighlightedValue(this.term,e[o.searchKey]),raw:e};d.default.isValidCallback(o.customDisplay)&&(s=o.customDisplay({element:this.element,data:s}));var a="autocompleteResult";!0===s.checked&&(a+=" autocompleteChecked iconAfter iconAfterCheck");var r=document.createElement("li"),l=n+"Autocomplete"+t;return d.default.setAttributes(r,{class:a,role:"option",id:l}),s.disabled?r.setAttribute("aria-disabled","true"):r.setAttribute("tabindex",0),r.innerHTML='<div class="textWrap">'+s.display+"</div>",this.rawResults[l]={raw:e,value:s.value},s.disabled||r.addEventListener("click",function(e){i._handleResultClick(e)}),r}},{key:"_cacheResults",value:function(e){var t=this,n=[];return this.fullDataset=e||n,this.config.queryParameter&&e?n=e:Array.isArray(e)&&e.forEach(function(e){t._compare(e)&&n.push(e)}),this.cachedData[this.term.toLowerCase()]=n,n}},{key:"_cancelRequest",value:function(){this.xhr&&4!==this.xhr.readyState&&this.xhr.abort()}},{key:"_clearFocus",value:function(){this.focus&&(this.focus.removeAttribute("aria-selected"),this.focus.classList.remove("autocompleteSelected"),this.focus=!1)}},{key:"_compare",value:function(e){var t=this.config,n=new RegExp(d.default.escapeRegExp(this.term),"gi"),i=e[t.searchKey]?e[t.searchKey].search(n):-1;return t.matchBeginning&&0===i||!t.matchBeginning&&-1!==i}},{key:"_defineBeforeAfterContent",value:function(){var e=document.createElement("div");e.classList.add("autocompleteBefore");var t=document.createElement("div");t.classList.add("autocompleteAfter"),"string"==typeof this.config.before?e.insertAdjacentHTML("beforeend",this.config.before):this.config.before instanceof Node&&e.appendChild(this.config.before),"string"==typeof this.config.after?t.insertAdjacentHTML("beforeend",this.config.after):this.config.after instanceof Node&&t.appendChild(this.config.after),this.before=e,this.after=t}},{key:"destroy",value:function(){this.close(),this.run.cancel(),this.element.classList.remove("autocompleteInput"),this.removeEventListeners(this._events.element),d.default.removeAttributes(this.element,"aria-autocomplete aria-controls aria-expanded aria-owns autocomplete role data-ui-id"),this.container.remove(),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"destroy",this).call(this)}},{key:"flush",value:function(){this.cachedData={}}},{key:"_focusItem",value:function(e){return this._clearFocus(),e.classList.add("autocompleteSelected"),e.focus(),e.closest("#"+this.id+"Results")&&e.setAttribute("aria-selected","true"),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onFocus,{element:this.element,item:e}),this.element.dispatchEvent(new CustomEvent("autocomplete-item-focused",{bubbles:!0,cancelable:!0})),e}},{key:"_generateMarkup",value:function(){d.default.setAttributes(this.container,{id:this.id+"ResultCon",class:this.config.autocompleteClasses+" autocompleteCon autocompleteVisible"}),d.default.setAttributes(this.resultsList,{id:this.id+"Results",class:"autocompleteResults loading",role:"listbox"}),d.default.setAttributes(this.element,{"aria-autocomplete":"list","aria-controls":this.id+"Results","aria-expanded":"false","aria-owns":this.id+"Results",autocomplete:"off",role:"combobox"}),this.element.classList.add("autocompleteInput"),this.container.appendChild(this.resultsList),this.autocomplete.appendChild(this.container),this._addBeforeAfterContent()}},{key:"_getHighlightedValue",value:function(e,t){var n=this.config,i=t;if(n.highlight&&e.length>0){var o=new RegExp(d.default.escapeRegExp(e),"gi");if(!0===n.highlight)i=i.replace(o,function(e){return'<span class="autocompleteHighlighted">'+e+"</span>"});else{var s=new RegExp(d.default.escapeRegExp(n.highlight.open),"g"),a=new RegExp(d.default.escapeRegExp(n.highlight.close),"g");i=i.replace(s,'<span class="autocompleteHighlighted">').replace(a,"</span>")}}return i}},{key:"getRawData",value:function(){return this.raw}},{key:"_handleCreateEvents",value:function(){u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onCreate),this.element.dispatchEvent(new CustomEvent("autocomplete-initialized",{bubbles:!0,cancelable:!0}))}},{key:"_handleFocusOrMouseDownOnOtherElement",value:function(e){var t=e.target,n=!!t.closest("#"+this.id+"ResultCon"),i=this.inCallout&&t.matches(".calloutContent"),o=this.inModal&&t.matches(".modalFlex"),s=t===this.element;n||i||s||o||this.close()}},{key:"_handleHtmlTouchendOrClick",value:function(e){var t=e.target,n=t.getAttribute("for"),i=!!n&&document.getElementById("#"+n),o=!!e.changedTouches&&Math.max(Math.abs(this.screenTouches.x-e.changedTouches[0].pageX),Math.abs(this.screenTouches.y-e.changedTouches[0].pageY))<5,s=null!==t.closest("#"+this.id+"ResultCon");t===this.element||s||(!i||i.classList.contains("autocompleteAttached"))&&(i||t.classList.contains("autocompleteAttached"))||("click"===e.type||o)&&this.close()}},{key:"_handleHtmlTouchstart",value:function(e){this.screenTouches.x=e.touches?e.touches[0].pageX:e.pageX,this.screenTouches.y=e.touches?e.touches[0].pageY:e.pageY}},{key:"_handleInput",value:function(){this.raw&&(this.raw=null),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onChange),this.run()}},{key:"_handleInputFocusin",value:function(){this.isOpen?this._clearFocus():this._retrieveResults()}},{key:"_handleInputKeydown",value:function(e){var t=e.keyCode||e.which;t===d.default.keyCodes.tab||t===d.default.keyCodes.esc?this.close():t!==d.default.keyCodes.up&&t!==d.default.keyCodes.down||(this._navigateListItems(t===d.default.keyCodes.up),e.stopPropagation(),e.preventDefault())}},{key:"_handleResultClick",value:function(e){var t=e.currentTarget;t.getAttribute("aria-disabled")&&(e.stopPropagation(),e.preventDefault()),this._selectItem(t)}},{key:"_handleResultsClick",value:function(){this.inModal&&d.default.modal&&d.default.modal.preventClosing()}},{key:"_handleResultsKeydown",value:function(e){var t=e.keyCode||e.which,n=e.target,i=!!n.closest("#"+this.id+"Results"),o=i&&t===d.default.keyCodes.tab,s=i&&t===d.default.keyCodes.enter,a=o||s,r=s||t===d.default.keyCodes.esc||t===d.default.keyCodes.up||t===d.default.keyCodes.down||t===d.default.keyCodes.leftBracket||t===d.default.keyCodes.rightBracket,l=t===d.default.keyCodes.esc||t===d.default.keyCodes.tab&&!i,u=l||!r&&t!==d.default.keyCodes.enter&&!n.matches("input, textarea"),c=t===d.default.keyCodes.up||t===d.default.keyCodes.leftBracket,f=t===d.default.keyCodes.down||t===d.default.keyCodes.rightBracket;a?this._selectItem(n):u?this.element.focus():c?this._navigateListItems(!0):f?this._navigateListItems():l&&this.close(),r&&(e.preventDefault(),e.stopPropagation())}},{key:"_navigateListItems",value:function(e){var t=d.default.getTabbableElements(this.container),n=t[0],i=t[t.length-1];if(!t.length)return!1;var o=!1;if(this.focus){var s=e?n:i;if(this.focus!==s){var a=d.default.getElementIndex(this.focus,t);o=t[e?a-1:a+1]}}else o=e?i:n;o?this.focus=this._focusItem(o):this.element.focus()}},{key:"_open",value:function(){var e=this;if(this.inModal=!!this.element.closest("#modal"),this.inCallout=!!this.element.closest(".callout"),this.removeEventListeners(this._events.resultsList),this.resultsList.innerHTML="",this.inCallout||this.reposition(),this.isOpen)this.resultsList.classList.remove("loading","autocompleteHasChecks");else{this._generateMarkup(),document.body.appendChild(this.autocomplete),this.resultsList.classList.remove("loading","autocompleteHasChecks");var t=this.config;if(d.default.isValidCallback(t.onOpen)&&(t.onOpen({element:this.element,before:this.before,after:this.after}),this.before.matches(":empty")||this.container.insertAdjacentElement("afterbegin",this.before),this.after.matches(":empty")||this.container.insertAdjacentElement("beforeend",this.after)),this.element.classList.add("autocompleteAttached"),this.element.setAttribute("aria-expanded","true"),this.container.classList.add("autocompleteVisible"),this.inCallout)this.element.classList.add("autocompleteInputInCallout"),this.container.classList.add("autocompleteInCallout"),this.element.parentNode.matches(".labelIconOnly")?d.default.insertAfter(this.autocomplete,this.element.parentNode):d.default.insertAfter(this.autocomplete,this.element);else if(this._events.window=this.addEventListeners(window,{resize:d.default.debounce(function(){return e.reposition()},100)}),this.inModal){this.container.classList.add("autocompleteInModal");var n=document.querySelector(".modalFlex.open");n.appendChild(this.autocomplete)}this._events.html=this.addEventListeners(document.documentElement,{touchstart:function(t){return e._handleHtmlTouchstart(t)},touchend:function(t){return e._handleHtmlTouchendOrClick(t)},click:function(t){return e._handleHtmlTouchendOrClick(t)}}),this._events.body=this.addEventListeners(document.body,{focusin:function(t){return e._handleFocusOrMouseDownOnOtherElement(t)},mousedown:function(t){return e._handleFocusOrMouseDownOnOtherElement(t)}}),this.isOpen=!0,this._bindMouseEvents(),this.element.dispatchEvent(new CustomEvent("autocomplete-opened",{bubbles:!0,cancelable:!0}))}}},{key:"_populate",value:function(e){var t=this;if(u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onResponse,{element:this.element,results:e}),this.populatedResults=e,e.length){var n=this.element.id;e.slice(0,this.config.maxResults).forEach(function(e,i){var o=t._buildResult(e,i,n);t.resultsList.appendChild(o)}),this.resultsList.querySelector(".autocompleteChecked")&&this.resultsList.classList.add("autocompleteHasChecks")}else this.resultsList.innerHTML='<li class="autocompleteResult autocompleteNoResults" role="alert" label="Search Results">'+c.Base.localize(Autocomplete.langSets,"noMatches")+"</li>",this._events.resultsList=this.addEventListeners(this.resultsList,{click:function(e){e.preventDefault(),e.stopPropagation()}}),this.raw=null;this.element.dispatchEvent(new CustomEvent("autocomplete-populated",{bubbles:!0,cancelable:!0}))}},{key:"reposition",value:function(){this.container.style.maxHeight="";var e=this.element.getBoundingClientRect(),t=Number(e.top+window.pageYOffset+this.element.offsetHeight);this.inModal&&(t+=document.getElementById("modalFixed").scrollTop,this.needsIosFix||(t-=window.pageYOffset)),r(this.container.style,{left:e.left+document.body.scrollLeft+"px",top:t+"px",width:this.element.offsetWidth+"px"}),this.element.dispatchEvent(new CustomEvent("autocomplete-repositioned",{bubbles:!0,cancelable:!0}))}},{key:"_retrieveResults",value:function(){var e=this.term;this.term=this.element.value;var t=this.term===e&&this.isOpen,n=document.activeElement.getAttribute("data-ui-id")===this.id;if(!t&&n){var i=this.config;if(this.term.length>=i.minLength){u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,i.onSearch,{element:this.element,term:this.term});var o=void 0;if(Array.isArray(this.cachedData[this.term.toLowerCase()]))o=this.cachedData[this.term.toLowerCase()];else if("function"==typeof i.source)o=d.default.isValidCallback(i.jsonConversion)?i.jsonConversion({element:this.element,data:i.source({element:this.element,term:this.term}),config:i}):i.source({element:this.element,term:this.term});else if("object"===a(i.source)){var s=d.default.isValidCallback(i.jsonConversion)?i.jsonConversion({element:this.element,data:i.source,config:i}):i.source;o=this._cacheResults(s)}else"string"==typeof i.source&&(this.staticAjaxResponse&&this.staticAjaxResponse.length?o=this._cacheResults(this.staticAjaxResponse):this._ajaxRequest());o&&(!o.length&&i.disableNoResultsMessage?this.close():(this._open(),this._populate(o)))}else i.alwaysOpenOnFocus&&!this.isOpen?this._open():!i.alwaysOpenOnFocus&&this.isOpen?this.close():this.resultsList.innerHTML=""}}},{key:"_selectItem",value:function(e){if(e&&this.focus&&e[0]===this.focus[0]){var t=this.config;this.element.value=this.rawResults[e.id].value,this.raw=this.rawResults[e.id].raw,u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,t.onItemSelect,{element:this.element,item:this.raw})}else this.raw=null;this.element.focus(),this.close()}}]),Autocomplete}(c.Base);Autocomplete.defaults={after:"",ajaxOverride:void 0,alwaysOpenOnFocus:!1,autocompleteClasses:"",before:"",customDisplay:void 0,dataType:"json",disableNoResultsMessage:!1,highlight:!0,jsonConversion:void 0,jsonp:"callback",matchBeginning:!1,maxResults:20,minLength:3,onChange:void 0,onClose:void 0,onCreate:void 0,onError:void 0,onFocus:void 0,onItemSelect:void 0,onOpen:void 0,onResponse:void 0,onSearch:void 0,queryParameter:void 0,searchKey:"",source:"",timeout:0,withCredentials:!1},Autocomplete.langSets={de:{noMatches:"Keine Übereinstimmungen gefunden"},en:{noMatches:"No matches found"},es:{noMatches:"No se encontraron concordancias"},fr:{noMatches:"Aucune correspondance trouvée"},it:{noMatches:"Nessuna corrispondenza trovata"},sv:{noMatches:"Inga matchningar hittades"}},t.default=c.Base.init()(Autocomplete)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),d=function(e){return e&&e.__esModule?e:{default:e}}(c);n(27);var Callout=function(e){function Callout(e,t){o(this,Callout);var n=s(this,(Callout.__proto__||Object.getPrototypeOf(Callout)).call(this,e));return n.type=n.constructor.name,n.config=Callout._generateConfig(e,t),n.isOpen=!1,n.modalOffset=0,n.scrollableElement=e.closest(".calloutScrollPane"),n.receivesFocus="field"!==n.config.type&&"hover"!==n.config.type,n._generateMarkup(),n._populateContentElement(),n._initClasses(),n._addCreateEvents(),n.receivesFocus&&e.setAttribute("aria-expanded",!1),n.config.open&&(n.open(),n.addEventListeners(window,{load:function(){n.reposition()}})),n}return a(Callout,e),u(Callout,null,[{key:"close",value:function(){var e=function(e){return e.isOpen&&"guidance"!==e.config.type};c.Base.runMethodOnActiveInstances("requestClose",Callout.name,[],e)}},{key:"_generateConfig",value:function(e,t){var n=r({},Callout.defaults,t);return(e.tagName.match(/input|select|textarea/i)||"field"===n.type)&&(n.hidePointer=!0,n.position="bottom",n.calloutStyle=t.calloutStyle||"dark",n.type="field"),n}},{key:"validateConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.Base.typeCheck,n={calloutClasses:t.string(),calloutStyle:t.string(["alt","dark","light"]),classes:t.string(),content:[t.string(),t.instanceof(window.Node)],disableAutofocusOnOpen:t.boolean(),hidePointer:t.boolean(),onAfterOpen:t.fn(),onClose:t.fn(),onOpen:t.fn(),onRequestAction:t.fn(),position:t.string(["bottom","left","right","top"]),type:t.string(["click","field","guidance","hover"]),width:[t.string(),t.number()]},i=["content"];t.execute(Callout.name,{expected:n,required:i,actual:e})}}]),u(Callout,[{key:"_addCreateEvents",value:function(){var e=this,t=this.config;if("field"===t.type){var n={click:function(e){e.stopPropagation()},focus:function(){e.requestOpen()}};"select"===this.element.tagName.toLowerCase()&&(n.mouseenter=function(){return e.requestOpen()}),this._events.create=this.addEventListeners(this.element,n)}else if("hover"===t.type){var i=d.default.throttle(function(t){e.hovering=!0,e.requestOpen(),"touchstart"===t.type&&t.touches?e.coords={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY}:e.coords={pageX:t.pageX,pageY:t.pageY}},10,{leading:!1,trailing:!0});this._events.create=this.addEventListeners(this.element,{focus:function(){e.requestOpen()},blur:function(){e.requestClose()},touchstart:i,mouseenter:i,mouseleave:function(t){(t.relatedTarget||t.toElement)&&(e.hovering=!1,e._startCloseTimer())}})}else this._events.create=this.addEventListeners(this.element,{click:function(n){e.isOpen?"guidance"!==t.type&&e.requestClose():("a"===e.element.tagName.toLowerCase()&&n.preventDefault(),setTimeout(function(){e.requestOpen()}))}})}},{key:"_addOpenEvents",value:function(){var e=this;this.openEvents=[];var t=this.config;if("field"===t.type&&(this._events.elementBlur=this.addEventListeners(this.element,{blur:function(){e.requestClose&&e.requestClose()}}),this.openEvents.push("elementBlur")),"guidance"!==t.type){var n={},i=d.default.throttle(function(t){return e._handleHtmlClick(t,n)},10,{leading:!1,trailing:!0});this._events.htmlTouchEvents=this.addEventListeners(document.documentElement,{click:i,touchend:i,touchstart:function(e){n.x=e.touches?e.touches[0].pageX:e.pageX,n.y=e.touches?e.touches[0].pageY:e.pageY}}),this.openEvents.push("htmlTouchEvents")}"hover"===t.type&&(this._events.calloutMouseOverEvents=this.addEventListeners(this.wrapElement,{mouseenter:function(){e.hovering=!0,e._stopCloseTimer()},mouseleave:function(){e.hovering=!1,e._startCloseTimer()}}),this.openEvents.push("calloutMouseOverEvents")),this._events.contentKeyEvents=this.addEventListeners(this.contentElement,{keydown:function(t){t.which===d.default.keyCodes.tab&&e._handleTabPress(t)}}),this.openEvents.push("contentKeyEvents"),this._events.windowResizeEvents=this.addEventListeners(window,{resize:d.default.throttle(function(){e.isOpen&&(d.default.visible(e.element)?e.reposition():e.requestClose())},50)}),this.openEvents.push("windowResizeEvents"),this.scrollableElement&&(this._events.calloutScrollEvents=this.addEventListeners(this.scrollableElement,{scroll:d.default.throttle(function(){e._inView()?e.reposition():e.requestClose()},16)}),this.openEvents.push("calloutScrollEvents"));var o=function(t){t.keyCode!==ui.keyCodes.esc||t.target.closest("input")||(e.requestClose(),t.stopPropagation())};this._events.escapePressedOnButton=this.addEventListeners(this.element,{keydown:o}),this.openEvents.push("escapePressedOnButton"),this.receivesFocus&&"guidance"!==this.config.type&&(this._events.closeButtonClick=this.addEventListeners(this.closeButton,{click:function(){e.requestClose()}}),this.openEvents.push("closeButtonClick"),this._events.escapePressed=this.addEventListeners(this.wrapElement,{keydown:o}),this.openEvents.push("escapePressed"))}},{key:"_applyPosition",value:function(e,t){this._resetPosition(),this._setWidth(),this.modalOffset=this._getModalOffset(),this.wrapElement.classList.add(this._getPositionClass(e));var n=this._calculatePosition(e,t);if(this._convertToTransform(this.wrapElement,n),"field"!==this.config.type){var i=this._calculateAlignment(e);i.wrap&&this._convertToTransform(this.wrapElement,i.wrap),!this.config.hidePointer&&i.pointer&&this._convertToTransform(this.pointerElement,i.pointer)}this.wrapElement.classList.remove("unpositioned"),this.positioned=!0}},{key:"_calculateAlignment",value:function(e){var t=this._getLocation(),n=this._getLocation(this.wrapElement),i="left"===e||"right"===e;if(i?n.height<t.height:n.width<t.width)return{};var o=this._getLocation(window),s={left:n.left,top:n.top},a={left:0,top:0},r=i?t.height/2:t.width/2,l=Math.max(21,r),u=i?n.height/2:n.width/2,c=u-l,d=1,f=0;if(i){var h=o.scrollTop+o.padding,p=o.scrollTop+o.height-o.padding;n.top<h?f=h-n.top:n.bottom>p&&(d=-1,f=n.bottom-p);var v=d*Math.min(f,c);s.top=n.top+v,a.top=-v}else{var m=o.scrollLeft+o.padding,g=o.scrollLeft+o.width-o.padding-Callout.scrollbarWidth;n.left<m?f=m-n.left:n.right>g&&(d=-1,f=n.right-g);var y=d*Math.min(f,c);s.left=n.left+y,a.left=-y}return{pointer:a,wrap:s}}},{key:"_calculatePosition",value:function(e,t){var n=this,i=this._getLocation(),o=this._getLocation(this.wrapElement),s={bottom:function(){return{left:i.center-o.width/2,top:i.bottom}},field:function(){var e=n._getLocation(window),t=Math.max(180,i.width),o=e.width-e.padding,s=o-i.left,a=0;return s<t&&(a=t-s),{left:i.left-a,"max-width":t,top:i.bottom}},left:function(){return{left:i.left-o.width,top:i.middle-o.height/2}},right:function(){return{left:i.right,top:i.middle-o.height/2}},top:function(){return{left:i.center-o.width/2,top:i.top-o.height}}},a=e;return"field"===this.config.type&&(a="field"),s[a]()}},{key:"close",value:function(){if(this.isOpen){var e=this.config;if(l(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"executeCallback",this).call(this,e.onClose),this._isFocusWithinCallout()&&this.element.focus(),this.wrapElement.remove(),this.wrapElement.classList.remove("open","willTransform"),this.pointerElement.classList.remove("willTransform"),this.alreadyHadActiveClass||this.element.classList.remove("active"),this.receivesFocus)this.element.setAttribute("aria-expanded",!1),this.element.removeAttribute("aria-controls");else{var t=this.element.getAttribute("aria-describedby")||"";t=t.replace(this.contentElement.id,""),this.element.setAttribute("aria-describedby",t.trim())}this.hovering=!1;for(var n=this.openEvents,i=0,o=n.length;i<o;i++)this.removeEventListeners(this._events[""+n[i]]);this.isOpen=!1,this.coords=void 0,this.element.dispatchEvent(new CustomEvent("callout-closed",{bubbles:!0,cancelable:!0}))}}},{key:"_convertToTransform",value:function(e,t){var n=("number"==typeof t.left?Math.round(t.left)+"px":t.left)||"0px",i=("number"==typeof t.top?Math.round(t.top)+"px":t.top)||"0px",o="translate("+n+", "+i+")";e.style["-webkit-transform"]=o,e.style.transform=o,Object.keys(t).forEach(function(n){"left"!==n&&"top"!==n&&(e.style[n]=t[n])})}},{key:"_createCloseButton",value:function(){var e=document.createElement("div");return e.classList.add("hideVisually"),e.innerHTML='<button tabindex="-1" type="button">'+c.Base.localize(Callout.langSets,"close")+"</button></div>",e}},{key:"_createContentElement",value:function(){var e=document.createElement("div");return e.classList.add("calloutContent"),e.setAttribute("tabindex",-1),e.setAttribute("id","calloutContent-"+this.id),this.receivesFocus?(e.setAttribute("role","region"),e.setAttribute("aria-label",c.Base.localize(Callout.langSets,"label"))):e.setAttribute("role","tooltip"),e}},{key:"_createPointerElement",value:function(){var e=document.createElement("div");return e.classList.add("calloutPointer"),e.innerHTML='<div class="calloutPointerShadow"></div>',e}},{key:"_createWrapElement",value:function(){var e=document.createElement("div");return e.id="calloutWrap-"+this.id,e.classList.add("callout"),e}},{key:"destroy",value:function(){this.close(),this.wrapElement.remove(),this.element.classList.remove("calloutTrigger","guidanceTrigger"),this.element.removeAttribute("aria-expanded"),this.element.removeAttribute("data-calloutInstance"),l(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"destroy",this).call(this)}},{key:"_generateMarkup",value:function(){this.wrapElement=this._createWrapElement(),this.contentElement=this._createContentElement(),this.wrapElement.insertAdjacentElement("beforeend",this.contentElement),this.pointerElement=this._createPointerElement(),this.wrapElement.insertAdjacentElement("beforeend",this.pointerElement),this.receivesFocus&&"guidance"!==this.config.type&&(this.closeButton=this._createCloseButton(),this.wrapElement.insertAdjacentElement("afterbegin",this.closeButton))}},{key:"_getBestPosition",value:function(e){return"field"===this.config.type||this._hasSpace(e)?e:"bottom"}},{key:"_getLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element,t=this.modalOffset,n=e===window,i={height:n?e.innerHeight:e.offsetHeight,scrollLeft:n?window.pageXOffset:e.scrollLeft,scrollTop:n?window.pageYOffset-t:e.scrollTop-t,width:n?e.innerWidth:e.offsetWidth};if(n)i.padding=Callout.windowPadding;else{var o=e.getBoundingClientRect(),s=this.inModal?0:window.pageYOffset,a=window.pageXOffset;i.left=o.left+a,i.top=o.top+s-t,i.bottom=i.top+i.height,i.center=i.left+i.width/2,i.middle=i.top+i.height/2,i.right=i.left+i.width}return i}},{key:"_getModalOffset",value:function(){var e=0;if(this.inModal){var t=document.getElementById("modalFixed");e=t.offsetTop-t.scrollTop}return e}},{key:"_getPositionClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.position;return"calloutPosition"+e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}},{key:"_handleAutoFocus",value:function(){var e=this;if(this.receivesFocus&&!this._isFocusWithinCallout()&&!0!==this.config.disableAutofocusOnOpen){var t=this.inModal?document.getElementById("modalFixed"):window,n=t.scrollTop;t.scrollTop!==n&&(this.inModal?t.scrollTo(n):(document.body.scrollTo(n),document.documentElement.scrollTo(n))),setTimeout(function(){e.contentElement&&e.contentElement.focus()})}}},{key:"_handleHtmlClick",value:function(e,t){var n=e.target,i=!!n.closest(".autocompleteResult"),o=!!n.closest(".callout"),s=this._isInTrigger(n,this.element);if(o||i||s)s&&this.allowHoverClose&&this.requestClose();else if("click"===e.type)this.requestClose();else{var a=e.changedTouches?e.changedTouches[0].pageX:e.pageX,r=e.changedTouches?e.changedTouches[0].pageY:e.pageY,l=Math.abs(t.x-a),u=Math.abs(t.y-r),c="field"!==this.config.type&&Math.max(l,u)<5;c&&this.requestClose()}}},{key:"_handleTabPress",value:function(e){var t=document.activeElement,n=t.getAttribute("name"),i="radio"===t.getAttribute("type"),o=t===this.contentElement,s=d.default.getTabbableElements(this.contentElement),a=0===s.length,r=s[0],l=s[s.length-1],u=t===r||i&&n===r.getAttribute("name"),c=t===l||i&&n===l.getAttribute("name"),f=e.shiftKey&&(o||u),h=!e.shiftKey&&c;(a||f||h)&&("guidance"===this.config.type?e.preventDefault():(this.element.focus(),this.requestClose(),f&&e.preventDefault()))}},{key:"_hasSpace",value:function(e){var t=this._getPositionClass(e);this.wrapElement.classList.add(t);var n=this._getLocation(),i=this._getLocation(this.wrapElement),o=this._getLocation(window),s={bottom:function(){return o.height+o.scrollTop-o.padding-n.bottom>i.height},left:function(){var e=o.padding+o.scrollLeft;return n.left-e>i.width},right:function(){return o.padding+o.scrollLeft+o.width-Callout.scrollbarWidth-n.right>i.width},top:function(){var e=o.padding+o.scrollTop;return n.top-e>i.height}};return this.wrapElement.classList.remove(t),s[e]()}},{key:"_initClasses",value:function(){var e=this.config;if(this.element.classList.add("calloutTrigger"),"dark"===e.calloutStyle?this.wrapElement.classList.add("bgDark","calloutStyleDark"):"alt"===e.calloutStyle&&this.wrapElement.classList.add("calloutStyleAlt"),e.classes&&e.classes.trim()){var t,n=e.classes.trim().split(" ");(t=this.contentElement.classList).add.apply(t,i(n))}if(e.calloutClasses&&e.calloutClasses.trim()){var o,s=e.calloutClasses.trim().split(" ");(o=this.wrapElement.classList).add.apply(o,i(s))}e.hidePointer&&this.wrapElement.classList.add("calloutHidePointer"),"guidance"===e.type&&(this.wrapElement.classList.add("guidance"),this.element.classList.add("guidanceTrigger"))}},{key:"_inView",value:function(){var e=this._getLocation(),t=this._getLocation(this.scrollableElement),n=e.middle<t.top,i=e.middle>t.bottom,o=e.center<t.left,s=e.center>t.right;return!(n||i||o||s)}},{key:"_isFocusWithinCallout",value:function(){return!!(document.activeElement instanceof Element&&document.activeElement.closest("#calloutWrap-"+this.id))}},{key:"_isInTrigger",value:function(e,t){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}},{key:"open",value:function(){var e=this;if(!this.isOpen){var t=this.config;if(this.inModal=!!this.element.closest("#modal"),this.inModal?document.querySelector(".modalFlex.open").insertAdjacentElement("beforeend",this.wrapElement):(document.body.appendChild(this.wrapElement),this.wrapElement.classList.add("willTransform")),"guidance"!==t.type&&Callout.close(!1),"hover"===t.type&&(this.allowHoverClose=!1,this.allowHoverCloseTimeout=setTimeout(function(){e.allowHoverClose=!0},400)),t.hidePointer||this.pointerElement.classList.add("willTransform"),this.receivesFocus)this.element.setAttribute("aria-expanded",!0),this.element.setAttribute("aria-controls","calloutWrap-"+this.id);else{var n=this.element.getAttribute("aria-describedby");n=n?" "+n:"",this.element.setAttribute("aria-describedby",this.contentElement.id+n)}this._addOpenEvents(),l(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"executeCallback",this).call(this,t.onOpen),this.wrapElement.classList.add("open","unpositioned"),this.positioned=!1,this.alreadyHadActiveClass=this.element.classList.contains("active"),this.element.classList.add("active"),this.reposition(),this._handleAutoFocus(),this.isOpen=!0,this.element.dispatchEvent(new CustomEvent("callout-opened",{bubbles:!0,cancelable:!0})),l(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"executeCallback",this).call(this,t.onAfterOpen)}}},{key:"_populateContentElement",value:function(){var e=this.config.content;if("string"==typeof e)if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>2)this.contentElement.innerHTML=e;else try{var t=document.querySelector(e);this.contentElement.insertAdjacentElement("beforeend",t)}catch(t){this.contentElement.innerHTML="<div>"+e+"</div>"}else e instanceof window.Node&&this.contentElement.insertAdjacentElement("beforeend",e)}},{key:"reposition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.position,t=this._getBestPosition(e);this._applyPosition(t)}},{key:"requestClose",value:function(){var e=this.config.onRequestAction;d.default.isValidCallback(e)?e({element:this.element,action:"close"}):this.close()}},{key:"requestOpen",value:function(){var e=this.config.onRequestAction;d.default.isValidCallback(e)?e({element:this.element,action:"open"}):this.open()}},{key:"_resetPosition",value:function(){this.wrapElement.classList.remove("calloutPositionBottom","calloutPositionLeft","calloutPositionRight","calloutPositionTop"),this.contentElement.removeAttribute("style"),this.pointerElement.removeAttribute("style"),this.wrapElement.removeAttribute("style")}},{key:"_setWidth",value:function(){var e=parseInt(window.getComputedStyle(this.wrapElement)["max-width"],10),t=document.body,n=document.documentElement,i=Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)-2*Callout.windowPadding;e>i&&(this.wrapElement.style.maxWidth=i+"px"),this.config.width&&(this.wrapElement.style.width=parseInt(this.config.width,10)+"px")}},{key:"_startCloseTimer",value:function(){var e=this;this.closeTimeout=setTimeout(function(){!e.hovering&&e.isOpen&&e.requestClose()},Callout.hideDelay)}},{key:"_stopCloseTimer",value:function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},{key:"updateContent",value:function(e){this.config.content=e,this._populateContentElement(),this.isOpen&&this.reposition()}},{key:"updateWidth",value:function(e){this.config.width=e,this.isOpen&&this.reposition()}}]),Callout}(c.Base);Callout.defaults={calloutClasses:"",calloutStyle:"light",classes:"",content:"",disableAutofocusOnOpen:!1,hidePointer:!1,onClose:void 0,onOpen:void 0,onRequestAction:void 0,open:!1,position:"bottom",type:"click",width:""},Callout.hideDelay=100,Callout.langSets={de:{close:"Popup schließen",label:"Popup"},en:{close:"Close popup region",label:"Popup"},es:{close:"Cerrar elemento emergente",label:"Elemento emergente"},fr:{close:"Fermer la fenêtre contextuelle",label:"Fenêtre contextuelle"},it:{close:"Chiudi popup",label:"Popup"},sv:{close:"Stäng popup-fönster",label:"Popup-fönster"}},Callout.windowPadding=5,Callout.scrollbarWidthFunction=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.insertAdjacentElement("beforeend",e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.insertAdjacentElement("beforeend",n);var i=n.offsetWidth;return e.remove(),t-i},Callout.scrollbarWidth=function(){return(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?Callout.scrollbarWidthFunction():(document.addEventListener("DOMContentLoaded",function(){Callout.scrollbarWidth=Callout.scrollbarWidthFunction()}),0)}(),t.default=c.Base.init()(Callout)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=document.documentElement,o=function e(t){t.keyCode===ui.keyCodes.tab&&(i.classList.remove("mouseEvents"),i.addEventListener("mousedown",s),i.removeEventListener("keydown",e))},s=function e(){i.classList.add("mouseEvents"),i.addEventListener("keydown",o),i.removeEventListener("mousedown",e)};i.addEventListener("mousedown",s)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=i(o),a=n(34),r=i(a);n(35),t.default=s.default.init()(r.default)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(2),d=i(c),f=n(1),h=i(f),Modal=function(e){function Modal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,Modal);var n=s(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,e));return n.config=r({},Modal.defaults,t),n.element.classList.add("modal"),n.iOSFix=null!==window.navigator.userAgent.match(/iPhone|iPad|iPod/i),n.isOpen=!1,n.trigger=n.config.trigger?h.default.getElements(n.config.trigger)[0]:null,n._initModal(),n.config.open&&n.open(),n}return a(Modal,e),u(Modal,null,[{key:"close",value:function(){h.default.runMethodOnActiveInstances("requestClose",Modal.name)}},{key:"getFixed",value:function(){return Modal.fixed?Modal.fixed:(Modal.fixed=document.createElement("div"),Modal.fixed.classList.add("modalFixed"),Modal.fixed.setAttribute("id","modalFixed"),Modal.getOverlay().appendChild(Modal.fixed),Modal.fixed)}},{key:"getOverlay",value:function(){return Modal.overlay?Modal.overlay:(Modal.overlay=document.createElement("div"),Modal.overlay.id="modal",Modal.overlay)}},{key:"preventClose",value:function(e){h.default.runMethodOnActiveInstances("preventClose",Modal.name,e)}},{key:"resize",value:function(e){h.default.runMethodOnActiveInstances("resize",Modal.name,e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Modal.getFixed().scrollTop=e}},{key:"_showBackground",value:function(){var e=window.outerWidth,t=0;document.documentElement.classList.add("modalOpen"),t=window.outerWidth-e;var n=parseInt(document.body.style.paddingRight,10)+t;document.body.style.paddingRight=n+"px";var i=Modal.getOverlay();document.body.appendChild(i)}},{key:"showLoading",value:function(e){h.default.runMethodOnActiveInstances("showLoading",Modal.name,e)}},{key:"validateConfig",value:function(e){var t=h.default.typeCheck,n={closeOnBkgClick:t.boolean(),destroyOnClose:t.boolean(),hideCloseBtn:t.boolean(),onClose:t.fn(),onOpen:t.fn(),onRequestClose:t.fn(),open:t.boolean(),showLoading:t.boolean(),trigger:[t.string(),t.instanceof(window.HTMLElement),t.instanceof(window.HTMLCollection),t.instanceof(window.NodeList)],useCustomPadding:t.boolean(),width:[t.number(),t.string()]},i=[];t.execute(Modal.name,{expected:n,required:i,actual:e})}}]),u(Modal,[{key:"_addOverlayEvents",value:function(){var e=this;this.config.hideCloseBtn||(this._events["modal-overlay-events"]=this.addEventListeners(Modal.getOverlay(),{keydown:function(t){var n=t.target.tagName.toLowerCase();t.which===d.default.keyCodes.esc&&"input"!==n&&"textarea"!==n&&(e.requestClose(),t.preventDefault(),t.stopPropagation())}}))}},{key:"close",value:function(){if(this.isOpen){this.id===Modal.activeInstanceID&&(this._hideBackground(),Modal.activeInstanceID=void 0),this._hideContent(),this._removeOverlayEvents(),this.isOpen=!1;var e=this.config,t=e.onClose,n=e.destroyOnClose;l(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"executeCallback",this).call(this,t,{element:this.element,content:this.content}),l(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"dispatchEvent",this).call(this,"modal-closed",{},document.body),n&&this.destroy()}}},{key:"destroy",value:function(){this.close(),l(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"destroy",this).call(this)}},{key:"_handleTabWithinModal",value:function(e){if(e.which===d.default.keyCodes.tab){var t=d.default.getTabbableElements(this.content);t.length||(e.preventDefault(),e.stopPropagation());var n=t[0],i=t[t.length-1],o=-1!==t.indexOf(document.activeElement);e.shiftKey&&!o&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey&&n===document.activeElement&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey||i!==document.activeElement||(n.focus(),e.preventDefault(),e.stopPropagation())}}},{key:"_hideBackground",value:function(){var e=document.documentElement,t=document.body;e.classList.remove("modalOpen","iOSFix"),t.style.paddingRight="",this.windowPosition&&(e.scrollTop=this.windowPosition,t.scrollTop=this.windowPosition);var n=Modal.getOverlay();this.trigger&&this.trigger.focus(),n.remove()}},{key:"_hideContent",value:function(){this.showLoading(!1),this.element.classList.remove("active"),this.flex.classList.remove("open"),this.flex.remove()}},{key:"_initCloseBtn",value:function(){var e=this,t=document.createElement("button");return t.classList.add("closeBtn","modalClose"),this.config.bgDarkClose&&t.classList.add("bgDark"),t.setAttribute("aria-label",h.default.localize(Modal.langSets,"closeBtn")),t.setAttribute("type","button"),this._events.button=this.addEventListeners(t,{click:function(){return e.requestClose()}}),t}},{key:"_initModal",value:function(){this.flex=this._initModalFlex(),this.content=this._initModalContent();var e=this.config,t=e.hideCloseBtn,n=e.width;t||(this.closeBtn=this._initCloseBtn(),this.content.appendChild(this.closeBtn)),this.flex.appendChild(this.content),n!==Modal.defaults.width&&this.resize(n)}},{key:"_initModalContent",value:function(){var e=this,t=document.createElement("div");t.classList.add("modalContents"),t.setAttribute("id","modalContent-"+this.id),t.appendChild(this.element);var n=this.config,i=n.useCustomPadding,o=n.hideCloseBtn;return i&&t.classList.add("modalCustomPadding"),o&&t.classList.add("modalHideClose"),this._events.content=this.addEventListeners(t,{mousedown:function(){e._preventBgClickClose=!0},mouseup:function(t){e._preventBgClickClose=!0}}),t}},{key:"_initModalFlex",value:function(){var e=this,t=document.createElement("section");return d.default.setAttributes(t,{"aria-label":h.default.localize(Modal.langSets,"modalDialog"),"aria-modal":"true",class:"modalFlex",id:"modal-"+this.id,role:"dialog",tabindex:-1}),this._events.flex=this.addEventListeners(t,{keydown:function(t){return e._handleTabWithinModal(t)}}),this.config.closeOnBkgClick&&(this._events.modal=this.addEventListeners(t,{click:function(t){e.preventBgClickClose||e._preventBgClickClose||!t.target.classList.contains("modalFlex")||e.requestClose(),e._preventBgClickClose=!1}})),t}},{key:"open",value:function(){var e=this;if(!this.isOpen){l(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"dispatchEvent",this).call(this,"modal-opening"),this.trigger||(this.trigger=document.activeElement,this.trigger&&this.trigger.nodeName||(this.trigger=document.body)),this._preventBgClickClose=!0,this._setIOSFix();var t=Modal.activeInstanceID;Modal.activeInstanceID=this.id,t?h.default.instances.Modal[t].requestClose():Modal._showBackground(),this._addOverlayEvents(),this._showContent(),this.isOpen=!0;var n=this.config.onOpen;l(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"executeCallback",this).call(this,n,{element:this.element,content:this.content}),l(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"dispatchEvent",this).call(this,"modal-opened"),setTimeout(function(){e._preventBgClickClose=!1},Modal.doubleClickBuffer)}}},{key:"preventClose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.preventBgClickClose=e}},{key:"_removeOverlayEvents",value:function(){this.removeEventListeners(this._events["modal-overlay-events"])}},{key:"requestClose",value:function(){var e=this.config.onRequestClose;d.default.isValidCallback(e)?e({element:this.element}):this.close()}},{key:"resize",value:function(e){if(!e)return d.default.error("Modal.resize: Enter a valid pixel/percentage value");if(e!==this.width){var t=e;if("number"==typeof t||t.match(/\d+(\.\d+)?(px$|$)/)){var n=window.getComputedStyle(this.content),i=parseInt(n.paddingLeft,10)||0,o=parseInt(n.paddingRight,10)||0;t=parseFloat(t,10)+i+o+"px"}this.content.style.width=t,this.width=t}}},{key:"_setIOSFix",value:function(){this.iOSFix&&(this.windowPosition=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,document.documentElement.classList.add("iOSFix"))}},{key:"_showContent",value:function(){var e=Modal.getFixed();e.appendChild(this.flex),this.element.classList.add("active");var t=this.config;this.showLoading(t.showLoading),this.iOSFix&&(document.documentElement.scrollTop=0,document.body.scrollTop=0),this.flex.classList.add("open"),this.flex.focus(),e.scrollTop=0}},{key:"showLoading",value:function(e){e?this.content.classList.add("loading"):this.content.classList.remove("loading")}}]),Modal}(h.default);Modal.defaults={bgDarkClose:!1,closeOnBkgClick:!0,destroyOnClose:!1,hideCloseBtn:!1,onClose:void 0,onOpen:void 0,onRequestClose:void 0,open:!1,showLoading:!1,trigger:void 0,useCustomPadding:!1,width:""},Modal.doubleClickBuffer=300,Modal.langSets={de:{closeBtn:"Schließen Modaler",modalDialog:"Modaler"},en:{closeBtn:"Close Modal",modalDialog:"Modal"},es:{closeBtn:"Cerrar modal",modalDialog:"modal"},fr:{closeBtn:"Fermer Modale",modalDialog:"Modale"},it:{closeBtn:"Chiudi Modale",modalDialog:"Modale"},sv:{closeBtn:"Stäng Modal",modalDialog:"Modal"}},t.default=Modal,e.exports=Modal},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=i(o),a=n(40),r=i(a);n(43),t.default=s.default.init({elementRequired:!1})(r.default)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),d=i(c),f=n(41),h=i(f),p=n(42),v=i(p),Tabs=function(e){function Tabs(e,t){o(this,Tabs);var n=s(this,(Tabs.__proto__||Object.getPrototypeOf(Tabs)).call(this,e));return n.config=r({},Tabs.defaults,t),n.createContent(n.config.content),n.createNav(e),n}return a(Tabs,e),u(Tabs,null,[{key:"validateConfig",value:function(e){var t=d.default.typeCheck,n={activeIndex:t.number(),allowUrls:t.boolean(),content:[t.string(),t.instanceof(HTMLElement)],onOpen:t.fn(),onRequestTab:t.fn(),overrideOverflow:t.boolean()};t.execute(Tabs.name,{expected:n,actual:e})}}]),u(Tabs,[{key:"createContent",value:function(e){var t=d.default.getElements(e)[0];t&&this._setContent(new v.default(t,this.config.activeIndex))}},{key:"createNav",value:function(e){var t=d.default.getElements(e)[0];t&&this._setNav(new h.default(t,this.config))}},{key:"destroy",value:function(){this.nav&&this.nav.destroy(),this.content&&this.content.destroy(),l(Tabs.prototype.__proto__||Object.getPrototypeOf(Tabs.prototype),"destroy",this).call(this)}},{key:"notifyContentOfOpen",value:function(e){this.content&&this.content.activeIndex!==e&&this.content.open(e)}},{key:"open",value:function(e){this.nav&&this.nav.activeIndex!==e&&this.nav.open(e)}},{key:"_register",value:function(){this.nav&&this.content&&(this.nav.registerContent(this.content),this.content.registerNav(this.nav))}},{key:"resize",value:function(){this.nav&&this.nav.resize()}},{key:"_setContent",value:function(e){this.content=e,this._register()}},{key:"_setNav",value:function(e){this.nav=e,this.nav.setMediator(this),this._register()}}]),Tabs}(d.default);Tabs.defaults={activeIndex:0,allowUrls:!1,content:void 0,onOpen:void 0,onRequestTab:void 0,overrideOverflow:!1},t.default=Tabs},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=n(2),c=i(u),d=n(1),f=i(d),h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.config=n,i.navItems=Array.from(e.children),i.isVertical=i._isVertical(),i.activeIndex=i._getActiveIndex(),i._init(),i.initialRequestTab=!0,i.requestTab(i.activeIndex),i}return a(t,e),r(t,[{key:"_addEvents",value:function(){var e=this;this._events.windowResizeEvent=this.addEventListeners(window,{resize:c.default.debounce(function(){return e.resize()},250)}),this._events.tabEvent=this.addEventListeners(this.element,{click:function(t){return e._handleTabClick(t)},keydown:function(t){return e._handleTabKeydown(t)}})}},{key:"_addOverflow",value:function(){this._createOverflowElements(),this._bindOverflowEvents(),this._measureWidths(),this._centerTab()}},{key:"_animateHorizontalScroll",value:function(e){var t=Math.ceil(.75*this.navWidth),n=this.element.scrollLeft,i="left"===e?n-t:n+t;c.default.smoothScroll(this.element,i,500,"scrollLeft")}},{key:"_applyAriaControls",value:function(e){for(var t=e.length,n=0;n<t;++n)this.navItems[n].setAttribute("aria-controls",e[n])}},{key:"_bindOverflowEvents",value:function(){var e=this;this._events.scrollEvent=this.addEventListeners(this.element,{scroll:c.default.debounce(function(){return e._handleOverflowScroll()},100)}),this._events.leftButtonClickEvent=this.addEventListeners(this.overflowLeftButton,{click:c.default.debounce(function(){return e._animateHorizontalScroll("left")},250,!0)}),this._events.rightButtonClickEvent=this.addEventListeners(this.overflowRightButton,{click:c.default.debounce(function(){return e._animateHorizontalScroll("right")},250,!0)}),this.overflowBound=!0}},{key:"_centerTab",value:function(){if(this.isOverflow){var e=this.navItems[this.activeIndex],t=e.offsetLeft+e.offsetWidth/2,n=this.navWidth/2,i=t-n;this.element.scrollTo?this.element.scrollTo({behavior:"smooth",left:i}):this.element.scrollLeft=i}}},{key:"_checkOverflow",value:function(){this.isOverflow=this._getOverflowState(),this.isOverflow?(this.overflowBound||this._addOverflow(),this._handleOverflowScroll()):this.overflowBound&&this._removeOverflow()}},{key:"_createOverflowElements",value:function(){var e=this.isVertical?" hasVerticalTabs":"";this.overflowElement=document.createElement("div"),this.overflowElement.className="tabsScrollable"+e,this.overflowLeftButton=document.createElement("button"),c.default.setAttributes(this.overflowLeftButton,{"aria-hidden":"true",class:"icon iconArrowLeft tabsOverflowBtn",tabindex:"-1",type:"button"}),this.overflowRightButton=document.createElement("button"),c.default.setAttributes(this.overflowRightButton,{"aria-hidden":"true",class:"icon iconArrowRight tabsOverflowBtn",tabindex:"-1",type:"button"});var t=document.createDocumentFragment();t.appendChild(this.overflowLeftButton),t.appendChild(this.overflowElement),t.appendChild(this.overflowRightButton),this.element.parentNode.insertBefore(t,this.element),this.overflowElement.appendChild(this.element)}},{key:"destroy",value:function(){this._removeOverflow(),this._removeAriaRoles(),this.navItems[this.activeIndex].classList.remove("active"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getActiveIndex",value:function(){if(this.activeIndex)return this.activeIndex;if(window.location.hash){var e=this.element.querySelector('.tab[href="'+window.location.hash+'"]');if(e)return this._getTabIndex(e)}var t=this.element.querySelector(".active");return t?this._getTabIndex(t):this.config.activeIndex}},{key:"_getNavItemsWidth",value:function(){return this.navItems.reduce(function(e,t){var n=window.getComputedStyle(t);return e+t.offsetWidth+parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},0)}},{key:"_getNavWidth",value:function(){var e=this.element.offsetWidth,t=window.getComputedStyle(this.element),n=parseInt(t.paddingLeft,10),i=parseInt(t.paddingRight,10);return Math.max(0,e-(n+i))}},{key:"_getOverflowState",value:function(){return!(this.isVertical||!(this.element.offsetWidth||this.element.offsetHeight||this.element.getClientRects().length)||this.config.overrideOverflow)&&this.navItemsWidth>this.navWidth}},{key:"_getTabIndex",value:function(e){for(var t=this.navItems.length,n=0;n<t;++n)if(e===this.navItems[n])return n;return this.config.activeIndex}},{key:"_handleOverflowScroll",value:function(){if(this.overflowElement){var e=this.element.scrollLeft;e<this.navItemsWidth-this.navWidth-5?(this.overflowElement.classList.add("tabsOverflowRight"),this.overflowRightButton.classList.add("tabsOverflowBtnVisible")):(this.overflowElement.classList.remove("tabsOverflowRight"),this.overflowRightButton.classList.remove("tabsOverflowBtnVisible")),e>5?(this.overflowElement.classList.add("tabsOverflowLeft"),this.overflowLeftButton.classList.add("tabsOverflowBtnVisible")):(this.overflowElement.classList.remove("tabsOverflowLeft"),this.overflowLeftButton.classList.remove("tabsOverflowBtnVisible"))}}},{key:"_handleTabClick",value:function(e){if(!e.target||null!==e.target.closest(".tab")){var t=e.target.closest(".tab"),n=this._getTabIndex(t);if(n===this.activeIndex)return e.preventDefault(),void e.stopPropagation();var i=this.config.allowUrls,o=t.getAttribute("href"),s=o&&0!==o.indexOf("#")&&0!==o.indexOf("javascript");if(!i&&s)return window.location=o,e.preventDefault(),void e.stopPropagation();this.requestTab(n),i&&(e.preventDefault(),e.stopPropagation())}}},{key:"_handleTabKeydown",value:function(e){var t=e.target;if(null!==t){var n=this.navItems.filter(function(e){return!e.classList.contains("disabled")}),i=e.which,o=n.indexOf(t);i===c.default.keyCodes.left?o-1>=0&&n[o-1].focus():i===c.default.keyCodes.right&&o+1<n.length&&n[o+1].focus()}}},{key:"_init",value:function(){this.element.setAttribute("role","tablist");for(var e=this.navItems.length,t=0;t<e;++t){var n=this.navItems[t];this._setInactiveAttributes(n),c.default.setAttributes(n,{id:n.getAttribute("id")||"tab-"+this.id+"-"+t,role:"tab"})}this._addEvents(),this.config.overrideOverflow||void 0!==this.isOverflow||(this.overflowBound=!1,this._measureWidths(),this._checkOverflow())}},{key:"_isVertical",value:function(){var e=window.matchMedia("(min-width: 768px)").matches,t=window.matchMedia("(min-width: 480px)").matches,n=this.element.classList,i=!n.contains("tabs480")&&!n.contains("tabs320"),o=n.contains("tabs480")&&e,s=n.contains("tabs320")&&t;return n.contains("tabsVertical")&&(i||o||s)}},{key:"_measureWidths",value:function(){this.navItemsWidth=this._getNavItemsWidth(),this.navWidth=this._getNavWidth()}},{key:"open",value:function(e){if(isNaN(e)||e<0||e>=this.navItems.length)throw new RangeError("index must be a number between 0 and "+(this.panels.length-1));var n=this.navItems[e];if(e===this.activeIndex)this._setActiveAttributes(n);else{var i=this.navItems[this.activeIndex];this._setInactiveAttributes(i),this._setActiveAttributes(n),this.activeIndex=e}this._centerTab(),this.mediator&&this.mediator.notifyContentOfOpen&&this.mediator.notifyContentOfOpen(this.activeIndex),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"executeCallback",this).call(this,this.config.onOpen,{index:e,element:this.element})}},{key:"registerContent",value:function(e){this._applyAriaControls(e.panels.map(function(e){return e.getAttribute("id")}))}},{key:"_removeAriaRoles",value:function(){this.element.removeAttribute("role");for(var e=this.navItems.length,t=0;t<e;++t)c.default.removeAttributes(this.navItems[t],"role aria-controls aria-selected aria-expanded")}},{key:"_removeOverflow",value:function(){if(this.overflowElement&&this.overflowElement.classList.contains("tabsScrollable")){for(var e=this.element.parentNode;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.remove(),this.overflowLeftButton.remove(),this.overflowRightButton.remove(),delete this.overflowElement,delete this.overflowLeftButton,delete this.overflowRightButton,this._measureWidths()}this.overflowBound=!1}},{key:"requestTab",value:function(e){var t=this.config.onRequestTab;t&&c.default.isValidCallback(t)?(t({index:e,element:this.element}),this.initialRequestTab&&(this.initialRequestTab=!1,this.open(e))):this.open(e)}},{key:"resize",value:function(){this.isVertical=this._isVertical(),this._measureWidths(),this._checkOverflow()}},{key:"_setActiveAttributes",value:function(e){e.classList.add("active"),e.setAttribute("aria-selected","true"),e.setAttribute("aria-expanded","true")}},{key:"_setInactiveAttributes",value:function(e){e.classList.remove("active"),e.setAttribute("aria-selected","false"),e.setAttribute("aria-expanded","false")}},{key:"setMediator",value:function(e){this.mediator=e}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=n(1),c=i(u),d=n(2),f=i(d),h=function(e){function t(e,n){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.panels=Array.from(e.children),i.activeIndex=n,i._init(),i.open(i.activeIndex),i}return a(t,e),r(t,[{key:"_applyAriaLabelledBy",value:function(e){for(var t=e.length,n=0;n<t;++n)this.panels[n].setAttribute("aria-labelledby",e[n])}},{key:"destroy",value:function(){this._removeAriaRoles(),this.panels[this.activeIndex].classList.remove("active"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_init",value:function(){var e=this.panels.length;if(0===e)throw new RangeError("Tabs requires at least 1 tab and a matching number of content elements");for(var t=0;t<e;++t){var n=this.panels[t];this._setInactiveAttributes(n),f.default.setAttributes(n,{id:n.getAttribute("id")||"tab-content-"+this.id+"-"+t,role:"tabpanel",tabindex:-1})}}},{key:"open",value:function(e){if(isNaN(e)||e<0||e>=this.panels.length)throw new RangeError("index must be a number between 0 and "+(this.panels.length-1));var t=this.panels[this.activeIndex],n=this.panels[e];this._setInactiveAttributes(t),this._setActiveAttributes(n),this.activeIndex=e}},{key:"registerNav",value:function(e){this._applyAriaLabelledBy(e.navItems.map(function(e){return e.getAttribute("id")}))}},{key:"_removeAriaRoles",value:function(){for(var e=this.panels.length,t=0;t<e;++t)f.default.removeAttributes(this.panels[t],"role aria-labelledby aria-hidden tabindex")}},{key:"_setActiveAttributes",value:function(e){e.classList.add("active"),e.setAttribute("aria-hidden","false")}},{key:"_setInactiveAttributes",value:function(e){e.classList.remove("active"),e.setAttribute("aria-hidden","true")}}]),t}(c.default);t.default=h},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n(0),f=i(d),h=n(5),p=i(h);n(6);var Validator=function(e){function Validator(e,t){s(this,Validator);var n=a(this,(Validator.__proto__||Object.getPrototypeOf(Validator)).call(this,e));return n.config=l({},Validator.defaults,t),n.fields={},n.allowSubmit=!0,n.submitButton=n.config.submitButton||e.querySelector('[type="submit"]'),n.addFields(n.config.fields,!1),n._addEvents(),n.element.setAttribute("novalidate","novalidate"),n}return r(Validator,e),c(Validator,null,[{key:"email",value:function(e){if("string"!=typeof e)return!1;if(e=e.trim(),!e.length||e.indexOf("@")<1)return!1;var t=e.split("@");if(2!==t.length)return!1;var n=t[0],i=t[1].split("."),o=i.length,s=i[o-1],a=i.slice(0,o-1).join("."),r=/^(?:(?:[\0-\x08\x0E-\x1F!#-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){0,63}[0-9A-Z\u017F\u212A](?:[\0-\x08\x0E-\x1F!#-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){0,63}|"(?:[\0-!#-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,997}")$/i.test(n)&&n.length<65,l=/^(?:[A-Z\u017F\u212A]{2,997}|XN\x2D\x2D[0-9A-Z\u017F\u212A]{1,997})$/i.test(s),u=/^(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFE][\uDC00-\uDFFF]|\uDBFF\uDC00|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,16777216}$/i.test(a);return r&&l&&u}},{key:"extensions",value:function(e,t){for(var n="string"==typeof e?[e]:e,i=t.map(function(e){return e.toLowerCase()}),o=0,s=n.length;o<s;o++)if(-1===i.indexOf(n[o].toLowerCase().split(".").pop()))return!1;return!0}},{key:"match",value:function(e,t){return e===(document.getElementById(t)||{}).value}},{key:"maxLength",value:function(e,t){return e.length<=t}},{key:"minLength",value:function(e,t){return e.length>=t}},{key:"number",value:function(e){return/^[0-9]*(\.[0-9]+)?$/.test(e)}},{key:"password",value:function(e,t){var n=!0,i=!1;return Validator.passPolicy&&Validator.passPolicy.Rules&&(Validator.passPolicy.Rules.forEach(function(t){if(t.Regex){var o=new RegExp(t.Regex);n=n&&o.test(e)}else i=!0}),n?i&&(n=t.isPasswordValidFromServer,t.debouncePasswordCheck&&t.debouncePasswordCheck()):t.isPasswordValidFromServer=!1),n}},{key:"tel",value:function(e){return/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(e)}},{key:"url",value:function(e){return/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(e)}},{key:"uncachePasswordRules",value:function(){Validator.passPolicy=null}},{key:"validateConfig",value:function(e){var t=d.Base.typeCheck,n={allowMultipleSubmissions:t.boolean(),fields:t.object(),onSubmit:t.fn(),submitButton:t.instanceof(window.HTMLElement)};t.execute(Validator.name,{expected:n,actual:e})}},{key:"validateOnServer",value:function(e,t,n){var i=new XMLHttpRequest;i.open("POST","https://gateway.ancestry.com/passwordpolicy/web/v1.0/validate?client=YzU1MjlmMTQzNDg0OTQyMzM1YzUzNDk2MWVhNjQ4ZWViNDM1M2ZhNys3OGRkMTRmZTJlNDFlYjMzZDNkZTVlMmQ3NGM2OTRmY2Q2NjFjODA0MWIyZDdlZTdiZjA3Zjk3NjRjYzAxOTRl",!0),i.setRequestHeader("Accept-Language",Validator.langHeader),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.onload=function(){if(i.status>=200&&i.status<400){var e=JSON.parse(i.responseText);t.isPasswordValidFromServer=!!e.IsValid}else t.isPasswordValidFromServer=!0;n(t.isPasswordValidFromServer)},i.send(JSON.stringify({Password:e,PolicyId:"acom"}))}}]),c(Validator,[{key:"_addEvents",value:function(){var e=this;this._events.validation=this.addEventListeners(this.element,{"validation-remove":function(t){e.config&&e._destroyField(t.target.id)},submit:function(t){return e._handleSubmit(t)},validation:function(t){if(!e.fields[t.target.id])return!1;e._validateInput(t.target.id,t)}})}},{key:"addField",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.element.querySelector("#"+e);if(!i)return void ui.warn("Unable to find element '#"+e+"' for validator");if(n&&(this.fields[e]&&this._destroyField(e),this.fields[e]=t),"input"===i.tagName.toLowerCase()&&"file"===i.type){0===document.querySelectorAll("label[for="+e+"].fileBtn").length&&this._prettifyFileInputs(e,i)}this._initField(e,t)}},{key:"addFields",value:function(e,t){var n=this;Object.keys(e).forEach(function(i){n.addField(i,e[i],t)})}},{key:"_createOrUpdatePasswordCallout",value:function(e){var t=this;if(this.passwordRules&&this.openCallout&&this.openCallout.contentElement&&this.openCallout.contentElement.classList.contains("passwordValidationMenu"))this.passwordRulesList.setAttribute("role","alert"),this.openCallout.contentElement.appendChild(this.passwordRulesList),Validator.passPolicy.Rules.forEach(function(n,i){if(n.Regex){var o=new RegExp(n.Regex),s=o.test(e.value),a=t.passwordRules[i];if(s!==a.classList.contains("calloutMenuChecked")){a.classList.toggle("calloutMenuChecked"),a.classList.toggle("iconAfter"),a.classList.toggle("iconAfterCheck"),a.classList.toggle("calloutMenuUnchecked");var r=d.Base.localize(Validator.langSets,s?"policyMet":"policyNotMet")+": ";a.querySelector(".hideVisually").innerHTML=r}}});else{this.passwordRules=[];var n=document.createElement("div");n.id="password-rules-"+f.default.getRandomNumber(),n.classList.add("calloutMenu"),Validator.passPolicy.Rules.forEach(function(i){if(i.Regex){var o=new RegExp(i.Regex),s=o.test(e.value),a=d.Base.localize(Validator.langSets,s?"policyMet":"policyNotMet")+": ",r=document.createElement("div");r.classList.add("calloutMenuItem"),s?r.classList.add("calloutMenuChecked","iconAfter","iconAfterCheck"):r.classList.add("calloutMenuUnchecked"),r.insertAdjacentHTML("beforeend",'<span class="hideVisually">'+a+"</span>"+i.FailureCode_locale.LocaleString+'<span class="hideVisually"> - </span>'),t.passwordRules.push(r),n.insertAdjacentElement("beforeend",r)}else{var l=document.createElement("div");l.classList.add("calloutMenuUnchecked","calloutMenuItem"),l.insertAdjacentHTML("beforeend",'<span class="hideVisually">'+d.Base.localize(Validator.langSets,"policyNotMet")+"</span>"+i.FailureCode_locale.LocaleString+'<span class="hideVisually"> - </span>'),t.passwordRules.push(l),n.insertAdjacentElement("beforeend",l)}}),this.passwordRulesList=n;var i={content:n,classes:"errorCallout passwordValidationMenu",calloutStyle:"light"};window.matchMedia("(max-width: 479px)").matches&&(i.width=e.clientWidth),this.openCallout=(0,p.default)(e,i),this.openCallout.open()}}},{key:"destroy",value:function(){clearTimeout(this.submitTime),clearTimeout(this.multiSubmitTime),clearTimeout(this.setAriaAttrTime),u(Validator.prototype.__proto__||Object.getPrototypeOf(Validator.prototype),"destroy",this).call(this)}},{key:"_destroyField",value:function(e){this._removeErrorAndSuccess(e);var t=this.fields[e],n=t.field;t.collection?t.collection.forEach(function(e){e.removeAttribute("aria-describedby")}):n.removeAttribute("aria-describedby"),this.fields[e]=null,delete this.fields[e]}},{key:"_getPasswordRules",value:function(){if(!Validator.passPolicy){var e=new XMLHttpRequest,t=this.element.closest("[lang]");Validator.langHeader=t?t.getAttribute("lang"):"en",e.open("GET","https://gateway.ancestry.com/passwordpolicy/web/v1.0/policies/acom?client=YzU1MjlmMTQzNDg0OTQyMzM1YzUzNDk2MWVhNjQ4ZWViNDM1M2ZhNys3OGRkMTRmZTJlNDFlYjMzZDNkZTVlMmQ3NGM2OTRmY2Q2NjFjODA0MWIyZDdlZTdiZjA3Zjk3NjRjYzAxOTRl",!0),e.setRequestHeader("Accept-Language",Validator.langHeader),e.onload=function(){e.status>=200&&e.status<400&&(Validator.passPolicy=JSON.parse(e.responseText))},e.send()}}},{key:"_handleCustomPattern",value:function(e,t,n){var i=this.fields[e];return t?void this._updateValidationMessage(e,t):(i._errorMessage=n||i.errorMessage,this._updateValidationMessage(e,t),t)}},{key:"_handleSubmit",value:function(e){var t=this;if(this._validateForm().success&&this.allowSubmit)return this.allowSubmit=!1,this.submitTime=setTimeout(function(){t.submitButton.setAttribute("disabled","disabled"),t.submitButton.classList.add("disabled")}),this.config.allowMultipleSubmissions&&(this.multiSubmitTime=setTimeout(function(){t.allowSubmit=!0,t.submitButton.removeAttribute("disabled"),t.submitButton.classList.remove("disabled")},1e3)),!0;e.preventDefault(),e.stopPropagation()}},{key:"_initField",value:function(e,t){var n=this,i=this.element.querySelector("#"+e);if(i){var s=this.element.querySelector('label[for="'+e+'"]');if(!s){var a=i.closest("fieldset");s=a?a.querySelector("legend"):i}var r=l({},t);this.fields[e]=r;var u="password"===r.pattern;if(u&&(this._getPasswordRules(),r.errorLocation="callout",r.when="input",this._events["focus-"+e]=this.addEventListeners(i,{focus:function(){n._validateInput(e)}}),this._events["blur-"+e]=this.addEventListeners(i,{blur:function(){n.openCallout&&n.openCallout.destroy&&n.openCallout.destroy()}})),i.matches("legend")?(s=i,i=r.collection,r.when="submit"!==r.when?"blur change":"submit"):i.matches('[type="checkbox"]')?(r.collection=i,r.when="submit"!==r.when?"blur change":"submit"):i.matches('[type="file"]')?r.when=r.when||"change":r.when||(r.when="blur"),r.required)if(i.length&&"SELECT"!==i.nodeName)for(var c=0,d=i.length;c<d;c++)i[c].setAttribute("aria-required",!0);else i.setAttribute("aria-required",!0);if("submit"!==r.when)for(var h=r.when.split(" "),p=0,v=h.length;p<v;p++){var m=h[p];if(i.length&&"SELECT"!==i.nodeName)for(var g=0,y=i.length;g<y;g++){var b=i[g].id;this._events[m+"-"+b]=this.addEventListeners(i[g],o({},m,function(t){n._validateInput(e,t)}))}else u&&(this.debouncePasswordCheck=f.default.debounce(function(){Validator.validateOnServer(i.value,n,function(t){return n._updateValidationMessage(e,t)})},600)),this._events[m+"-"+e]=this.addEventListeners(i,o({},m,function(t){n._validateInput(e,t)}))}r._errorMessage=r.errorMessage||s.getAttribute("data-error"),r.field=i,r.label=s,s.getAttribute("data-error-index")?this._updateValidationMessage(e,!1):i.value&&!(i.matches('[type="checkbox"]')||i.matches('[type="radio"]')||i.matches('[type="submit"]'))&&this._updateValidationMessage(e,!!this._isValid(e))}}},{key:"_isValid",value:function(e,t){var n=this,i=this.fields[e],o=i.field,s="";if("checkbox"===(s=o.length?o[0].getAttribute("type"):o.getAttribute("type"))||"radio"===s)return this._validateCollection(i.collection,i.required);var a=(o.value||"").trim();if("file"===s){for(var r=o.files,l=[],u=0,c=r.length;u<c;u++)l.push(r[u].name);a=l}if(f.default.isValidCallback(i.pattern)){var d=function(t,i){return n._handleCustomPattern(e,t,i)};return i.pattern({value:a,callback:d,config:i,event:t||{type:"validation"},field:o,element:this.element})}if(i.required||a.length){if(!a.length||i.extensions&&!Validator.extensions(a,i.extensions)||i.match&&!Validator.match(a,i.match)||i.minLength&&!Validator.minLength(a,i.minLength)||i.maxLength&&!Validator.maxLength(a,i.maxLength))return"password"===i.pattern&&(this.isPasswordValidFromServer=!1),!1;if(i.pattern)return Validator[i.pattern](a,this)}return!0}},{key:"_prependProtocol",value:function(e){var t=this.fields[e].field,n=t.value;n&&-1===n.indexOf("://")&&(t.value="https://"+n)}},{key:"_prettifyFileInputs",value:function(e,t){var n=d.Base.localize(Validator.langSets,t.hasAttribute("multiple")?"chooseFiles":"chooseFile"),i="";this.element.classList.contains("formLarge")?i="lrg":this.element.classList.contains("formLargest")&&(i="lrgr"),t.insertAdjacentHTML("afterend",'<div><label aria-hidden="true" class="ancBtn fileBtn silver '+i+'" for="'+e+'">'+n+'</label><span class="filename"></span></div>'),t.addEventListener("change",function(){for(var e=t.files,n=[],i=0,o=e.length;i<o;i++)n.push(e[i].name);t.nextSibling.nextSibling.innerHTML=n.join(", ")})}},{key:"_removeErrorAndSuccess",value:function(e){var t=this.fields[e],n=t.field;if(t.label.classList.remove("error","success","inform"),n.length)for(var i=0,o=n.length;i<o;i++){var s=n[i];s.classList.remove("error","success","inform"),s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby")}else n.classList.remove("error","success","inform"),n.removeAttribute("aria-invalid"),n.removeAttribute("aria-describedby");if(t.errorMessageElement&&(t.errorMessageElement.remove(),t.errorMessageElement=null),t.hasErrorCallout){var a=ui.callout.getInstance(n.getAttribute("data-ui-id"));a&&a.destroy&&"password"!==t.pattern&&a.destroy(),t.hasErrorCallout=!1}}},{key:"removeFields",value:function(e){for(var t="string"==typeof e?[e]:e,n=0,i=t.length;n<i;n++)this._destroyField(t[n])}},{key:"_setAriaDescribedBy",value:function(e,t){this.setAriaAttrTime=setTimeout(function(){var n=e.getAttribute("aria-describedby");n=n?" "+n:"",e.setAttribute("aria-describedby",t+n)},50)}},{key:"updateValidationMessage",value:function(e,t,n){this.fields[e]._errorMessage=n,this._updateValidationMessage(e,t)}},{key:"_updateValidationMessage",value:function(e,t){var n=this.fields[e],i=n.label,o=n.field;if(this._removeErrorAndSuccess(e),!0===t)n.collection||o.classList.add("success"),"password"===n.pattern&&this.openCallout&&0!==Object.keys(this.openCallout).length&&this.openCallout.destroy(),i.classList.add("success");else if(!1===t||"info"===t){var s=i.getAttribute("id");s||(s="label-"+f.default.getRandomNumber(),i.setAttribute("id",s));var a="info"===t?"inform":"error",r=s+"ErrorMessage";if("callout"!==n.errorLocation)if(n.collection)for(var l=0,u=n.collection.length;l<u;l++){var c=n.collection[l];this._setAriaDescribedBy(c,r)}else this._setAriaDescribedBy(o,r);o.length||(o.classList.add(a),o.setAttribute("aria-invalid",!0)),i.classList.add(a);var d=n._errorMessage||"",h=void 0,v=void 0;if("callout"===n.errorLocation){if(!n.collection){var m="password"===n.pattern;if(m&&Validator.passPolicy.Rules)document.activeElement!==o||this.isPasswordValidFromServer||(n.hasErrorCallout=!0,this._createOrUpdatePasswordCallout(o));else{var g=ui.callout.getInstance(o.getAttribute("data-ui-id"));!n.hasErrorCallout&&g&&g.destroy&&g.destroy(),n.hasErrorCallout=!0,(!g||g&&0===Object.keys(g).length)&&(g=(0,p.default)(o,{content:d,type:"field",classes:"errorCallout "+(m?"passwordValidationMenu":""),calloutStyle:m?"light":"dark"})),o===document.activeElement&&g.open()}}}else"below"===n.errorLocation?(v='<div class="errorMessage icon iconWarning" id="'+r+'" tabindex="-1">'+d+"</div>",i.parentNode.insertAdjacentHTML("beforeend",v),h=i.parentNode.lastChild):-1===i.innerText.indexOf(d)&&(v='<span class="errorMessage icon iconWarning">'+d+"</span>",i.insertAdjacentHTML("beforeend",v),h=i.lastChild);n.errorMessageElement=h}}},{key:"_validateCollection",value:function(e,t){var n=0;if(e.length)for(var i=0,o=e.length;i<o;i++)e[i].checked&&(n+=1);else e.checked&&(n+=1);return Number(t)<=n}},{key:"_validateForm",value:function(){var e=this,t=!1,n=!1,i={success:!0,errorFieldLabels:[]},o=this.fields,s=null,a=this.element.querySelectorAll("input, select, legend, textarea");if(Object.keys(o).forEach(function(r){var l=o[r],u=l.field,c=l.label;if(0===u.length)return o[r]=null,void delete o[r];var d=e._validateInput(r);d&&"info"!==d||(a.forEach(function(e,i){e.id===r&&(null===s||i<s)&&(s=i,t=c,n=u)}),i.success=!1)}),!i.success&&t){var r=t.getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,u=r.top+l;u<document.documentElement.scrollTop&&(document.documentElement.scrollTop=u),n.length?n[0].focus():n.focus()}return f.default.isValidCallback(this.config.onSubmit)&&(i.success=!!this.config.onSubmit({element:this.element,valid:i.success,fields:this.element.elements})),i}},{key:"_validateInput",value:function(e,t){if(!this.fields[e])return void ui.warn("Unable to find field '#"+e+"' for validator");"url"===this.fields[e].pattern&&this._prependProtocol(e);var n=this._isValid(e,t);return"info"===n||"boolean"==typeof n?this._updateValidationMessage(e,n):this._removeErrorAndSuccess(e),n}}]),Validator}(d.Base);Validator.defaults={allowMultipleSubmissions:!1,fields:{},onSubmit:void 0,submitButton:void 0},Validator.langSets={de:{chooseFile:"Datei auswählen",chooseFiles:"Wähle Dateien",errorMsg:"Es liegen Feldfehler vor:",policyMet:"Richtlinie eingehalten:",policyNotMet:"Richtlinie nicht eingehalten:"},en:{chooseFile:"Choose file",chooseFiles:"Choose files",errorMsg:"There are errors on these fields:",policyMet:"Policy met:",policyNotMet:"Policy not met:"},es:{chooseFile:"Selecciona un archivo",chooseFiles:"Seleccionar archivos",errorMsg:"Hay campos con errores:",policyMet:"Se cumple la política:",policyNotMet:"No se cumple la política:"},fr:{chooseFile:"Choisir le fichier",chooseFiles:"Choisir les fichiers",errorMsg:"Il y a d’erreurs dans ces champs:",policyMet:"Exigences satisfaites :",policyNotMet:"Exigences non satisfaites :"},it:{chooseFile:"Scegli file",chooseFiles:"Scegli file",errorMsg:"Ci sono errori in questi campi:",policyMet:"Normativa soddisfatta:",policyNotMet:"Normativa non soddisfatta:"},sv:{chooseFile:"Välj fil",chooseFiles:"Välja filer",errorMsg:"Det uppstod fel för dessa fält:",policyMet:"Policy uppfylls:",policyNotMet:"Policy uppfylls inte:"}},t.default=d.Base.init()(Validator)}]).default});