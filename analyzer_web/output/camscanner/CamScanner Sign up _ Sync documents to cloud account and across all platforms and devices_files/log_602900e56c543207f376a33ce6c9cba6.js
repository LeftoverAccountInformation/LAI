(function(){function p(b){if(!q){r=b.app_id||"";s=b.app_version||"";t=b.user_id||"";u=b.client_id||"";k=b.product_name||"";v=b.from||z("from")||"";l=b.env||"DEV";w=b.lc||"zh-cn";(g=b.get_page_id||"")&&(d=g());m=l==="ONLINE"||l==="PRE"?"https://logio.intsig.net/logapi/cc.gif":"https://logio-sandbox.intsig.net/logapi/cc.gif";$(document).bind("click",function(a){(a=$(a.target).closest("[data-stat-key]").attr("data-stat-key"))&&x("click_"+a)});b="beforeunload";if(/iphone|ipad|ios/i.test(navigator.userAgent)&&
(window.onpagehide||window.onpagehide===null))b="pagehide";$(window).bind(b,function(){n("residence_time",{time:+new Date-A})});q=!0}}function z(b){var a,c,e="",d,f;c=location.href;c=c.replace(/#.+$/,"");a=c.indexOf("?");a>-1&&(c=c.substring(a,c.length));if(c.substr(0,1)==="?"&&c.length>1){a=c.substring(1,c.length);d=a.split("&");for(a=0,c=d.length;a<c;a++)if(f=d[a].split("="),f[0]===b&&f.length===2){e=f[1];break}}return e}function h(b){window.console&&window.console.log&&window.console.log(b)}function o(b){if(m&&
k&&b&&typeof b==="object"){var a=m,c={appid:r,ui:t,pn:k,pv:s,ci:u,rf:v,lc:w,ul:location.href,sr:window.outerWidth+"*"+window.outerHeight,vp:window.innerWidth+"*"+window.innerHeight,t:+new Date},e;for(e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);b=!0;e="";for(var d in c)c.hasOwnProperty(d)&&(b?(e+="?",b=!1):e+="&",e+=encodeURIComponent(d)+"="+encodeURIComponent(c[d]));a+=e;if(navigator.sendBeacon&&!/ios|iphone|ipad/i.test(navigator.userAgent))try{if(!navigator.sendBeacon(a))(new Image).src=a}catch(f){(new Image).src=
a}else(new Image).src=a}}function y(b,a){d=b||g&&g()||"/";o({d:a?JSON.stringify(a):"",pi:d})}function x(b,a,c){b?!d&&!c?h("page_id not set"):o({d:a?JSON.stringify(a):"",pi:c||d,ai:b}):h("action_id not set")}function n(b,a){b?d?o({d:a?JSON.stringify(a):"",pi:d,ti:b}):h("page_id not set"):h("trace_id not set")}var r="",s="",w="",t="",d="",g="",u="",k="",l="DEV",m,v,A=+new Date,q=!1,i=document.getElementById("page_config");if(i)try{var i=JSON.parse(i.textContent),j=i.LOG_CONFIG;if(j)j.get_page_id=function(){return location.pathname.substr(1).split("/").join("_")},
p(j),j.auto_page&&y()}catch(B){}window.Log={page:y,action:x,trace:n,tracePerformance:function(b){window.performance&&performance.timing&&setTimeout(function(){var a=performance.timing;n(b||"performance_timing",{readyStart:a.fetchStart-a.navigationStart,redirectTime:a.redirectEnd-a.redirectStart,unloadEventTime:a.unloadEventEnd-a.unloadEventStart,lookupDomainTime:a.domainLookupEnd-a.domainLookupStart,connectTime:a.connectEnd-a.connectStart,requestTime:a.responseEnd-a.requestStart,initDomTreeTime:a.domInteractive-
a.responseEnd,domReadyTime:a.domComplete-a.domInteractive,loadTime:a.loadEventEnd-a.navigationStart})},0)},config:p}})();
