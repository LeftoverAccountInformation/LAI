window.sf_widget_configs=window.sf_widget_configs||{},window.sf_widget_configs.utils={extend:function(source,extend){var newObj=this.fullCopy(source);return this.copy(extend,newObj)},copy:function(source,newObj){newObj=newObj||{};for(var keys=Object.keys(source),i=0;i<keys.length;++i)newObj[keys[i]]=this.fullCopy(source[keys[i]]);return newObj},fullCopy:function(obj){if(null==obj||"object"!=typeof obj||obj instanceof RegExp)return obj;if(obj instanceof Date)return copy=new Date,copy.setTime(obj.getTime()),copy;if(obj instanceof Array){copy=[];for(var i=0,len=obj.length;i<len;i++)copy[i]=this.fullCopy(obj[i]);return copy}return obj instanceof Object?this.copy(obj):void 0},shouldStandDownSalesTrackingForHbcGroup:function(){var siteRefer=sf_widget.utils.getQueryParam("site_refer");return!!siteRefer&&[/^.+\+TRP?\+.+$/,/^TRP?\+.+$/,/^.+\+TRP?$/,/salesfloor/i,/^EML/].reduce(function(standDown,exception){return standDown&&!exception.test(siteRefer)},!0)}},window.sf_widget_configs=window.sf_widget_configs||{},sf_widget_configs.bbbaby={sidebar:{version:3,horizontalPosition:"right",tagline:!0,location:!0,mode:"single",media:{desktop:{position:{bottom:20},width:275,height:64},mobile:{position:{bottom:0},width:275,height:64}},minimize:{desktop:!1,mobile:!1}},sidebar2Width:230,sidebar2WidthMobile:320,sidebar2WidthSmall:300,footerHeight:70,footerMobileHeight:100,footerBreakpoint:767,footerExternalElementAdjustments:{".back-to-top":{bottom:"70px","z-index":"1000000000"},"#bt_invite_box":{display:"none"}},sidebarExternalElementAdjustments:{"#bt_invite_box":{display:"none"}},additional_tracking:[{name:"sf_storeid",data:"storeid",processData:function(id){for(;id.toString().length<4;)id="0"+id;return id}},{name:"sf_associd",data:"employeeid"},{name:"sf_siterefer",data:"siterefer"}],env:"prd",pageSpacingBottom:"110px",affiliateCookie:"ls_intntl_siteid",affiliateCookieMobile:"lsID",widgetBottom:"0",widgetWidth:330,sidebarAnimation:"no",acquisitionCookieDuration:2592e6,saleCookieDuration:12096e5,sidebarMinimizeSmallScreen:!0,sidebarMobileScrollHide:!1,screenInnerWidthBreakPoint:1400,sidebarMinimizeDuration:2592e5,widgetHeight:240,sidebarMobileHeight:33,sidebarMobileBottom:0,sidebarMobileLeft:0,sidebarClosedHeight:92,sidebarTower:!0,widgetTowerWidth:156,widgetTowerDisableLowerThen:1280,notificationWidth:385,notificationHeight:0,widgets:["sidebar3","findstore","footer","eventstracker"],removeSessionOnHomepages:[],footerSpacingElements:"#footer",pageSpacingType:"padding",menuContainer:".hdrNavSearch .mainNav",retailer:"bbbaby",cookieRepRefresh:3e5,salesfloor_site:"//widgets.local.buybuybaby.com",salesfloor_api:"//api.local.buybuybaby.com",salesfloor_storefront:"//local.buybuybaby.com",logoReplaceSelector:"",logoReplaceSelectorMobile:"",keyPrefix:"",secureOnlyCookies:!0,mode:"store",crossDomain:!0,searchUrl:function(query,currentUser){return"https://www.buybuybaby.com/store/s/"+query+"?sf_rep="+currentUser},servicesAvailable:[{type:"chat",modal:"popup",maxHeight:800},{type:"inscription",modal:"iframe",maxHeight:565},{type:"question",modal:"iframe",maxHeight:900},{type:"finder",modal:"iframe",maxHeight:900},{type:"appointment",modal:"iframe",maxHeight:1500},{type:"feedback",modal:"embedded",maxHeight:400}],i18n:{isEnabled:!1,defaultLocale:"en_US",sync:{method:null}},applyRetailerCustomJs:function(){document.addEventListener("sidebar_displayed",function(){void 0!==window.utag&&window.utag.link({call_to_actiontype:"salesfloor_fired",sf_widget_connect:"Chat Impression"},null,"7")}),document.addEventListener("sidebar_clicked",function(){void 0!==window.utag&&window.utag.link({call_to_actiontype:"salesfloor_clicked",sf_widget_connect:"Connect with Associate"},null,"7")})}},sf_widget_configs.bbbaby.rules=sf_widget_configs.bbbaby.rules||{},sf_widget_configs.bbbaby.rules=sf_widget_configs.bbbaby.rules||{},sf_widget_configs.bbbaby.rules.footer=[{type:"func",func:function(){return!1}},{type:"func",func:function(){for(var displayPaths=["^$","^/m$","^/store/static/GiftCardHomePage$","^/m/static/content/gifts$","^/store/selfservice/FindStore$","^/m/storeLocator$","^/store/page/BabyRegistry$","^/store/registry/GuidesAndAdviceLandingPage$","^/m/viewRegistry$","^/store/s(/.*)*$","^/m/s(/.*)*$","^/store/product(/.*)*$","^/m/product(/.*)*$","^/store/category(/.*)*$","^/m/category(/.*)*$","^/store/brand(/.*)*$","^/m/brand(/.*)*$","^/store/registry/RegistryChecklist(/.*)*$","^/store/static/quickpicks(/.*)*$","^/m/static/content/quickpicks(/.*)*$","^/store/giftregistry(/.*)?$","^/tests/(desktop|mobile|tablet|desktop_old)$"],currentUrl=window.location.pathname.replace(/\/*$/,"").replace(/\/{2,}/g,"/"),i=0;i<displayPaths.length;i++)if(new RegExp(displayPaths[i],"i").test(currentUrl))return!0;return!1}}],sf_widget_configs.bbbaby.rules=sf_widget_configs.bbbaby.rules||{},sf_widget_configs.bbbaby.rules.sidebar=[{type:"func",func:function(){for(var displayPaths=["^$","^/m$","^/store/static/GiftCardHomePage$","^/m/static/content/gifts$","^/store/selfservice/FindStore$","^/m/storeLocator$","^/store/page/BabyRegistry$","^/store/registry/GuidesAndAdviceLandingPage$","^/m/viewRegistry$","^/store/s(/.*)*$","^/m/s(/.*)*$","^/store/product(/.*)*$","^/m/product(/.*)*$","^/store/category(/.*)*$","^/m/category(/.*)*$","^/store/brand(/.*)*$","^/m/brand(/.*)*$","^/store/registry/RegistryChecklist(/.*)*$","^/store/static/quickpicks(/.*)*$","^/m/static/content/quickpicks(/.*)*$","^/store/giftregistry(/.*)?$","^/tests/(desktop|mobile|tablet|desktop_old)$"],currentUrl=window.location.pathname.replace(/\/*$/,"").replace(/\/{2,}/g,"/"),i=0;i<displayPaths.length;i++)if(new RegExp(displayPaths[i],"i").test(currentUrl))return!0;return!1}}],sf_widget_configs.bbbaby.tracking=[],window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.bottomnav={setChatMessage:function(event){var messageBox=document.getElementById("questionField");messageBox&&!messageBox.value&&(messageBox.value=event.message),window.$&&messageBox&&$("#questionField").trigger("keyup")}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.chatnotification={load:function(){sf_widget.rules.shouldEnable("chatnotification",sf_widget.options.retailer)&&(this.askNotificationPermissions(),this.append(),this.overrideSignout(),sf_widget.utils.iframeHandshake("sf-chat-available-dropdown"))},askNotificationPermissions:function(){window.Notification&&("denied"===Notification.permission&&"granted"===Notification.permission||Notification.requestPermission())},show:function(data){this.playSoundNotification(),this.flashTitle(),this.showDesktopNotification(data),this.setIframeHeight(data)},showDesktopNotification:function(data){if(data.msg,window.Notification&&"granted"===Notification.permission&&document.hidden){var notif=new window.Notification(data.msg,{icon:"https://s3.amazonaws.com/salesfloor-assets/salesfloor/salesfloor-logo-medium-transparent.png",body:"Please return to the salesfloor tab to interact with this notification."});notif&&(notif.onclick=function(x){window.focus(),this.cancel&&this.cancel()})}},overrideSignout:function(){if(!document.getElementById("btn-signout"))return!1;document.getElementById("btn-signout")[sf_widget.cb.addEventListener()](sf_widget.cb.click(),function(e){e.preventDefault(),document.getElementById("sf-notification-companion").contentWindow.postMessage(JSON.stringify({action:"disableAndRemoveFromQueue"}),"*"),window.setTimeout(function(){window.location.href=document.getElementById("btn-signout").href},200)},!1)},playSoundNotification:function(){new Audio("//s3.amazonaws.com/salesfloor-assets/salesfloor/note.mp3").play()},flashTitle:function(){var self=this;document.hidden&&(this.originalTitle=document.title,this.flasher=window.setInterval(function(){document.title=document.title===self.originalTitle?"Chat Request":self.originalTitle},1e3)),window.setTimeout(function(){self.cancelFlashTitle()},15e3)},cancelFlashTitle:function(){this.flasher&&(clearTimeout(this.flasher),document.title=this.originalTitle)},setIframeHeight:function(data){var height=data.height||0;document.getElementById("sf-notification-companion").height=height},displayConfirmPrompt:function($confirmBox,confirmCb,cancelCb){$confirmBox&&0!==$confirmBox.length&&$confirmBox.dialog({dialogClass:"dialog-ctn",resizable:!1,height:90,modal:!0,close:function(e){27===e.keyCode&&cancelCb()},buttons:[{text:"Confirm",class:"btn bo-btn-type-1",click:function(){$(this).dialog("close"),confirmCb()}},{text:"Cancel",class:"btn bo-btn-type-2",click:function(){$(this).dialog("close"),cancelCb()}}]})},displayFeedback:function($confirmBox,confirmCb){$confirmBox&&0!==$confirmBox.length&&$confirmBox.dialog({dialogClass:"dialog-ctn",resizable:!1,height:90,modal:!0,buttons:[{text:"Close",class:"btn bo-btn-type-1",click:function(){$(this).dialog("close"),confirmCb()}}]})},confirmChatEnable:function(data){var confirmCb=this.enableRep.bind(this),cancelCb=this.disableRep.bind(this),$confirmBox=data.queue<3?$("#confirm-enable-top-prompt"):$("#confirm-enable-chat-prompt");this.displayConfirmPrompt($confirmBox,confirmCb,cancelCb)},confirmChatDisable:function(data){var confirmCb=this.disableRep.bind(this),cancelCb=this.enableRep.bind(this),$confirmBox=$("#confirm-disable-chat-prompt");this.displayConfirmPrompt($confirmBox,confirmCb,cancelCb)},denyChatEnable:function(data){var $confirmBox=$("#confirm-deny-chat-prompt");this.displayFeedback($confirmBox,function(){})},denyChatEnableOffHours:function(data){var $confirmBox=$("#confirm-deny-chat-off-hours-prompt");this.displayFeedback($confirmBox,function(){})},postMessageToDropdown:function(action){document.getElementById("sf-chat-available-dropdown").contentWindow.postMessage(JSON.stringify({action:action}),"*")},postMessageToToast:function(action){document.getElementById("sf-notification-companion").contentWindow.postMessage(JSON.stringify({action:action}),"*")},enableRep:function(){this.postMessageToDropdown("enableRep")},disableRep:function(){this.postMessageToDropdown("disableRep")},clearToast:function(){this.postMessageToToast("removeNotifications")},append:function(options){document.querySelector("#sf-notification-companion")||sf_widget.utils.appendWidget({sf_store_widget:this.sf_store_widget,content:this.content.notification(),container:"body",css:sf_widget.css.notification(),iframeId:"sf-notification-companion"})},content:{notification:function(store){var url=sf_widget.options.salesfloor_site+"/reps/"+sf_widget.utils.cookie.getPreload(sf_widget.utils.dataStorage.getFinalKey("sf_rep"))+"/services/chat/components/admin-notification?animate="+sf_widget.utils.getCacheBusterParam("&");return'<div id="sf-notification-companion-wrapper" style="height:'+sf_widget.options.notificationHeight+"px;right:10px;top:0px;position:fixed;z-index:99999999;display:inline-block; width:"+sf_widget.options.notificationWidth+'px; vertical-align:middle;zoom:1;"><iframe id="sf-notification-companion" src="'+url+'" width="'+sf_widget.options.notificationWidth+'" height="'+sf_widget.options.notificationHeight+'" style="border:none;overflow: hidden;" scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>'}}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.cookie={load:function(){this.append()},afterRender:function(){},append:function(options){var setting=options||{};sf_widget.utils.appendWidget({container:"body",content:this.content.widget(setting),css:sf_widget.css.widget(),iframeId:"sf-widget-cookie"})},setImgAffiliate:function(data){!data.affiliateURL||sf_widget.utils.dataStorage.get(sf_widget.options.affiliateCookie)||sf_widget.utils.dataStorage.get(sf_widget.options.affiliateCookieMobile)||sf_widget.utils.pushImg(data.affiliateURL,"sf-affiliate-img"),data.repId&&!sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep")&&(sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking",value:"true",expires:sf_widget.options.saleCookieDuration}),sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep",value:data.repId,expires:sf_widget.options.saleCookieDuration}))},setAdditionalTrackingCookies:function(content){var data=content.data;sf_widget.options.additional_tracking&&sf_widget.options.additional_tracking.forEach(function(tracker){if(data[tracker.data]){var value=tracker.processData?tracker.processData(data[tracker.data]):data[tracker.data];sf_widget.utils.dataStorage.set({name:tracker.name,value:value,retailerCookie:!0,overrideCD:!0,noPrefix:!0,expires:sf_widget.options.saleCookieDuration})}})},remove:function(){var widget=document.getElementById("sf-widget-cookie-wrapper");widget.parentNode.removeChild(widget)},fullReload:function(){this.remove(),this.append()},forceDisplay:function(){document.querySelector("#sf-widget-cookie-wrapper").style.display="block"},sendCookie:function(data){sf_widget.utils.dataStorage.init(document.cookie+"; "+data.cookies)},content:{widget:function(options){return'<div id="sf-widget-cookie-wrapper" style="left:0;bottom:0;position:fixed;z-index:99999999;display:block;vertical-align:middle;zoom:1;"><iframe id="sf-widget-cookie" src="'+sf_widget.options.salesfloor_site+"/cookies/manager"+sf_widget.utils.getCacheBusterParam("?")+'" width="1" height="1" style="border:none;overflow: hidden;display:block;" scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>'}}},window.__is_new_widget||sf_widget.widgets.cookie.load(),window.sf_widget.events=window.sf_widget.events||{},sf_widget.events.ecommerce={addTransaction:function(data){"true"!==sf_widget.utils.dataStorage.get("sf_wdt_tracking")&&!0!==sf_widget.utils.dataStorage.get("sf_wdt_tracking")||(data.type="VariableSetting",data.acquisition=sf_widget.utils.dataStorage.get("sf_wdt_acquisition"),sf_widget.widgets.eventstracker.pushEvent(data,"transaction"))},addItem:function(data){if("true"===sf_widget.utils.dataStorage.get("sf_wdt_tracking")||!0===sf_widget.utils.dataStorage.get("sf_wdt_tracking")){var trackingData={map:[data]};sf_widget.widgets.eventstracker.pushEvent(trackingData,"transaction-item")}}},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.eventstracker={load:function(){window.sf_widget_configs&&-1<sf_widget_configs[sf_widget.options.retailer].widgets.indexOf("eventstracker")&&this.getEventsOnpage()},getEventsOnpage:function(){window.sf_widget_events&&sf_widget_events.events&&sf_widget_events.events.forEach(function(evt){var eventType=evt.eventName.split(":"),type=eventType[0],action=eventType[1];sf_widget.events[type]&&sf_widget.events[type][action]&&sf_widget.events[type][action](evt.data)})},pushEvent:function(data,type){data.cachebuster=Math.round((new Date).getTime()/1e3),data.customer_id||(data.customer_id=sf_widget.utils.dataStorage.get("sf_wdt_customer_id")),data.fingerprint||(data.fingerprint=sf_widget.utils.dataStorage.get(sf_widget.utils.eventQueue.fingerprintKey));var params=sf_widget.utils.toQueryString(data),rep=sf_widget.widgets.tracking.getStoreParam(),apiUrl=sf_widget.options.salesfloor_site+rep+"events/"+type,oImg=document.createElement("img");oImg.setAttribute("src",apiUrl+"?"+params),oImg.setAttribute("class","sf_tkg"),oImg.setAttribute("alt",""),oImg.setAttribute("height","1px"),oImg.setAttribute("width","1px"),document.body.appendChild(oImg)}},window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.findstore={open:function(data){if(this.destroyCurrentOverlay(data.page),sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_state",value:"open",expires:36e5}),!document.querySelector(".sf-overlay")){sf_widget.utils.appendWidget({sf_store_widget:sf_widget.sf_store_widget,content:this.content.modal(data.page,data.storeId),container:"body",css:sf_widget.css.findstore(),iframeId:"sf-findstore-companion"});var self=this;document.querySelector(".sf-overlay")[sf_widget.cb.addEventListener()](sf_widget.cb.click(),function(e){self.toggle()})}this.toggle(),this.changeSidebarDisplay("none")},close:function(data){if(data&&data.eventSource&&sf_widget.utils.eventQueue.setAsyncEvents(data.eventSource),-1===navigator.userAgent.indexOf("Safari")){var popup=window.open(data.url);if(!popup||popup.closed||void 0===popup.closed)return}window.close()},setIframeHeight:function(data){var obj=document.querySelector(".main-content");if(obj){var height=data.height||obj.contentWindow.document.body.scrollHeight;this.isDevice()&&(document.querySelector(".sf-overlay").style.height=height+100+"px"),obj.style.height=height+"px"}},toggle:function(data){data&&data.eventSource&&sf_widget.utils.eventQueue.setAsyncEvents(data.eventSource);var overlay=document.querySelector(".sf-overlay"),fadedBg=document.querySelector(".sf-fade"),body=document.body;isHidden="block"===overlay.style.display,"block"===overlay.style.display&&document.getElementById("sf-findstore-companion").contentWindow.postMessage(JSON.stringify({action:"blurInput"}),"*"),overlay.style.display="block"===overlay.style.display?"none":"block",fadedBg.style.display="block"===fadedBg.style.display?"none":"block",body.style.overflow="hidden"===body.style.overflow?"auto":"hidden",this.toggleWindowsScroll(body.style.overflow),this.changeSidebarDisplay("block"),this.animate(fadedBg,overlay)},animate:function(fadedBg,overlay){setTimeout(function(){fadedBg.className="sf-fade"===fadedBg.className?"sf-fade sf-fade-transition":"sf-fade",overlay.className="sf-findstore sf-overlay"===overlay.className?"sf-findstore sf-overlay sf-overlay-transition":"sf-findstore sf-overlay"},75)},changeSidebarDisplay:function(state){var widget=document.querySelector("#sf-widget-companion-wrapper");widget&&(widget.style.display=state)},confirmRep:function(data){sf_widget.utils.dataStorage.setAcquisition("Sidebar-findrep"),this.toggle(),sf_widget.utils.setRep(data.rep.user_login),sf_widget.widgets.sidebar.remove(),sf_widget.widgets.base.init()},redirect:function(data){sf_widget.utils.dataStorage.setAcquisition("Sidebar-findrep"),data&&data.eventSource&&sf_widget.utils.eventQueue.setAsyncEvents(data.eventSource),window.setTimeout(function(){window.location.href=data.url},400)},destroyCurrentOverlay:function(page){if(this.currentPage&&this.currentPage!==page){var overlay=document.querySelector(".sf-overlay");overlay&&overlay.parentNode.removeChild(overlay)}this.currentPage=page},toggleWindowsScroll:function(overflow){var windows=!!navigator.platform.match(/(Win32|Win16|Win64|WinCE|Windows)/i);windows&&"hidden"===overflow?document.body.style.paddingRight="17px":windows&&"auto"===overflow&&(document.body.style.paddingRight="0px")},isDevice:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},content:{modal:function(widgetName,storeId){storeId||(storeId=sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store"));var sfLocale=sf_widget.utils.getQueryParam("sf_locale")?sf_widget.utils.getQueryParam("sf_locale"):sf_widget.utils.getLocale(),url=sf_widget.options.salesfloor_site+"/stores/"+storeId+"/widgets/"+widgetName+"?sf_ip="+(sf_widget.utils.getIp()||"")+"&sf_locale="+(sfLocale||"")+sf_widget.utils.getCacheBusterParam("&"),dimension=this.getIframeDimension(),mobileTopPosition=0;return sf_widget.widgets.findstore.isDevice()&&(mobileTopPosition=document.body.scrollTop),'<div class="sf-fade"></div>\n<div class="sf-findstore sf-overlay" style="top:'+mobileTopPosition+'px;">\n<div class="sf-overlay-container">\n<iframe id="sf-findstore-companion" class="main-content" src="'+url+'" width="'+dimension.width+'" style="min-height:888px; border:none;overflow: hidden;" scrolling="yes" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe>\n</div></div>\n'},getIframeDimension:function(){var width=window.innerWidth,height=window.innerHeight;return{width:600<width?600:width,height:650<height?550:height}}}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.footer={load:function(){sf_widget.rules.shouldEnable("footer",sf_widget.options.retailer)&&this.getStore()},setPageMargin:function(){if(sf_widget.options.footerSpacingElements){var nodes=document.querySelectorAll(sf_widget.options.footerSpacingElements);for(i=0;i<nodes.length;++i)nodes[i].style[sf_widget.options.pageSpacingType+"Bottom"]=sf_widget.options.pageSpacingBottom}},afterRender:function(){sf_widget_configs[sf_widget.options.retailer].crossDomain&&sf_widget.utils.eventQueue.push("FOOTER_VIEW");var data={action:"addSource",source_url:window.location.toString(),source_title:window.document.title};document.getElementById("sf-footer-companion").contentWindow.postMessage(JSON.stringify(data),"*")},replaceHistory:function(){var param="hash"===sf_widget.options.writeHistoryType?"#":"";param+=window.location.search?"&":"?",history&&(this.needsSfStoreUrl()&&this.addSfStoreUrl(param),this.needsSfRepUrl()&&this.addSfRepUrl(param))},addSfRepUrl:function(param){window.history.replaceState&&history.replaceState(null,null,window.location+param+"sf_rep="+sf_widget.utils.dataStorage.get("sf_wdt_footer_rep"))},needsSfRepUrl:function(){return this.needsFragmentInUrl(/sf_rep/,"sf_wdt_footer_rep")},addSfStoreUrl:function(param){window.history.replaceState&&history.replaceState(null,null,window.location+param+"sf_store="+sf_widget.utils.dataStorage.get("sf_wdt_footer_store"))},needsSfStoreUrl:function(){return this.needsFragmentInUrl(/sf_store/,"sf_wdt_footer_store")},needsFragmentInUrl:function(fragment,cookie){var urlHasFragment=fragment.test(window.location.href),hasCookie=sf_widget.utils.dataStorage.get(cookie),isException=this.isPageException(window.location.hostname);return!urlHasFragment&&hasCookie&&!isException},isPageException:function(host){var exceptions=sf_widget.options.sf_rep_exceptions;if(void 0!==exceptions){for(var i=0;i<exceptions.length;++i){var reg=new RegExp(exceptions[i]);if(0===host.search(reg))return!0}return!1}},getStore:function(){var self=this;type=sf_widget.sf_rep||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")?"public/reps":"stores",rep=sf_widget.sf_rep||sf_widget.sf_store||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||sf_widget.utils.dataStorage.get("sf_wdt_footer_store"),url=sf_widget.options.salesfloor_api+"/"+type+"/"+rep,sf_widget.utils.JSONP(url,{errorCallback:function(){sf_widget.utils.showWebsiteNodes(sf_widget.options.removeOnShow)}},function(data){data&&data.ID&&"0"!==data.user_status||data&&data.store_id?(self.sf_store_widget=rep,self.setPageMargin(),self.replaceHistory(),self.replaceLogoLink(),self.append()):sf_widget.utils.showWebsiteNodes(sf_widget.options.removeOnShow)})},changeLocation:function(data){window.location.href=data.url},replaceLogoLink:function(){if(sf_widget.options.logoReplaceSelector||sf_widget.options.logoReplaceSelectorMobile){var element=document.querySelector(sf_widget.options.logoReplaceSelector)||document.querySelector(sf_widget.options.logoReplaceSelectorMobile);if(element){var link=sf_widget.options.salesfloor_storefront+"/"+sf_widget.options.id;sf_widget.options.logoReplaceByClickHandler?element.onclick=function(e){e.stopPropagation(),document.location.href=link}:element.href=link}}},append:function(options){var uniqueId=sf_widget.utils.dataStorage.get("sf_wdt_customer_id")?"&customer_id="+sf_widget.utils.dataStorage.get("sf_wdt_customer_id"):"",locale="&sf_locale="+(sf_widget_configs[sf_widget.options.retailer].crossDomain?sf_widget.utils.getLocale():sf_widget_configs[sf_widget.options.retailer].i18n.currentLocale),sourceOrigin=sf_widget.utils.dataStorage.get("sf_wdt_footer_origin_source")?"&sf_source_origin="+sf_widget.utils.dataStorage.get("sf_wdt_footer_origin_source"):"",sourceOriginLocale=sf_widget.utils.dataStorage.get("sf_wdt_footer_origin_locale")?"&sf_source_origin_locale="+sf_widget.utils.dataStorage.get("sf_wdt_footer_origin_locale"):"",sourceOriginFragmentId=sf_widget.utils.dataStorage.get("sf_wdt_footer_origin_fragment_id")?"&sf_source_origin_fragment_id="+sf_widget.utils.dataStorage.get("sf_wdt_footer_origin_fragment_id"):"",widgeturl=sf_widget.options.salesfloor_site+"/"+sf_widget.options.linkUrl+"/"+sf_widget.options.id+"/widgets/footer?animate="+uniqueId+locale+sourceOrigin+sourceOriginFragmentId+sourceOriginLocale+sf_widget.utils.getCacheBusterParam("&");sf_widget.options.footerExternalElementAdjustments&&sf_widget.utils.adjustExternalElements(sf_widget.options.footerExternalElementAdjustments),sf_widget.utils.appendWidget({sf_store_widget:this.sf_store_widget,widget:"footer",container:"body",content:this.content.footer(widgeturl),css:sf_widget.css.footer(),iframeId:"sf-footer-companion",widgeturl:widgeturl})},content:{footer:function(widgeturl){return'<div id="sf-footer-companion-wrapper" style="height:'+sf_widget.options.footerHeight+'px;left:0;bottom:0px;position:fixed;z-index:99999999;display:inline-block; width:100%; vertical-align:middle;zoom:1;"><iframe id="sf-footer-companion" src="'+widgeturl+'" width="'+sf_widget.options.footerWidth+'" height="'+sf_widget.options.footerHeight+'" style="border:none;overflow: hidden;visibility:hidden;"  scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>'}}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.localstorage={load:function(){this.append()},afterRender:function(){},append:function(options){var setting=options||{};sf_widget.utils.appendWidget({container:"body",content:this.content.widget(setting),css:sf_widget.css.widget(),iframeId:"sf-widget-localstorage"})},setImgAffiliate:function(data){!data.affiliateURL||sf_widget.utils.dataStorage.get(sf_widget.options.affiliateCookie)||sf_widget.utils.dataStorage.get(sf_widget.options.affiliateCookieMobile)||sf_widget.utils.pushImg(data.affiliateURL,"sf-affiliate-img"),data.repId&&!sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep")&&(sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking",value:"true",expires:sf_widget.options.saleCookieDuration}),sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep",value:data.repId,expires:sf_widget.options.saleCookieDuration}))},setAdditionalTrackingCookies:function(data){data.employeeID&&sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep_id",value:data.employeeID,expires:sf_widget.options.saleCookieDuration}),data.employeeName&&sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep_name",value:data.employeeName,expires:sf_widget.options.saleCookieDuration})},remove:function(){var widget=document.getElementById("sf-widget-localstorage-wrapper");widget.parentNode.removeChild(widget)},fullReload:function(){this.remove(),this.append()},forceDisplay:function(){document.querySelector("#sf-widget-localstorage-wrapper").style.display="block"},initData:function(data){Object.keys(data.storage).forEach(function(item){localStorage.setItem(item,data.storage[item])}),sf_widget.utils.dataStorage.init()},content:{widget:function(options){return'<div id="sf-widget-localstorage-wrapper" style="left:0;bottom:0;position:fixed;z-index:99999999;display:block;vertical-align:middle;zoom:1;"><iframe id="sf-widget-localstorage" src="'+sf_widget.options.salesfloor_site+"/local-storage/manager"+sf_widget.utils.getCacheBusterParam("?")+'" width="1" height="1" style="border:none;overflow: hidden;display:block;" scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>'}}},window.__is_new_widget||sf_widget.widgets.localstorage.load(),window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.menu={load:function(){sf_widget.rules.shouldEnable("menu",sf_widget.options.retailer)?this.getStore():sf_widget.utils.showWebsiteNodes(sf_widget.options.menuContainer)},setIframeHeight:function(data){var height=data.height;document.getElementById("sf-menu-companion").height=height,document.getElementById("sf-menu-companion-wrapper").style.height=height},getStore:function(){var self=this;type=sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||sf_widget.sf_rep?"public/reps":"stores",rep=sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||sf_widget.utils.dataStorage.get("sf_wdt_footer_store")||sf_widget.sf_rep||sf_widget.sf_store,url=sf_widget.options.salesfloor_api+"/"+type+"/"+rep,sf_widget.utils.JSONP(url,{errorCallback:function(){sf_widget.utils.showWebsiteNodes(sf_widget.options.menuContainer)}},function(data){data&&data.ID?(self.sf_store_widget=rep,self.append()):sf_widget.utils.showWebsiteNodes(sf_widget.options.menuContainer)})},append:function(){var uniqueId=sf_widget.utils.dataStorage.get("sf_wdt_customer_id")?"&customer_id="+sf_widget.utils.dataStorage.get("sf_wdt_customer_id"):"",widgeturl=sf_widget.options.salesfloor_site+"/"+sf_widget.options.linkUrl+"/"+sf_widget.options.id+"/widgets/menu?animate="+uniqueId+sf_widget.utils.getCacheBusterParam("&");sf_widget.utils.appendWidget({sf_store_widget:self.sf_store_widget,container:sf_widget.options.menuContainer,emptyContent:!0,content:this.content.menu(),iframeId:"sf-menu-companion",widgeturl:widgeturl})},changeLocation:function(data){window.location.href=data.url},content:{menu:function(widgeturl){return'<div id="sf-menu-companion-wrapper" style="height:'+sf_widget.options.menuHeight+'px;display:block;"><iframe id="sf-menu-companion" src="'+widgeturl+'" width="'+sf_widget.options.menuWidth+'" height="'+sf_widget.options.menuHeight+'" style="border:none;overflow: hidden; background:transparent;position: absolute; top:0; left:0;" scrolling="no" frameBorder="0" seamless allowTransparency="true">\x3c!--iframecontent--\x3e</iframe></div>'}}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.sidebar={load:function(){sf_widget.rules.shouldEnable("sidebar",sf_widget.options.retailer)&&(this.checkDisabled()||(this.currentLocale=sf_widget.utils.getLocale()||"",sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store")&&(sf_widget.sf_store_widget=sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store")),this.checkWindowWidth(),this.getAnimateInView(),sf_widget.sf_store_widget?(this.setStore(sf_widget.sf_store_widget,!0,this.currentLocale),this.append()):this.showFromNearestStore(this.currentLocale)))},isTower:function(){return!!(sf_widget.options.sidebarTower&&window.innerWidth>sf_widget.options.widgetTowerDisableLowerThen-1)},afterRender:function(){this.sendAddSourcePostMessage(),this.manageDisplayOnScroll()},sendAddSourcePostMessage:function(){this.sendPostMessageToTemplate({action:"addSource",source_url:window.location.toString(),source_title:window.document.title})},isWidgetLoaded:function(){window.sf_widget_configs&&window.sf_widget&&sf_widget.options&&sf_widget_configs[sf_widget.options.retailer]},scrollData:function(){var body=window.document.body,html=window.document.documentElement,height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);return{windowHeight:window.innerHeight,scrollPosition:window.pageYOffset||html.scrollTop||body.scrollTop||0,documentScrollHeight:height}},manageDisplayOnScroll:function(){this.isWidgetLoaded(),this.useScrollHide=sf_widget_configs[sf_widget.options.retailer].sidebarMobileScrollHide,this.useScrollHide&&window.addEventListener("scroll",this.throttleEvent(this.toggleDisplayOnScroll,0))},manageMinimizeMobileOnScroll:function(){this.isWidgetLoaded(),this.sidebarMinimize=sf_widget_configs[sf_widget.options.retailer].sidebar.minimize,this.sidebarMinimize&&this.sidebarMinimize.mobile&&window.addEventListener("scroll",this.throttleEvent(this.animateDisplayOnScroll,0))},isScrollAtTheBottom:function(){var scrollData=this.scrollData();return scrollData.scrollPosition+scrollData.windowHeight!==scrollData.documentScrollHeight},getCurrentWidgetDimension:function(widget,attribute){return window.getComputedStyle(widget).getPropertyValue(attribute)},toggleDisplayOnScroll:function(){var widgetWrapper=document.getElementById("sf-widget-companion-wrapper"),positionBottom=this.isScrollAtTheBottom()?this.calculateBottomPosition().toString()+"px":"-"+this.getCurrentWidgetDimension(widgetWrapper,"height");sf_widget.utils.detectMobile()&&this.useScrollHide&&(widgetWrapper.style.bottom=positionBottom,widgetWrapper.style["-webkit-transition"]="bottom 0.3s ease-out",widgetWrapper.style["-moz-transition"]="bottom 0.3s ease-out",widgetWrapper.style["-ms-transition"]="bottom 0.3s ease-out",widgetWrapper.style["-o-transition"]="bottom 0.3s ease-out",widgetWrapper.style.transition="bottom 0.3s ease-out")},calculateBottomPosition:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&sf_widget.options.sidebar.media.mobile.position.bottom<20&&(sf_widget.options.sidebar.media.mobile.position.bottom=sf_widget.options.sidebar.media.mobile.position.bottom+20),sf_widget.options.sidebar.media.mobile.position.bottom},sendPostMessageToTemplate:function(data){var jsonData=JSON.stringify(data);document.getElementById("sf-widget-companion").contentWindow.postMessage(jsonData,"*")},throttleEvent:function(method,wait){var time=Date.now(),self=this;return function(){time+wait-Date.now()<0&&(method.call(self),time=Date.now())}},checkDisabled:function(){if("disabled"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state"))return!0},disable:function(){var $widget=document.getElementById("sf-widget-companion-wrapper");$widget&&$widget.parentNode.removeChild($widget),sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_state",expires:"session"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_state",value:"disabled",expires:sf_widget.options.sidebarMinimizeDuration})},checkWindowWidth:function(){"open"!==sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")&&sf_widget.options.sidebarMinimizeSmallScreen&&!sf_widget.widgets.sidebar.isTower()&&window.innerWidth<sf_widget.options.screenInnerWidthBreakPoint&&(sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")||this.setWidgetState({state:"closeFull"}))},getAnimateInView:function(){this.animateInView=sf_widget.options.sidebarAnimation||sf_widget.utils.dataStorage.get("sf_animate_in_view")||"yes","yes"===this.animateInView&&sf_widget.utils.dataStorage.set({name:"sf_animate_in_view",value:"no",expires:9e5})},setIframeHeight:function(data){"show"===data.type?data.height:sf_widget.options.widgetHeight,document.getElementById("sf-widget-companion").height=data.height},setIframeWidth:function(data){data.width&&(document.getElementById("sf-widget-companion").width=data.width)},append:function(options){var setting=options||{},loaded=sf_widget.widgets.sidebar.loaded,content=loaded?sf_widget.widgets[loaded].content.widget(setting):this.content.widget(setting);sf_widget.options.sidebarExternalElementAdjustments&&sf_widget.utils.adjustExternalElements(sf_widget.options.sidebarExternalElementAdjustments),sf_widget.utils.appendWidget({sf_store_widget:sf_widget.sf_store_widget,widget:sf_widget.widgets.sidebar.loaded||"sidebar",container:"body",content:content,css:sf_widget.css.widget(),iframeId:"sf-widget-companion"}),sf_widget.options.sidebarMinimizeNextLoad&&this.setWidgetState({state:"closeFull"},sf_widget.options.sidebarMinimizeDuration)},showFromNearestStore:function(currentLocale){var self=this,ip=sf_widget.utils.getIp(),url=sf_widget.options.salesfloor_api+"/stores",data={"filter[ip]":ip||"current","filter[locale]":currentLocale,errorCallback:function(){sf_widget.utils.showWebsiteNodes(sf_widget.options.removeOnShow)}};sf_widget.utils.JSONP(url,data,function(data){data&&(data=data[0]),data&&data.name?(self.setStore(self.getStoreId(data),!0,self.getStoreLocale(data)),self.append()):(self.setStore(null,!0,null),sf_widget.utils.showWebsiteNodes(sf_widget.options.removeOnShow))})},remove:function(){var widget=document.getElementById("sf-widget-companion-wrapper");widget.parentNode.removeChild(widget)},setWidgetState:function(data,duration){duration?sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")!==data.state&&sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_state",value:"closeFull",expires:duration}):sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_state",value:data.state,expires:"session"})},getMobileData:function(options){var settings=options||{},windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,data={height:sf_widget.options.widgetHeight,media:"desktop"};return"close"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")&&(data.height=sf_widget.options.sidebarClosedHeight),windowWidth<767&&(data.height="open"!==settings.stateOverride?sf_widget.options.sidebarMobileHeight:sf_widget.options.widgetHeight,data.media="mobile"),data},setCurrentLocale:function(locale,duration){sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_store_locale",value:locale,expires:duration})},setCurrentStore:function(id,duration){sf_widget.utils.dataStorage.set({name:"sf_wdt_sidebar_store",value:id,expires:duration})},setStore:function(id,justCaching,locale){var previousStore=sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store"),previousLocale=sf_widget.utils.dataStorage.get("sf_wdt_sidebar_store_locale"),duration=justCaching?sf_widget.options.cacheCookieDuration:sf_widget.options.saleCookieDuration;null!==previousStore&&previousStore===id||(this.setCurrentStore(id,duration),id&&(sf_widget.sf_store_widget=id)),previousLocale!==locale&&this.setCurrentLocale(locale,duration)},chooseStore:function(data){var storeId=this.getStoreId(data.store),storeLocale=this.getStoreLocale(data.store);this.setStore(null,!0,null),this.setStore(storeId,!1,storeLocale),this.fullReload(),this.forceDisplay()},getStoreId:function(store){return store.sf_identifier},getStoreLocale:function(store){return store.locale},fullReload:function(){this.remove(),this.append({stateOverride:"open"})},changeLocation:function(data){window.location.href=data.url},forceDisplay:function(){document.querySelector("#sf-widget-companion-wrapper").style.display="block"},content:{widget:function(options){sf_widget.widgets.sidebar.loaded="sidebar";var widgetDefautState="",isTower=sf_widget.widgets.sidebar.isTower(),mediaType=sf_widget.widgets.sidebar.getMobileData().media,media="&media="+mediaType,uniqueId=sf_widget.utils.dataStorage.get("sf_wdt_customer_id")?"&customer_id="+sf_widget.utils.dataStorage.get("sf_wdt_customer_id"):"",sfIp="&sf_ip="+(sf_widget.utils.getIp()||"current");widgetDefaultHeight=sf_widget.widgets.sidebar.getMobileData(options).height,animateInView="yes"===sf_widget.widgets.sidebar.animateInView?"&animateInView=yes":"",towerView=isTower?"&tower=true":"",bottomPos="mobile"===mediaType?sf_widget.options.sidebarMobileBottom:sf_widget.options.widgetBottom,leftpos="mobile"===mediaType||isTower?"0px":"10px","close"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")?widgetDefautState="&state=close":"closeFull"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")?widgetDefautState="&state=closeFull":"open"===options.stateOverride&&(widgetDefautState="&state=open");var width=isTower?sf_widget.options.widgetTowerWidth:sf_widget.options.widgetWidth,iframeSrc=sf_widget.options.salesfloor_site+"/stores/"+sf_widget.sf_store_widget+"/widgets/sidebar?animate=&type="+media+animateInView+widgetDefautState+uniqueId+sfIp+towerView+sf_widget.utils.getCacheBusterParam("&");return popup='<div id="sf-widget-companion-wrapper" style="left:'+leftpos+";bottom:"+bottomPos+'px;position:fixed;z-index:99999999;display:block;vertical-align:middle;zoom:1;"><iframe id="sf-widget-companion" src="'+iframeSrc+'" width="'+width+'" height="'+widgetDefaultHeight+'" style="border:none;overflow: hidden;display:block;visibility:hidden;"  scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>',popup}}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.sidebar2=Object.create(sf_widget.widgets.sidebar),sf_widget.widgets.sidebar2.reloadSize=function(){document.getElementById("sf-widget-companion").width=sf_widget.widgets.sidebar2.getSidebarWidth(),document.getElementById("sf-widget-companion").height=sf_widget.options.sidebar2Height},sf_widget.widgets.sidebar2.getSidebarWidth=function(){return sf_widget.widgets.sidebar.isTower()?sf_widget.options.sidebar2Width:window.innerWidth<325?sf_widget.options.sidebar2WidthSmall:sf_widget.options.sidebar2WidthMobile},sf_widget.widgets.sidebar2.content={widget:function(options){sf_widget.widgets.sidebar.loaded="sidebar2",sf_widget.widgets.sidebar.isTower();var width=sf_widget.widgets.sidebar2.getSidebarWidth(),mediaType=sf_widget.widgets.sidebar.getMobileData().media,media="&media="+mediaType,uniqueId=sf_widget.utils.dataStorage.get("sf_wdt_customer_id")?"&customer_id="+sf_widget.utils.dataStorage.get("sf_wdt_customer_id"):"",sfIp="&sf_ip="+(sf_widget.utils.getIp()||"current"),locale="&sf_locale="+(sf_widget.utils.getLocale()||""),bottomPos="mobile"===mediaType?sf_widget.options.sidebarMobileBottom:sf_widget.options.widgetBottom,leftpos="mobile"===mediaType?"0px":"10px",widgetDefautState="",widgetDefaultHeight=sf_widget.options.sidebar2Height,animateInView="yes"===sf_widget.widgets.sidebar.animateInView?"&animateInView=yes":"";return"close"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")?widgetDefautState="&state=close":"closeFull"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")?widgetDefautState="&state=closeFull":"open"===options.stateOverride&&(widgetDefautState="&state=open"),popup='<div id="sf-widget-companion-wrapper" style="left:'+leftpos+";bottom:"+bottomPos+'px;position:fixed;z-index:99999999;display:block;vertical-align:middle;zoom:1;"><iframe id="sf-widget-companion" src="'+sf_widget.options.salesfloor_site+"/stores/"+sf_widget.sf_store_widget+"/widgets/sidebar2?animate=&type="+media+animateInView+widgetDefautState+uniqueId+sfIp+locale+sf_widget.utils.getCacheBusterParam("&")+'" width="'+width+'" height="'+widgetDefaultHeight+'" style="border:none;overflow: hidden;display:block;visibility:hidden;"  scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>',popup}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.sidebar3=Object.create(sf_widget.widgets.sidebar),sf_widget.widgets.sidebar3.getInitialDimension=function(media,attribute){var dimension=sf_widget.options.sidebar.media[media][attribute],hasTagline=sf_widget.options.sidebar.tagline,hasLocation=sf_widget.options.sidebar.location,isWidth="width"===attribute,isHeight="height"===attribute,isDesktop="desktop"===media,isMobile="mobile"===media,isSingle="single"===sf_widget.options.sidebar.mode,showMinimizeDesktop=sf_widget.options.sidebar.minimize.desktop,showMinimizeMobile=sf_widget.options.sidebar.minimize.mobile,isCollapsed=window.sessionStorage.getItem("sf_widget_sidebar")&&"active"===window.sessionStorage.getItem("sf_widget_sidebar");if(isMobile&&isWidth&&(hasTagline&&(dimension=showMinimizeMobile?isCollapsed?98:sf_widget.options.sidebar.media.mobile.width+28:isCollapsed?70:sf_widget.options.sidebar.media.mobile.width),hasTagline||(dimension=showMinimizeMobile?98:70)),isDesktop&&(hasTagline&&(isWidth&&isSingle&&(dimension=showMinimizeDesktop?sf_widget.options.sidebar.media.mobile.width+28:sf_widget.options.sidebar.media.desktop.width),isHeight&&(hasLocation||isSingle||(dimension-=30))),!hasTagline)){if(isWidth)switch(sf_widget.options.sidebar.mode){case"carousel":dimension-=showMinimizeDesktop?75:90;break;case"logo":dimension=showMinimizeDesktop?95:75;break;case"single":dimension=showMinimizeDesktop?98:70}isHeight&&(isSingle||(dimension-=60))}return dimension},sf_widget.widgets.sidebar3.afterRender=function(){this.sendAddSourcePostMessage(),this.manageDisplayOnScroll(),sf_widget.options.sidebar.tagline&&this.manageAnimateOnScroll(),this.manageMinimizeMobileOnScroll(),this.sendPostMessageToTemplate({action:"sessionBrowsingStatus",status:window.sessionStorage.getItem("sf_widget_sidebar")})},sf_widget.widgets.sidebar3.manageAnimateOnScroll=function(){this.isWidgetLoaded();var browser=sf_widget.utils.detectBrowser(),throttle=browser.isSafari&&!browser.isChrome?150:5;window.addEventListener("scroll",this.throttleEvent(this.animateDisplayOnScroll,throttle))},sf_widget.widgets.sidebar3.calculateScrollProgress=function(){var scrollData=this.scrollData();return scrollData.scrollPosition/(scrollData.documentScrollHeight-scrollData.windowHeight)*100},sf_widget.widgets.sidebar3.setSessionBrowsing=function(){window.sessionStorage.setItem("sf_widget_sidebar","active")},sf_widget.widgets.sidebar3.animateDisplayOnScroll=function(){var status=10<this.calculateScrollProgress()?"minimized":"maximized";this.sendPostMessageToTemplate({action:"handleElementsOnAction",status:status,position:this.calculateScrollProgress()})},sf_widget.widgets.sidebar3.setIframeDimension=function(data){data.width&&this.setIframeWidth(data),data.height&&this.setIframeHeight(data)},sf_widget.widgets.sidebar3.content={widget:function(options){sf_widget.widgets.sidebar.loaded="sidebar3";var mediaType=sf_widget.widgets.sidebar.getMobileData().media,media="&media="+mediaType,initialWidth=sf_widget.widgets.sidebar3.getInitialDimension(mediaType,"width"),initialHeight=sf_widget.widgets.sidebar3.getInitialDimension(mediaType,"height"),bottomPos="mobile"===mediaType?sf_widget.widgets.sidebar3.calculateBottomPosition():sf_widget.options.sidebar.media.desktop.position.bottom,horizontalpos="left"===sf_widget.options.sidebar.horizontalPosition?"left: 0px":"right: 0px;left:auto",uniqueId="&customer_id="+(sf_widget.utils.dataStorage.get("sf_wdt_customer_id")||""),sfIp="&sf_ip="+(sf_widget.utils.getIp()||"current"),locale="&sf_locale="+(sf_widget.utils.getLocale()||""),firstLoad="&firstload="+(!window.sessionStorage.getItem("sf_widget_sidebar")||"active"!==window.sessionStorage.getItem("sf_widget_sidebar")),widgetDefautState="";return"close"===sf_widget.utils.dataStorage.get("sf_wdt_sidebar_state")?widgetDefautState="&state=close":"open"===options.stateOverride&&(widgetDefautState="&state=open"),popup='<div id="sf-widget-companion-wrapper" style="'+horizontalpos+";bottom:"+bottomPos+'px;position:fixed;z-index:99999999;display:block;vertical-align:middle;zoom:1;user-select:none;"><iframe id="sf-widget-companion" src="'+sf_widget.options.salesfloor_site+"/stores/"+sf_widget.sf_store_widget+"/widgets/sidebar3?animate=&type="+media+widgetDefautState+uniqueId+sfIp+firstLoad+locale+sf_widget.utils.getCacheBusterParam("&")+'" width="'+initialWidth+'" height="'+initialHeight+'" style="border:none;overflow: hidden;display:block;visibility:hidden;"  scrolling="no" seamless allowTransparency="true" frameBorder="0">\x3c!--iframecontent--\x3e</iframe></div>',popup}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},sf_widget.widgets.tracking={load:function(){for(var configs=this.getConfigs(),i=0;i<configs.length;i++){var trackItem=configs[i];this.testPage(trackItem)&&(trackItem.loadOn?trackItem.loadOn(trackItem):this.pushEvent(trackItem))}},testPage:function(trackItem){return trackItem.pageRegex,!(trackItem.loadChecker&&!trackItem.loadChecker())&&(trackItem.onBefore&&trackItem.onBefore(),trackItem.trackEvents&&trackItem.trackEventsFlag&&(trackItem.trackEvents(this,trackItem),trackItem.trackEventsFlag=!1),trackItem.pageRegex.test(window.location.href))},getConfigs:function(){return sf_widget_configs[sf_widget.options.retailer].tracking||[]},getStoreParam:function(){return sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep")?"/reps/"+sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep")+"/":"/stores/"+sf_widget.utils.dataStorage.get("sf_wdt_tracking_store")+"/"},pushEvent:function(trackItem){var data=this.getData(trackItem);data.cachebuster=Math.round((new Date).getTime()/1e3);var params=sf_widget.utils.toQueryString(data),rep=this.getStoreParam(),apiUrl=sf_widget.options.salesfloor_site+rep+"events/"+trackItem.type,oImg=document.createElement("img");oImg.setAttribute("src",apiUrl+"?"+params),oImg.setAttribute("class","sf_tkg"),oImg.setAttribute("alt",""),oImg.setAttribute("height","1px"),oImg.setAttribute("width","1px"),document.body.appendChild(oImg)},getData:function(trackItem){var elementsData=this.trackIndividualElements(trackItem.data.elements),defaults=this.trackIndividualElements(trackItem.data.defaults),mapData={map:this.trackMap(trackItem)},dataFromPage=sf_widget.utils.deepExtend(elementsData||{},mapData);return sf_widget.utils.deepExtend(defaults||{},dataFromPage)},trackIndividualElements:function(elements){return this.filterObject(elements)},filterObject:function(obj,parent,trackItem){var data={};if(obj)for(var key in obj)if(obj.hasOwnProperty(key)){var content=obj[key];switch(typeof content){case"number":data[key]=sf_widget.utils.trim(parent.querySelectorAll("td")[content].innerHTML);break;case"function":data[key]=sf_widget.utils.trim(content(parent));break;case"string":var container=parent&&parent.querySelector(content)||document.querySelector(content);if(container){var value=container.value||container.innerHTML;data[key]=sf_widget.utils.trim(value)}}}return data},trackMap:function(trackItem){var result=[],mapObject=trackItem.data.mapObject;if(trackItem.data.map){var target=trackItem.data.map.on,item=trackItem.data.map.item,itemLength=trackItem.data.map.itemLength,els=document.querySelectorAll(target);if(els&&els.length)for(var i=0;i<els.length;++i){var content=els[i].querySelectorAll(item);if(!itemLength||content.length===itemLength){var data=this.filterObject(trackItem.data.map.data,els[i],trackItem);data&&result.push(data)}}}else mapObject&&(result=mapObject());return result}},sf_widget.loadedWidgets=sf_widget.loadedWidgets+1,function(root,factory){root.lscache=function(){var cachedStorage,cachedJSON,CACHE_PREFIX="lscache-",CACHE_SUFFIX="-cacheexpiration",EXPIRY_UNITS=6e4,MAX_DATE=Math.floor(864e13/EXPIRY_UNITS),cacheBucket="",warnings=!1;function supportsStorage(){var key="__lscachetest__";if(void 0!==cachedStorage)return cachedStorage;try{setItem(key,"__lscachetest__"),removeItem(key),cachedStorage=!0}catch(e){cachedStorage=!!isOutOfSpace(e)}return cachedStorage}function isOutOfSpace(e){return!!(e&&"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function supportsJSON(){return void 0===cachedJSON&&(cachedJSON=null!=window.JSON),cachedJSON}function expirationKey(key){return key+CACHE_SUFFIX}function currentTime(){return Math.floor((new Date).getTime()/EXPIRY_UNITS)}function getItem(key){return localStorage.getItem(CACHE_PREFIX+cacheBucket+key)}function setItem(key,value){localStorage.removeItem(CACHE_PREFIX+cacheBucket+key),localStorage.setItem(CACHE_PREFIX+cacheBucket+key,value)}function removeItem(key){localStorage.removeItem(CACHE_PREFIX+cacheBucket+key)}function eachKey(fn){for(var prefixRegExp=new RegExp("^"+CACHE_PREFIX+cacheBucket+"(.*)"),i=localStorage.length-1;0<=i;--i){var key=localStorage.key(i);(key=(key=key&&key.match(prefixRegExp))&&key[1])&&key.indexOf(CACHE_SUFFIX)<0&&fn(key,expirationKey(key))}}function flushItem(key){var exprKey=expirationKey(key);removeItem(key),removeItem(exprKey)}function flushExpiredItem(key){var exprKey=expirationKey(key),expr=getItem(exprKey);if(expr){var expirationTime=parseInt(expr,10);if(currentTime()>=expirationTime)return removeItem(key),removeItem(exprKey),!0}}function warn(message,err){warnings&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+message),err&&window.console.warn("lscache - The error was: "+err.message))}return{set:function(key,value,time){if(supportsStorage()){if("string"!=typeof value){if(!supportsJSON())return;try{value=JSON.stringify(value)}catch(e){return}}try{setItem(key,value)}catch(e){if(!isOutOfSpace(e))return void warn("Could not add item with key '"+key+"'",e);var storedKey,storedKeys=[];eachKey(function(key,exprKey){var expiration=getItem(exprKey);expiration=expiration?parseInt(expiration,10):MAX_DATE,storedKeys.push({key:key,size:(getItem(key)||"").length,expiration:expiration})}),storedKeys.sort(function(a,b){return b.expiration-a.expiration});for(var targetSize=(value||"").length;storedKeys.length&&0<targetSize;)storedKey=storedKeys.pop(),warn("Cache is full, removing item with key '"+key+"'"),flushItem(storedKey.key),targetSize-=storedKey.size;try{setItem(key,value)}catch(e){return void warn("Could not add item with key '"+key+"', perhaps it's too big?",e)}}time?setItem(expirationKey(key),(currentTime()+time).toString(10)):removeItem(expirationKey(key))}},get:function(key){if(!supportsStorage())return null;if(flushExpiredItem(key))return null;var value=getItem(key);if(!value||!supportsJSON())return value;try{return JSON.parse(value)}catch(e){return value}},remove:function(key){supportsStorage()&&flushItem(key)},supported:function(){return supportsStorage()},flush:function(){supportsStorage()&&eachKey(function(key){flushItem(key)})},flushExpired:function(){supportsStorage()&&eachKey(function(key){flushExpiredItem(key)})},setBucket:function(bucket){cacheBucket=bucket},resetBucket:function(){cacheBucket=""},enableWarnings:function(enabled){warnings=enabled}}}()}(this),function(){window.sf_widget=window.sf_widget||{};var retailerHideSidebar,hideSidebarWithMenu="",footerBreakpoint=0,footerMobileHeight=0,footerPosition={},footerDesktopPositionBottom=0,footerMobilePositionBottom=0;for(var retailer in window.sf_widget_configs)window.sf_widget_configs[retailer]&&(footerBreakpoint=window.sf_widget_configs[retailer].footerBreakpoint||0,footerMobileHeight=window.sf_widget_configs[retailer].footerMobileHeight||0,footerPosition=window.sf_widget_configs[retailer].footer||0);footerPosition&&(footerDesktopPositionBottom=footerPosition.media.desktop.position.bottom,footerMobilePositionBottom=footerPosition.media.mobile.position.bottom),retailerHideSidebar="body.sf-widget-hide-all #sf-widget-companion-wrapper,           body.sf-widget-hide-all #sf-footer-companion-wrapper {            display: none!important;          }          ",void 0!==window.sf_widget_configs.bloom&&(hideSidebarWithMenu="body.nav-visible #sf-widget-companion-wrapper,           body.nav-visible #sf-footer-companion-wrapper,           body.modal-visible #sf-widget-companion-wrapper,           body.modal-visible #sf-footer-companion-wrapper {            display: none!important;          }          "),void 0!==window.sf_widget_configs.bbbaby&&(hideSidebarWithMenu="body.navMenuOpened #sf-widget-companion-wrapper,       body.navMenuOpened #sf-footer-companion-wrapper {        display: none!important;      }      "),void 0!==window.sf_widget_configs.ann&&(hideSidebarWithMenu="html.menu-slide #sf-widget-companion-wrapper,         html.menu-slide #sf-footer-companion-wrapper {          display: none!important;        }        "),void 0!==window.sf_widget_configs.hbc&&(hideSidebarWithMenu="body.sk_mobShowMenu #sf-widget-companion-wrapper,         body.sk_mobShowMenu #sf-footer-companion-wrapper {          display: none!important;        }    "),sf_widget.css={widget:function(){return"<style>          #sf-widget-companion-wrapper{            position:absolute;            bottom:0px; left:0px;            z-index:999999;          }          "+hideSidebarWithMenu+retailerHideSidebar+"</style>"},footer:function(){return"<style>          #sf-footer-companion-wrapper{            left: 0;            right: 0;            bottom: "+footerDesktopPositionBottom+"px !important;            width:100%;            position: fixed;            overflow: visible!important;            z-index: 9999999;          }          "+hideSidebarWithMenu+retailerHideSidebar+"@media screen and (max-width:"+footerBreakpoint+"px) {#sf-footer-companion-wrapper,#sf-footer-companion {height: "+footerMobileHeight+"px!important;}#sf-footer-companion-wrapper {bottom:"+footerMobilePositionBottom+"px !important;            }}</style>"},notification:function(){},findstore:function(){return"<style>.sf-overlay {visibility: hidden;position: fixed;left: 0;top: 0;right: 0;bottom: 0;width:100%;height:100%;z-index: 9999;opacity: 0;margin-top: 100px;transition-property:opacity, margin;transition-duration: 0.7s;-webkit-transform: translate3d(0, 0, 0);-moz-transform: translate3d(0, 0, 0);-ms-transform: translate3d(0, 0, 0);transform: translate3d(0, 0, 0);-webkit-perspective: 1000;overflow-x: hidden;overflow-y: auto;}.sf-overlay-transition {opacity: 1;visibility: visible;-webkit-overflow-scrolling: touch;margin-top: 0;}.sf-overlay-container {-webkit-overflow-scrolling: touch;position: relative;}.sf-overlay .main-content {display: block;width: 600px;margin: 4% auto;background-color: #fff;border-radius: 5px;position: relative;}.sf-fade {display: none;position: fixed;left: 0%;top: 0%;background-color: rgb(220, 220, 220);-moz-opacity: 0.75;opacity: .75;filter: alpha(opacity=75);width: 100%;height: 100%;z-index: 90;opacity: 0;transition-property:opacity;transition-duration: 0.3s;-webkit-transform: translate3d(0, 0, 0);-moz-transform: translate3d(0, 0, 0);-ms-transform: translate3d(0, 0, 0);transform: translate3d(0, 0, 0);z-index: 9998;}.sf-fade-transition {opacity: 0.75;}@media screen and (max-width:600px) {.sf-overlay .main-content {width: 100%;height: 100%;margin: 0;}}@media screen and (max-height:650px) {.sf-overlay .main-content {margin-top: 0;margin-bottom: 0;}}@media screen and (max-device-width:1024px) {.sf-overlay {position: absolute;overflow-x: visible;}}</style>"}}}(),window.sf_widget=sf_widget||{},sf_widget.cb={addEventListener:function(){return window.addEventListener?"addEventListener":"attachEvent"},message:function(){return window.addEventListener?"message":"onmessage"},click:function(){return window.addEventListener?"click":"onclick"},objectKeys:function(obj){return Object.keys?Object.keys(obj):sf_widget.utils.objectKeys(obj)}},window.sf_widget=sf_widget||{},sf_widget.rules={configs:{base:{},retailers:{}},shouldEnable:function(widget,retailer){var rules=this.getRules(widget,retailer);return this.testWidget(rules)},getRules:function(widget,retailer){var baseRules=sf_widget.rules.configs.base[widget]?sf_widget.rules.configs.base[widget]:[],retailerRules=sf_widget_configs[retailer].rules&&sf_widget_configs[retailer].rules[widget]?sf_widget_configs[retailer].rules[widget]:[];return baseRules.concat(retailerRules)},testWidget:function(rules){var test;if(rules.length)for(var i=0;i<rules.length;i++){var rule=rules[i];switch(rule.type){case"func":test=this.testFunction(rule);break;case"regex":test=this.testRegex(rule)}if(!test)return!1}return!0},testFunction:function(rule){return rule.func(rule)},testRegex:function(rule){return rule.enableOn===rule.regex.test(rule.testOn(rule))}},sf_widget.rules.configs.base.footer=[{type:"func",func:function(){return!!(sf_widget.utils.dataStorage.get("sf_wdt_footer_store")||/sf_store/.test(window.location.search)||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||/sf_rep/.test(window.location.search)||sf_widget.sf_rep||sf_widget.sf_store)}},{type:"regex",regex:/preview=true/,testOn:function(){return window.location.href},enableOn:!1}],sf_widget.rules.configs.base.sidebar=[{type:"func",func:function(){return!(sf_widget.utils.dataStorage.get("sf_wdt_footer_store")||/sf_store/.test(window.location.search)||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||/sf_rep/.test(window.location.search))}},{type:"regex",regex:/preview=true/,testOn:function(){return window.location.href},enableOn:!1}],window.sf_widget=sf_widget||{},sf_widget.utils={isRetailerHomepage:function(){var isHomepage=!1,self=this;return sf_widget.options.removeSessionOnHomepages&&sf_widget.options.removeSessionOnHomepages.forEach(function(retailerUrl){self.getStrippedUrl(window.location.href)===self.getStrippedUrl(retailerUrl)&&(isHomepage=!0)}),isHomepage},getStrippedUrl:function(url){return url.replace(/^https?:\/\//i,"").replace(/\/$/,"")},getLocation:function(href){var l=document.createElement("a");return l.href=href,l},deepExtend:function(destination,source){for(var property in source)source[property]&&source[property].constructor&&source[property].constructor===Object?(destination[property]=destination[property]||{},arguments.callee(destination[property],source[property])):destination[property]=source[property];return destination},getQueryParam:function(qname,inHash){for(var query_string={},vars=("hash"===inHash?window.location.hash.substring(2):window.location.search.substring(1)).split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");if(void 0===query_string[pair[0]])query_string[pair[0]]=pair[1];else if("string"==typeof query_string[pair[0]]){var arr=[query_string[pair[0]],pair[1]];query_string[pair[0]]=arr}else query_string[pair[0]].push(pair[1])}return query_string[qname]},getTrackingEmployeeId:function(){var tracking=sf_widget.utils.dataStorage.get("sf_wdt_tracking"),trackingRep=sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep"),trackingRepQS=sf_widget.utils.getQueryParam("sf_rep",sf_widget.options.writeHistoryType);if(!trackingRepQS&&("true"!==tracking&&!0!==tracking||!trackingRep))return!1;var repData=null,repStatus=sf_widget.utils.dataStorage.get("sf_wdt_rep_status");if(repStatus&&(repData=JSON.parse(decodeURIComponent(repStatus))),trackingRepQS&&trackingRepQS!==trackingRep&&(trackingRep=trackingRepQS),repData&&repData.tracking_rep&&trackingRep===repData.tracking_rep)return repData.employee_id;sf_widget.utils.JSONP(sf_widget.options.salesfloor_api+"/public/reps/"+trackingRep,{errorCallback:function(){return!1}},function(data){return!(data.hasOwnProperty("error")||!data.user_login)&&(sf_widget.utils.dataStorage.set({name:"sf_wdt_rep_status",value:JSON.stringify({user_login:data.user_login,employee_id:data.employee_id,tracking_rep:trackingRep})}),data.employee_id)})},getTrackingEmployeeIdAsPromise:function(){return new Promise(function(resolve){sf_widget.utils.crossDomainReady(this,function(resolve){var tracking=sf_widget.utils.dataStorage.get("sf_wdt_tracking"),trackingRep=sf_widget.utils.dataStorage.get("sf_wdt_tracking_rep"),trackingRepQS=sf_widget.utils.getQueryParam("sf_rep",sf_widget.options.writeHistoryType);if(trackingRepQS||("true"===tracking||!0===tracking)&&trackingRep){var repData=null,repStatus=sf_widget.utils.dataStorage.get("sf_wdt_rep_status");repStatus&&(repData=JSON.parse(decodeURIComponent(repStatus))),trackingRepQS&&trackingRepQS!==trackingRep&&(trackingRep=trackingRepQS),repData&&repData.tracking_rep&&trackingRep===repData.tracking_rep?resolve(repData.employee_id):sf_widget.utils.JSONP(sf_widget.options.salesfloor_api+"/public/reps/"+trackingRep,{errorCallback:function(){resolve(!1)}},function(data){!data.hasOwnProperty("error")&&data.user_login?(sf_widget.utils.dataStorage.set({name:"sf_wdt_rep_status",value:JSON.stringify({user_login:data.user_login,employee_id:data.employee_id,tracking_rep:trackingRep})}),resolve(data.employee_id)):resolve(!1)})}else resolve(!1)},resolve)})},addEvents:function($ele,method){$ele&&($ele.addEventListener?$ele.addEventListener("click",method,!1):$ele.attachEvent("onclick",method))},iframeHandshake:function(iframeID,widget){var iframe=document.getElementById(iframeID),sendHandshake=function(){iframe.style.visibility="visible",iframe.contentWindow.postMessage("sf_handshake","*"),sf_widget.widgets[widget]&&sf_widget.widgets[widget].afterRender&&sf_widget.widgets[widget].afterRender(),sf_widget.utils.iframeReady(iframeID)};iframe&&(iframe.attachEvent?iframe.attachEvent("onload",sendHandshake):iframe.onload=sendHandshake)},setWidgetRepresentant:function(){sf_widget.options.id=sf_widget.sf_rep||sf_widget.sf_store||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")||sf_widget.utils.dataStorage.get("sf_wdt_footer_store"),sf_widget.options.linkUrl=sf_widget.sf_rep||sf_widget.utils.dataStorage.get("sf_wdt_footer_rep")?"reps":"stores"},trim:function(string){return string?string.toString().replace(/(<([^>]+)>)/gi,"").replace(/^\s+|\s+$/g,"").replace(/\$/g,""):string},toQueryString:function(obj){var parts=[];for(var i in obj)if(obj.hasOwnProperty(i))if("object"==typeof obj[i]){for(var j in obj[i])if(obj[i].hasOwnProperty(j))for(var k in obj[i][j])obj[i][j].hasOwnProperty(k)&&parts.push(i+"["+j+"]["+k+"]="+encodeURIComponent(this.trim(obj[i][j][k])))}else parts.push(i+"="+encodeURIComponent(this.trim(obj[i])));return parts.join("&")},getIp:function(){return sf_widget.utils.getQueryParam("sf_ip")},getLocale:function(){if(sf_widget.options.i18n&&sf_widget.options.i18n.isEnabled)return sf_widget.utils.locale.retrieveByMethod(sf_widget.options.i18n.sync.method)},setIp:function(){sf_widget.utils.getIp()&&(sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_rep",expires:"session"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_store",expires:"session"}))},resetTracking:function(){"store"===sf_widget.options.mode?sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep"}):sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_store"})},setRep:function(rep){this.retailerTracking("rep")},setStore:function(){this.retailerTracking("store")},retailerTracking:function(type){var sf_type="sf_"+type,sf_force="force_"+type,cookieTracking="sf_wdt_tracking_"+type,cookieUI="sf_wdt_footer_"+type,lscacheName=sf_widget.options.keyPrefix+cookieTracking,sf_repName=lscache.get(lscacheName);sf_widget[sf_type]=sf_widget.options[sf_force]||sf_widget.utils.getQueryParam(sf_type,sf_widget.options.writeHistoryType);var sf_source_origin=sf_widget.utils.getQueryParam("sf_source_origin",sf_widget.options.writeHistoryType);if(sf_source_origin&&(sf_widget[sf_source_origin]=sf_source_origin,sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_source",value:sf_source_origin,expires:"session"}),"lookbook"===sf_source_origin)){var sf_source_origin_fragment_id=sf_widget.utils.getQueryParam("sf_source_fragment_id",sf_widget.options.writeHistoryType);sf_source_origin_fragment_id?(sf_widget[sf_source_origin_fragment_id]=sf_source_origin_fragment_id,sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_fragment_id",value:sf_source_origin_fragment_id,expires:"session"})):sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_fragment_id",expires:"session"},"remove");var sf_source_origin_locale=sf_widget.utils.getQueryParam("sf_source_locale",sf_widget.options.writeHistoryType);sf_source_origin_locale?(sf_widget[sf_source_origin_locale]=sf_source_origin_locale,sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_locale",value:sf_source_origin_locale,expires:"session"})):sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_origin_locale",expires:"session"},"remove")}(sf_repName||sf_widget[sf_type]&&""!==sf_widget[sf_type]&&("store"===type||"rep"===type&&sf_widget.repStatus))&&(sf_widget.utils.getQueryParam(sf_type,sf_widget.options.writeHistoryType)&&sf_widget.utils.dataStorage.setAcquisition("shoppingLink"),sf_widget.utils.dataStorage.set({name:cookieUI,value:sf_widget[sf_type],expires:"session"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking",value:"true",expires:sf_widget.options.saleCookieDuration}),sf_widget.utils.dataStorage.set({name:cookieTracking,value:sf_repName||sf_widget[sf_type],expires:sf_widget.options.saleCookieDuration}))},deleteTrackingCookies:function(){sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_rep"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking_store"}),sf_widget.utils.dataStorage.set({name:"sf_wdt_footer_rep",expires:"session"})},setComexCookie:function(){sf_widget.utils.dataStorage.set({name:"sf_wdt_comex",value:"true",expires:"session"})},setDeleteTrackingCookies:function(){sf_widget.utils.dataStorage.set({name:"sf_wdt_delete_tracking",value:"true",expires:"session"})},deleteTrackingCookiesIfNeeded:function(){"true"===sf_widget.utils.dataStorage.get("sf_wdt_delete_tracking")&&(sf_widget.utils.deleteTrackingCookies(),sf_widget.utils.dataStorage.set({name:"sf_wdt_delete_tracking",expires:"session"}))},pushImg:function(widgetUrl,styleClass){oImg=document.createElement("img"),oImg.setAttribute("src",widgetUrl),oImg.setAttribute("class",styleClass||"sf_trk_img"),oImg.setAttribute("alt",""),oImg.setAttribute("height","1px"),oImg.setAttribute("width","1px"),oImg.style.display="none",oImg.style.visibility="hidden",document.body.appendChild(oImg)},adjustExternalElements:function(elementsToAdjust){var css="",style=document.createElement("style");void 0!==elementsToAdjust&&(Object.getOwnPropertyNames(elementsToAdjust).forEach(function(elementSelector){var adjustments=elementsToAdjust[elementSelector];css+=elementSelector+"{",Object.getOwnPropertyNames(adjustments).forEach(function(property){var newValue=adjustments[property];css+=property+": "+newValue+" !important; "}),css+=elementSelector+"}"}),(document.head||document.getElementsByTagName("head")[0]).appendChild(style),style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)))},detectIE:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(0<msie)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(0<ua.indexOf("Trident/")){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return 0<edge&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},detectBrowser:function(){var browser={};return browser.isOpera=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),browser.isFirefox="undefined"!=typeof InstallTrigger,browser.isSafari=-1!==navigator.userAgent.indexOf("Safari"),browser.isIE=!!document.documentMode,browser.isEdge=!browser.isIE&&!!window.StyleMedia,browser.isChrome=!!window.chrome&&!!window.chrome.webstore,browser.isBlink=(browser.isChrome||browser.isOpera)&&!!window.CSS,browser},testFooterQueryString:function(){return void 0!==(sf_widget.utils.getQueryParam("sf_rep")||sf_widget.utils.getQueryParam("sf_store"))},detectMobile:function(){var a,check=!1;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0),check},detectMobileTablet:function(){var a,check=!1;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0),check},hasClass:function(element,cls){return-1<(" "+element.className+" ").replace(/[\n\t]/g," ").indexOf(" "+cls+" ")},updateQueryStringParameter:function(uri,key,value){var re=new RegExp("([?&])"+key+"=.*?(&|$)","i"),separator=-1!==uri.indexOf("?")?"&":"?";return uri.match(re)?uri.replace(re,"$1"+key+"="+value+"$2"):uri+separator+key+"="+value},getCleanPathForRules:function(){return window.location.pathname.replace(/\/*$/,"").replace(/\/{2,}/g,"/")}},sf_widget.utils.domReady=function(win,fn){var done=!1,top=!0,doc=win.document,root=doc.documentElement,modern=doc.addEventListener,add=modern?"addEventListener":"attachEvent",rem=modern?"removeEventListener":"detachEvent",pre=modern?"":"on",init=function(e){"readystatechange"===e.type&&"complete"!==doc.readyState||(("load"===e.type?win:doc)[rem](pre+e.type,init,!1),!done&&(done=!0)&&sf_widget.utils.widgetsReady(win,fn,e.type||e))};if(poll=function(){try{root.doScroll("left")}catch(e){return void setTimeout(poll,50)}init("poll")},"complete"===doc.readyState)sf_widget.utils.widgetsReady(win,fn,"lazy");else{if(!modern&&root.doScroll){try{top=!win.frameElement}catch(e){}top&&poll()}doc[add](pre+"DOMContentLoaded",init,!1),doc[add](pre+"readystatechange",init,!1),win[add](pre+"load",init,!1)}},sf_widget.utils.widgetsReady=function(win,fn,type){var widgetInterval=setInterval(function(){sf_widget.loadedWidgets>=sf_widget.options.widgets.length&&(clearInterval(widgetInterval),sf_widget.utils.crossDomainReady(win,fn,type))},50)},sf_widget.utils.crossDomainReady=function(win,fn,type){if(sf_widget.options.crossDomain){window.__is_new_widget&&sf_widget.widgets.cookie.load();var initInterval=setInterval(function(){sf_widget.storeInitialized&&(clearInterval(initInterval),fn.call(win,type))},50)}else fn.call(win,type)},sf_widget.utils.readyIframes={},sf_widget.utils.iframeReadyCallbacks={},sf_widget.utils.onIframeReady=function(iframeID,callback){cbs=sf_widget.utils.iframeReadyCallbacks,sf_widget.utils.readyIframes[iframeID]?callback():cbs[iframeID]?cbs[iframeID].push(callback):cbs[iframeID]=[callback]},sf_widget.utils.iframeReady=function(iframeID){var i,cbs=sf_widget.utils.iframeReadyCallbacks;if(sf_widget.utils.readyIframes[iframeID]&&(sf_widget.utils.readyIframes[iframeID]=!0),cbs[iframeID]){for(i=0;i<cbs[iframeID].length;i++)cbs[iframeID][i]();delete cbs[iframeID]}},sf_widget.utils.addNode=function(node,container){var htmlContent=document.createElement("div"),$container=document.querySelectorAll(container);htmlContent.innerHTML=node;for(var containerNode=container&&$container.length?$container[0]:void 0,i=0;i<htmlContent.childNodes.length;i++)containerNode&&containerNode.appendChild(htmlContent.childNodes[i])},sf_widget.utils.hideWebsiteNodes=function(nodesText){nodesText&&this.showHideNodes(nodesText,"hidden","none")},sf_widget.utils.showWebsiteNodes=function(nodesText){this.showHideNodes(nodesText,"visible","block")},sf_widget.utils.showHideNodes=function(nodesText,visibility,display){if(nodesText){var nodes=document.querySelectorAll(nodesText);for(i=0;i<nodes.length;++i)nodes[i].style.visibility=visibility,nodes[i].style.display=display}},sf_widget.utils.appendWidget=function(options){if("undefined"!==options.sf_store_widget){var $container=document.querySelectorAll(options.container);options.emptyContent&&$container.length&&($container[0].innerHTML=""),sf_widget.utils.addNode(options.content,options.container),options.css&&sf_widget.utils.addNode(options.css,options.container),options.iframeId&&sf_widget.utils.iframeHandshake(options.iframeId,options.widget),$container.length&&($container[0].style.visibility="visible"),options.widgeturl&&options.iframeId&&document.getElementById(options.iframeId)&&(document.getElementById(options.iframeId).src=options.widgeturl)}else this.showWebsiteNodes(sf_widget.options.removeOnShow)},sf_widget.utils.getCacheBusterParam=function(delimiter){return"localstorage"===sf_widget.options.data_storage_method&&window.__cacheBustKey?delimiter+"cacheBustKey="+window.__cacheBustKey:""};var servicesMap={liveChat:"chat",landingPage:"landing"};function getProperServiceType(service){var serviceType;return Object.keys(servicesMap).forEach(function(action){service!==action&&service!==servicesMap[action]||(serviceType=servicesMap[action])}),serviceType}function getProperServiceAction(service){var serviceAction;return Object.keys(servicesMap).forEach(function(action){service!==action&&service!==servicesMap[action]||(serviceAction=action)}),serviceAction}function getRetailerPageActionElement(action){var elementId=(window.sf_widget_configs[sf_widget.options.retailer].retailerPage||{})[action+"ActionElementId"];return elementId?document.getElementById(elementId):null}function getClosestStoreQueryString(el,serviceType){if(!serviceType)return!1;var queryString={serviceType:serviceType,customer_id:sf_widget.utils.dataStorage.get("sf_wdt_customer_id"),media:sf_widget.widgets.sidebar.getMobileData().media,"filter[ip]":sf_widget.utils.getIp()||"current"},locale=sf_widget.utils.getQueryParam("sf_locale")?sf_widget.utils.getQueryParam("sf_locale"):sf_widget.utils.getLocale();locale&&(queryString.sf_locale=locale);var sourceUrl=el&&el.dataset&&el.dataset.sourceUrl||window.location.toString(),sourceTitle=el&&el.dataset&&el.dataset.sourceTitle||window.document.title;return queryString.source_url=sourceUrl,sourceTitle&&(queryString.source_title=sourceTitle),sf_widget.utils.toQueryString(queryString)}function handleRetailerPageOpenServiceAction(service){return function(){var el=getRetailerPageActionElement(getProperServiceAction(service));el&&sf_widget.utils.addEvents(el,function(){openServiceWindow(el,service)})}}function openServiceWindow(el,service){var qs=getClosestStoreQueryString(el,getProperServiceType(service));if(qs){var configs=window.sf_widget_configs[sf_widget.options.retailer];window.open(configs.salesfloor_api+"/stores/closest?"+qs,sf_widget.options.retailer,"resizable,height=748,width=370")}}sf_widget.utils.registerContextualService=function(service){if(service)return handleRetailerPageOpenServiceAction(service)();Object.keys(servicesMap).forEach(function(action){handleRetailerPageOpenServiceAction(action)()})},sf_widget.utils.openContextualService=function(service){openServiceWindow(null,service)},window,Object.keys||(sf_widget.utils.objectKeys=function(){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("object"!=typeof obj&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var prop,i,result=[];for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),function(window,undefined){var JSONP=function(url,data,method,_jsonp){var errorCallback;url=url||"",method=method||"",_jsonp=_jsonp||function(){},(data=data||{}).errorCallback&&(sf_widget.utils.jsonpErrors||(sf_widget.utils.jsonpErrors=[]),errorCallback={callback:data.errorCallback},delete data.errorCallback);if("object"==typeof data){for(var queryString="",keys=function(obj){var keys=[];for(var key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys}(data),i=0;i<keys.length;i++)queryString+=encodeURIComponent(keys[i])+"="+encodeURIComponent(data[keys[i]]),i!==keys.length-1&&(queryString+="&");url+="?"+queryString}else"function"==typeof data&&(_jsonp=method=data);"function"==typeof method&&(_jsonp=method,method="_jsonp"),Date.now||(Date.now=function(){return(new Date).getTime()});var timestamp=Date.now(),generatedFunction="jsonp"+Math.round(timestamp+1000001*Math.random());window[generatedFunction]=function(json){_jsonp(json);try{delete window[generatedFunction]}catch(e){window[generatedFunction]=void 0}},-1===url.indexOf("?")?url+="?":url+="&",errorCallback&&(errorCallback.src=url+method+"="+generatedFunction,sf_widget.utils.jsonpErrors.push(errorCallback));var jsonpScript=document.createElement("script");jsonpScript.setAttribute("src",url+method+"="+generatedFunction),jsonpScript.setAttribute("async","async"),jsonpScript.onerror=sf_widget.utils.JSONP.errorCallback,document.getElementsByTagName("head")[0].appendChild(jsonpScript)};JSONP.errorCallback=function(oError){var errors=sf_widget.utils.jsonpErrors;if(errors)for(i=0;i<errors.length;i++){var currentError=errors[i],currentIndex=i;oError.target.src===currentError.src&&(currentError.callback(),sf_widget.utils.jsonpErrors.splice(currentIndex,currentIndex+1))}},sf_widget.utils.JSONP=JSONP}(window),sf_widget.utils.dataStorage={set:function(data){data.nameNoPrefix="object"==typeof data?this.getSuffixSession(data,data.name):data,data.name=this.getFinalKey(data),data.value||(data.value="",data.expires="remove"),sf_widget.dataStorage&&(sf_widget.dataStorage[data.nameNoPrefix]=data.value),sf_widget.utils[sf_widget.options.data_storage_method].set(data)},get:function(key){var value;return sf_widget.dataStorage&&(value=sf_widget.dataStorage[key+"_session"]||sf_widget.dataStorage[key]),value||(value=sf_widget.utils[sf_widget.options.data_storage_method].get(this.getFinalKey(key))),value},getPreload:function(key){return sf_widget.utils[sf_widget.options.data_storage_method].getPreload(this.getFinalKey(key))},loadDefaultSessions:function(){var referrer=document.referrer,hostname=new RegExp(window.location.hostname),storefront=new RegExp(sf_widget.utils.getLocation(sf_widget.options.salesfloor_storefront).hostname),changePage=this.get("sf_change_page"),isRetailerHomepage=sf_widget.utils.isRetailerHomepage(),isException=this.isFooterSuppressionException();(this.testSessionExpiration()||isException||!hostname.test(referrer)&&!storefront.test(referrer)&&(isRetailerHomepage||"true"!==changePage))&&(this.cleanSessionData(),sf_widget.sf_store=void 0,sf_widget.sf_rep=void 0),this.refreshSessionExpiry(),window.addEventListener&&(window.addEventListener("pagehide",this.addPageTransitionCookie.bind(this),!1),window.addEventListener("beforeunload",this.addPageTransitionCookie.bind(this),!1))},testSessionExpiration:function(){var current=Date.now(),last=sf_widget.utils.dataStorage.get("sf_wdt_session_expiration")||current;return this.getSessionExpiry()<current-last},cleanSessionData:function(){for(var name in sf_widget.dataStorage)/_session$/.test(name)&&this.set({name:name,expires:"session"},"remove");return!0},refreshSessionExpiry:function(){return sf_widget.utils.dataStorage.set({name:"sf_wdt_session_expiration",value:Date.now(),expires:"session"})},isFooterSuppressionException:function(){return"bloom"===sf_widget.options.retailer&&-1<document.referrer.indexOf("www.bloomingdales.com")},getSessionExpiry:function(){return sf_widget.options.session_expiry||18e5},addPageTransitionCookie:function(){sf_widget.utils.dataStorage.set({name:"sf_change_page",value:"true",expires:3e4,overrideCD:!0})},init:function(data){sf_widget.utils[sf_widget.options.data_storage_method].init(data)},getExpiry:function(name){return sf_widget.utils[sf_widget.options.data_storage_method].getExpiry(name)},getFinalKey:function(data){var resultName,regPrefix=new RegExp(sf_widget.options.keyPrefix,"g");return resultName="object"==typeof data?data.name:data,data.noPrefix?resultName:(regPrefix.test(resultName)||(resultName=sf_widget.options.keyPrefix+resultName),resultName=this.getSuffixSession(data,resultName))},getSuffixSession:function(data,resultName){return"object"!=typeof data||"session"!==data.expires||/_session$/.test(resultName)||(resultName+="_session"),resultName},getInitialData:function(){return sf_widget.utils[sf_widget.options.data_storage_method].getInitialData()},queue:[],processQueue:function(){sf_widget.utils[sf_widget.options.data_storage_method].processQueue()},setAcquisition:function(source){sf_widget.utils.dataStorage.get("sf_wdt_acquisition")||sf_widget.utils.dataStorage.set({name:"sf_wdt_acquisition",value:source,expires:sf_widget.options.acquisitionCookieDuration})}},sf_widget.utils.locale={retrieveByMethod:function(method){var matchedLocale,locale=sf_widget.options.i18n.defaultLocale;if(Array.isArray(method))for(var i=0;i<method.length;i++)matchedLocale||(matchedLocale=this.findMethod(method[i]));else matchedLocale=this.findMethod(method);return matchedLocale&&(locale=matchedLocale),locale},findMethod:function(method){var locale=null;switch(method){case"url":locale=this.localeByUrl(window.location.href);break;case"cookie":locale=this.localeByCookie();break;case"jsGlobal":locale=this.localeByJsGlobal()}return locale},localeByUrl:function(currentLocation){var urlsByLocale=sf_widget.options.i18n.sync.urls,matchedLocale=null;for(var locale in urlsByLocale)urlsByLocale.hasOwnProperty(locale)&&-1!==currentLocation.indexOf(urlsByLocale[locale])&&(matchedLocale=locale);return matchedLocale},localeByJsGlobal:function(){var globalValuesByLocale=sf_widget.options.i18n.sync.jsGlobal,matchedLocale=null;if(sf_widget.options.i18n.retailerCurrentLocale&&"function"==typeof sf_widget.options.i18n.retailerCurrentLocale){var retailerCurrentLocale=sf_widget.options.i18n.retailerCurrentLocale.apply();for(var locale in globalValuesByLocale)globalValuesByLocale.hasOwnProperty(locale)&&retailerCurrentLocale===locale&&(matchedLocale=locale)}return matchedLocale},localeByCookie:function(){var cookieValuesByLocale=sf_widget.options.i18n.sync.cookie,matchedLocale=null;for(var locale in cookieValuesByLocale)cookieValuesByLocale.hasOwnProperty(locale)&&sf_widget.utils.cookie.getPreload(sf_widget.options.i18n.sync.cookie.name)===locale&&(matchedLocale=locale);return matchedLocale}},sf_widget.utils.cookie={set:function(cookie){var urlParts=location.hostname.split(".");cookie.retailerCookie||"localstorage"===sf_widget.options.data_storage_method?cookie.domain="":cookie.domain=" domain=."+urlParts.slice(-2).join(".")+";";var d=new Date;switch(cookie.expires){case"session":cookie.expires="",cookie.expiresCrossDomain="session";break;case"remove":cookie.expires="expires=Thu, 01 Jan 1970 00:00:01 GMT;",cookie.expiresCrossDomain="remove";break;default:var time=cookie.expires||12096e5;d.setTime(d.getTime()+time),cookie.expires="expires="+d.toUTCString(),cookie.expiresCrossDomain=d.getTime()/1e3}sf_widget.options.crossDomain&&!cookie.overrideCD&&this.addCookiedImage(cookie);var cookieSecureFlag=(cookie.hasOwnProperty("secure")?cookie.secure:sf_widget.options.secureOnlyCookies)?"secure=true":"";"cookie"===sf_widget.options.data_storage_method&&(document.cookie=cookie.name+"="+cookie.value+"; "+cookie.expires+"; path=/;"+cookie.domain+";"+cookieSecureFlag)},get:function(key){return null},getPreload:function(key){var parts=("; "+document.cookie).split("; "+key+"=");if(2===parts.length)return parts.pop().split(";").shift()},cookieArray:[],addCookiedImage:function(data,type){var self=this,cookie={expires:data.expiresCrossDomain},brands=sf_widget.options.brands?JSON.parse(sf_widget.options.brands):void 0;cookie[data.name]=data.value,this.cookieArray.push(cookie),this.debounceCookies&&window.clearTimeout(this.debounceCookies),this.debounceCookies=window.setTimeout(function(){self.sendCookie(brands),self.cookieArray=[]},75)},sendCookie:function(brands){var splitArray=function(array,size){var data=encodeURIComponent(JSON.stringify(array));if(data.length<size||1===array.length)return[array];for(var nbSplit=Math.ceil(data.length/size),sizeSplit=Math.ceil(array.length/nbSplit),splittedArray=[];0<array.length;)splittedArray.push(array.splice(0,sizeSplit));var finalArray=[];return splittedArray.forEach(function(item){Array.prototype.push.apply(finalArray,splitArray(item,size))}),finalArray},arrayToSend=(this.cookieArray||[]).slice();splitArray(arrayToSend,1800).forEach(function(array){var data=encodeURIComponent(JSON.stringify(array)),widgetUrlDefault=sf_widget.options.salesfloor_site+"/cookies/render?data="+data+"&cachebuster="+(new Date).getTime();if(sf_widget.utils.pushImg(widgetUrlDefault),brands&&brands.length)for(var i=0;i<brands.length;i++){var widgetUrlBrand=brands[i].salesfloor_site+"/cookies/render?data="+data+"&cachebuster="+(new Date).getTime();sf_widget.utils.pushImg(widgetUrlBrand)}})},init:function(cookies){sf_widget.dataStorage={},cookies=cookies.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i],cookieName=(cookie=(cookie=cookie.replace(/^\s+|\s+$/gm,"")).split("="))[0].replace(sf_widget.options.keyPrefix,"");sf_widget.dataStorage[cookieName]=cookie[1]}sf_widget.storeInitialized=!0},getExpiry:function(name){return null},getInitialData:function(){return document.cookie},processQueue:function(){}},sf_widget.utils.localstorage={set:function(data){var cookieData=sf_widget.utils.deepExtend({},data);sf_widget.utils.cookie.set(cookieData);var localStorageData=sf_widget.utils.deepExtend({},data),time=data.expires||6048e5;switch("session"!==time&&"remove"!==time&&(localStorageData.expires=time/1e3/60,localStorageData.expires<2&&(localStorageData.expires=2)),localStorageData.expires){case"session":lscache.set(localStorageData.name,localStorageData.value,480);break;case"remove":lscache.remove(localStorageData.name);break;default:lscache.set(localStorageData.name,localStorageData.value,localStorageData.expires)}},sendData:function(data){sf_widget.ready?(data=JSON.stringify({action:"sendData",data:data}),document.getElementById("sf-widget-localstorage").contentWindow.postMessage(data,"*")):sf_widget.utils.dataStorage.queue.push(data)},get:function(key,store){return this.getFromCache(key+"_session",store)||this.getFromCache(key,store)},getPreload:function(key){return this.get(key)},getFromCache:function(key,store){var value=lscache.get(key),isArray=value&&Array.isArray(value),isObject=value&&"object"==typeof value&&value.constructor===Object,dataStore=store||"dataStorage";return(value=isArray||isObject?encodeURIComponent(JSON.stringify(value)):value&&value.toString()||value)&&sf_widget[dataStore]&&("dataStorageInit"===dataStore&&(key=key.replace(sf_widget.options.keyPrefix,"")),sf_widget[dataStore][key]=value),value},init:function(cookies){var self=this;if(sf_widget.dataStorageInit={},lscache.flushExpired(),Object.keys(localStorage).map(function(str,index){if(/lscache/.test(str)&&!/cacheexpiration/.test(str)){var key=str.replace("lscache-","");self.getFromCache(key,"dataStorageInit")}},{}),cookies){cookies=cookies.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i],cookieName=(cookie=(cookie=cookie.replace(/^\s+|\s+$/gm,"")).split("="))[0].replace(sf_widget.options.keyPrefix,"");sf_widget.dataStorageInit[cookieName]=cookie[1]}}sf_widget.dataStorage=sf_widget.dataStorageInit,sf_widget.storeInitialized=!0},getExpiry:function(name){return Math.ceil(60*localStorage.getItem("lscache-"+sf_widget.options.keyPrefix+name+"-cacheexpiration"))},getInitialData:function(){return null},processQueue:function(){for(var item in sf_widget.utils.dataStorage.queue)sf_widget.utils.dataStorage.queue.hasOwnProperty(item)&&(data=sf_widget.utils.dataStorage.queue[item],sf_widget.dataStorage[data.nameNoPrefix]=data.value,data=JSON.stringify({action:"sendData",data:data}),document.getElementById("sf-widget-localstorage").contentWindow.postMessage(data,"*"));sf_widget.utils.dataStorage.queue=[]}},sf_widget.utils.eventQueue={fingerprintKey:"sf_wdt_fingerprint",eventSourceKey:"event_source",asyncEventQueueKey:"sf_wdt_events_to_queue",eventQueueExpiry:6e4,processAsyncQueue:!0,checkFingerprint:function(pushAfter,actionEvent,actionId){var fingerprint=sf_widget.widgets.base.setCookieUniqueId();fingerprint&&!0===pushAfter&&this.finalPost(actionEvent,actionId,fingerprint)},checkFingerprintByPostMessage:function(data){this.checkFingerprint(!0,data.actionEvent,data.actionId)},push:function(actionEvent,actionId){this.checkFingerprint(!0,actionEvent,actionId)},pushByPostMessage:function(data){data.action&&this.push(data.actionEvent,data.actionId)},finalPost:function(actionEvent,actionId,generatedFingerprint){fingerprint=generatedFingerprint||sf_widget.utils.dataStorage.get(this.fingerprintKey);var http=new XMLHttpRequest,url=sf_widget.options.salesfloor_api+"/event-queue",params=JSON.stringify({fingerprint:fingerprint,action:actionEvent,action_id:actionId});http.open("POST",url,!0),http.setRequestHeader("Content-type","application/json; charset=utf-8"),http.send(params)},processAsyncEvents:function(){if(this.processAsyncQueue){var events=sf_widget.utils.dataStorage.get(this.asyncEventQueueKey);if(events){this.unsetDataStorageValue(),events=events.split(",");for(var i=0;i<events.length;i++){var eventSplit=events[i].split("___");this.checkFingerprint(!0,eventSplit[0],eventSplit[1]||null)}}}},setAsyncEvents:function(eventsString){sf_widget.utils.dataStorage.set({name:this.asyncEventQueueKey,value:eventsString,expires:this.eventQueueExpiry})},logFingerprintError:function(message){},unsetDataStorageValue:function(){try{var fullName=sf_widget.utils.dataStorage.getFinalKey(this.asyncEventQueueKey);localStorage.removeItem(fullName),document.cookie=fullName+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}catch(error){}sf_widget.utils.dataStorage.set({name:this.asyncEventQueueKey,expires:"removed"})},pushViewEvent:function(actionEvent,actionId){var urlParts=window.location.pathname.substr(1).split("/");"STOREFRONT_VIEW"===(actionEvent=actionEvent.toUpperCase())&&1<urlParts.length&&"asset"===urlParts[0].toLowerCase()&&(actionEvent="ASSET_VIEW");var eventSource=sf_widget.utils.getQueryParam(this.eventSourceKey);eventSource&&("LOOKBOOK"===(eventSource=eventSource.toUpperCase())&&"STOREFRONT_VIEW"!==actionEvent||(actionEvent=actionEvent+"_"+eventSource)),this.checkFingerprint(!0,actionEvent.toUpperCase(),actionId)},pushViewEventByPostMessage:function(data){data.action&&this.pushViewEvent(data.actionEvent,data.actionId)}},window.sf_widget=window.sf_widget||{},window.sf_widget.preload=window.sf_widget.preload||{},sf_widget.preload.menu={init:function(){if(sf_widget.rules.shouldEnable("menu",sf_widget.options.retailer)){var css=sf_widget.options.menuContainer+"{visibility:hidden;}",head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style)}}},function(){var methods={init:function(){var self=this,configs=sf_widget.cb.objectKeys(sf_widget_configs),lastConfig=configs[configs.length-1],retailerConfigs=sf_widget_configs[lastConfig];sf_widget.options=sf_widget.utils.deepExtend(defaults,retailerConfigs||{}),retailerConfigs.applyRetailerCustomJs&&"function"==typeof retailerConfigs.applyRetailerCustomJs&&retailerConfigs.applyRetailerCustomJs(),this.triggerSidebarTrackingEvent(),window[sf_widget.cb.addEventListener()](sf_widget.cb.message(),function(event){methods.handleWidgetsResponse(event)},!1),sf_widget.options.crossDomain||sf_widget.utils.dataStorage.init(sf_widget.utils.dataStorage.getInitialData()),this.loadWidgets({preload:!0}),window.__is_new_widget?sf_widget.loadedWidgets=sf_widget.options.widgets.length:(sf_widget.loadedWidgets=0,this.insertWidgetHead()),sf_widget.options.crossDomain&&(window.__is_new_widget||this.insertScript("cookie")),this.queryRepStatus(),sf_widget.utils.domReady(window,function(){var intervalId=setInterval(function(){window.sf_widget&&sf_widget.queriedRepStatus&&(clearInterval(intervalId),self.onDomReady(lastConfig))},50)})},triggerSidebarTrackingEvent:function(){document.addEventListener("sidebar_mobile_displayed",function(){sf_widget.utils.eventQueue.push("SIDEBAR_MOBILE_VIEW")}),document.addEventListener("sidebar_desktop_displayed",function(){sf_widget.utils.eventQueue.push("SIDEBAR_DESKTOP_VIEW")}),document.addEventListener("sidebar_desktop_clicked",function(){sf_widget.utils.eventQueue.push("SIDEBAR_DESKTOP_CLICK")}),document.addEventListener("sidebar_mobile_clicked",function(){sf_widget.utils.eventQueue.push("SIDEBAR_MOBILE_CLICK")}),document.addEventListener("sidebar_mobile_minimize",function(){sf_widget.utils.eventQueue.push("SIDEBAR_MOBILE_MINIMIZE")}),document.addEventListener("sidebar_mobile_tagline_minimize",function(){sf_widget.utils.eventQueue.push("SIDEBAR_MOBILE_TAGLINE_MINIMIZE")}),document.addEventListener("sidebar_desktop_minimize",function(){sf_widget.utils.eventQueue.push("SIDEBAR_DESKTOP_MINIMIZE")}),document.addEventListener("sidebar_mobile_maximize",function(){sf_widget.utils.eventQueue.push("SIDEBAR_MOBILE_MAXIMIZE")}),document.addEventListener("sidebar_desktop_maximize",function(){sf_widget.utils.eventQueue.push("SIDEBAR_DESKTOP_MAXIMIZE")})},queryRepStatus:function(){var repDetected=sf_widget.utils.getQueryParam("sf_rep",sf_widget.options.writeHistoryType);repDetected?sf_widget.utils.JSONP(sf_widget.options.salesfloor_api+"/public/reps/"+repDetected,{errorCallback:function(){sf_widget.queriedRepStatus=1,sf_widget.repStatus=0}},function(data){sf_widget.queriedRepStatus=1,!data.hasOwnProperty("error")&&data.user_login?(sf_widget.repStatus=1,sf_widget.utils.dataStorage.set({name:"sf_wdt_rep_status",value:JSON.stringify({user_login:data.user_login,employee_id:data.employee_id,tracking_rep:repDetected})}),data&&data.ID&&"0"===data.user_status&&(sf_widget.repStatus=0)):sf_widget.repStatus=0}):(sf_widget.queriedRepStatus=1,sf_widget.repStatus=1)},onDomReady:function(lastConfig){sf_widget.ready=!0,sf_widget.utils.dataStorage.processQueue(),methods.shouldEnableWidget()&&(sf_widget.utils.dataStorage.loadDefaultSessions(),this.setCookieUniqueId(),methods.shouldInitWidget(lastConfig)&&(this.initWidgets(),sf_widget.options.removeOnShow&&sf_widget.utils.hideWebsiteNodes(sf_widget.options.removeOnShow)),sf_widget.utils.eventQueue.checkFingerprint(),sf_widget.utils.eventQueue.processAsyncEvents(),sf_widget.utils.registerContextualService(),sf_widget.utils.deleteTrackingCookiesIfNeeded(),sf_widget.utils.getTrackingEmployeeId())},initWidgets:function(){sf_widget.utils.resetTracking(),sf_widget.utils.setStore(),sf_widget.utils.setRep(!1),sf_widget.utils.setIp(),sf_widget.utils.setWidgetRepresentant(),this.loadWidgets()},setAcquisition:function(options){sf_widget.utils.dataStorage.setAcquisition(options.source)},setSalesCookie:function(){sf_widget.utils.dataStorage.set({name:"sf_wdt_tracking",value:"true",expires:sf_widget.options.saleCookieDuration})},annSidebarException:function(){return!("ann"!==sf_widget.options.retailer||"true"===sf_widget.utils.dataStorage.get("sf_wdt_tracking")||sf_widget.utils.testFooterQueryString()||!sf_widget.utils.detectIE())},shouldEnableWidget:function(retailer){if(this.annSidebarException())return!1;if(/(MSIE\ [0-8]\.\d+)/.test(navigator.userAgent))return!1;if(navigator.platform.match(/(Win32|Win16|Win64|WinCE|Windows)/i)&&-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"))return!1;try{localStorage.setItem("2",2)}catch(exception){return!1}return!0},shouldInitWidget:function(retailer){var render=!0;return!0!==window.hideWidgets&&(sf_widget_configs[retailer].rules.shouldRenderWidgets&&(render=sf_widget_configs[retailer].rules.shouldRenderWidgets()),render)},handleWidgetsResponse:function(event){var data,config=sf_widget_configs[sf_widget.options.retailer];if("bru"!==config.retailer&&"tru"!==config.retailer){var getProtectRegEx=function(key){return new RegExp("^https://"+key.replace("//","").replace(/\./g,"\\.").replace(/\/+$/,"")+"$","i")},widgetsMatcher=getProtectRegEx(config.salesfloor_site),storefrontMatcher=getProtectRegEx(config.salesfloor_storefront),origin=event.origin.replace(/\/+$/,"");if(!origin.match(widgetsMatcher)&&!origin.match(storefrontMatcher))return!1}if(event&&event.data)try{data=JSON.parse(event.data)}catch(e){return!1}if(data&&data.action)"dispatchSalesfloorEvent"===data.action&&this.dispatchSalesfloorEvent(data),"dispatchSidebarTrackingEvent"===data.action&&this.dispatchSidebarTrackingEvent(data),"dispatchSidebarMobileClickTrackingEvent"===data.action&&this.dispatchSidebarMobileClickTrackingEvent(data),data.widget&&"template"!==data.target?sf_widget.widgets[data.widget][data.action](data):data.utils&&sf_widget.utils[data.utils][data.action](data);else if(data&&data.widgetId){if(!document.getElementById(data.widgetId)||!document.getElementById(data.widgetId).contentWindow)return;document.getElementById(data.widgetId).contentWindow.postMessage(event.data,"*")}},dispatchSalesfloorEvent:function(data){if(data.eventName){-1!==["sidebar_displayed","sidebar_clicked"].indexOf(data.eventName)&&document.dispatchEvent(new Event(data.eventName))}},dispatchSidebarTrackingEvent:function(data){if(data.eventName){-1!==["sidebar_mobile_displayed","sidebar_desktop_displayed","sidebar_desktop_clicked","sidebar_mobile_clicked","sidebar_mobile_minimize","sidebar_mobile_tagline_minimize","sidebar_desktop_minimize","sidebar_mobile_maximize","sidebar_desktop_maximize"].indexOf(data.eventName)&&document.dispatchEvent(new Event(data.eventName))}},dispatchSidebarMobileClickTrackingEvent:function(data){data.eventName&&sf_widget.utils.eventQueue.setAsyncEvents(data.eventName)},setCookieUniqueId:function(){var currentUniqueId=sf_widget.utils.dataStorage.get("sf_wdt_customer_id");currentUniqueId||(currentUniqueId=Math.random().toString(36).substr(2,9)),sf_widget.utils.dataStorage.set({name:"sf_wdt_customer_id",value:currentUniqueId,expires:sf_widget.options.saleCookieDuration});var fingerprint=parseInt(currentUniqueId,36);return sf_widget.utils.dataStorage.set({name:sf_widget.utils.eventQueue.fingerprintKey,value:fingerprint,expires:sf_widget.options.saleCookieDuration}),fingerprint},insertWidgetHead:function(){for(var i=0;i<sf_widget.options.widgets.length;i++)this.insertScript(sf_widget.options.widgets[i])},insertScript:function(name){var s=document.createElement("script");s.type="text/javascript",s.src=sf_widget.options.salesfloor_site+"/js/widgets/widget."+name+".js",document.getElementsByTagName("head")[0].appendChild(s)},loadWidgets:function(options){var widget;if(options&&options.widget)(widget=sf_widget.widgets[options.widget])&&widget.load&&widget.load();else if(sf_widget.options.widgets&&0<sf_widget.options.widgets.length)for(var i=0;i<sf_widget.options.widgets.length;i++){var name=sf_widget.options.widgets[i];widget=sf_widget.widgets[name],options&&options.preload?sf_widget.preload&&sf_widget.preload[name]&&sf_widget.preload[name].init():widget&&widget.load&&widget.load()}},reEvaluateWidgetRules:function(){for(var visibleWidgetList=[["sidebar","#sf-widget-companion"],["footer","#sf-footer-companion"]],i=0;i<visibleWidgetList.length;i++)sf_widget.widgets[visibleWidgetList[i][0]]&&(window.sf_widget.rules.shouldEnable(visibleWidgetList[i][0],sf_widget.options.retailer)?window.sf_widget.utils.showWebsiteNodes(visibleWidgetList[i][1]):window.sf_widget.utils.hideWebsiteNodes(visibleWidgetList[i][1]))}},defaults={widgetHeight:147,widgetWidth:300,sidebarMobileHeight:33,sidebarMobileBottom:0,sidebarMobileLeft:0,sidebarClosedHeight:33,sidebar2Height:255,sidebar2Width:186,sidebar2WidthMobile:340,sidebar2WidthSmall:304,widgetBottom:0,widgetleft:0,cookieSessionRefresh:3e4,cacheCookieDuration:18e5,saleCookieDuration:12096e5,fingerprintCookieDuration:864e7,crossDomain:!(sf_widget.loadPlugins=function(){methods.loadPlugins()}),removeOnShow:"",footerHeight:95,footerWidth:"100%",footerbottom:0,forceFooter:!1,footerleft:0,footerSpacingElements:"body",footer:{media:{desktop:{position:{bottom:0}},mobile:{position:{bottom:0}}}},widgets:["sidebar","footer"],pageSpacingBottom:"60px",pageSpacingType:"margin",menuWidth:"100%",menuHeight:30,notificationWidth:385,notificationHeight:0,salesfloor_site:"http://elguntors.widgets.dev.salesfloor.net/",salesfloor_api:"http://elguntors.api.dev.salesfloor.net/",salesfloor_storefront:"http://elguntors.dev.salesfloor.net",keyPrefix:"dev_elguntors_",secureOnlyCookies:!0,data_storage_method:"cookie",mode:"rep",logoReplaceSelector:".hdrLogo > a",retailerCookie:""};window.sf_widget=window.sf_widget||{},window.sf_widget.widgets=window.sf_widget.widgets||{},window.sf_widget.widgets.base=methods,0<window.sf_widget.loadedWidgets||methods.init()}();